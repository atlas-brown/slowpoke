[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   267.74ms  288.97ms   1.12s    79.77%
    Req/Sec   536.66    210.34     1.12k    67.08%
  Latency Distribution
     50%  135.14ms
     75%  495.03ms
     90%  718.31ms
     99%  886.27ms
  12825 requests in 3.02s, 7.59MB read
Requests/sec:   4248.35
Transfer/sec:      2.51MB
[run.sh] Speed is 4248.35, duration is 35
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-t29pc              653m         19Mi            
checkout-58c6fb676d-dc4d7          98m          17Mi            
currency-5c7fbff5fb-6n565          45m          9Mi             
email-7d67946c6c-dpkng             0m           3Mi             
frontend-556fd4f99f-gr7np          364m         73Mi            
payment-7f5bbf99bc-vkd4f           11m          6Mi             
productcatalog-6cf98c84c5-5vjz9    112m         10Mi            
recommendations-78b4589544-6drd4   1m           3Mi             
shipping-989fb8686-f7h6b           22m          7Mi             
ubuntu-client-76886f6bbd-fzn75     64m          0Mi             
Running 35s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   269.95ms  314.93ms   1.18s    70.29%
    Req/Sec   502.81    174.01     1.17k    69.22%
  Latency Distribution
     50%   15.80ms
     75%  646.88ms
     90%  727.09ms
     99%  836.72ms
  100000 requests in 35.00s, 62.49MB read
Requests/sec:   2857.13
Transfer/sec:      1.79MB
------------------------------
stop time: 24.952956
stop time: 24.978984
stop time: 25.106271
stop time: 25.093107
stop time: 24.973247
stop time: 25.024521
stop time: 25.081016
stop time: 25.091120
[run.sh] Test finished with status 0
