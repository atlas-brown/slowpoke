[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   152.08ms   99.21ms 713.80ms   69.24%
    Req/Sec   846.55    211.18     1.31k    70.71%
  Latency Distribution
     50%  162.17ms
     75%  208.72ms
     90%  253.77ms
     99%  494.66ms
  20196 requests in 3.02s, 11.98MB read
Requests/sec:   6680.54
Transfer/sec:      3.96MB
[run.sh] Speed is 6680.54, duration is 22
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 22s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   143.08ms   82.57ms 610.62ms   64.67%
    Req/Sec     0.89k   188.70     1.34k    70.33%
  Latency Distribution
     50%  152.04ms
     75%  198.84ms
     90%  240.59ms
     99%  348.98ms
  100000 requests in 22.00s, 62.35MB read
Requests/sec:   4545.42
Transfer/sec:      2.83MB
------------------------------
stop time: 14.031304
stop time: 13.973408
stop time: 14.045028
stop time: 14.106492
stop time: 14.112344
stop time: 14.124759
stop time: 14.078093
stop time: 14.114939
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-77f89db99c-jj5sv              271m         12Mi            
cart-77f89db99c-tfr6d              58m          14Mi            
checkout-58c6fb676d-r6mf9          280m         16Mi            
currency-5c7fbff5fb-hczts          18m          12Mi            
email-7d67946c6c-pdhqp             1m           3Mi             
frontend-556fd4f99f-xnxqs          435m         87Mi            
payment-7f5bbf99bc-4md7j           18m          8Mi             
productcatalog-6cf98c84c5-kjwfx    112m         14Mi            
recommendations-78b4589544-jlk76   1m           3Mi             
shipping-989fb8686-85xxc           64m          8Mi             
ubuntu-client-76886f6bbd-rfss8     86m          26Mi            
[run.sh] Test finished with status 0
