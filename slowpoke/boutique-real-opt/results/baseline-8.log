[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   259.40ms  279.99ms   1.10s    79.44%
    Req/Sec   545.82    188.62     1.29k    69.58%
  Latency Distribution
     50%  117.91ms
     75%  480.64ms
     90%  695.10ms
     99%  847.42ms
  13039 requests in 3.03s, 7.72MB read
Requests/sec:   4307.48
Transfer/sec:      2.55MB
[run.sh] Speed is 4307.48, duration is 34
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 34s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   273.94ms  310.66ms   1.22s    71.14%
    Req/Sec   503.04    171.82     1.17k    68.79%
  Latency Distribution
     50%   29.75ms
     75%  642.21ms
     90%  723.73ms
     99%  835.33ms
  100000 requests in 34.00s, 62.51MB read
Requests/sec:   2941.16
Transfer/sec:      1.84MB
------------------------------
stop time: 24.926697
stop time: 24.925454
stop time: 24.921763
stop time: 25.012968
stop time: 25.014191
stop time: 25.109062
stop time: 25.147924
stop time: 25.113155
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-8rz7k              5m           3Mi             
currency-5c7fbff5fb-lk75p          5m           3Mi             
frontend-556fd4f99f-6vvsw          5m           3Mi             
payment-7f5bbf99bc-fvgdt           5m           3Mi             
recommendations-78b4589544-8jrs9   5m           3Mi             
ubuntu-client-76886f6bbd-89msk     10m          0Mi             
[run.sh] Test finished with status 0
