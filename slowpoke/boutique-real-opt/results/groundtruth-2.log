[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   154.95ms  110.14ms 899.76ms   70.96%
    Req/Sec   848.40    252.20     1.28k    76.25%
  Latency Distribution
     50%  165.55ms
     75%  208.91ms
     90%  257.72ms
     99%  549.26ms
  20277 requests in 3.02s, 12.06MB read
Requests/sec:   6706.06
Transfer/sec:      3.99MB
[run.sh] Speed is 6706.06, duration is 22
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 22s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   142.12ms   88.67ms 735.31ms   61.36%
    Req/Sec     0.90k   177.73     1.34k    69.91%
  Latency Distribution
     50%  160.79ms
     75%  205.22ms
     90%  244.43ms
     99%  344.54ms
  100000 requests in 22.00s, 62.36MB read
Requests/sec:   4545.42
Transfer/sec:      2.83MB
------------------------------
stop time: 13.929692
stop time: 13.942216
stop time: 13.918043
stop time: 13.958251
stop time: 13.945397
stop time: 13.989918
stop time: 13.988565
stop time: 14.005057
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-77f89db99c-6bwxh              614m         14Mi            
cart-77f89db99c-hgx67              1030m        12Mi            
checkout-58c6fb676d-c8ffm          65m          14Mi            
currency-5c7fbff5fb-d9984          109m         12Mi            
email-7d67946c6c-h5sm8             1m           3Mi             
frontend-556fd4f99f-c9742          1312m        87Mi            
payment-7f5bbf99bc-xbbmd           5m           8Mi             
productcatalog-6cf98c84c5-lnwqc    125m         14Mi            
recommendations-78b4589544-t8cwh   1m           3Mi             
shipping-989fb8686-bbg6p           22m          8Mi             
ubuntu-client-76886f6bbd-kpl7v     2m           26Mi            
[run.sh] Test finished with status 0
