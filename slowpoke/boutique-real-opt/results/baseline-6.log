[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   253.77ms  274.18ms   1.04s    80.16%
    Req/Sec   548.78    221.32     1.13k    72.92%
  Latency Distribution
     50%  131.87ms
     75%  478.58ms
     90%  698.54ms
     99%  820.70ms
  13114 requests in 3.02s, 7.81MB read
Requests/sec:   4338.23
Transfer/sec:      2.58MB
[run.sh] Speed is 4338.23, duration is 34
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 34s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   275.39ms  310.54ms   1.18s    71.44%
    Req/Sec   501.78    176.76     1.44k    69.48%
  Latency Distribution
     50%   43.44ms
     75%  643.19ms
     90%  727.00ms
     99%  829.70ms
  100000 requests in 34.00s, 62.49MB read
Requests/sec:   2941.16
Transfer/sec:      1.84MB
------------------------------
stop time: 24.938057
stop time: 24.964511
stop time: 24.974116
stop time: 25.030429
stop time: 25.070511
stop time: 25.183512
stop time: 25.220421
stop time: 25.282079
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-44875              101m         22Mi            
checkout-58c6fb676d-8pksv          80m          17Mi            
currency-5c7fbff5fb-g76vf          6m           9Mi             
email-7d67946c6c-wjczm             1m           3Mi             
frontend-556fd4f99f-9dd7v          380m         85Mi            
payment-7f5bbf99bc-5sfsh           13m          7Mi             
productcatalog-6cf98c84c5-8x9bl    59m          11Mi            
recommendations-78b4589544-2tspn   1m           3Mi             
shipping-989fb8686-7nhbg           17m          8Mi             
ubuntu-client-76886f6bbd-jzwp9     57m          28Mi            
[run.sh] Test finished with status 0
