[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   260.60ms  279.42ms   1.21s    79.31%
    Req/Sec   546.84    222.88     1.25k    70.00%
  Latency Distribution
     50%  140.71ms
     75%  490.45ms
     90%  700.22ms
     99%  872.57ms
  13069 requests in 3.02s, 7.77MB read
Requests/sec:   4322.82
Transfer/sec:      2.57MB
[run.sh] Speed is 4322.82, duration is 34
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 34s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   276.78ms  311.12ms   1.26s    71.46%
    Req/Sec   499.32    172.79     1.21k    68.73%
  Latency Distribution
     50%   49.13ms
     75%  643.83ms
     90%  726.14ms
     99%  837.47ms
  100000 requests in 34.00s, 62.47MB read
Requests/sec:   2941.16
Transfer/sec:      1.84MB
------------------------------
stop time: 25.056142
stop time: 25.134832
stop time: 25.106940
stop time: 25.240538
stop time: 25.236709
stop time: 25.158123
stop time: 25.265065
stop time: 25.280145
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-4wpf5              1945m        23Mi            
checkout-58c6fb676d-ms2kw          242m         17Mi            
currency-5c7fbff5fb-bksxt          107m         9Mi             
email-7d67946c6c-46zd2             0m           3Mi             
frontend-556fd4f99f-f4gtm          1046m        85Mi            
payment-7f5bbf99bc-rf6qv           33m          7Mi             
productcatalog-6cf98c84c5-x2xrc    299m         11Mi            
recommendations-78b4589544-drddj   1m           3Mi             
shipping-989fb8686-bx8nn           58m          8Mi             
ubuntu-client-76886f6bbd-mqss8     156m         29Mi            
[run.sh] Test finished with status 0
