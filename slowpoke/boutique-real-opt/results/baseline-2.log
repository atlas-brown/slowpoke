[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   255.42ms  275.58ms   1.07s    80.29%
    Req/Sec   553.41    240.74     1.22k    72.08%
  Latency Distribution
     50%  124.97ms
     75%  478.13ms
     90%  703.77ms
     99%  799.53ms
  13223 requests in 3.02s, 7.83MB read
Requests/sec:   4379.03
Transfer/sec:      2.59MB
[run.sh] Speed is 4379.03, duration is 34
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 34s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   277.16ms  311.13ms   1.20s    71.80%
    Req/Sec   499.29    168.17     1.09k    68.39%
  Latency Distribution
     50%   47.51ms
     75%  637.18ms
     90%  729.18ms
     99%  837.59ms
  100000 requests in 34.00s, 62.57MB read
Requests/sec:   2941.16
Transfer/sec:      1.84MB
------------------------------
stop time: 25.161598
stop time: 25.157878
stop time: 25.161162
stop time: 25.146624
stop time: 25.179229
stop time: 25.207941
stop time: 25.240876
stop time: 25.210568
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-pkpfd              1940m        22Mi            
checkout-58c6fb676d-dvt9k          246m         17Mi            
currency-5c7fbff5fb-gr4zh          142m         9Mi             
email-7d67946c6c-5t4nt             0m           3Mi             
frontend-556fd4f99f-fk25f          1108m        83Mi            
payment-7f5bbf99bc-jzr4s           33m          8Mi             
productcatalog-6cf98c84c5-647nr    305m         10Mi            
recommendations-78b4589544-tpb8z   0m           3Mi             
shipping-989fb8686-5lmjv           57m          8Mi             
ubuntu-client-76886f6bbd-jqt8z     161m         30Mi            
[run.sh] Test finished with status 0
