[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   249.06ms  267.74ms 988.58ms   80.33%
    Req/Sec   554.88    227.21     1.17k    67.50%
  Latency Distribution
     50%  142.07ms
     75%  466.10ms
     90%  676.47ms
     99%  823.66ms
  13262 requests in 3.03s, 7.90MB read
Requests/sec:   4382.86
Transfer/sec:      2.61MB
[run.sh] Speed is 4382.86, duration is 34
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 34s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   276.13ms  309.63ms   1.14s    71.80%
    Req/Sec   501.10    171.77     1.27k    70.25%
  Latency Distribution
     50%   50.86ms
     75%  636.71ms
     90%  728.49ms
     99%  835.54ms
  100000 requests in 34.00s, 62.53MB read
Requests/sec:   2941.16
Transfer/sec:      1.84MB
------------------------------
stop time: 25.031527
stop time: 25.066419
stop time: 25.135844
stop time: 25.070642
stop time: 25.102856
stop time: 25.144872
stop time: 25.194221
stop time: 25.194726
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-74784d9648-cwjlp              423m         22Mi            
checkout-58c6fb676d-7sf4n          15m          16Mi            
currency-5c7fbff5fb-kjtfx          31m          9Mi             
email-7d67946c6c-sgd4j             0m           3Mi             
frontend-556fd4f99f-r6slb          606m         84Mi            
payment-7f5bbf99bc-sxk2b           20m          7Mi             
productcatalog-6cf98c84c5-sfzml    2m           11Mi            
recommendations-78b4589544-8g2bg   1m           3Mi             
shipping-989fb8686-mbzc8           5m           8Mi             
ubuntu-client-76886f6bbd-zf4cr     78m          28Mi            
[run.sh] Test finished with status 0
