[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   276.56ms  295.63ms   1.20s    79.13%
    Req/Sec   519.23    191.42     0.98k    67.92%
  Latency Distribution
     50%  140.87ms
     75%  505.90ms
     90%  724.33ms
     99%  935.80ms
  12437 requests in 3.09s, 7.32MB read
Requests/sec:   4021.29
Transfer/sec:      2.37MB
[run.sh] Speed is 4021.29, duration is 7
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d7s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 7s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   240.15ms  297.42ms   1.10s    75.71%
    Req/Sec   535.69    220.19     1.07k    67.65%
  Latency Distribution
     50%   41.02ms
     75%  515.76ms
     90%  723.33ms
     99%  834.37ms
  20000 requests in 7.00s, 11.77MB read
Requests/sec:   2857.08
Transfer/sec:      1.68MB
------------------------------
stop time: 4.597822
stop time: 4.669087
stop time: 4.727609
stop time: 4.723793
stop time: 4.796608
stop time: 4.824651
stop time: 4.818250
stop time: 4.835062
[run.sh] Checking the resource usage
NAME                              CPU(cores)   MEMORY(bytes)   
cart-74784d9648-vv8wd             1m           13Mi            
checkout-58c6fb676d-jlv9h         1m           15Mi            
currency-5c7fbff5fb-8qcgj         1m           10Mi            
email-7d67946c6c-ztnwk            5m           3Mi             
payment-7f5bbf99bc-8s8wp          5m           5Mi             
productcatalog-6cf98c84c5-hdvdp   5m           12Mi            
ubuntu-client-76886f6bbd-6zf98    11m          15Mi            
[run.sh] Test finished with status 0
