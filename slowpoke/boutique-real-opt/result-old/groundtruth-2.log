[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   164.72ms  108.77ms 856.51ms   70.35%
    Req/Sec   786.75    209.78     1.21k    73.75%
  Latency Distribution
     50%  168.41ms
     75%  216.85ms
     90%  281.97ms
     99%  528.92ms
  18800 requests in 3.02s, 11.13MB read
Requests/sec:   6217.97
Transfer/sec:      3.68MB
[run.sh] Speed is 6217.97, duration is 4
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d4s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 4s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   156.64ms   98.31ms 724.99ms   67.94%
    Req/Sec   801.04    197.54     1.25k    68.03%
  Latency Distribution
     50%  155.86ms
     75%  214.93ms
     90%  273.52ms
     99%  460.70ms
  20000 requests in 4.00s, 11.85MB read
Requests/sec:   4999.81
Transfer/sec:      2.96MB
------------------------------
stop time: 3.072802
stop time: 3.070316
stop time: 3.135102
stop time: 3.160306
stop time: 3.171857
stop time: 3.192474
stop time: 3.192016
stop time: 3.208293
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-77f89db99c-47pj5              316m         15Mi            
cart-77f89db99c-m468g              155m         12Mi            
checkout-58c6fb676d-nf627          117m         15Mi            
currency-5c7fbff5fb-llkqz          80m          11Mi            
email-7d67946c6c-cw9m5             1m           3Mi             
frontend-556fd4f99f-cbzd7          598m         86Mi            
payment-7f5bbf99bc-gghsz           2m           7Mi             
productcatalog-6cf98c84c5-96wc8    151m         12Mi            
recommendations-78b4589544-jt2g5   0m           3Mi             
shipping-989fb8686-4r5x4           28m          7Mi             
ubuntu-client-76886f6bbd-7kb6z     88m          24Mi            
[run.sh] Test finished with status 0
