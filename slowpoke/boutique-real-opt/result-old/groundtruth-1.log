[run.sh] Running benchmark boutique with request mix, thread 8, conn 1024, duration 60
[run.sh] Deleting all services
service "cart" deleted
deployment.apps "cart" deleted
service "checkout" deleted
deployment.apps "checkout" deleted
service "currency" deleted
deployment.apps "currency" deleted
service "email" deleted
deployment.apps "email" deleted
service "frontend" deleted
deployment.apps "frontend" deleted
service "payment" deleted
deployment.apps "payment" deleted
service "productcatalog" deleted
deployment.apps "productcatalog" deleted
service "recommendations" deleted
deployment.apps "recommendations" deleted
service "shipping" deleted
deployment.apps "shipping" deleted
deployment.apps "ubuntu-client" deleted
[run.sh] Waiting for all pods to be deleted
[run.sh] Deploying all services
service/cart created
deployment.apps/cart created
service/checkout created
deployment.apps/checkout created
service/currency created
deployment.apps/currency created
service/email created
deployment.apps/email created
service/frontend created
deployment.apps/frontend created
service/payment created
deployment.apps/payment created
service/productcatalog created
deployment.apps/productcatalog created
service/recommendations created
deployment.apps/recommendations created
service/shipping created
deployment.apps/shipping created
[run.sh] Client pod not found, deploying client
deployment.apps/ubuntu-client created
[run.sh] Waiting for all pods to be running
[run.sh] All pods are running
[run.sh] Checking heartbeat for all services
[run.sh] All pods can connect to all services
[run.sh] No population needed for boutique
[run.sh] Running warmup test
[run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 3s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   158.78ms  107.12ms 856.76ms   70.64%
    Req/Sec   829.13    188.68     1.20k    70.39%
  Latency Distribution
     50%  169.02ms
     75%  217.35ms
     90%  262.71ms
     99%  546.92ms
  19474 requests in 3.02s, 11.52MB read
Requests/sec:   6440.49
Transfer/sec:      3.81MB
[run.sh] Speed is 6440.49, duration is 4
[run.sh] Fix the request number.
[run.sh] Running the actual test
[run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d4s -L -s /wrk/scripts/online-boutique/mix.lua http://frontend:80
Running 4s test @ http://frontend:80
  8 threads and 1024 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   147.20ms   93.93ms 607.54ms   62.38%
    Req/Sec   848.94    185.05     1.21k    76.29%
  Latency Distribution
     50%  166.51ms
     75%  212.79ms
     90%  255.24ms
     99%  375.24ms
  20000 requests in 4.00s, 11.88MB read
Requests/sec:   4999.82
Transfer/sec:      2.97MB
------------------------------
stop time: 2.872583
stop time: 2.884219
stop time: 2.954557
stop time: 2.995792
stop time: 3.005325
stop time: 3.033923
stop time: 3.056176
stop time: 3.054775
[run.sh] Checking the resource usage
NAME                               CPU(cores)   MEMORY(bytes)   
cart-77f89db99c-8jbrw              5m           3Mi             
cart-77f89db99c-gm757              5m           3Mi             
checkout-58c6fb676d-dr65v          5m           3Mi             
currency-5c7fbff5fb-fw4pg          2m           3Mi             
email-7d67946c6c-ccp8k             5m           3Mi             
frontend-556fd4f99f-vrzww          1m           3Mi             
payment-7f5bbf99bc-p559t           5m           3Mi             
productcatalog-6cf98c84c5-dmfq5    1m           3Mi             
recommendations-78b4589544-92x2r   1m           3Mi             
shipping-989fb8686-r5dc8           1m           3Mi             
ubuntu-client-76886f6bbd-qj62f     0m           0Mi             
[run.sh] Test finished with status 0

20000 / ( ( 2.872583 + 2.884219 + 2.954557 + 2.995792 + 3.005325 + 3.033923 + 3.056176 + 3.054775 ) / 8 ) = 6,706.5285960092
