[config.py] Random numbers for execution time: [786.0420416734107, 826.5145977008433, 958.0749646410659]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : dynamic-cache-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 13505
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 0.25}
baseline_service_processing_time : {'service0': 958.07, 'service1': 826.51, 'service2': 6288.34}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 6288.34]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 3144]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00095807', 'PROCESSING_TIME_SERVICE1': '0.00082651', 'PROCESSING_TIME_SERVICE2': '0.00628834', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-7z2lc cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   415.82ms  157.96ms   1.26s    79.22%
        Req/Sec   149.85     53.27   282.00     70.93%
        Latency Distribution
        50%  349.21ms
        75%  454.37ms
        90%  688.20ms
        99%  851.80ms
        3418 requests in 3.03s, 1.30MB read
        Requests/sec:   1129.73
        Transfer/sec:    439.90KB
        [run.sh] Speed is 1129.73, duration is 70
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d70s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-7z2lc        1094m        48Mi
        service1-5b899d549d-rhwwr        737m         19Mi
        service2-6f7c796b99-7tlqk        1144m        18Mi
        ubuntu-client-76886f6bbd-55n97   12m          15Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   420.44ms  159.62ms   1.73s    76.97%
        Req/Sec   152.17     46.59   626.00     69.53%
        Latency Distribution
        50%  360.11ms
        75%  439.52ms
        90%  692.35ms
        99%  832.89ms
        40000 requests in 1.17m, 15.31MB read
        Requests/sec:    571.43
        Transfer/sec:    224.01KB
        ------------------------------
        stop time: 32.246312
        stop time: 32.709952
        stop time: 33.006415
        stop time: 33.040159
        stop time: 33.353335
        stop time: 33.439697
        stop time: 33.352218
        stop time: 33.367614
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [32.246312, 32.709952, 33.006415, 33.040159, 33.353335, 33.439697, 33.352218, 33.367614]
    [exp] Throughput: 1209.7580505825697
[test.py] Baseline throughput: 1209.7580505825697
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00095807', 'PROCESSING_TIME_SERVICE1': '0.00082651', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-wjlfw cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   335.11ms  107.74ms   1.02s    89.18%
        Req/Sec   192.46     62.97   350.00     74.11%
        Latency Distribution
        50%  305.42ms
        75%  350.49ms
        90%  439.33ms
        99%  872.53ms
        4363 requests in 3.02s, 1.67MB read
        Requests/sec:   1445.41
        Transfer/sec:    568.16KB
        [run.sh] Speed is 1445.41, duration is 55
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d55s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-wjlfw        224m         48Mi
        service1-5b899d549d-lctrt        9m           15Mi
        service2-6f7c796b99-pnf6q        4m           7Mi
        ubuntu-client-76886f6bbd-pfj99   27m          12Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   319.67ms  106.68ms   1.78s    90.39%
        Req/Sec   200.96     49.06   520.00     71.18%
        Latency Distribution
        50%  305.32ms
        75%  340.97ms
        90%  388.78ms
        99%  660.36ms
        40000 requests in 0.92m, 15.33MB read
        Requests/sec:    727.27
        Transfer/sec:    285.44KB
        ------------------------------
        stop time: 24.751778
        stop time: 24.797830
        stop time: 24.583150
        stop time: 25.165487
        stop time: 25.198422
        stop time: 25.191981
        stop time: 25.269788
        stop time: 25.270274
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [24.751778, 24.79783, 24.58315, 25.165487, 25.198422, 25.191981, 25.269788, 25.270274]
    [exp] Throughput: 1598.1724099406124
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00095807', 'PROCESSING_TIME_SERVICE1': '0.00082651', 'PROCESSING_TIME_SERVICE2': '0.003144', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-sqd9r cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   338.86ms   93.00ms 873.61ms   83.69%
        Req/Sec   195.93     58.82   330.00     76.96%
        Latency Distribution
        50%  310.60ms
        75%  365.52ms
        90%  463.08ms
        99%  690.55ms
        4311 requests in 3.03s, 1.65MB read
        Requests/sec:   1420.98
        Transfer/sec:    556.75KB
        [run.sh] Speed is 1420.98, duration is 56
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d56s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-sqd9r        1944m        49Mi
        service1-5b899d549d-x7tgk        1585m        16Mi
        service2-6f7c796b99-pdh6n        1312m        10Mi
        ubuntu-client-76886f6bbd-nbc6l   42m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   317.08ms  116.65ms   1.87s    89.60%
        Req/Sec   204.20     55.68   626.00     75.42%
        Latency Distribution
        50%  303.05ms
        75%  338.52ms
        90%  387.29ms
        99%  745.17ms
        40000 requests in 0.93m, 15.34MB read
        Requests/sec:    714.28
        Transfer/sec:    280.46KB
        ------------------------------
        stop time: 24.268507
        stop time: 24.434403
        stop time: 24.289201
        stop time: 24.870652
        stop time: 25.153429
        stop time: 25.074952
        stop time: 25.232840
        stop time: 25.235959
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [24.268507, 24.434403, 24.289201, 24.870652, 25.153429, 25.074952, 25.23284, 25.235959]
    [exp] Throughput: 1611.6040081659369
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00095807', 'PROCESSING_TIME_SERVICE1': '0.00082651', 'PROCESSING_TIME_SERVICE2': '0.00628834', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '786.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '78600000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '786.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '78600000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-fc54b6fdb-57t75 cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   694.35ms  143.73ms   1.18s    75.69%
        Req/Sec    88.79     49.91   230.00     62.26%
        Latency Distribution
        50%  700.44ms
        75%  758.20ms
        90%  855.65ms
        99%    1.05s
        1962 requests in 3.02s, 773.41KB read
        Requests/sec:    649.09
        Transfer/sec:    255.87KB
        [run.sh] Speed is 649.09, duration is 123
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d123s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-fc54b6fdb-57t75         888m         49Mi
        service1-65d46558d9-g2tfw        725m         16Mi
        service2-6f7c796b99-n99pt        1174m        10Mi
        ubuntu-client-76886f6bbd-9rftk   39m          14Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   716.82ms  116.57ms   2.37s    73.30%
        Req/Sec    90.29     44.26   373.00     64.68%
        Latency Distribution
        50%  703.43ms
        75%  768.41ms
        90%  844.92ms
        99%    1.03s
        40000 requests in 2.05m, 15.35MB read
        Requests/sec:    325.20
        Transfer/sec:    127.81KB
        ------------------------------
        stop time: 55.219464
        stop time: 56.128480
        stop time: 56.132924
        stop time: 56.400771
        stop time: 56.653958
        stop time: 56.735810
        stop time: 56.646738
        stop time: 56.622192
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [55.219464, 56.12848, 56.132924, 56.400771, 56.653958, 56.73581, 56.646738, 56.622192]
    [exp] Throughput: 710.258269283445
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00095807', 'PROCESSING_TIME_SERVICE1': '0.00082651', 'PROCESSING_TIME_SERVICE2': '0.00628834', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '393.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '39300000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '393.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '39300000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-dd4694798-xscpx cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   521.14ms  160.21ms   1.25s    81.25%
        Req/Sec   115.72     40.64   232.00     68.97%
        Latency Distribution
        50%  498.70ms
        75%  575.87ms
        90%  696.38ms
        99%    1.14s
        2699 requests in 3.03s, 1.04MB read
        Requests/sec:    891.23
        Transfer/sec:    350.15KB
        [run.sh] Speed is 891.23, duration is 89
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d89s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-dd4694798-xscpx         1232m        49Mi
        service1-67f58b866f-zdz77        1012m        18Mi
        service2-6f7c796b99-mgtjj        1642m        12Mi
        ubuntu-client-76886f6bbd-tnbbj   50m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   517.38ms   77.01ms   1.21s    71.41%
        Req/Sec   123.84     39.78   300.00     71.43%
        Latency Distribution
        50%  506.90ms
        75%  556.85ms
        90%  612.22ms
        99%  734.05ms
        40000 requests in 1.48m, 15.36MB read
        Requests/sec:    449.44
        Transfer/sec:    176.68KB
        ------------------------------
        stop time: 40.325430
        stop time: 40.441735
        stop time: 40.548701
        stop time: 40.640793
        stop time: 40.737835
        stop time: 40.889530
        stop time: 40.785191
        stop time: 40.953140
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [40.32543, 40.441735, 40.548701, 40.640793, 40.737835, 40.88953, 40.785191, 40.95314]
    [exp] Throughput: 983.6397501794796
[test.py] Baseline throughput:  1209.7580505825697
[test.py] Groundtruth:  [1598.1724099406124, 1611.6040081659369]
[test.py] Slowdown:  [710.258269283445, 983.6397501794796]
[test.py] Predicted:  [1607.9857638186395, 1603.618123300243]
[test.py] Error percentage:  [0.6140359961783949, -0.49552401366772825]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1209.7580505825697
    Groundtruth: [1598.1724099406124, 1611.6040081659369]
    Slowdown:    [710.258269283445, 983.6397501794796]
    Predicted:   [1607.9857638186395, 1603.618123300243]
    Error Perc:  [0.6140359961783949, -0.49552401366772825]
