[config.py] Random numbers for execution time: [243.1852228229995, 265.3472596363038, 431.399959404726]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : dynamic-cache-http-sync
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 27597
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 0.25}
baseline_service_processing_time : {'service0': 431.4, 'service1': 265.35, 'service2': 972.74}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 265.35]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 26, 52, 78, 104, 130, 156, 182, 208, 234]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        configmap "config-service1" deleted
        configmap "config-service2" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-6v2jj cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   164.60ms  141.84ms 893.95ms   76.63%
        Req/Sec   379.72    131.99   666.00     70.43%
        Latency Distribution
        50%  132.46ms
        75%  224.83ms
        90%  343.07ms
        99%  655.75ms
        8746 requests in 3.02s, 1.33MB read
        Requests/sec:   2892.53
        Transfer/sec:    449.13KB
        [run.sh] Speed is 2892.53, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.85ms  130.16ms   1.01s    75.38%
        Req/Sec   381.60    141.88   777.00     70.83%
        Latency Distribution
        50%  142.48ms
        75%  223.78ms
        90%  334.91ms
        99%  640.25ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.491533
        stop time: 6.338697
        stop time: 6.653255
        stop time: 6.547983
        stop time: 6.630040
        stop time: 6.682550
        stop time: 6.605940
        stop time: 6.645051
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-6v2jj   2m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [6.491533, 6.338697, 6.653255, 6.547983, 6.63004, 6.68255, 6.60594, 6.645051]
    [exp] Throughput: 3042.111435241746
[test.py] Baseline throughput: 3042.111435241746
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   184.93ms  144.44ms   1.05s    73.69%
        Req/Sec   376.55    134.78   656.00     68.97%
        Latency Distribution
        50%  156.41ms
        75%  250.59ms
        90%  380.82ms
        99%  655.21ms
        8752 requests in 3.03s, 1.33MB read
        Requests/sec:   2892.75
        Transfer/sec:    449.17KB
        [run.sh] Speed is 2892.75, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   173.76ms  161.36ms   1.30s    84.89%
        Req/Sec   385.37    134.77   770.00     70.45%
        Latency Distribution
        50%  133.53ms
        75%  227.24ms
        90%  349.08ms
        99%  875.15ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.408416
        stop time: 6.386470
        stop time: 6.380045
        stop time: 6.651930
        stop time: 6.547495
        stop time: 6.425029
        stop time: 6.612240
        stop time: 6.604142
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-68s9t        1225m        64Mi
        service1-7755b7b4b5-cnjr2        393m         29Mi
        service2-958786d58-ngsxl         280m         9Mi
        ubuntu-client-76886f6bbd-m42r4   71m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [6.408416, 6.38647, 6.380045, 6.65193, 6.547495, 6.425029, 6.61224, 6.604142]
    [exp] Throughput: 3075.9904011412536
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '132.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '530.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-6f5474b79f-8vdtm cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   232.63ms  145.84ms 853.71ms   62.86%
        Req/Sec   279.85    119.92   585.00     65.04%
        Latency Distribution
        50%  233.74ms
        75%  315.95ms
        90%  426.26ms
        99%  569.11ms
        6433 requests in 3.03s, 0.98MB read
        Requests/sec:   2122.48
        Transfer/sec:    329.56KB
        [run.sh] Speed is 2122.48, duration is 14
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d14s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 14s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.64ms  155.07ms   1.23s    73.02%
        Req/Sec   278.77    127.65   630.00     67.19%
        Latency Distribution
        50%  205.65ms
        75%  304.30ms
        90%  433.78ms
        99%  771.03ms
        20000 requests in 14.00s, 3.03MB read
        Requests/sec:   1428.56
        Transfer/sec:    221.82KB
        ------------------------------
        stop time: 8.864131
        stop time: 9.141834
        stop time: 8.865820
        stop time: 8.971295
        stop time: 9.100828
        stop time: 9.070627
        stop time: 9.152724
        stop time: 9.069028
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [8.864131, 9.141834, 8.86582, 8.971295, 9.100828, 9.070627, 9.152724, 9.069028]
    [exp] Throughput: 2214.953268569853
[test.py] Finished running 0th optmization experiment: groundtruth->3075.9904011412536, slowdown->2214.953268569853, predicted->3136.745211616301, err->1.9751300411245085
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '2.6e-05', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-rjqbt cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   213.72ms  225.98ms   1.53s    84.50%
        Req/Sec   376.26    132.53   777.00     76.29%
        Latency Distribution
        50%  123.79ms
        75%  285.00ms
        90%  561.12ms
        99%  965.33ms
        8739 requests in 3.03s, 1.33MB read
        Requests/sec:   2884.62
        Transfer/sec:    447.90KB
        [run.sh] Speed is 2884.62, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.74ms  142.36ms   1.40s    78.03%
        Req/Sec   384.24    135.92     0.91k    69.32%
        Latency Distribution
        50%  136.58ms
        75%  230.35ms
        90%  346.59ms
        99%  674.87ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.392783
        stop time: 6.289768
        stop time: 6.483171
        stop time: 6.684069
        stop time: 6.536780
        stop time: 6.700701
        stop time: 6.659436
        stop time: 6.531694
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-rjqbt        607m         63Mi
        service1-7755b7b4b5-5v7dd        20m          29Mi
        service2-958786d58-f4jzq         272m         8Mi
        ubuntu-client-76886f6bbd-sfpb6   23m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [6.392783, 6.289768, 6.483171, 6.684069, 6.53678, 6.700701, 6.659436, 6.531694]
    [exp] Throughput: 3060.5373132866607
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '119.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '478.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   234.28ms  141.53ms 927.58ms   69.25%
        Req/Sec   277.20    137.15   600.00     62.77%
        Latency Distribution
        50%  217.08ms
        75%  313.66ms
        90%  424.14ms
        99%  655.53ms
        6428 requests in 3.03s, 0.97MB read
        Requests/sec:   2123.81
        Transfer/sec:    329.77KB
        [run.sh] Speed is 2123.81, duration is 14
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d14s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 14s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   221.67ms  184.86ms   1.29s    69.00%
        Req/Sec   293.35    140.01     0.94k    68.37%
        Latency Distribution
        50%  187.67ms
        75%  315.37ms
        90%  476.63ms
        99%  819.83ms
        20000 requests in 14.00s, 3.03MB read
        Requests/sec:   1428.56
        Transfer/sec:    221.82KB
        ------------------------------
        stop time: 8.336804
        stop time: 8.316272
        stop time: 8.297838
        stop time: 8.696840
        stop time: 8.660781
        stop time: 8.706941
        stop time: 8.732460
        stop time: 8.750619
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-77d775b9fb-d5zwz        2m           62Mi
        service1-7755b7b4b5-frqf6        1m           31Mi
        service2-69b5749798-k2p29        1m           11Mi
        ubuntu-client-76886f6bbd-bmd9n   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.336804, 8.316272, 8.297838, 8.69684, 8.660781, 8.706941, 8.73246, 8.750619]
    [exp] Throughput: 2335.815697134049
[test.py] Finished running 1th optmization experiment: groundtruth->3060.5373132866607, slowdown->2335.815697134049, predicted->3242.1114615630972, err->5.932753947751973
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '5.2e-05', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   218.16ms  224.09ms   1.46s    83.36%
        Req/Sec   370.39    145.47   777.00     68.53%
        Latency Distribution
        50%  137.93ms
        75%  325.11ms
        90%  551.00ms
        99%  912.19ms
        8661 requests in 3.02s, 1.31MB read
        Requests/sec:   2871.27
        Transfer/sec:    445.83KB
        [run.sh] Speed is 2871.27, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   175.17ms  158.96ms   1.07s    79.27%
        Req/Sec   382.16    159.56     1.03k    69.94%
        Latency Distribution
        50%  136.40ms
        75%  239.92ms
        90%  380.86ms
        99%  757.76ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.573239
        stop time: 6.543819
        stop time: 6.606120
        stop time: 6.590517
        stop time: 6.534128
        stop time: 6.674565
        stop time: 6.462180
        stop time: 6.601761
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-zj7qh        253m         60Mi
        service1-7755b7b4b5-xd7qg        234m         30Mi
        service2-958786d58-5hfhh         273m         10Mi
        ubuntu-client-76886f6bbd-7xnjl   35m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [6.573239, 6.543819, 6.60612, 6.590517, 6.534128, 6.674565, 6.46218, 6.601761]
    [exp] Throughput: 3042.6158859653424
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '106.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '426.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-88cbc4d48-spq49 cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   225.75ms  129.05ms 944.68ms   75.03%
        Req/Sec   291.92    134.17   630.00     66.52%
        Latency Distribution
        50%  202.73ms
        75%  290.21ms
        90%  397.01ms
        99%  623.27ms
        6614 requests in 3.03s, 1.00MB read
        Requests/sec:   2181.46
        Transfer/sec:    338.72KB
        [run.sh] Speed is 2181.46, duration is 13
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d13s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 13s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.29ms  233.28ms   2.27s    88.10%
        Req/Sec   304.95    134.84     0.96k    66.93%
        Latency Distribution
        50%  165.23ms
        75%  313.68ms
        90%  501.05ms
        99%    1.17s
        20001 requests in 13.00s, 3.03MB read
        Requests/sec:   1538.52
        Transfer/sec:    238.89KB
        ------------------------------
        stop time: 8.699131
        stop time: 7.869173
        stop time: 8.138927
        stop time: 8.309801
        stop time: 8.677737
        stop time: 8.313647
        stop time: 8.675335
        stop time: 8.660198
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-88cbc4d48-spq49         723m         63Mi
        service1-7755b7b4b5-b5cvg        1m           31Mi
        service2-5d44b5b99c-8d76g        156m         10Mi
        ubuntu-client-76886f6bbd-zjm6m   53m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [8.699131, 7.869173, 8.138927, 8.309801, 8.677737, 8.313647, 8.675335, 8.660198]
    [exp] Throughput: 2375.8630489578213
[test.py] Finished running 2th optmization experiment: groundtruth->3042.6158859653424, slowdown->2375.8630489578213, predicted->3182.43619827047, err->4.595398089850118
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '7.8e-05', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   185.75ms  165.53ms   1.17s    80.05%
        Req/Sec   378.75    137.99   740.00     70.87%
        Latency Distribution
        50%  154.23ms
        75%  249.69ms
        90%  383.25ms
        99%  790.93ms
        8740 requests in 3.03s, 1.33MB read
        Requests/sec:   2885.67
        Transfer/sec:    448.07KB
        [run.sh] Speed is 2885.67, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   199.12ms  243.16ms   2.00s    91.26%
        Req/Sec   386.54    163.62     1.06k    71.71%
        Latency Distribution
        50%  123.90ms
        75%  243.76ms
        90%  405.25ms
        99%    1.34s
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.475532
        stop time: 6.583329
        stop time: 6.487192
        stop time: 6.680343
        stop time: 6.608222
        stop time: 6.509746
        stop time: 6.135244
        stop time: 6.315207
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service1-7755b7b4b5-gxmp4   112m         29Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [6.475532, 6.583329, 6.487192, 6.680343, 6.608222, 6.509746, 6.135244, 6.315207]
    [exp] Throughput: 3089.1122982097727
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '93.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '374.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   264.94ms  252.11ms   1.55s    85.17%
        Req/Sec   290.87    130.71   555.00     62.50%
        Latency Distribution
        50%  194.43ms
        75%  342.28ms
        90%  562.87ms
        99%    1.18s
        6548 requests in 3.02s, 0.99MB read
        Requests/sec:   2165.81
        Transfer/sec:    336.29KB
        [run.sh] Speed is 2165.81, duration is 13
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d13s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 13s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   216.76ms  182.23ms   1.55s    77.11%
        Req/Sec   307.92    132.17     0.97k    69.97%
        Latency Distribution
        50%  174.52ms
        75%  291.01ms
        90%  435.46ms
        99%  895.61ms
        20000 requests in 13.00s, 3.03MB read
        Requests/sec:   1538.44
        Transfer/sec:    238.88KB
        ------------------------------
        stop time: 7.899141
        stop time: 7.855196
        stop time: 8.330506
        stop time: 8.161984
        stop time: 8.166615
        stop time: 8.338000
        stop time: 8.395003
        stop time: 8.446756
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-776c796667-gtg5c        1229m        64Mi
        service1-7755b7b4b5-5n6kw        547m         31Mi
        service2-6d44fc87f-p2rf8         560m         9Mi
        ubuntu-client-76886f6bbd-qp47h   50m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [7.899141, 7.855196, 8.330506, 8.161984, 8.166615, 8.338, 8.395003, 8.446756]
    [exp] Throughput: 2439.2772049651917
[test.py] Finished running 3th optmization experiment: groundtruth->3089.1122982097727, slowdown->2439.2772049651917, predicted->3161.730352577792, err->2.3507741822821893
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.000104', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.66ms  145.12ms   1.14s    76.53%
        Req/Sec   386.81    135.09   717.00     71.98%
        Latency Distribution
        50%  147.78ms
        75%  258.61ms
        90%  356.28ms
        99%  683.73ms
        8956 requests in 3.04s, 1.36MB read
        Requests/sec:   2950.67
        Transfer/sec:    458.16KB
        [run.sh] Speed is 2950.67, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   167.82ms  127.25ms 886.17ms   71.90%
        Req/Sec   383.67    150.37     0.93k    71.87%
        Latency Distribution
        50%  136.67ms
        75%  235.20ms
        90%  340.66ms
        99%  587.54ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.342069
        stop time: 6.219376
        stop time: 6.465151
        stop time: 6.630242
        stop time: 6.619898
        stop time: 6.617110
        stop time: 6.677435
        stop time: 6.613610
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [6.342069, 6.219376, 6.465151, 6.630242, 6.619898, 6.61711, 6.677435, 6.61361]
    [exp] Throughput: 3066.021542518887
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '80.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '322.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   214.95ms  126.15ms 752.73ms   70.56%
        Req/Sec   304.95    176.35   686.00     59.91%
        Latency Distribution
        50%  200.61ms
        75%  284.30ms
        90%  390.45ms
        99%  571.17ms
        7060 requests in 3.03s, 1.07MB read
        Requests/sec:   2330.84
        Transfer/sec:    361.92KB
        [run.sh] Speed is 2330.84, duration is 12
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d12s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 12s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   221.33ms  218.29ms   1.59s    86.53%
        Req/Sec   323.24    132.75     0.91k    69.59%
        Latency Distribution
        50%  152.79ms
        75%  280.51ms
        90%  503.06ms
        99%    1.07s
        20000 requests in 12.00s, 3.03MB read
        Requests/sec:   1666.65
        Transfer/sec:    258.79KB
        ------------------------------
        stop time: 8.054681
        stop time: 7.623245
        stop time: 7.560469
        stop time: 8.084837
        stop time: 8.008464
        stop time: 7.868652
        stop time: 7.849942
        stop time: 8.152725
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7779556975-gn5nk        320m         63Mi
        service1-7755b7b4b5-r7jdc        71m          30Mi
        service2-5b46bc566d-6fs58        319m         9Mi
        ubuntu-client-76886f6bbd-2t2z4   7m           15Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.054681, 7.623245, 7.560469, 8.084837, 8.008464, 7.868652, 7.849942, 8.152725]
    [exp] Throughput: 2531.5248014671456
[test.py] Finished running 4th optmization experiment: groundtruth->3066.021542518887, slowdown->2531.5248014671456, predicted->3181.229789870826, err->3.757581143976235
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00013', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.31ms  114.50ms 704.27ms   71.59%
        Req/Sec   356.56    166.63   740.00     69.87%
        Latency Distribution
        50%  153.89ms
        75%  244.95ms
        90%  335.85ms
        99%  519.53ms
        8507 requests in 3.02s, 1.29MB read
        Requests/sec:   2816.53
        Transfer/sec:    437.33KB
        [run.sh] Speed is 2816.53, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.72ms  165.45ms   1.15s    82.09%
        Req/Sec   388.28    144.86     1.12k    70.78%
        Latency Distribution
        50%  125.48ms
        75%  245.08ms
        90%  397.22ms
        99%  778.65ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.226016
        stop time: 6.419194
        stop time: 6.551975
        stop time: 6.581709
        stop time: 6.594299
        stop time: 6.373900
        stop time: 6.548191
        stop time: 6.493608
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-dkxjh        1m           61Mi
        service1-7755b7b4b5-zxwff        1m           26Mi
        service2-958786d58-947kp         1m           9Mi
        ubuntu-client-76886f6bbd-tkgg4   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [6.226016, 6.419194, 6.551975, 6.581709, 6.594299, 6.3739, 6.548191, 6.493608]
    [exp] Throughput: 3089.465594282264
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '67.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '270.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.10ms  228.63ms   1.71s    86.53%
        Req/Sec   322.74    119.58   565.00     65.30%
        Latency Distribution
        50%  175.92ms
        75%  317.12ms
        90%  509.05ms
        99%    1.14s
        7236 requests in 3.02s, 1.10MB read
        Requests/sec:   2397.71
        Transfer/sec:    372.30KB
        [run.sh] Speed is 2397.71, duration is 12
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d12s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 12s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   223.27ms  237.76ms   1.84s    88.52%
        Req/Sec   339.66    141.79     0.90k    69.84%
        Latency Distribution
        50%  148.81ms
        75%  283.08ms
        90%  497.44ms
        99%    1.15s
        20000 requests in 12.00s, 3.03MB read
        Requests/sec:   1666.65
        Transfer/sec:    258.79KB
        ------------------------------
        stop time: 7.698947
        stop time: 7.497414
        stop time: 7.747371
        stop time: 7.451735
        stop time: 7.903041
        stop time: 7.863840
        stop time: 7.734831
        stop time: 7.835855
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7994d69556-8krsm        510m         62Mi
        service1-7755b7b4b5-9f9lr        341m         30Mi
        service2-559dc6d78d-qktzb        88m          10Mi
        ubuntu-client-76886f6bbd-k6hvz   29m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [7.698947, 7.497414, 7.747371, 7.451735, 7.903041, 7.86384, 7.734831, 7.835855]
    [exp] Throughput: 2591.80522376399
[test.py] Finished running 5th optmization experiment: groundtruth->3089.465594282264, slowdown->2591.80522376399, predicted->3143.107614857894, err->1.7362880064081712
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.000156', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   188.09ms  162.14ms   1.11s    82.58%
        Req/Sec   367.38    131.49   740.00     69.83%
        Latency Distribution
        50%  143.52ms
        75%  261.74ms
        90%  373.70ms
        99%  803.07ms
        8575 requests in 3.03s, 1.30MB read
        Requests/sec:   2834.41
        Transfer/sec:    440.11KB
        [run.sh] Speed is 2834.41, duration is 10
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d10s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 10s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.50ms  162.73ms   1.48s    85.23%
        Req/Sec   386.96    126.90     1.13k    72.37%
        Latency Distribution
        50%  127.40ms
        75%  223.90ms
        90%  373.77ms
        99%  808.34ms
        20000 requests in 10.00s, 3.03MB read
        Requests/sec:   1999.97
        Transfer/sec:    310.54KB
        ------------------------------
        stop time: 6.558187
        stop time: 6.330821
        stop time: 6.642584
        stop time: 6.432644
        stop time: 6.505217
        stop time: 6.393285
        stop time: 6.513514
        stop time: 6.541690
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-r8t66        1m           64Mi
        service1-7755b7b4b5-9sgz5        1m           30Mi
        service2-958786d58-k72zn         1m           9Mi
        ubuntu-client-76886f6bbd-mnbct   2m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [6.558187, 6.330821, 6.642584, 6.432644, 6.505217, 6.393285, 6.513514, 6.54169]
    [exp] Throughput: 3081.7862541623854
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '54.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '218.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
