[config.py] Random numbers for execution time: [243.1852228229995, 265.3472596363038, 431.399959404726]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : dynamic-cache-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 27597
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 0.25}
baseline_service_processing_time : {'service0': 431.4, 'service1': 265.35, 'service2': 972.74}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 265.35]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 132]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   185.60ms   48.50ms 569.29ms   81.71%
        Req/Sec   346.20     77.72   490.00     80.17%
        Latency Distribution
        50%  173.48ms
        75%  202.27ms
        90%  243.19ms
        99%  367.27ms
        8033 requests in 3.03s, 3.08MB read
        Requests/sec:   2650.88
        Transfer/sec:      1.02MB
        [run.sh] Speed is 2650.88, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.59ms   56.01ms 948.43ms   87.32%
        Req/Sec   360.61     65.88   800.00     74.16%
        Latency Distribution
        50%  167.76ms
        75%  193.26ms
        90%  228.76ms
        99%  359.24ms
        40000 requests in 30.00s, 15.34MB read
        Requests/sec:   1333.33
        Transfer/sec:    523.62KB
        ------------------------------
        stop time: 13.660826
        stop time: 13.844588
        stop time: 14.008151
        stop time: 13.957737
        stop time: 14.066732
        stop time: 14.066179
        stop time: 13.988291
        stop time: 13.950277
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        ubuntu-client-76886f6bbd-2sczs   0m           17Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.660826, 13.844588, 14.008151, 13.957737, 14.066732, 14.066179, 13.988291, 13.950277]
    [exp] Throughput: 2868.8544173916553
[test.py] Baseline throughput: 2868.8544173916553
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-zzg4g cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   191.52ms   99.95ms   1.00s    85.44%
        Req/Sec   339.36     75.26   474.00     77.08%
        Latency Distribution
        50%  167.38ms
        75%  203.46ms
        90%  289.90ms
        99%  645.33ms
        8113 requests in 3.03s, 3.12MB read
        Requests/sec:   2678.95
        Transfer/sec:      1.03MB
        [run.sh] Speed is 2678.95, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.43ms   57.12ms 748.43ms   87.05%
        Req/Sec   365.32     84.20     1.41k    83.35%
        Latency Distribution
        50%  167.90ms
        75%  192.95ms
        90%  226.42ms
        99%  392.41ms
        40000 requests in 29.00s, 15.35MB read
        Requests/sec:   1379.30
        Transfer/sec:    542.00KB
        ------------------------------
        stop time: 13.339093
        stop time: 13.482389
        stop time: 13.842128
        stop time: 13.969308
        stop time: 14.061515
        stop time: 14.080098
        stop time: 14.088283
        stop time: 14.041478
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-zzg4g        1938m        43Mi
        service1-5b899d549d-pfbmp        760m         14Mi
        service2-6f7c796b99-rtfl5        865m         9Mi
        ubuntu-client-76886f6bbd-msd59   94m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [13.339093, 13.482389, 13.842128, 13.969308, 14.061515, 14.080098, 14.088283, 14.041478]
    [exp] Throughput: 2885.370748320543
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.000132', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-59ffv cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   183.04ms   47.91ms 479.76ms   79.74%
        Req/Sec   349.65     80.75   500.00     80.60%
        Latency Distribution
        50%  171.26ms
        75%  199.64ms
        90%  242.20ms
        99%  363.75ms
        8126 requests in 3.02s, 3.11MB read
        Requests/sec:   2692.42
        Transfer/sec:      1.03MB
        [run.sh] Speed is 2692.42, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.41ms   50.36ms 744.51ms   83.76%
        Req/Sec   362.57     73.05     0.94k    81.45%
        Latency Distribution
        50%  167.34ms
        75%  192.92ms
        90%  229.50ms
        99%  361.92ms
        40000 requests in 29.00s, 15.34MB read
        Requests/sec:   1379.30
        Transfer/sec:    541.76KB
        ------------------------------
        stop time: 13.620628
        stop time: 13.650576
        stop time: 13.773756
        stop time: 13.928297
        stop time: 13.976186
        stop time: 13.993662
        stop time: 13.990288
        stop time: 14.000580
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [13.620628, 13.650576, 13.773756, 13.928297, 13.976186, 13.993662, 13.990288, 14.00058]
    [exp] Throughput: 2884.598751367176
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '132.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '13250000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '530.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '53050000'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-55bd494d6d-qhr4q cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   238.53ms   98.70ms 752.35ms   71.87%
        Req/Sec   259.72     79.15   494.00     71.98%
        Latency Distribution
        50%  221.21ms
        75%  289.58ms
        90%  368.89ms
        99%  536.34ms
        6059 requests in 3.02s, 2.35MB read
        Requests/sec:   2004.87
        Transfer/sec:    796.41KB
        [run.sh] Speed is 2004.87, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-55bd494d6d-qhr4q        1481m        49Mi
        service1-5b899d549d-tgt9c        1039m        17Mi
        service2-785d754fbb-j8njc        630m         11Mi
        ubuntu-client-76886f6bbd-bbtb2   78m          14Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   236.92ms  114.59ms   1.16s    78.29%
        Req/Sec   271.04     78.46   790.00     73.64%
        Latency Distribution
        50%  218.88ms
        75%  283.44ms
        90%  363.46ms
        99%  655.47ms
        40001 requests in 39.00s, 15.38MB read
        Requests/sec:   1025.66
        Transfer/sec:    403.75KB
        ------------------------------
        stop time: 18.295169
        stop time: 18.070367
        stop time: 18.621873
        stop time: 18.833292
        stop time: 18.727498
        stop time: 18.816822
        stop time: 18.864565
        stop time: 18.642993
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [18.295169, 18.070367, 18.621873, 18.833292, 18.727498, 18.816822, 18.864565, 18.642993]
    [exp] Throughput: 2149.4891950518304
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '66.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '6650000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '266.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '26650000'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-778448cdfd-9bkj5 cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   214.14ms  134.26ms   1.26s    82.15%
        Req/Sec   298.97     88.61   580.00     75.00%
        Latency Distribution
        50%  184.92ms
        75%  255.34ms
        90%  359.72ms
        99%  724.15ms
        6967 requests in 3.03s, 2.76MB read
        Requests/sec:   2300.44
        Transfer/sec:      0.91MB
        [run.sh] Speed is 2300.44, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   209.35ms  115.78ms   1.10s    79.79%
        Req/Sec   305.82     95.01     0.88k    75.88%
        Latency Distribution
        50%  187.64ms
        75%  250.10ms
        90%  337.74ms
        99%  670.71ms
        40000 requests in 34.00s, 15.46MB read
        Requests/sec:   1176.47
        Transfer/sec:    465.73KB
        ------------------------------
        stop time: 16.269247
        stop time: 16.052031
        stop time: 16.541724
        stop time: 16.454751
        stop time: 16.498500
        stop time: 16.593494
        stop time: 16.574435
        stop time: 16.501916
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [16.269247, 16.052031, 16.541724, 16.454751, 16.4985, 16.593494, 16.574435, 16.501916]
    [exp] Throughput: 2433.717365314165
[test.py] Baseline throughput:  2868.8544173916553
[test.py] Groundtruth:  [2885.370748320543, 2884.598751367176]
[test.py] Slowdown:  [2149.4891950518304, 2433.717365314165]
[test.py] Predicted:  [3007.0502454321527, 2905.1267843629166]
[test.py] Error percentage:  [4.217118274399722, 0.7116425806539306]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2868.8544173916553
    Groundtruth: [2885.370748320543, 2884.598751367176]
    Slowdown:    [2149.4891950518304, 2433.717365314165]
    Predicted:   [3007.0502454321527, 2905.1267843629166]
    Error Perc:  [4.217118274399722, 0.7116425806539306]
