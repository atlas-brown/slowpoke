[config.py] Random numbers for execution time: [243.1852228229995, 265.3472596363038, 431.399959404726]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : dynamic-cache-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 27597
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 0.25}
baseline_service_processing_time : {'service0': 431.4, 'service1': 265.35, 'service2': 972.74}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 265.35]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 132]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-qdqtv cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   186.48ms   46.59ms 469.57ms   80.09%
        Req/Sec   344.84     77.33   484.00     83.19%
        Latency Distribution
        50%  175.07ms
        75%  201.89ms
        90%  243.08ms
        99%  355.61ms
        7995 requests in 3.03s, 3.07MB read
        Requests/sec:   2637.88
        Transfer/sec:      1.01MB
        [run.sh] Speed is 2637.88, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.42ms   43.15ms 669.69ms   81.47%
        Req/Sec   354.34     59.14   680.00     70.96%
        Latency Distribution
        50%  171.77ms
        75%  196.40ms
        90%  228.76ms
        99%  345.21ms
        40000 requests in 30.00s, 15.34MB read
        Requests/sec:   1333.33
        Transfer/sec:    523.56KB
        ------------------------------
        stop time: 14.073126
        stop time: 14.057560
        stop time: 14.230100
        stop time: 14.121645
        stop time: 14.201929
        stop time: 14.236681
        stop time: 14.282984
        stop time: 14.273946
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service1-5b899d549d-rzntv   185m         14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [14.073126, 14.05756, 14.2301, 14.121645, 14.201929, 14.236681, 14.282984, 14.273946]
    [exp] Throughput: 2819.930574895457
[test.py] Baseline throughput: 2819.930574895457
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-tbbzm cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   188.03ms   57.90ms 677.08ms   85.95%
        Req/Sec   334.12     82.04   480.00     75.21%
        Latency Distribution
        50%  174.26ms
        75%  202.02ms
        90%  244.23ms
        99%  430.87ms
        7939 requests in 3.03s, 3.04MB read
        Requests/sec:   2621.17
        Transfer/sec:      1.00MB
        [run.sh] Speed is 2621.17, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.49ms   47.22ms 858.37ms   83.36%
        Req/Sec   354.49     62.80   616.00     72.38%
        Latency Distribution
        50%  171.88ms
        75%  196.42ms
        90%  229.26ms
        99%  367.40ms
        40000 requests in 30.00s, 15.36MB read
        Requests/sec:   1333.33
        Transfer/sec:    524.36KB
        ------------------------------
        stop time: 14.056638
        stop time: 14.134593
        stop time: 14.122812
        stop time: 14.191531
        stop time: 14.205880
        stop time: 14.258752
        stop time: 14.271585
        stop time: 14.291514
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-tbbzm        1919m        49Mi
        service1-5b899d549d-76wvs        527m         15Mi
        service2-6f7c796b99-jxjf8        871m         9Mi
        ubuntu-client-76886f6bbd-qhlw5   137m         11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [14.056638, 14.134593, 14.122812, 14.191531, 14.20588, 14.258752, 14.271585, 14.291514]
    [exp] Throughput: 2818.5561937089733
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.000132', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   186.26ms   56.09ms 641.27ms   84.23%
        Req/Sec   344.00     78.63   510.00     72.84%
        Latency Distribution
        50%  170.58ms
        75%  200.92ms
        90%  253.14ms
        99%  415.79ms
        8025 requests in 3.03s, 3.08MB read
        Requests/sec:   2649.39
        Transfer/sec:      1.02MB
        [run.sh] Speed is 2649.39, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.02ms   45.05ms 581.05ms   82.37%
        Req/Sec   354.91     62.32     1.00k    74.93%
        Latency Distribution
        50%  171.23ms
        75%  196.08ms
        90%  228.90ms
        99%  350.03ms
        40001 requests in 30.00s, 15.35MB read
        Requests/sec:   1333.36
        Transfer/sec:    523.95KB
        ------------------------------
        stop time: 13.959459
        stop time: 14.163524
        stop time: 14.125306
        stop time: 14.110666
        stop time: 14.210575
        stop time: 14.210354
        stop time: 14.227107
        stop time: 14.231789
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.959459, 14.163524, 14.125306, 14.110666, 14.210575, 14.210354, 14.227107, 14.231789]
    [exp] Throughput: 2825.887032693217
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '132.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '13250000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '530.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '53050000'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-55bd494d6d-bxf8v cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   242.21ms  110.87ms   1.05s    78.44%
        Req/Sec   260.23     62.25   414.00     77.59%
        Latency Distribution
        50%  224.67ms
        75%  280.49ms
        90%  371.37ms
        99%  648.46ms
        6060 requests in 3.03s, 2.40MB read
        Requests/sec:   1999.63
        Transfer/sec:    811.91KB
        [run.sh] Speed is 1999.63, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-55bd494d6d-bxf8v        1506m        51Mi
        service1-5b899d549d-992s2        1009m        16Mi
        service2-785d754fbb-6dhqk        635m         10Mi
        ubuntu-client-76886f6bbd-8rlqz   107m         14Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   239.80ms  103.85ms   1.04s    76.61%
        Req/Sec   266.05     76.75   636.00     72.55%
        Latency Distribution
        50%  223.39ms
        75%  283.16ms
        90%  365.92ms
        99%  601.40ms
        40000 requests in 40.00s, 15.37MB read
        Requests/sec:   1000.00
        Transfer/sec:    393.36KB
        ------------------------------
        stop time: 18.608777
        stop time: 18.919319
        stop time: 18.921480
        stop time: 18.848431
        stop time: 18.782619
        stop time: 18.906839
        stop time: 18.970137
        stop time: 18.991797
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [18.608777, 18.919319, 18.92148, 18.848431, 18.782619, 18.906839, 18.970137, 18.991797]
    [exp] Throughput: 2119.915694397697
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '66.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '6650000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '266.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '26650000'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   221.64ms  113.59ms   1.04s    83.11%
        Req/Sec   288.09     80.31   460.00     70.00%
        Latency Distribution
        50%  195.94ms
        75%  249.29ms
        90%  340.07ms
        99%  687.79ms
        6890 requests in 3.03s, 2.67MB read
        Requests/sec:   2271.35
        Transfer/sec:      0.88MB
        [run.sh] Speed is 2271.35, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   208.19ms   94.76ms   1.25s    81.29%
        Req/Sec   307.21     78.45   600.00     72.62%
        Latency Distribution
        50%  189.66ms
        75%  243.30ms
        90%  309.46ms
        99%  583.02ms
        40000 requests in 35.00s, 15.38MB read
        Requests/sec:   1142.85
        Transfer/sec:    450.11KB
        ------------------------------
        stop time: 16.024604
        stop time: 16.242505
        stop time: 16.462412
        stop time: 16.492065
        stop time: 16.365590
        stop time: 16.393887
        stop time: 16.387197
        stop time: 16.454858
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [16.024604, 16.242505, 16.462412, 16.492065, 16.36559, 16.393887, 16.387197, 16.454858]
    [exp] Throughput: 2446.0508577696487
[test.py] Baseline throughput:  2819.930574895457
[test.py] Groundtruth:  [2818.5561937089733, 2825.887032693217]
[test.py] Slowdown:  [2119.915694397697, 2446.0508577696487]
[test.py] Predicted:  [2949.488198816594, 2922.718269011337]
[test.py] Error percentage:  [4.645357271920329, 3.4265784582986205]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2819.930574895457
    Groundtruth: [2818.5561937089733, 2825.887032693217]
    Slowdown:    [2119.915694397697, 2446.0508577696487]
    Predicted:   [2949.488198816594, 2922.718269011337]
    Error Perc:  [4.645357271920329, 3.4265784582986205]
