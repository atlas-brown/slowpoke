[config.py] Random numbers for execution time: [243.1852228229995, 265.3472596363038, 431.399959404726]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : dynamic-cache-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 27597
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 0.25}
baseline_service_processing_time : {'service0': 431.4, 'service1': 265.35, 'service2': 972.74}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 265.35]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 132]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-q5ppr cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   187.59ms   48.80ms 456.39ms   75.76%
        Req/Sec   342.88     75.97   505.00     83.19%
        Latency Distribution
        50%  175.23ms
        75%  209.57ms
        90%  252.84ms
        99%  347.29ms
        7963 requests in 3.03s, 3.06MB read
        Requests/sec:   2626.00
        Transfer/sec:      1.01MB
        [run.sh] Speed is 2626.00, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.99ms   45.80ms 807.33ms   81.60%
        Req/Sec   359.63     59.01   757.00     72.64%
        Latency Distribution
        50%  169.34ms
        75%  195.33ms
        90%  229.63ms
        99%  335.40ms
        40000 requests in 30.00s, 15.35MB read
        Requests/sec:   1333.32
        Transfer/sec:    523.85KB
        ------------------------------
        stop time: 13.851240
        stop time: 13.810954
        stop time: 13.931894
        stop time: 14.074596
        stop time: 14.099482
        stop time: 14.085469
        stop time: 14.029484
        stop time: 14.084693
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [13.85124, 13.810954, 13.931894, 14.074596, 14.099482, 14.085469, 14.029484, 14.084693]
    [exp] Throughput: 2857.9642156444033
[test.py] Baseline throughput: 2857.9642156444033
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   185.13ms   47.28ms 473.44ms   79.22%
        Req/Sec   344.84     77.06   494.00     78.02%
        Latency Distribution
        50%  174.27ms
        75%  202.09ms
        90%  244.04ms
        99%  354.35ms
        8028 requests in 3.03s, 3.08MB read
        Requests/sec:   2650.18
        Transfer/sec:      1.02MB
        [run.sh] Speed is 2650.18, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   178.50ms   49.12ms 741.19ms   83.48%
        Req/Sec   358.31     62.94   707.00     74.51%
        Latency Distribution
        50%  169.17ms
        75%  194.98ms
        90%  230.33ms
        99%  351.95ms
        40000 requests in 30.00s, 15.34MB read
        Requests/sec:   1333.33
        Transfer/sec:    523.61KB
        ------------------------------
        stop time: 13.790634
        stop time: 13.902201
        stop time: 14.007848
        stop time: 14.121255
        stop time: 14.090168
        stop time: 14.127163
        stop time: 14.131896
        stop time: 14.086929
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service1-5b899d549d-pvrml        18m          14Mi
        ubuntu-client-76886f6bbd-895wp   41m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.790634, 13.902201, 14.007848, 14.121255, 14.090168, 14.127163, 14.131896, 14.086929]
    [exp] Throughput: 2850.5739639584476
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.000132', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7564bb8985-49945 cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   184.65ms   47.57ms 606.41ms   82.44%
        Req/Sec   347.93     76.83   480.00     79.31%
        Latency Distribution
        50%  172.74ms
        75%  199.71ms
        90%  240.75ms
        99%  353.29ms
        8093 requests in 3.03s, 3.11MB read
        Requests/sec:   2673.18
        Transfer/sec:      1.03MB
        [run.sh] Speed is 2673.18, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.73ms   60.68ms 987.48ms   87.10%
        Req/Sec   361.01     69.44     0.97k    78.15%
        Latency Distribution
        50%  168.88ms
        75%  194.05ms
        90%  226.58ms
        99%  411.45ms
        40000 requests in 29.00s, 15.34MB read
        Requests/sec:   1379.30
        Transfer/sec:    541.56KB
        ------------------------------
        stop time: 13.575038
        stop time: 13.708602
        stop time: 13.811635
        stop time: 14.118381
        stop time: 14.107324
        stop time: 14.078767
        stop time: 14.077362
        stop time: 14.089482
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7564bb8985-49945        1756m        44Mi
        service1-5b899d549d-fs2c5        847m         15Mi
        service2-6f7c796b99-4rlbq        783m         9Mi
        ubuntu-client-76886f6bbd-fssb2   22m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [13.575038, 13.708602, 13.811635, 14.118381, 14.107324, 14.078767, 14.077362, 14.089482]
    [exp] Throughput: 2868.2421604152087
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '132.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '13249990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '530.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '13262490'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-85d4687796-qvb79 cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.39ms  118.05ms 916.50ms   75.07%
        Req/Sec   256.29     80.65   454.00     66.25%
        Latency Distribution
        50%  219.37ms
        75%  291.70ms
        90%  410.18ms
        99%  605.08ms
        6129 requests in 3.02s, 2.40MB read
        Requests/sec:   2030.07
        Transfer/sec:    813.15KB
        [run.sh] Speed is 2030.07, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   239.70ms  114.90ms   1.51s    76.93%
        Req/Sec   267.75     78.10   626.00     72.56%
        Latency Distribution
        50%  225.51ms
        75%  288.80ms
        90%  366.07ms
        99%  648.30ms
        40001 requests in 39.00s, 15.41MB read
        Requests/sec:   1025.66
        Transfer/sec:    404.59KB
        ------------------------------
        stop time: 18.691632
        stop time: 18.636370
        stop time: 18.667089
        stop time: 18.869639
        stop time: 18.948730
        stop time: 18.940963
        stop time: 18.849858
        stop time: 18.894440
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [18.691632, 18.63637, 18.667089, 18.869639, 18.94873, 18.940963, 18.849858, 18.89444]
    [exp] Throughput: 2126.263916887373
    [exp] Running (pre_run: False) workload synthetic/dynamic-cache-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0004314', 'PROCESSING_TIME_SERVICE1': '0.00026535', 'PROCESSING_TIME_SERVICE2': '0.00097274', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '66.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '6649990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '266.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '6662490'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-cache-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request dynamic-cache-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7d85f56fbb-tqb4w cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   227.34ms  153.95ms 982.84ms   72.68%
        Req/Sec   292.90    116.25   580.00     68.20%
        Latency Distribution
        50%  197.49ms
        75%  298.68ms
        90%  405.57ms
        99%  758.39ms
        6985 requests in 3.02s, 2.70MB read
        Requests/sec:   2309.30
        Transfer/sec:      0.89MB
        [run.sh] Speed is 2309.30, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   208.40ms  139.37ms   1.77s    85.27%
        Req/Sec   313.11     93.18   790.00     77.12%
        Latency Distribution
        50%  184.70ms
        75%  244.48ms
        90%  330.39ms
        99%  791.30ms
        40000 requests in 34.00s, 15.39MB read
        Requests/sec:   1176.46
        Transfer/sec:    463.53KB
        ------------------------------
        stop time: 15.758463
        stop time: 15.762835
        stop time: 16.091373
        stop time: 16.029600
        stop time: 16.278701
        stop time: 16.241608
        stop time: 16.056802
        stop time: 16.230847
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7d85f56fbb-tqb4w        1725m        49Mi
        service1-5b899d549d-2ndg6        1206m        16Mi
        service2-558995b4b6-j46mz        764m         10Mi
        ubuntu-client-76886f6bbd-pzcvw   96m          14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [15.758463, 15.762835, 16.091373, 16.0296, 16.278701, 16.241608, 16.056802, 16.230847]
    [exp] Throughput: 2491.237286933914
[test.py] Baseline throughput:  2857.9642156444033
[test.py] Groundtruth:  [2850.5739639584476, 2868.2421604152087]
[test.py] Slowdown:  [2126.263916887373, 2491.237286933914]
[test.py] Predicted:  [2961.791382503222, 2987.4649053395137]
[test.py] Error percentage:  [3.901579820448943, 4.156648506521022]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2857.9642156444033
    Groundtruth: [2850.5739639584476, 2868.2421604152087]
    Slowdown:    [2126.263916887373, 2491.237286933914]
    Predicted:   [2961.791382503222, 2987.4649053395137]
    Error Perc:  [3.901579820448943, 4.156648506521022]
