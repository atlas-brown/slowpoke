[config.py] Random numbers for execution time: [652.4185451586567, 724.4164304797239, 901.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 901.5, 'service1': 724.42, 'service2': 652.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 724.42]
baseline_throughputs             : []
poker_batch                      : 0
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 362]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   317.27ms   84.92ms 695.24ms   87.33%
        Req/Sec   211.35     63.60   373.00     75.46%
        Latency Distribution
        50%  292.92ms
        75%  323.33ms
        90%  422.38ms
        99%  661.21ms
        4611 requests in 3.04s, 2.67MB read
        Requests/sec:   1517.56
        Transfer/sec:      0.88MB
        [run.sh] Speed is 1517.56, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-7nwxl        477m         46Mi
        service1-66d59fdfb5-qxtqh        488m         16Mi
        service2-5fdb89d677-b9vmr        55m          10Mi
        ubuntu-client-76886f6bbd-2sjcn   1m           12Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   286.18ms   49.34ms 992.24ms   85.22%
        Req/Sec   223.61     52.62   380.00     70.43%
        Latency Distribution
        50%  279.21ms
        75%  302.01ms
        90%  332.23ms
        99%  446.19ms
        40000 requests in 39.00s, 23.16MB read
        Requests/sec:   1025.64
        Transfer/sec:    607.97KB
        ------------------------------
        stop time: 22.290872
        stop time: 22.322980
        stop time: 22.392305
        stop time: 22.490179
        stop time: 22.504648
        stop time: 22.638123
        stop time: 22.597722
        stop time: 22.636976
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.290872, 22.32298, 22.392305, 22.490179, 22.504648, 22.638123, 22.597722, 22.636976]
    [exp] Throughput: 1779.025022570685
[test.py] Baseline throughput: 1779.025022570685
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   304.18ms   68.87ms 626.67ms   83.52%
        Req/Sec   219.11     64.65   464.00     78.24%
        Latency Distribution
        50%  282.62ms
        75%  314.38ms
        90%  399.69ms
        99%  560.66ms
        4825 requests in 3.02s, 2.79MB read
        Requests/sec:   1597.37
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1597.37, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-v245w        1640m        46Mi
        service1-66d59fdfb5-n7wsq        475m         15Mi
        service2-5fdb89d677-hkw9f        853m         10Mi
        ubuntu-client-76886f6bbd-qjb8d   38m          14Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   291.84ms  101.86ms   1.28s    87.31%
        Req/Sec   220.27     58.18   454.00     68.54%
        Latency Distribution
        50%  277.74ms
        75%  306.40ms
        90%  362.48ms
        99%  776.71ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.616844
        stop time: 22.747325
        stop time: 22.761360
        stop time: 22.821147
        stop time: 22.916855
        stop time: 22.838227
        stop time: 22.920969
        stop time: 22.910556
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.616844, 22.747325, 22.76136, 22.821147, 22.916855, 22.838227, 22.920969, 22.910556]
    [exp] Throughput: 1753.1049392236046
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.000362', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   315.40ms  196.92ms   1.25s    79.44%
        Req/Sec   217.67     90.64   474.00     71.75%
        Latency Distribution
        50%  270.06ms
        75%  373.18ms
        90%  574.54ms
        99%  991.45ms
        4882 requests in 3.03s, 2.83MB read
        Requests/sec:   1611.80
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1611.80, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-w5t6d        603m         42Mi
        service1-66d59fdfb5-ctsqx        334m         15Mi
        service2-5fdb89d677-ccnvj        406m         10Mi
        ubuntu-client-76886f6bbd-7zphr   23m          7Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   289.95ms  122.17ms   1.51s    87.69%
        Req/Sec   222.32     63.85   454.00     74.16%
        Latency Distribution
        50%  276.36ms
        75%  302.88ms
        90%  353.59ms
        99%  887.03ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.382359
        stop time: 22.520980
        stop time: 22.634276
        stop time: 22.566428
        stop time: 22.612834
        stop time: 22.679704
        stop time: 22.649863
        stop time: 22.725771
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.382359, 22.52098, 22.634276, 22.566428, 22.612834, 22.679704, 22.649863, 22.725771]
    [exp] Throughput: 1770.1835428635973
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '362', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '28539446.38566067', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '362', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '28539446.38566067'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.91ms  116.03ms 881.35ms   76.44%
        Req/Sec   137.65     57.59   292.00     66.96%
        Latency Distribution
        50%  448.42ms
        75%  503.01ms
        90%  578.22ms
        99%  862.65ms
        3116 requests in 3.03s, 1.80MB read
        Requests/sec:   1029.45
        Transfer/sec:    610.23KB
        [run.sh] Speed is 1029.45, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-b64f8f5c6-m6f2p         1220m        45Mi
        service1-66d59fdfb5-t785t        1060m        16Mi
        service2-6d5488b9f6-8q249        824m         12Mi
        ubuntu-client-76886f6bbd-2kjk7   37m          15Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   476.69ms  129.16ms   1.62s    78.79%
        Req/Sec   135.84     62.28   430.00     66.42%
        Latency Distribution
        50%  457.91ms
        75%  519.84ms
        90%  634.88ms
        99%  892.83ms
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 37.392111
        stop time: 37.172090
        stop time: 37.531809
        stop time: 37.459048
        stop time: 37.492611
        stop time: 37.788177
        stop time: 37.491768
        stop time: 37.563137
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.392111, 37.17209, 37.531809, 37.459048, 37.492611, 37.788177, 37.491768, 37.563137]
    [exp] Throughput: 1067.0552490630164
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '181', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20180436.070610564', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '181', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20180436.070610564'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   381.67ms  123.00ms 970.16ms   78.75%
        Req/Sec   161.90     66.17   313.00     65.52%
        Latency Distribution
        50%  361.18ms
        75%  424.66ms
        90%  521.69ms
        99%  808.34ms
        3760 requests in 3.03s, 2.18MB read
        Requests/sec:   1240.61
        Transfer/sec:    735.40KB
        [run.sh] Speed is 1240.61, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   386.59ms  104.59ms 997.25ms   77.32%
        Req/Sec   166.31     64.01   460.00     68.86%
        Latency Distribution
        50%  373.68ms
        75%  423.00ms
        90%  521.50ms
        99%  717.61ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 30.034473
        stop time: 30.186625
        stop time: 30.278210
        stop time: 30.511851
        stop time: 30.368789
        stop time: 30.593879
        stop time: 30.549128
        stop time: 30.646558
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [30.034473, 30.186625, 30.27821, 30.511851, 30.368789, 30.593879, 30.549128, 30.646558]
    [exp] Throughput: 1315.9544387457815
[test.py] Baseline throughput:  1779.025022570685
[test.py] Groundtruth:  [1753.1049392236046, 1770.1835428635973]
[test.py] Slowdown:  [1067.0552490630164, 1315.9544387457815]
[test.py] Predicted:  [1739.2859212723858, 1728.0268013500836]
[test.py] Error percentage:  [-0.7882595982724642, -2.3814898564313505]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1779.025022570685
    Groundtruth: [1753.1049392236046, 1770.1835428635973]
    Slowdown:    [1067.0552490630164, 1315.9544387457815]
    Predicted:   [1739.2859212723858, 1728.0268013500836]
    Error Perc:  [-0.7882595982724642, -2.3814898564313505]
