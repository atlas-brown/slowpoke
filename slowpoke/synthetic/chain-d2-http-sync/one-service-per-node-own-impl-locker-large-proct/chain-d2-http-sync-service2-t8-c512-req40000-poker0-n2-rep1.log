[config.py] Random numbers for execution time: [738.7567487313221, 908.1430120173984, 1414.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1414.9, 'service1': 908.14, 'service2': 1477.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1477.51]
baseline_throughputs             : []
poker_batch                      : 0
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 738]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.92ms   94.71ms 949.15ms   88.28%
        Req/Sec   144.94     57.87   310.00     75.46%
        Latency Distribution
        50%  424.57ms
        75%  462.52ms
        90%  573.33ms
        99%  828.95ms
        3157 requests in 3.03s, 1.83MB read
        Requests/sec:   1041.93
        Transfer/sec:    617.63KB
        [run.sh] Speed is 1041.93, duration is 57
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d57s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-p5t6t        1945m        52Mi
        service1-66d59fdfb5-jmrh9        1432m        16Mi
        service2-5fdb89d677-g6wcn        1910m        12Mi
        ubuntu-client-76886f6bbd-fp5t8   42m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   425.88ms   67.66ms   1.42s    90.96%
        Req/Sec   150.85     41.38   490.00     75.09%
        Latency Distribution
        50%  418.38ms
        75%  444.33ms
        90%  475.20ms
        99%  648.86ms
        40000 requests in 0.95m, 23.16MB read
        Requests/sec:    701.75
        Transfer/sec:    415.98KB
        ------------------------------
        stop time: 33.033402
        stop time: 32.984708
        stop time: 33.390749
        stop time: 33.565975
        stop time: 33.642166
        stop time: 33.634640
        stop time: 33.725209
        stop time: 33.729571
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.033402, 32.984708, 33.390749, 33.565975, 33.642166, 33.63464, 33.725209, 33.729571]
    [exp] Throughput: 1195.3392824871364
[test.py] Baseline throughput: 1195.3392824871364
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.55ms   97.75ms 853.80ms   84.12%
        Req/Sec   146.65     52.30   292.00     68.75%
        Latency Distribution
        50%  425.80ms
        75%  467.85ms
        90%  605.50ms
        99%  805.47ms
        3117 requests in 3.02s, 1.80MB read
        Requests/sec:   1031.93
        Transfer/sec:    611.70KB
        [run.sh] Speed is 1031.93, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   426.60ms  145.95ms   2.17s    91.14%
        Req/Sec   151.30     44.99   323.00     70.98%
        Latency Distribution
        50%  412.28ms
        75%  445.70ms
        90%  493.46ms
        99%    1.16s
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 33.326160
        stop time: 33.137937
        stop time: 33.060261
        stop time: 33.537977
        stop time: 33.410403
        stop time: 33.428972
        stop time: 33.417396
        stop time: 33.245956
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [33.32616, 33.137937, 33.060261, 33.537977, 33.410403, 33.428972, 33.417396, 33.245956]
    [exp] Throughput: 1200.4573952756043
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.000738', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   469.60ms  108.88ms 865.35ms   81.58%
        Req/Sec   145.26     50.21   290.00     72.60%
        Latency Distribution
        50%  435.39ms
        75%  496.83ms
        90%  642.95ms
        99%  829.77ms
        3035 requests in 3.03s, 1.76MB read
        Requests/sec:   1000.01
        Transfer/sec:    592.78KB
        [run.sh] Speed is 1000.01, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.81ms   95.25ms   1.45s    88.90%
        Req/Sec   151.23     43.84   363.00     72.30%
        Latency Distribution
        50%  415.26ms
        75%  446.69ms
        90%  490.04ms
        99%  859.09ms
        40000 requests in 0.98m, 23.16MB read
        Requests/sec:    677.96
        Transfer/sec:    401.88KB
        ------------------------------
        stop time: 33.202150
        stop time: 33.121211
        stop time: 33.143623
        stop time: 33.347694
        stop time: 33.460675
        stop time: 33.566493
        stop time: 33.472055
        stop time: 33.564373
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [33.20215, 33.121211, 33.143623, 33.347694, 33.460675, 33.566493, 33.472055, 33.564373]
    [exp] Throughput: 1199.0485220239398
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '738', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '40749233.121618375', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '738', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '40749233.121618375', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   713.93ms  171.68ms   1.14s    74.71%
        Req/Sec    83.67     54.24   343.00     71.23%
        Latency Distribution
        50%  735.32ms
        75%  815.84ms
        90%  942.46ms
        99%    1.08s
        1886 requests in 3.02s, 1.09MB read
        Requests/sec:    624.28
        Transfer/sec:    370.06KB
        [run.sh] Speed is 624.28, duration is 96
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d96s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   761.59ms  148.15ms   1.81s    77.95%
        Req/Sec    85.82     44.95   310.00     65.48%
        Latency Distribution
        50%  736.48ms
        75%  829.84ms
        90%  953.34ms
        99%    1.22s
        40000 requests in 1.60m, 23.16MB read
        Requests/sec:    416.67
        Transfer/sec:    246.99KB
        ------------------------------
        stop time: 59.490928
        stop time: 59.824705
        stop time: 59.827198
        stop time: 59.925126
        stop time: 59.814433
        stop time: 59.719352
        stop time: 60.100851
        stop time: 60.252589
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [59.490928, 59.824705, 59.827198, 59.925126, 59.814433, 59.719352, 60.100851, 60.252589]
    [exp] Throughput: 668.1209683623383
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '369', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '28814059.068447817', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '369', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '28814059.068447817', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   577.77ms  191.99ms   1.46s    80.95%
        Req/Sec   113.79     59.38   320.00     68.00%
        Latency Distribution
        50%  539.55ms
        75%  628.78ms
        90%  818.56ms
        99%    1.34s
        2336 requests in 3.02s, 1.35MB read
        Requests/sec:    774.61
        Transfer/sec:    459.17KB
        [run.sh] Speed is 774.61, duration is 77
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d77s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6c6446c6c-9qf78         1450m        44Mi
        service1-7fd86964b7-sszkx        1017m        16Mi
        service2-5fdb89d677-8p65s        1411m        11Mi
        ubuntu-client-76886f6bbd-tnmjz   33m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   584.17ms  120.27ms   1.39s    75.04%
        Req/Sec   111.03     52.52   440.00     71.38%
        Latency Distribution
        50%  572.86ms
        75%  641.74ms
        90%  735.21ms
        99%  923.42ms
        40000 requests in 1.28m, 23.16MB read
        Requests/sec:    519.48
        Transfer/sec:    307.93KB
        ------------------------------
        stop time: 45.659967
        stop time: 45.804981
        stop time: 45.908617
        stop time: 46.128776
        stop time: 46.119434
        stop time: 46.188905
        stop time: 46.236810
        stop time: 46.238866
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [45.659967, 45.804981, 45.908617, 46.128776, 46.119434, 46.188905, 46.23681, 46.238866]
    [exp] Throughput: 868.889098894557
[test.py] Baseline throughput:  1195.3392824871364
[test.py] Groundtruth:  [1200.4573952756043, 1199.0485220239398]
[test.py] Slowdown:  [668.1209683623383, 868.889098894557]
[test.py] Predicted:  [1319.2961215472794, 1280.1804747226047]
[test.py] Error percentage:  [9.899453886440659, 6.766361094521667]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1195.3392824871364
    Groundtruth: [1200.4573952756043, 1199.0485220239398]
    Slowdown:    [668.1209683623383, 868.889098894557]
    Predicted:   [1319.2961215472794, 1280.1804747226047]
    Error Perc:  [9.899453886440659, 6.766361094521667]
