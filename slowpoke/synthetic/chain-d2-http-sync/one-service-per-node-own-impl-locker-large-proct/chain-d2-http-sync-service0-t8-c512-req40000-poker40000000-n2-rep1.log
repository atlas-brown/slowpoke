[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.25ms   56.76ms 558.79ms   84.97%
        Req/Sec   220.56     70.22   470.00     72.94%
        Latency Distribution
        50%  282.46ms
        75%  309.35ms
        90%  354.74ms
        99%  534.70ms
        4931 requests in 3.03s, 2.85MB read
        Requests/sec:   1629.67
        Transfer/sec:      0.94MB
        [run.sh] Speed is 1629.67, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-dqsnp        1940m        45Mi
        service1-76dc8bbc57-8fbk8        1664m        16Mi
        service2-65c58f846f-sc54z        1072m        10Mi
        ubuntu-client-76886f6bbd-9fndn   61m          17Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   281.23ms   56.67ms 902.28ms   88.71%
        Req/Sec   228.18     55.36   676.00     71.23%
        Latency Distribution
        50%  274.17ms
        75%  297.34ms
        90%  326.06ms
        99%  522.27ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 21.925417
        stop time: 21.712195
        stop time: 21.978587
        stop time: 22.175094
        stop time: 22.258541
        stop time: 22.159977
        stop time: 22.246049
        stop time: 22.200642
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.925417, 21.712195, 21.978587, 22.175094, 22.258541, 22.159977, 22.246049, 22.200642]
    [exp] Throughput: 1811.4249765910117
[test.py] Baseline throughput: 1811.4249765910117
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.46ms   40.44ms 469.22ms   76.36%
        Req/Sec   268.46     63.60   430.00     77.02%
        Latency Distribution
        50%  224.50ms
        75%  250.13ms
        90%  283.54ms
        99%  357.61ms
        6358 requests in 3.03s, 3.68MB read
        Requests/sec:   2096.52
        Transfer/sec:      1.21MB
        [run.sh] Speed is 2096.52, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   227.27ms   32.95ms 450.48ms   78.63%
        Req/Sec   281.04     48.96   510.00     69.17%
        Latency Distribution
        50%  222.62ms
        75%  240.26ms
        90%  267.17ms
        99%  334.01ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.81KB
        ------------------------------
        stop time: 17.860598
        stop time: 17.837441
        stop time: 17.833583
        stop time: 17.871375
        stop time: 17.886157
        stop time: 17.925487
        stop time: 17.952294
        stop time: 17.940250
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.860598, 17.837441, 17.833583, 17.871375, 17.886157, 17.925487, 17.952294, 17.94025]
    [exp] Throughput: 2236.086189522909
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   247.61ms   45.57ms 513.68ms   85.93%
        Req/Sec   262.72     65.67   434.00     76.79%
        Latency Distribution
        50%  235.62ms
        75%  255.07ms
        90%  295.77ms
        99%  443.14ms
        5958 requests in 3.02s, 3.45MB read
        Requests/sec:   1970.07
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1970.07, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   232.25ms   32.43ms 553.90ms   76.36%
        Req/Sec   275.24     46.89   580.00     72.95%
        Latency Distribution
        50%  227.90ms
        75%  246.79ms
        90%  272.50ms
        99%  328.64ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 18.053310
        stop time: 18.223508
        stop time: 18.250729
        stop time: 18.276164
        stop time: 18.317557
        stop time: 18.303844
        stop time: 18.331367
        stop time: 18.341101
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-fx847        1516m        42Mi
        service1-76dc8bbc57-lxn4c        1936m        16Mi
        service2-65c58f846f-4bpnr        1275m        9Mi
        ubuntu-client-76886f6bbd-flm4p   73m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.05331, 18.223508, 18.250729, 18.276164, 18.317557, 18.303844, 18.331367, 18.341101]
    [exp] Throughput: 2190.3169101089834
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   473.82ms   75.62ms 889.58ms   80.73%
        Req/Sec   131.14     56.07   272.00     70.09%
        Latency Distribution
        50%  467.45ms
        75%  509.57ms
        90%  561.20ms
        99%  723.15ms
        2969 requests in 3.02s, 1.72MB read
        Requests/sec:    983.33
        Transfer/sec:    582.89KB
        [run.sh] Speed is 983.33, duration is 61
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d61s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   465.09ms   57.05ms   1.09s    76.88%
        Req/Sec   137.46     49.15   353.00     70.21%
        Latency Distribution
        50%  459.14ms
        75%  499.95ms
        90%  530.03ms
        99%  621.42ms
        40000 requests in 1.02m, 23.16MB read
        Requests/sec:    655.74
        Transfer/sec:    388.70KB
        ------------------------------
        stop time: 36.250189
        stop time: 36.425537
        stop time: 36.435114
        stop time: 36.566667
        stop time: 36.749029
        stop time: 36.586200
        stop time: 36.713608
        stop time: 36.805320
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [36.250189, 36.425537, 36.435114, 36.566667, 36.749029, 36.5862, 36.713608, 36.80532]
    [exp] Throughput: 1093.8986762130476
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   363.36ms   62.54ms 668.91ms   79.50%
        Req/Sec   176.99     57.11   313.00     72.32%
        Latency Distribution
        50%  352.11ms
        75%  383.21ms
        90%  432.42ms
        99%  596.08ms
        3991 requests in 3.04s, 2.31MB read
        Requests/sec:   1312.61
        Transfer/sec:    778.08KB
        [run.sh] Speed is 1312.61, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-h6dxm        512m         40Mi
        service1-5469878b5-mf2gv         415m         16Mi
        service2-5bdcbcdf45-nmzt6        258m         9Mi
        ubuntu-client-76886f6bbd-76nk9   19m          0Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   369.52ms   52.23ms 863.41ms   76.69%
        Req/Sec   173.37     46.91   424.00     69.83%
        Latency Distribution
        50%  365.11ms
        75%  396.85ms
        90%  428.25ms
        99%  510.41ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 28.746378
        stop time: 28.847204
        stop time: 28.905216
        stop time: 29.135974
        stop time: 29.142585
        stop time: 29.126728
        stop time: 29.146075
        stop time: 29.318554
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.746378, 28.847204, 28.905216, 29.135974, 29.142585, 29.126728, 29.146075, 29.318554]
    [exp] Throughput: 1377.1217066683082
[test.py] Baseline throughput:  1811.4249765910117
[test.py] Groundtruth:  [2236.086189522909, 2190.3169101089834]
[test.py] Slowdown:  [1093.8986762130476, 1377.1217066683082]
[test.py] Predicted:  [2101.452008772722, 1972.9616214449684]
[test.py] Error percentage:  [-6.020974566231398, -9.923463023129383]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1811.4249765910117
    Groundtruth: [2236.086189522909, 2190.3169101089834]
    Slowdown:    [1093.8986762130476, 1377.1217066683082]
    Predicted:   [2101.452008772722, 1972.9616214449684]
    Error Perc:  [-6.020974566231398, -9.923463023129383]
