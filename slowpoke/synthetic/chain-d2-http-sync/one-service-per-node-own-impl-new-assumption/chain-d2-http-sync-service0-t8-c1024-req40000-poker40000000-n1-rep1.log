[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 1024
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   513.31ms  126.50ms   1.09s    87.20%
        Req/Sec   263.46    102.27   505.00     68.75%
        Latency Distribution
        50%  468.27ms
        75%  509.89ms
        90%  714.18ms
        99%  979.53ms
        5578 requests in 3.03s, 3.23MB read
        Requests/sec:   1838.91
        Transfer/sec:      1.06MB
        [run.sh] Speed is 1838.91, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   460.15ms  110.84ms   1.73s    92.67%
        Req/Sec   278.54     78.78   560.00     73.17%
        Latency Distribution
        50%  449.21ms
        75%  471.88ms
        90%  505.01ms
        99%  918.32ms
        40000 requests in 32.00s, 23.16MB read
        Requests/sec:   1249.99
        Transfer/sec:    740.96KB
        ------------------------------
        stop time: 18.075522
        stop time: 18.151529
        stop time: 18.247796
        stop time: 18.237105
        stop time: 18.254717
        stop time: 18.216166
        stop time: 18.191146
        stop time: 18.214314
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-5jsps        500m         82Mi
        service1-76dc8bbc57-7smv6        258m         15Mi
        service2-65c58f846f-qfn8z        256m         8Mi
        ubuntu-client-76886f6bbd-g6c8s   31m          17Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.075522, 18.151529, 18.247796, 18.237105, 18.254717, 18.216166, 18.191146, 18.214314]
    [exp] Throughput: 2197.9788965864323
[test.py] Baseline throughput: 2197.9788965864323
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     0.00us    0.00us   0.00us    -nan%
        Req/Sec     0.00      0.00     0.00      -nan%
        Latency Distribution
        50%    0.00us
        75%    0.00us
        90%    0.00us
        99%    0.00us
        0 requests in 3.03s, 0.00B read
        Requests/sec:      0.00
        Transfer/sec:       0.00B
        [run.sh] Speed is 0.00, duration is
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -ds -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Usage: wrk <options> <url>
        Options:
        -c, --connections <N>  Connections to keep open
        -d, --duration    <T>  Duration of test
        -t, --threads     <N>  Number of threads to use
        
        -s, --script      <S>  Load Lua script file
        -H, --header      <H>  Add header to request
        --latency          Print latency statistics
        --timeout     <T>  Socket/request timeout
        -v, --version          Print version details
        
        Numeric arguments may include a SI unit (1k, 1M, 1G)
        Time arguments may include a time unit (2s, 2m, 2h)
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > Runtime error (func=(main), adr=19): Divide by zero
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Error running bash run.sh synthetic chain-d2-http-sync 8 1024 40000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   357.59ms   47.04ms 557.34ms   86.27%
        Req/Sec   345.79     86.87   520.00     69.83%
        Latency Distribution
        50%  360.10ms
        75%  376.79ms
        90%  396.85ms
        99%  472.64ms
        8093 requests in 3.03s, 4.68MB read
        Requests/sec:   2673.25
        Transfer/sec:      1.55MB
        [run.sh] Speed is 2673.25, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   357.76ms   42.88ms 583.29ms   85.62%
        Req/Sec   355.16     84.69     0.97k    75.78%
        Latency Distribution
        50%  355.55ms
        75%  376.33ms
        90%  402.44ms
        99%  458.58ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 13.957950
        stop time: 14.116433
        stop time: 14.107765
        stop time: 14.220989
        stop time: 14.261172
        stop time: 14.255847
        stop time: 14.298016
        stop time: 14.287831
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-49pfh        126m         71Mi
        service1-76dc8bbc57-55kgm        1147m        17Mi
        service2-65c58f846f-8vrn9        71m          10Mi
        ubuntu-client-76886f6bbd-ppslx   20m          17Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.95795, 14.116433, 14.107765, 14.220989, 14.261172, 14.255847, 14.298016, 14.287831]
    [exp] Throughput: 2819.2341509902344
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   886.32ms  175.87ms   1.45s    78.29%
        Req/Sec   132.90     65.43   313.00     66.97%
        Latency Distribution
        50%  909.52ms
        75%  967.80ms
        90%    1.05s
        99%    1.31s
        2916 requests in 3.04s, 1.69MB read
        Requests/sec:    960.00
        Transfer/sec:    569.06KB
        [run.sh] Speed is 960.00, duration is 62
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d62s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   887.12ms   99.59ms   1.60s    82.42%
        Req/Sec   143.75     48.49   333.00     69.76%
        Latency Distribution
        50%  886.32ms
        75%  938.06ms
        90%  987.29ms
        99%    1.09s
        40001 requests in 1.03m, 23.16MB read
        Requests/sec:    645.18
        Transfer/sec:    382.44KB
        ------------------------------
        stop time: 34.630897
        stop time: 34.903008
        stop time: 34.952978
        stop time: 35.082846
        stop time: 35.171157
        stop time: 35.305332
        stop time: 35.296849
        stop time: 35.429921
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [34.630897, 34.903008, 34.952978, 35.082846, 35.171157, 35.305332, 35.296849, 35.429921]
    [exp] Throughput: 1139.7107758813322
[test.py] Baseline throughput:  2197.9788965864323
[test.py] Groundtruth:  [2819.2341509902344]
[test.py] Slowdown:  [1139.7107758813322]
[test.py] Predicted:  [1854.8897920707961]
[test.py] Error percentage:  [-34.205898030169635]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2197.9788965864323
    Groundtruth: [2819.2341509902344]
    Slowdown:    [1139.7107758813322]
    Predicted:   [1854.8897920707961]
    Error Perc:  [-34.205898030169635]
