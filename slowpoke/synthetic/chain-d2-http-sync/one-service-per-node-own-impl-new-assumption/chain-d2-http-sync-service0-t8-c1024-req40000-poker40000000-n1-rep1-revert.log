[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 1024
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   495.58ms  106.85ms   1.02s    88.29%
        Req/Sec   268.24     77.93   470.00     81.31%
        Latency Distribution
        50%  459.77ms
        75%  495.35ms
        90%  625.19ms
        99%  940.34ms
        5749 requests in 3.04s, 3.33MB read
        Requests/sec:   1894.10
        Transfer/sec:      1.10MB
        [run.sh] Speed is 1894.10, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 31s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   460.78ms   68.77ms   1.50s    92.61%
        Req/Sec   277.39     67.96   580.00     72.83%
        Latency Distribution
        50%  452.96ms
        75%  476.37ms
        90%  504.05ms
        99%  749.36ms
        40000 requests in 31.00s, 23.16MB read
        Requests/sec:   1290.32
        Transfer/sec:    764.86KB
        ------------------------------
        stop time: 18.006184
        stop time: 17.955129
        stop time: 18.086664
        stop time: 18.261677
        stop time: 18.342143
        stop time: 18.341066
        stop time: 18.382304
        stop time: 18.378284
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-hx44q        616m         76Mi
        service1-76dc8bbc57-dv2ls        141m         16Mi
        service2-65c58f846f-7wsg7        264m         9Mi
        ubuntu-client-76886f6bbd-lh5d5   11m          18Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.006184, 17.955129, 18.086664, 18.261677, 18.342143, 18.341066, 18.382304, 18.378284]
    [exp] Throughput: 2195.4883250071384
[test.py] Baseline throughput: 2195.4883250071384
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   353.60ms   49.31ms 495.52ms   85.61%
        Req/Sec   344.96     87.47   565.00     78.06%
        Latency Distribution
        50%  356.75ms
        75%  376.98ms
        90%  399.08ms
        99%  456.23ms
        8164 requests in 3.03s, 4.73MB read
        Requests/sec:   2691.76
        Transfer/sec:      1.56MB
        [run.sh] Speed is 2691.76, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   355.99ms   41.20ms 567.47ms   85.80%
        Req/Sec   356.54     62.78   727.00     69.79%
        Latency Distribution
        50%  354.25ms
        75%  373.87ms
        90%  398.49ms
        99%  453.04ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 14.061110
        stop time: 13.997581
        stop time: 14.078166
        stop time: 14.094835
        stop time: 14.132160
        stop time: 14.163069
        stop time: 14.165283
        stop time: 14.183737
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-bd645        4m           72Mi
        service1-76dc8bbc57-kzb92        1m           16Mi
        service2-65c58f846f-85jb5        1m           9Mi
        ubuntu-client-76886f6bbd-w9szk   2m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.06111, 13.997581, 14.078166, 14.094835, 14.13216, 14.163069, 14.165283, 14.183737]
    [exp] Throughput: 2834.9708287260264
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 1024 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   761.36ms  128.24ms   1.28s    80.92%
        Req/Sec   167.51     84.78   430.00     70.53%
        Latency Distribution
        50%  734.21ms
        75%  788.55ms
        90%  942.46ms
        99%    1.17s
        3495 requests in 3.03s, 2.02MB read
        Requests/sec:   1152.14
        Transfer/sec:    682.96KB
        [run.sh] Speed is 1152.14, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d52s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-srfwh        126m         84Mi
        service1-85d68db775-h29fp        478m         17Mi
        service2-7bc7f7f6b7-n82tn        105m         11Mi
        ubuntu-client-76886f6bbd-cfxqm   18m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   759.31ms   73.17ms   1.43s    76.53%
        Req/Sec   168.00     53.52   393.00     69.20%
        Latency Distribution
        50%  754.08ms
        75%  797.80ms
        90%  849.75ms
        99%  921.34ms
        40000 requests in 0.87m, 23.16MB read
        Requests/sec:    769.23
        Transfer/sec:    455.98KB
        ------------------------------
        stop time: 29.831127
        stop time: 29.929485
        stop time: 30.094529
        stop time: 30.023958
        stop time: 30.159623
        stop time: 30.154868
        stop time: 30.261524
        stop time: 30.341190
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.831127, 29.929485, 30.094529, 30.023958, 30.159623, 30.154868, 30.261524, 30.34119]
    [exp] Throughput: 1328.9240519239863
[test.py] Baseline throughput:  2195.4883250071384
[test.py] Groundtruth:  [2834.9708287260264]
[test.py] Slowdown:  [1328.9240519239863]
[test.py] Predicted:  [2414.359936883802]
[test.py] Error percentage:  [-14.836515691106335]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2195.4883250071384
    Groundtruth: [2834.9708287260264]
    Slowdown:    [1328.9240519239863]
    Predicted:   [2414.359936883802]
    Error Perc:  [-14.836515691106335]
