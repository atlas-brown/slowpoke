[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   244.42ms   56.80ms 503.81ms   86.99%
        Req/Sec   269.17     68.19   414.00     76.34%
        Latency Distribution
        50%  228.60ms
        75%  252.62ms
        90%  305.49ms
        99%  470.11ms
        6055 requests in 3.03s, 3.51MB read
        Requests/sec:   2000.49
        Transfer/sec:      1.16MB
        [run.sh] Speed is 2000.49, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   227.57ms   45.64ms 765.48ms   87.39%
        Req/Sec   280.93     55.61   450.00     71.98%
        Latency Distribution
        50%  221.44ms
        75%  240.47ms
        90%  265.82ms
        99%  407.43ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.672668
        stop time: 17.840070
        stop time: 17.895791
        stop time: 17.897971
        stop time: 17.949149
        stop time: 18.010090
        stop time: 17.995439
        stop time: 17.951930
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-vtvtc        592m         44Mi
        service1-76dc8bbc57-f9qvr        468m         15Mi
        service2-65c58f846f-kdc8c        88m          9Mi
        ubuntu-client-76886f6bbd-wmt6f   26m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.672668, 17.84007, 17.895791, 17.897971, 17.949149, 18.01009, 17.995439, 17.95193]
    [exp] Throughput: 2234.4323398106826
[test.py] Baseline throughput: 2234.4323398106826
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   185.93ms   32.00ms 350.85ms   73.90%
        Req/Sec   334.80     79.49   500.00     83.75%
        Latency Distribution
        50%  179.32ms
        75%  200.81ms
        90%  232.69ms
        99%  283.00ms
        8000 requests in 3.02s, 4.63MB read
        Requests/sec:   2649.72
        Transfer/sec:      1.53MB
        [run.sh] Speed is 2649.72, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.45ms   26.21ms 340.30ms   77.45%
        Req/Sec   354.00     53.25   640.00     72.19%
        Latency Distribution
        50%  177.26ms
        75%  192.85ms
        90%  212.26ms
        99%  257.64ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 14.108892
        stop time: 14.101514
        stop time: 14.227214
        stop time: 14.191609
        stop time: 14.204030
        stop time: 14.259598
        stop time: 14.253911
        stop time: 14.272131
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-864gh        43m          39Mi
        service1-76dc8bbc57-2nfjb        1m           16Mi
        service2-65c58f846f-fckr9        297m         10Mi
        ubuntu-client-76886f6bbd-fss97   1m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.108892, 14.101514, 14.227214, 14.191609, 14.20403, 14.259598, 14.253911, 14.272131]
    [exp] Throughput: 2816.4328541856403
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   386.80ms   74.07ms 827.69ms   78.74%
        Req/Sec   160.06     57.99   310.00     68.10%
        Latency Distribution
        50%  380.15ms
        75%  420.03ms
        90%  466.89ms
        99%  605.92ms
        3725 requests in 3.02s, 2.16MB read
        Requests/sec:   1232.04
        Transfer/sec:    730.32KB
        [run.sh] Speed is 1232.04, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-vnbjt        402m         45Mi
        service1-85d68db775-ql9pw        33m          15Mi
        service2-7bc7f7f6b7-qpjs4        157m         11Mi
        ubuntu-client-76886f6bbd-xxqxq   12m          10Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   382.05ms   51.33ms 721.55ms   72.35%
        Req/Sec   167.59     47.08   353.00     69.86%
        Latency Distribution
        50%  376.70ms
        75%  413.27ms
        90%  449.92ms
        99%  501.64ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 29.815463
        stop time: 29.833470
        stop time: 29.984050
        stop time: 29.987927
        stop time: 30.080057
        stop time: 30.087805
        stop time: 30.220122
        stop time: 30.318417
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.815463, 29.83347, 29.98405, 29.987927, 30.080057, 30.087805, 30.220122, 30.318417]
    [exp] Throughput: 1331.517415430159
[test.py] Baseline throughput:  2234.4323398106826
[test.py] Groundtruth:  [2816.4328541856403]
[test.py] Slowdown:  [1331.517415430159]
[test.py] Predicted:  [2422.933471145751]
[test.py] Error percentage:  [-13.971552080678595]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2234.4323398106826
    Groundtruth: [2816.4328541856403]
    Slowdown:    [1331.517415430159]
    Predicted:   [2422.933471145751]
    Error Perc:  [-13.971552080678595]
