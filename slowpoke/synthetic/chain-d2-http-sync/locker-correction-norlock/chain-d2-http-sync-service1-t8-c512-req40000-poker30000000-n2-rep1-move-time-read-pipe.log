[config.py] Random numbers for execution time: [652.4185451586567, 724.4164304797239, 901.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 901.5, 'service1': 724.42, 'service2': 652.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 724.42]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 362]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   306.60ms   69.79ms 654.24ms   88.50%
        Req/Sec   216.50     67.57   414.00     71.76%
        Latency Distribution
        50%  287.52ms
        75%  311.83ms
        90%  374.99ms
        99%  596.26ms
        4740 requests in 3.03s, 2.74MB read
        Requests/sec:   1566.09
        Transfer/sec:      0.91MB
        [run.sh] Speed is 1566.09, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-cmnmw        430m         43Mi
        service1-69bf8b98cb-z6n78        1016m        16Mi
        service2-54d57f45b4-dszlh        1168m        10Mi
        ubuntu-client-76886f6bbd-csj6j   38m          12Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   289.96ms   64.59ms   1.22s    90.17%
        Req/Sec   221.06     53.16   545.00     73.80%
        Latency Distribution
        50%  282.05ms
        75%  305.07ms
        90%  337.32ms
        99%  579.31ms
        40000 requests in 38.00s, 23.16MB read
        Requests/sec:   1052.63
        Transfer/sec:    623.97KB
        ------------------------------
        stop time: 22.519997
        stop time: 22.708111
        stop time: 22.436649
        stop time: 22.832799
        stop time: 22.852706
        stop time: 22.974010
        stop time: 22.941723
        stop time: 22.858248
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.519997, 22.708111, 22.436649, 22.832799, 22.852706, 22.97401, 22.941723, 22.858248]
    [exp] Throughput: 1757.0423065533346
[test.py] Baseline throughput: 1757.0423065533346
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   315.35ms   79.53ms 921.97ms   88.56%
        Req/Sec   201.60     66.83   383.00     77.06%
        Latency Distribution
        50%  294.05ms
        75%  333.73ms
        90%  389.63ms
        99%  664.11ms
        4660 requests in 3.03s, 2.70MB read
        Requests/sec:   1539.65
        Transfer/sec:      0.89MB
        [run.sh] Speed is 1539.65, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-bzbfg        204m         41Mi
        service1-69bf8b98cb-md4nm        145m         13Mi
        service2-54d57f45b4-5mxk4        388m         10Mi
        ubuntu-client-76886f6bbd-bckvd   21m          0Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   288.12ms   50.48ms 954.22ms   87.69%
        Req/Sec   222.22     48.08   480.00     72.21%
        Latency Distribution
        50%  282.07ms
        75%  302.83ms
        90%  330.16ms
        99%  455.28ms
        40000 requests in 38.00s, 23.16MB read
        Requests/sec:   1052.63
        Transfer/sec:    623.97KB
        ------------------------------
        stop time: 22.386762
        stop time: 22.514258
        stop time: 22.575226
        stop time: 22.603939
        stop time: 22.715186
        stop time: 22.742526
        stop time: 22.774302
        stop time: 22.799730
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.386762, 22.514258, 22.575226, 22.603939, 22.715186, 22.742526, 22.774302, 22.79973]
    [exp] Throughput: 1766.8631865767381
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.000362', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   310.67ms  136.01ms   1.03s    88.01%
        Req/Sec   205.50     55.27   340.00     71.55%
        Latency Distribution
        50%  275.41ms
        75%  305.44ms
        90%  423.26ms
        99%  931.34ms
        4810 requests in 3.03s, 2.78MB read
        Requests/sec:   1585.03
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1585.03, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-rqkbt        1936m        41Mi
        service1-69bf8b98cb-bkxf7        1028m        15Mi
        service2-54d57f45b4-jmcv6        1341m        10Mi
        ubuntu-client-76886f6bbd-m6n47   57m          11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   286.95ms   51.51ms 936.46ms   88.19%
        Req/Sec   223.46     49.58   540.00     73.83%
        Latency Distribution
        50%  280.95ms
        75%  301.63ms
        90%  329.20ms
        99%  447.28ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.421722
        stop time: 22.272445
        stop time: 22.440182
        stop time: 22.611624
        stop time: 22.655070
        stop time: 22.644206
        stop time: 22.625320
        stop time: 22.587744
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.421722, 22.272445, 22.440182, 22.611624, 22.65507, 22.644206, 22.62532, 22.587744]
    [exp] Throughput: 1775.2301942379768
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '362.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '362.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.24ms  263.63ms   1.57s    74.97%
        Req/Sec   126.76     57.24   270.00     70.85%
        Latency Distribution
        50%  336.76ms
        75%  641.63ms
        90%  907.93ms
        99%    1.14s
        2869 requests in 3.03s, 1.66MB read
        Requests/sec:    946.48
        Transfer/sec:    561.05KB
        [run.sh] Speed is 946.48, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service1-69bf8b98cb-gfcmj        328m         15Mi
        service2-7bbddb4545-hwzkd        245m         11Mi
        ubuntu-client-76886f6bbd-82cvp   17m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   484.81ms  354.60ms   2.87s    71.94%
        Req/Sec   133.69     57.57   505.00     70.36%
        Latency Distribution
        50%  374.93ms
        75%  677.29ms
        90%    1.00s
        99%    1.52s
        40000 requests in 1.05m, 23.16MB read
        Requests/sec:    634.92
        Transfer/sec:    376.36KB
        ------------------------------
        stop time: 37.841756
        stop time: 37.995582
        stop time: 38.149910
        stop time: 38.059766
        stop time: 37.742672
        stop time: 37.876308
        stop time: 37.502874
        stop time: 37.253400
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.841756, 37.995582, 38.14991, 38.059766, 37.742672, 37.876308, 37.502874, 37.2534]
    [exp] Throughput: 1058.1231405883116
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '181.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '181.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   395.16ms  155.96ms   1.15s    73.94%
        Req/Sec   164.32     65.10   323.00     67.89%
        Latency Distribution
        50%  343.97ms
        75%  471.48ms
        90%  617.96ms
        99%  898.43ms
        3640 requests in 3.02s, 2.11MB read
        Requests/sec:   1204.21
        Transfer/sec:    713.82KB
        [run.sh] Speed is 1204.21, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d49s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-797d4b5d9b-n4v5h        482m         40Mi
        service1-69bf8b98cb-jlck4        396m         15Mi
        service2-6b8b496b8-mr7bg         319m         9Mi
        ubuntu-client-76886f6bbd-2zt2f   19m          0Mi
        Running 49s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   384.35ms  179.54ms   2.04s    82.73%
        Req/Sec   167.13     56.88   520.00     70.40%
        Latency Distribution
        50%  337.66ms
        75%  420.23ms
        90%  611.43ms
        99%    1.05s
        40000 requests in 49.00s, 23.16MB read
        Requests/sec:    816.32
        Transfer/sec:    483.90KB
        ------------------------------
        stop time: 29.884687
        stop time: 29.928142
        stop time: 29.674323
        stop time: 30.129837
        stop time: 30.226875
        stop time: 30.268865
        stop time: 30.254258
        stop time: 30.366693
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.884687, 29.928142, 29.674323, 30.129837, 30.226875, 30.268865, 30.254258, 30.366693]
    [exp] Throughput: 1329.2697556901885
[test.py] Baseline throughput:  1757.0423065533346
[test.py] Groundtruth:  [1766.8631865767381, 1775.2301942379768]
[test.py] Slowdown:  [1058.1231405883116, 1329.2697556901885]
[test.py] Predicted:  [1715.6790785396495, 1751.0597194539669]
[test.py] Error percentage:  [-2.896891418981729, -1.361540315304583]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1757.0423065533346
    Groundtruth: [1766.8631865767381, 1775.2301942379768]
    Slowdown:    [1058.1231405883116, 1329.2697556901885]
    Predicted:   [1715.6790785396495, 1751.0597194539669]
    Error Perc:  [-2.896891418981729, -1.361540315304583]
