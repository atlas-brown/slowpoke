[config.py] Random numbers for execution time: [652.4185451586567, 724.4164304797239, 901.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 901.5, 'service1': 724.42, 'service2': 652.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 724.42]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 362]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   330.88ms  127.10ms   1.11s    88.49%
        Req/Sec   192.38     67.09   353.00     74.57%
        Latency Distribution
        50%  300.84ms
        75%  346.60ms
        90%  428.43ms
        99%  942.66ms
        4457 requests in 3.02s, 2.18MB read
        Requests/sec:   1477.05
        Transfer/sec:    740.13KB
        [run.sh] Speed is 1477.05, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d54s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.50ms   87.71ms   1.61s    89.41%
        Req/Sec   212.73     52.44   540.00     72.13%
        Latency Distribution
        50%  289.88ms
        75%  322.60ms
        90%  365.84ms
        99%  542.30ms
        40000 requests in 0.90m, 19.57MB read
        Requests/sec:    740.74
        Transfer/sec:    371.10KB
        ------------------------------
        stop time: 23.258118
        stop time: 23.357232
        stop time: 23.494902
        stop time: 23.663985
        stop time: 23.814825
        stop time: 23.885207
        stop time: 23.875179
        stop time: 23.930343
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [23.258118, 23.357232, 23.494902, 23.663985, 23.814825, 23.885207, 23.875179, 23.930343]
    [exp] Throughput: 1690.6189419873144
[test.py] Baseline throughput: 1690.6189419873144
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5f7bfff576-4w7rn cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   341.37ms  199.72ms   1.54s    91.29%
        Req/Sec   193.69     56.39   353.00     76.72%
        Latency Distribution
        50%  283.20ms
        75%  334.29ms
        90%  490.90ms
        99%    1.23s
        4488 requests in 3.03s, 2.20MB read
        Requests/sec:   1480.68
        Transfer/sec:    741.78KB
        [run.sh] Speed is 1480.68, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d54s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-4w7rn        548m         44Mi
        service1-96558989f-4mhj4         277m         15Mi
        service2-b9b68cb9d-csqqb         421m         11Mi
        ubuntu-client-76886f6bbd-v7mpp   29m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.42ms   96.81ms   1.75s    90.29%
        Req/Sec   212.56     48.01   515.00     71.69%
        Latency Distribution
        50%  284.92ms
        75%  319.66ms
        90%  369.65ms
        99%  624.56ms
        40000 requests in 0.90m, 19.57MB read
        Requests/sec:    740.74
        Transfer/sec:    371.10KB
        ------------------------------
        stop time: 23.392798
        stop time: 23.617127
        stop time: 23.691042
        stop time: 23.734976
        stop time: 23.739185
        stop time: 23.653510
        stop time: 23.635809
        stop time: 23.671135
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [23.392798, 23.617127, 23.691042, 23.734976, 23.739185, 23.65351, 23.635809, 23.671135]
    [exp] Throughput: 1691.907977421192
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.000362', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   319.93ms   88.88ms   1.03s    84.68%
        Req/Sec   201.53     55.70   343.00     75.45%
        Latency Distribution
        50%  298.05ms
        75%  344.45ms
        90%  420.26ms
        99%  737.99ms
        4562 requests in 3.03s, 2.23MB read
        Requests/sec:   1507.16
        Transfer/sec:    755.38KB
        [run.sh] Speed is 1507.16, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d53s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-xlm2c        1567m        49Mi
        service1-96558989f-b7wzj         996m         16Mi
        service2-b9b68cb9d-wznhw         921m         10Mi
        ubuntu-client-76886f6bbd-b5f8z   38m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.46ms  110.09ms   1.63s    89.12%
        Req/Sec   213.45     54.82   525.00     73.65%
        Latency Distribution
        50%  287.15ms
        75%  322.77ms
        90%  370.52ms
        99%  728.59ms
        40000 requests in 0.88m, 19.57MB read
        Requests/sec:    754.71
        Transfer/sec:    378.10KB
        ------------------------------
        stop time: 23.282668
        stop time: 23.425117
        stop time: 23.227937
        stop time: 23.564412
        stop time: 23.610585
        stop time: 23.802722
        stop time: 23.905446
        stop time: 23.884852
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.282668, 23.425117, 23.227937, 23.564412, 23.610585, 23.802722, 23.905446, 23.884852]
    [exp] Throughput: 1695.779859454719
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '362.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '36199990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '362.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '36199990'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-6676469846-cjdbf cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.86ms  158.42ms   1.28s    78.41%
        Req/Sec   121.89     57.84   300.00     67.51%
        Latency Distribution
        50%  463.53ms
        75%  545.97ms
        90%  693.98ms
        99%  982.55ms
        2899 requests in 3.02s, 1.42MB read
        Requests/sec:    959.83
        Transfer/sec:    481.35KB
        [run.sh] Speed is 959.83, duration is 83
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d83s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6676469846-cjdbf        1230m        50Mi
        service1-96558989f-db8rg         1172m        19Mi
        service2-8457bcb5c6-4nnhg        870m         13Mi
        ubuntu-client-76886f6bbd-k7mww   55m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   474.66ms  116.50ms   1.99s    83.58%
        Req/Sec   135.25     50.42   454.00     73.84%
        Latency Distribution
        50%  460.56ms
        75%  516.97ms
        90%  586.60ms
        99%  875.12ms
        40000 requests in 1.38m, 19.58MB read
        Requests/sec:    481.93
        Transfer/sec:    241.61KB
        ------------------------------
        stop time: 36.713850
        stop time: 36.797208
        stop time: 37.068201
        stop time: 37.212290
        stop time: 37.538645
        stop time: 37.533478
        stop time: 37.596646
        stop time: 37.709550
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [36.71385, 36.797208, 37.068201, 37.21229, 37.538645, 37.533478, 37.596646, 37.70955]
    [exp] Throughput: 1073.213742711252
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '181.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '18099990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '181.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '18099990'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5f67f8dbdd-frmsc cannot connect to service1
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   410.91ms  204.36ms   1.45s    79.74%
        Req/Sec   147.00     57.58   310.00     73.53%
        Latency Distribution
        50%  372.02ms
        75%  446.98ms
        90%  629.33ms
        99%    1.23s
        3499 requests in 3.02s, 1.72MB read
        Requests/sec:   1159.66
        Transfer/sec:    584.91KB
        [run.sh] Speed is 1159.66, duration is 68
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d68s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f67f8dbdd-frmsc        441m         44Mi
        service1-96558989f-ngxwt         334m         17Mi
        service2-6b9fd5d4f8-tsdsb        189m         12Mi
        ubuntu-client-76886f6bbd-hvv2j   24m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   384.30ms  144.45ms   2.16s    88.73%
        Req/Sec   167.48     59.06   550.00     69.95%
        Latency Distribution
        50%  363.78ms
        75%  417.69ms
        90%  489.46ms
        99%  935.44ms
        40001 requests in 1.13m, 19.58MB read
        Requests/sec:    588.25
        Transfer/sec:    294.83KB
        ------------------------------
        stop time: 29.449228
        stop time: 29.522551
        stop time: 29.787711
        stop time: 30.264690
        stop time: 30.437089
        stop time: 30.449305
        stop time: 30.324787
        stop time: 30.121271
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [29.449228, 29.522551, 29.787711, 30.26469, 30.437089, 30.449305, 30.324787, 30.121271]
    [exp] Throughput: 1331.3549842053037
[test.py] Baseline throughput:  1690.6189419873144
[test.py] Groundtruth:  [1691.907977421192, 1695.779859454719]
[test.py] Slowdown:  [1073.213742711252, 1331.3549842053037]
[test.py] Predicted:  [1755.7078666268615, 1754.680027736227]
[test.py] Error percentage:  [3.7708841176405614, 3.4733381195155553]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1690.6189419873144
    Groundtruth: [1691.907977421192, 1695.779859454719]
    Slowdown:    [1073.213742711252, 1331.3549842053037]
    Predicted:   [1755.7078666268615, 1754.680027736227]
    Error Perc:  [3.7708841176405614, 3.4733381195155553]
