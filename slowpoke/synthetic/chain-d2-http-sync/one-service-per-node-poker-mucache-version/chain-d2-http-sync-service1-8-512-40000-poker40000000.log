[config.py] Random numbers for execution time: [452.4185451586567, 524.4164304797239, 701.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 701.5, 'service1': 524.42, 'service2': 452.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 524.42]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 262]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   239.64ms  110.99ms 776.12ms   81.66%
        Req/Sec   269.65     74.99   460.00     68.97%
        Latency Distribution
        50%  213.70ms
        75%  264.16ms
        90%  374.79ms
        99%  680.96ms
        6305 requests in 3.02s, 3.65MB read
        Requests/sec:   2088.79
        Transfer/sec:      1.21MB
        [run.sh] Speed is 2088.79, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   232.19ms  101.48ms   1.16s    86.29%
        Req/Sec   278.46     65.93   515.00     68.85%
        Latency Distribution
        50%  212.23ms
        75%  255.09ms
        90%  320.07ms
        99%  680.92ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.81KB
        ------------------------------
        stop time: 18.206100
        stop time: 17.995699
        stop time: 18.055012
        stop time: 17.934548
        stop time: 17.897573
        stop time: 18.027005
        stop time: 18.175557
        stop time: 18.201132
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-4rl9p        799m         45Mi
        service1-b4658cd9f-q5qz4         67m          14Mi
        service2-554c5f44f7-5n7pq        170m         9Mi
        ubuntu-client-76886f6bbd-7drn8   15m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.2061, 17.995699, 18.055012, 17.934548, 17.897573, 18.027005, 18.175557, 18.201132]
    [exp] Throughput: 2214.645887880811
[test.py] Baseline throughput: 2214.645887880811
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   243.02ms  129.39ms 982.72ms   74.56%
        Req/Sec   262.75     94.49   480.00     67.67%
        Latency Distribution
        50%  217.77ms
        75%  304.62ms
        90%  413.54ms
        99%  719.82ms
        6158 requests in 3.04s, 3.56MB read
        Requests/sec:   2026.70
        Transfer/sec:      1.17MB
        [run.sh] Speed is 2026.70, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   230.48ms  111.50ms   1.27s    81.41%
        Req/Sec   279.30     82.93   550.00     68.25%
        Latency Distribution
        50%  205.69ms
        75%  262.30ms
        90%  360.09ms
        99%  683.89ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.937754
        stop time: 17.998473
        stop time: 18.172469
        stop time: 17.963618
        stop time: 18.036979
        stop time: 18.075177
        stop time: 18.147284
        stop time: 17.911129
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.937754, 17.998473, 18.172469, 17.963618, 18.036979, 18.075177, 18.147284, 17.911129]
    [exp] Throughput: 2218.4803391651567
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.000262', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   251.76ms  150.15ms   1.09s    85.21%
        Req/Sec   273.09    102.73   520.00     70.09%
        Latency Distribution
        50%  210.81ms
        75%  288.18ms
        90%  411.75ms
        99%  849.19ms
        6218 requests in 3.03s, 3.60MB read
        Requests/sec:   2050.83
        Transfer/sec:      1.19MB
        [run.sh] Speed is 2050.83, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   246.24ms  141.18ms   1.54s    85.79%
        Req/Sec   265.43     84.72   590.00     69.73%
        Latency Distribution
        50%  212.73ms
        75%  282.20ms
        90%  385.31ms
        99%  815.14ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 19.075427
        stop time: 19.025232
        stop time: 18.828960
        stop time: 18.840831
        stop time: 19.029608
        stop time: 18.863762
        stop time: 19.036227
        stop time: 19.068560
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-7xd4r        1552m        45Mi
        service1-b4658cd9f-4sn86         340m         15Mi
        service2-554c5f44f7-cshz6        607m         10Mi
        ubuntu-client-76886f6bbd-9lnf8   38m          14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.075427, 19.025232, 18.82896, 18.840831, 19.029608, 18.863762, 19.036227, 19.06856]
    [exp] Throughput: 2108.4729334044687
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '262.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.94ms  135.48ms   1.27s    82.98%
        Req/Sec   175.84     62.56   310.00     71.75%
        Latency Distribution
        50%  330.94ms
        75%  417.97ms
        90%  519.68ms
        99%  892.25ms
        3992 requests in 3.03s, 2.31MB read
        Requests/sec:   1316.51
        Transfer/sec:    780.39KB
        [run.sh] Speed is 1316.51, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   362.43ms  117.88ms   1.30s    77.19%
        Req/Sec   176.53     58.51   420.00     71.01%
        Latency Distribution
        50%  339.01ms
        75%  412.34ms
        90%  504.63ms
        99%  783.43ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 28.336740
        stop time: 28.329095
        stop time: 28.451748
        stop time: 28.637723
        stop time: 28.609289
        stop time: 28.612896
        stop time: 28.686582
        stop time: 28.399185
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [28.33674, 28.329095, 28.451748, 28.637723, 28.609289, 28.612896, 28.686582, 28.399185]
    [exp] Throughput: 1403.1194801224844
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '131.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '131.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   299.61ms  103.63ms 767.63ms   76.52%
        Req/Sec   216.53     73.45   370.00     66.52%
        Latency Distribution
        50%  275.66ms
        75%  330.73ms
        90%  441.46ms
        99%  649.30ms
        4865 requests in 3.03s, 2.82MB read
        Requests/sec:   1605.76
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1605.76, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6d676f988-wnzqk         265m         45Mi
        service1-b4658cd9f-sgskr         400m         14Mi
        service2-7d44f6df64-cvsmw        115m         11Mi
        ubuntu-client-76886f6bbd-mlmd4   12m          11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.92ms  115.64ms   1.26s    81.62%
        Req/Sec   215.14     66.55   470.00     70.34%
        Latency Distribution
        50%  272.51ms
        75%  333.90ms
        90%  431.58ms
        99%  738.47ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 23.194489
        stop time: 23.442718
        stop time: 23.517806
        stop time: 23.366538
        stop time: 23.434300
        stop time: 23.351529
        stop time: 23.358298
        stop time: 23.308180
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.194489, 23.442718, 23.517806, 23.366538, 23.4343, 23.351529, 23.358298, 23.30818]
    [exp] Throughput: 1711.4692044274982
[test.py] Baseline throughput:  2214.645887880811
[test.py] Groundtruth:  [2218.4803391651567, 2108.4729334044687]
[test.py] Slowdown:  [1403.1194801224844, 1711.4692044274982]
[test.py] Predicted:  [2219.8165268919884, 2207.099635333342]
[test.py] Error percentage:  [0.06022986560856755, 4.677636613984168]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2214.645887880811
    Groundtruth: [2218.4803391651567, 2108.4729334044687]
    Slowdown:    [1403.1194801224844, 1711.4692044274982]
    Predicted:   [2219.8165268919884, 2207.099635333342]
    Error Perc:  [0.06022986560856755, 4.677636613984168]
