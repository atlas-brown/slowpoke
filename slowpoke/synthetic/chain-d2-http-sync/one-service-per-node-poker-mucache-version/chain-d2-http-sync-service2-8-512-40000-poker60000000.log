[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 60000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   378.36ms  132.24ms 887.62ms   76.86%
        Req/Sec   158.64     64.97   340.00     67.78%
        Latency Distribution
        50%  343.02ms
        75%  443.90ms
        90%  551.63ms
        99%  763.28ms
        3783 requests in 3.02s, 2.19MB read
        Requests/sec:   1250.78
        Transfer/sec:    741.43KB
        [run.sh] Speed is 1250.78, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-qkwpr        1952m        46Mi
        service1-b4658cd9f-gvkb4         1318m        16Mi
        service2-554c5f44f7-prjfn        1566m        11Mi
        ubuntu-client-76886f6bbd-sv5k4   48m          14Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   363.21ms  131.89ms   1.25s    80.41%
        Req/Sec   175.79     62.04   590.00     66.23%
        Latency Distribution
        50%  332.13ms
        75%  412.05ms
        90%  518.41ms
        99%  853.72ms
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 28.192250
        stop time: 28.657718
        stop time: 28.580917
        stop time: 28.591072
        stop time: 28.648461
        stop time: 28.698875
        stop time: 28.533362
        stop time: 28.694065
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.19225, 28.657718, 28.580917, 28.591072, 28.648461, 28.698875, 28.533362, 28.694065]
    [exp] Throughput: 1399.845107138895
[test.py] Baseline throughput: 1399.845107138895
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   394.89ms  253.71ms   1.74s    86.12%
        Req/Sec   169.63     71.02   343.00     69.96%
        Latency Distribution
        50%  320.43ms
        75%  400.14ms
        90%  752.85ms
        99%    1.36s
        3857 requests in 3.03s, 2.23MB read
        Requests/sec:   1272.36
        Transfer/sec:    754.22KB
        [run.sh] Speed is 1272.36, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   368.91ms  223.19ms   2.34s    85.34%
        Req/Sec   177.42     68.97   383.00     69.66%
        Latency Distribution
        50%  316.51ms
        75%  411.37ms
        90%  592.53ms
        99%    1.35s
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 28.618266
        stop time: 28.451296
        stop time: 28.295447
        stop time: 28.180509
        stop time: 28.083972
        stop time: 28.507276
        stop time: 28.559447
        stop time: 28.616400
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [28.618266, 28.451296, 28.295447, 28.180509, 28.083972, 28.507276, 28.559447, 28.6164]
    [exp] Throughput: 1407.7529433001591
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   618.44ms  174.74ms   1.25s    73.11%
        Req/Sec   101.40     51.69   230.00     65.42%
        Latency Distribution
        50%  581.32ms
        75%  691.71ms
        90%  891.52ms
        99%    1.13s
        2205 requests in 3.03s, 1.28MB read
        Requests/sec:    727.14
        Transfer/sec:    431.03KB
        [run.sh] Speed is 727.14, duration is 82
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d82s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7ffd77698d-rbtmt        121m         45Mi
        service1-769d87c95d-mvd5v        404m         16Mi
        service2-554c5f44f7-jrt2s        781m         10Mi
        ubuntu-client-76886f6bbd-sj6rz   9m           14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   582.12ms  148.68ms   1.73s    76.67%
        Req/Sec   110.04     46.28   290.00     66.28%
        Latency Distribution
        50%  558.49ms
        75%  645.65ms
        90%  761.98ms
        99%    1.09s
        40000 requests in 1.37m, 23.16MB read
        Requests/sec:    487.80
        Transfer/sec:    289.16KB
        ------------------------------
        stop time: 45.587710
        stop time: 45.485932
        stop time: 45.665552
        stop time: 45.517395
        stop time: 45.673545
        stop time: 45.856679
        stop time: 46.137766
        stop time: 45.994785
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [45.58771, 45.485932, 45.665552, 45.517395, 45.673545, 45.856679, 46.137766, 45.994785]
    [exp] Throughput: 874.5096091717082
[test.py] Baseline throughput:  1399.845107138895
[test.py] Groundtruth:  [1407.7529433001591]
[test.py] Slowdown:  [874.5096091717082]
[test.py] Predicted:  [1653.5949640261456]
[test.py] Error percentage:  [17.463435036382542]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1399.845107138895
    Groundtruth: [1407.7529433001591]
    Slowdown:    [874.5096091717082]
    Predicted:   [1653.5949640261456]
    Error Perc:  [17.463435036382542]
