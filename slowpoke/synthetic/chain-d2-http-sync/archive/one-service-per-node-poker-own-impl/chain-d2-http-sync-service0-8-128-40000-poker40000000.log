[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 128
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 128 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    60.05ms   40.83ms 313.22ms   73.88%
        Req/Sec   281.57     71.93   646.00     76.86%
        Latency Distribution
        50%   51.30ms
        75%   77.71ms
        90%  116.02ms
        99%  197.53ms
        6788 requests in 3.09s, 3.93MB read
        Requests/sec:   2194.84
        Transfer/sec:      1.27MB
        [run.sh] Speed is 2194.84, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    57.37ms   40.21ms 364.16ms   75.69%
        Req/Sec   284.81     55.15   474.00     70.47%
        Latency Distribution
        50%   47.66ms
        75%   74.14ms
        90%  110.71ms
        99%  195.98ms
        40000 requests in 27.00s, 23.16MB read
        Requests/sec:   1481.47
        Transfer/sec:      0.86MB
        ------------------------------
        stop time: 17.669738
        stop time: 17.537919
        stop time: 17.680935
        stop time: 17.652859
        stop time: 17.607733
        stop time: 17.687412
        stop time: 17.443022
        stop time: 17.455061
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service1-b4658cd9f-6j5pt    484m         14Mi
        service2-554c5f44f7-jsvf4   283m         9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.669738, 17.537919, 17.680935, 17.652859, 17.607733, 17.687412, 17.443022, 17.455061]
    [exp] Throughput: 2273.7821429215755
[test.py] Baseline throughput: 2273.7821429215755
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 128 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    42.91ms   20.89ms 141.29ms   69.30%
        Req/Sec   376.55     72.51   777.00     86.01%
        Latency Distribution
        50%   39.48ms
        75%   55.31ms
        90%   71.54ms
        99%  103.67ms
        9114 requests in 3.10s, 5.28MB read
        Requests/sec:   2942.25
        Transfer/sec:      1.70MB
        [run.sh] Speed is 2942.25, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    42.46ms   23.20ms 219.51ms   74.78%
        Req/Sec   379.89     46.08   530.00     68.16%
        Latency Distribution
        50%   37.86ms
        75%   53.30ms
        90%   72.12ms
        99%  120.75ms
        40000 requests in 20.00s, 23.16MB read
        Requests/sec:   1999.99
        Transfer/sec:      1.16MB
        ------------------------------
        stop time: 13.157180
        stop time: 13.209257
        stop time: 13.254564
        stop time: 13.150066
        stop time: 13.215465
        stop time: 13.246839
        stop time: 13.087143
        stop time: 13.264438
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-4xmpb        247m         16Mi
        service1-b4658cd9f-6zngr         1m           16Mi
        service2-554c5f44f7-l6kq4        1m           9Mi
        ubuntu-client-76886f6bbd-5qs2r   32m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.15718, 13.209257, 13.254564, 13.150066, 13.215465, 13.246839, 13.087143, 13.264438]
    [exp] Throughput: 3030.7349100277097
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 128 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    45.99ms   26.90ms 233.09ms   77.90%
        Req/Sec   362.21     90.17   818.00     89.71%
        Latency Distribution
        50%   40.56ms
        75%   56.52ms
        90%   78.52ms
        99%  144.25ms
        8771 requests in 3.10s, 5.08MB read
        Requests/sec:   2829.23
        Transfer/sec:      1.64MB
        [run.sh] Speed is 2829.23, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    42.46ms   21.42ms 227.32ms   73.46%
        Req/Sec   378.16     47.47   530.00     72.68%
        Latency Distribution
        50%   38.45ms
        75%   52.97ms
        90%   70.02ms
        99%  112.86ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.073242
        stop time: 13.232801
        stop time: 13.220214
        stop time: 13.292689
        stop time: 13.251509
        stop time: 13.307558
        stop time: 13.296927
        stop time: 13.307509
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-m5b4h        485m         18Mi
        service1-b4658cd9f-qqbx7         579m         16Mi
        service2-554c5f44f7-gvgb2        117m         9Mi
        ubuntu-client-76886f6bbd-dtw94   27m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.073242, 13.232801, 13.220214, 13.292689, 13.251509, 13.307558, 13.296927, 13.307509]
    [exp] Throughput: 3019.3678577855853
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 128 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    87.03ms   37.54ms 292.57ms   70.95%
        Req/Sec   182.26     60.17   575.00     85.12%
        Latency Distribution
        50%   82.61ms
        75%  109.19ms
        90%  132.08ms
        99%  204.67ms
        4397 requests in 3.09s, 2.55MB read
        Requests/sec:   1422.63
        Transfer/sec:    843.29KB
        [run.sh] Speed is 1422.63, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-l2cbc        1349m        19Mi
        service1-bd5d8f697-qjbck         814m         16Mi
        service2-f9cb979d7-2gb8m         550m         9Mi
        ubuntu-client-76886f6bbd-jt7kf   50m          5Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    84.38ms   33.78ms 355.62ms   67.29%
        Req/Sec   189.76     40.40   313.00     71.75%
        Latency Distribution
        50%   79.29ms
        75%  105.60ms
        90%  128.46ms
        99%  179.41ms
        40000 requests in 42.00s, 23.16MB read
        Requests/sec:    952.38
        Transfer/sec:    564.54KB
        ------------------------------
        stop time: 26.175293
        stop time: 26.482570
        stop time: 26.401281
        stop time: 26.438896
        stop time: 26.395929
        stop time: 26.515020
        stop time: 26.400629
        stop time: 26.468570
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.175293, 26.48257, 26.401281, 26.438896, 26.395929, 26.51502, 26.400629, 26.46857]
    [exp] Throughput: 1514.5908010153892
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 128 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    65.80ms   27.97ms 207.84ms   68.39%
        Req/Sec   242.45     63.22   555.00     82.72%
        Latency Distribution
        50%   61.92ms
        75%   84.18ms
        90%  101.46ms
        99%  142.50ms
        5870 requests in 3.10s, 3.40MB read
        Requests/sec:   1895.36
        Transfer/sec:      1.10MB
        [run.sh] Speed is 1895.36, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d31s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 31s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    64.58ms   25.75ms 224.49ms   67.69%
        Req/Sec   248.03     41.82   400.00     67.62%
        Latency Distribution
        50%   61.27ms
        75%   81.67ms
        90%   97.04ms
        99%  139.32ms
        40000 requests in 31.00s, 23.16MB read
        Requests/sec:   1290.32
        Transfer/sec:    764.87KB
        ------------------------------
        stop time: 20.077941
        stop time: 20.125547
        stop time: 20.251525
        stop time: 20.179146
        stop time: 20.313704
        stop time: 20.238971
        stop time: 20.214360
        stop time: 20.301608
        [run.sh] Checking the resource usage
        NAME                       CPU(cores)   MEMORY(bytes)
        service1-67cd8bfdf-8rn97   405m         16Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.077941, 20.125547, 20.251525, 20.179146, 20.313704, 20.238971, 20.21436, 20.301608]
    [exp] Throughput: 1978.9391157241664
[test.py] Baseline throughput:  2273.7821429215755
[test.py] Groundtruth:  [3030.7349100277097, 3019.3678577855853]
[test.py] Slowdown:  [1514.5908010153892, 1978.9391157241664]
[test.py] Predicted:  [3106.127002466692, 2976.002206408036]
[test.py] Error percentage:  [2.4875845191717185, -1.4362493548352875]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2273.7821429215755
    Groundtruth: [3030.7349100277097, 3019.3678577855853]
    Slowdown:    [1514.5908010153892, 1978.9391157241664]
    Predicted:   [3106.127002466692, 2976.002206408036]
    Error Perc:  [2.4875845191717185, -1.4362493548352875]
