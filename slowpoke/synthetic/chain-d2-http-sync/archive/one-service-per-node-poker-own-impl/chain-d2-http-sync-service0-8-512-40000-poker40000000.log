[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   235.84ms  104.51ms 776.29ms   83.84%
        Req/Sec   270.87     80.26   464.00     73.11%
        Latency Distribution
        50%  212.51ms
        75%  254.77ms
        90%  342.04ms
        99%  694.49ms
        6428 requests in 3.03s, 3.72MB read
        Requests/sec:   2119.12
        Transfer/sec:      1.23MB
        [run.sh] Speed is 2119.12, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   223.88ms   95.76ms   1.37s    81.66%
        Req/Sec   286.54     80.22   590.00     71.52%
        Latency Distribution
        50%  201.38ms
        75%  251.48ms
        90%  336.95ms
        99%  572.34ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.82KB
        ------------------------------
        stop time: 17.384192
        stop time: 17.399179
        stop time: 17.413623
        stop time: 17.701211
        stop time: 17.640903
        stop time: 17.741700
        stop time: 17.661485
        stop time: 17.512258
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.384192, 17.399179, 17.413623, 17.701211, 17.640903, 17.7417, 17.661485, 17.512258]
    [exp] Throughput: 2278.3170621505883
[test.py] Baseline throughput: 2278.3170621505883
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.42ms   26.81ms 297.37ms   77.82%
        Req/Sec   376.99     64.56   510.00     76.25%
        Latency Distribution
        50%  161.63ms
        75%  178.76ms
        90%  198.75ms
        99%  243.12ms
        9010 requests in 3.02s, 5.22MB read
        Requests/sec:   2983.93
        Transfer/sec:      1.73MB
        [run.sh] Speed is 2983.93, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.19ms   26.52ms 363.05ms   75.65%
        Req/Sec   375.24     56.03   525.00     74.20%
        Latency Distribution
        50%  165.83ms
        75%  183.19ms
        90%  204.33ms
        99%  250.29ms
        40000 requests in 20.00s, 23.16MB read
        Requests/sec:   1999.99
        Transfer/sec:      1.16MB
        ------------------------------
        stop time: 13.404652
        stop time: 13.403237
        stop time: 13.377139
        stop time: 13.357637
        stop time: 13.434254
        stop time: 13.393858
        stop time: 13.410640
        stop time: 13.449801
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-nrt68        364m         40Mi
        service1-b4658cd9f-bsrd6         46m          16Mi
        service2-554c5f44f7-6tf6r        241m         10Mi
        ubuntu-client-76886f6bbd-g68cf   36m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.404652, 13.403237, 13.377139, 13.357637, 13.434254, 13.393858, 13.41064, 13.449801]
    [exp] Throughput: 2984.205588339023
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   178.94ms   42.03ms 561.60ms   88.77%
        Req/Sec   352.88     72.51   505.00     79.75%
        Latency Distribution
        50%  172.41ms
        75%  188.57ms
        90%  208.56ms
        99%  393.57ms
        8381 requests in 3.02s, 4.85MB read
        Requests/sec:   2777.07
        Transfer/sec:      1.61MB
        [run.sh] Speed is 2777.07, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.09ms   27.23ms 396.84ms   76.41%
        Req/Sec   371.89     53.90   580.00     72.74%
        Latency Distribution
        50%  168.65ms
        75%  185.05ms
        90%  204.87ms
        99%  256.64ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.445494
        stop time: 13.464486
        stop time: 13.483799
        stop time: 13.526521
        stop time: 13.588654
        stop time: 13.631432
        stop time: 13.609918
        stop time: 13.607097
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.445494, 13.464486, 13.483799, 13.526521, 13.588654, 13.631432, 13.609918, 13.607097]
    [exp] Throughput: 2953.1900640547847
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.50ms   59.07ms 641.29ms   82.58%
        Req/Sec   185.28     63.23   360.00     69.51%
        Latency Distribution
        50%  336.38ms
        75%  364.63ms
        90%  410.35ms
        99%  595.76ms
        4163 requests in 3.03s, 2.41MB read
        Requests/sec:   1375.41
        Transfer/sec:    815.31KB
        [run.sh] Speed is 1375.41, duration is 43
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d43s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-694z8        1301m        46Mi
        service1-bd5d8f697-2t5zc         510m         16Mi
        service2-f9cb979d7-cxwbb         389m         10Mi
        ubuntu-client-76886f6bbd-6kmnr   44m          11Mi
        Running 43s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   341.04ms   40.32ms 572.23ms   74.17%
        Req/Sec   187.67     48.96   470.00     70.59%
        Latency Distribution
        50%  337.16ms
        75%  362.44ms
        90%  391.96ms
        99%  457.92ms
        40000 requests in 43.00s, 23.16MB read
        Requests/sec:    930.23
        Transfer/sec:    551.42KB
        ------------------------------
        stop time: 26.796610
        stop time: 26.852340
        stop time: 26.882349
        stop time: 26.786599
        stop time: 26.785597
        stop time: 26.790989
        stop time: 26.857484
        stop time: 26.942109
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.79661, 26.85234, 26.882349, 26.786599, 26.785597, 26.790989, 26.857484, 26.942109]
    [exp] Throughput: 1490.4929119213662
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   268.38ms   46.70ms 553.71ms   83.44%
        Req/Sec   241.54     63.90   400.00     73.66%
        Latency Distribution
        50%  258.55ms
        75%  281.56ms
        90%  313.99ms
        99%  467.69ms
        5477 requests in 3.02s, 3.17MB read
        Requests/sec:   1814.06
        Transfer/sec:      1.05MB
        [run.sh] Speed is 1814.06, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   259.94ms   34.10ms 569.60ms   77.75%
        Req/Sec   245.66     52.01   707.00     70.25%
        Latency Distribution
        50%  257.26ms
        75%  277.19ms
        90%  299.19ms
        99%  354.65ms
        40000 requests in 33.00s, 23.16MB read
        Requests/sec:   1212.12
        Transfer/sec:    718.51KB
        ------------------------------
        stop time: 20.211899
        stop time: 20.512824
        stop time: 20.499772
        stop time: 20.444475
        stop time: 20.494097
        stop time: 20.435254
        stop time: 20.494579
        stop time: 20.541968
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [20.211899, 20.512824, 20.499772, 20.444475, 20.494097, 20.435254, 20.494579, 20.541968]
    [exp] Throughput: 1955.5734294967015
[test.py] Baseline throughput:  2278.3170621505883
[test.py] Groundtruth:  [2984.205588339023, 2953.1900640547847]
[test.py] Slowdown:  [1490.4929119213662, 1955.5734294967015]
[test.py] Predicted:  [3006.4428916730617, 2923.4725869812587]
[test.py] Error percentage:  [0.7451666004826326, -1.0062839312388625]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2278.3170621505883
    Groundtruth: [2984.205588339023, 2953.1900640547847]
    Slowdown:    [1490.4929119213662, 1955.5734294967015]
    Predicted:   [3006.4428916730617, 2923.4725869812587]
    Error Perc:  [0.7451666004826326, -1.0062839312388625]
