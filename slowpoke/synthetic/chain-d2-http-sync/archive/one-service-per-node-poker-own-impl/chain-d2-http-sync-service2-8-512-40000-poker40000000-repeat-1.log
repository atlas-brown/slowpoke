[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 538]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   394.42ms  124.78ms   1.05s    73.31%
        Req/Sec   165.79     68.06   373.00     69.20%
        Latency Distribution
        50%  370.24ms
        75%  454.79ms
        90%  559.52ms
        99%  822.17ms
        3728 requests in 3.02s, 2.16MB read
        Requests/sec:   1232.87
        Transfer/sec:    730.81KB
        [run.sh] Speed is 1232.87, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-g7vr9        1942m        45Mi
        service1-b4658cd9f-c5p5j         1310m        16Mi
        service2-554c5f44f7-qq64h        1676m        12Mi
        ubuntu-client-76886f6bbd-wkqqv   34m          14Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   363.41ms  138.34ms   1.90s    81.15%
        Req/Sec   175.89     58.17   390.00     69.99%
        Latency Distribution
        50%  333.99ms
        75%  408.36ms
        90%  520.39ms
        99%  897.02ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 28.399676
        stop time: 28.344157
        stop time: 28.667114
        stop time: 28.586590
        stop time: 28.797292
        stop time: 28.550855
        stop time: 28.664529
        stop time: 28.690518
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.399676, 28.344157, 28.667114, 28.58659, 28.797292, 28.550855, 28.664529, 28.690518]
    [exp] Throughput: 1399.2084703918151
[test.py] Baseline throughput: 1399.2084703918151
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   374.86ms  158.62ms   1.48s    82.88%
        Req/Sec   174.98     75.75   350.00     69.95%
        Latency Distribution
        50%  329.74ms
        75%  439.09ms
        90%  561.42ms
        99%  937.83ms
        3847 requests in 3.04s, 2.23MB read
        Requests/sec:   1266.42
        Transfer/sec:    750.70KB
        [run.sh] Speed is 1266.42, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        ubuntu-client-76886f6bbd-695j6   15m          0Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   365.57ms  182.97ms   1.71s    79.94%
        Req/Sec   176.43     74.00   454.00     68.15%
        Latency Distribution
        50%  322.14ms
        75%  426.23ms
        90%  580.80ms
        99%    1.07s
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 28.573883
        stop time: 28.453325
        stop time: 28.781936
        stop time: 28.696885
        stop time: 28.803610
        stop time: 28.538308
        stop time: 28.807231
        stop time: 28.625284
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.573883, 28.453325, 28.781936, 28.696885, 28.80361, 28.538308, 28.807231, 28.625284]
    [exp] Throughput: 1395.6706001403643
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.000538', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   375.72ms  150.02ms   1.22s    77.49%
        Req/Sec   177.01     70.63   393.00     71.15%
        Latency Distribution
        50%  323.26ms
        75%  449.37ms
        90%  579.33ms
        99%  909.34ms
        3817 requests in 3.03s, 2.21MB read
        Requests/sec:   1260.54
        Transfer/sec:    747.22KB
        [run.sh] Speed is 1260.54, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-bgzfx        1052m        44Mi
        service1-b4658cd9f-spg25         7m           15Mi
        service2-554c5f44f7-84sdn        195m         10Mi
        ubuntu-client-76886f6bbd-7x56d   43m          15Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   365.19ms  197.25ms   1.81s    81.05%
        Req/Sec   177.11     73.87   440.00     67.34%
        Latency Distribution
        50%  319.17ms
        75%  410.33ms
        90%  610.66ms
        99%    1.12s
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 28.166388
        stop time: 28.647357
        stop time: 28.550811
        stop time: 28.339704
        stop time: 28.453192
        stop time: 28.625894
        stop time: 28.450722
        stop time: 28.718578
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.166388, 28.647357, 28.550811, 28.339704, 28.453192, 28.625894, 28.450722, 28.718578]
    [exp] Throughput: 1403.8003314074276
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.91ms  272.42ms   1.82s    80.23%
        Req/Sec    96.18     50.44   240.00     63.88%
        Latency Distribution
        50%  548.07ms
        75%  676.04ms
        90%  967.84ms
        99%    1.61s
        2207 requests in 3.02s, 1.28MB read
        Requests/sec:    730.20
        Transfer/sec:    432.84KB
        [run.sh] Speed is 730.20, duration is 82
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d82s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7ffd77698d-5cqz6        1282m        47Mi
        service1-769d87c95d-c5frr        809m         14Mi
        service2-554c5f44f7-k5mq7        1053m        9Mi
        ubuntu-client-76886f6bbd-rmkdx   31m          17Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   589.17ms  179.87ms   2.01s    78.78%
        Req/Sec   108.73     44.64   303.00     67.78%
        Latency Distribution
        50%  554.83ms
        75%  656.14ms
        90%  798.22ms
        99%    1.29s
        40000 requests in 1.37m, 23.16MB read
        Requests/sec:    487.80
        Transfer/sec:    289.16KB
        ------------------------------
        stop time: 46.491312
        stop time: 45.962448
        stop time: 46.157869
        stop time: 46.180733
        stop time: 46.235009
        stop time: 46.441024
        stop time: 46.613733
        stop time: 46.531738
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [46.491312, 45.962448, 46.157869, 46.180733, 46.235009, 46.441024, 46.613733, 46.531738]
    [exp] Throughput: 863.4323465922346
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   496.21ms  242.22ms   1.61s    77.95%
        Req/Sec   120.46     59.62   310.00     65.22%
        Latency Distribution
        50%  434.84ms
        75%  611.04ms
        90%  802.19ms
        99%    1.29s
        2798 requests in 3.03s, 1.62MB read
        Requests/sec:    924.08
        Transfer/sec:    547.77KB
        [run.sh] Speed is 924.08, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-56d65df5fc-hstcv        1481m        48Mi
        service1-67dfd994cf-blknc        409m         16Mi
        service2-554c5f44f7-c7hdj        811m         9Mi
        ubuntu-client-76886f6bbd-2qmc8   11m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   497.29ms  166.55ms   1.85s    78.26%
        Req/Sec   128.95     51.66   320.00     68.11%
        Latency Distribution
        50%  461.91ms
        75%  563.15ms
        90%  700.14ms
        99%    1.12s
        40000 requests in 1.07m, 23.16MB read
        Requests/sec:    625.00
        Transfer/sec:    370.48KB
        ------------------------------
        stop time: 38.756501
        stop time: 38.944062
        stop time: 39.218480
        stop time: 39.154688
        stop time: 39.012797
        stop time: 39.011707
        stop time: 39.313693
        stop time: 39.215637
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [38.756501, 38.944062, 39.21848, 39.154688, 39.012797, 39.011707, 39.313693, 39.215637]
    [exp] Throughput: 1023.5821655713564
[test.py] Baseline throughput:  1399.2084703918151
[test.py] Groundtruth:  [1395.6706001403643, 1403.8003314074276]
[test.py] Slowdown:  [863.4323465922346, 1023.5821655713564]
[test.py] Predicted:  [1614.4308647377045, 1414.0148714153424]
[test.py] Error percentage:  [15.674204541912628, 0.7276348195240763]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1399.2084703918151
    Groundtruth: [1395.6706001403643, 1403.8003314074276]
    Slowdown:    [863.4323465922346, 1023.5821655713564]
    Predicted:   [1614.4308647377045, 1414.0148714153424]
    Error Perc:  [15.674204541912628, 0.7276348195240763]
