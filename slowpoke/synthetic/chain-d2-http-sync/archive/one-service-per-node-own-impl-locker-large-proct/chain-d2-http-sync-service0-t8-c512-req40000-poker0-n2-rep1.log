[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 0
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   300.48ms   74.34ms 809.57ms   89.11%
        Req/Sec   210.80     59.58   360.00     71.56%
        Latency Distribution
        50%  281.48ms
        75%  308.70ms
        90%  365.42ms
        99%  623.34ms
        4806 requests in 3.03s, 2.78MB read
        Requests/sec:   1585.14
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1585.14, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-mcvxj        505m         46Mi
        service1-66d59fdfb5-tztgn        362m         16Mi
        service2-5fdb89d677-26gdm        486m         10Mi
        ubuntu-client-76886f6bbd-pwzv7   2m           11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   283.91ms   46.00ms 669.90ms   85.23%
        Req/Sec   226.30     52.52   510.00     66.57%
        Latency Distribution
        50%  277.77ms
        75%  300.54ms
        90%  327.03ms
        99%  449.33ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.112624
        stop time: 22.109033
        stop time: 22.213625
        stop time: 22.334037
        stop time: 22.390119
        stop time: 22.391650
        stop time: 22.413630
        stop time: 22.464543
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.112624, 22.109033, 22.213625, 22.334037, 22.390119, 22.39165, 22.41363, 22.464543]
    [exp] Throughput: 1793.427816752545
[test.py] Baseline throughput: 1793.427816752545
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.56ms   30.47ms 404.05ms   77.15%
        Req/Sec   274.91     65.08   444.00     72.53%
        Latency Distribution
        50%  226.05ms
        75%  242.26ms
        90%  265.74ms
        99%  317.63ms
        6473 requests in 3.03s, 3.75MB read
        Requests/sec:   2137.83
        Transfer/sec:      1.24MB
        [run.sh] Speed is 2137.83, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.12ms   33.15ms 458.43ms   77.43%
        Req/Sec   280.14     54.53   630.00     75.61%
        Latency Distribution
        50%  223.99ms
        75%  241.87ms
        90%  269.23ms
        99%  331.92ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.81KB
        ------------------------------
        stop time: 17.903565
        stop time: 17.819217
        stop time: 17.935944
        stop time: 17.927715
        stop time: 17.971085
        stop time: 18.055461
        stop time: 18.006323
        stop time: 18.026796
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-dn8rc        15m          41Mi
        service1-66d59fdfb5-z9tc2        57m          15Mi
        service2-5fdb89d677-zwknf        268m         10Mi
        ubuntu-client-76886f6bbd-xdb4t   19m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.903565, 17.819217, 17.935944, 17.927715, 17.971085, 18.055461, 18.006323, 18.026796]
    [exp] Throughput: 2227.6970041916766
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   235.24ms   33.87ms 434.55ms   79.62%
        Req/Sec   269.88     67.55   404.00     71.12%
        Latency Distribution
        50%  229.38ms
        75%  246.83ms
        90%  273.67ms
        99%  361.13ms
        6285 requests in 3.04s, 3.64MB read
        Requests/sec:   2068.96
        Transfer/sec:      1.20MB
        [run.sh] Speed is 2068.96, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   230.23ms   33.14ms 526.65ms   77.38%
        Req/Sec   277.80     44.47   410.00     70.02%
        Latency Distribution
        50%  225.32ms
        75%  243.87ms
        90%  269.98ms
        99%  335.38ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 18.028152
        stop time: 17.972790
        stop time: 18.066205
        stop time: 18.143395
        stop time: 18.173248
        stop time: 18.123783
        stop time: 18.179063
        stop time: 18.233880
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-wtpjs        2m           43Mi
        service1-66d59fdfb5-259l7        1m           16Mi
        service2-5fdb89d677-qzbzq        1m           9Mi
        ubuntu-client-76886f6bbd-8rtnb   2m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.028152, 17.97279, 18.066205, 18.143395, 18.173248, 18.123783, 18.179063, 18.23388]
    [exp] Throughput: 2208.106959817891
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '31392674.304684523', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '31392674.304684523'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.25ms   74.11ms 815.42ms   78.69%
        Req/Sec   138.17     62.70   313.00     65.74%
        Latency Distribution
        50%  452.09ms
        75%  490.78ms
        90%  550.04ms
        99%  726.20ms
        3069 requests in 3.03s, 1.78MB read
        Requests/sec:   1012.32
        Transfer/sec:    600.08KB
        [run.sh] Speed is 1012.32, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-s85h8        359m         43Mi
        service1-5756696db6-d7x2r        321m         17Mi
        service2-6674f4855d-z4bd6        46m          11Mi
        ubuntu-client-76886f6bbd-jx4rp   21m          12Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.30ms   59.07ms 937.23ms   78.48%
        Req/Sec   141.36     47.88   370.00     64.89%
        Latency Distribution
        50%  451.12ms
        75%  479.61ms
        90%  520.67ms
        99%  611.08ms
        40000 requests in 0.98m, 23.16MB read
        Requests/sec:    677.96
        Transfer/sec:    401.88KB
        ------------------------------
        stop time: 35.264068
        stop time: 35.070516
        stop time: 35.445706
        stop time: 35.593278
        stop time: 35.578420
        stop time: 35.895778
        stop time: 35.771980
        stop time: 35.816596
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.264068, 35.070516, 35.445706, 35.593278, 35.57842, 35.895778, 35.77198, 35.816596]
    [exp] Throughput: 1125.0320467136369
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '22197972.880423114', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '22197972.880423114'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   356.35ms   55.92ms 769.06ms   82.04%
        Req/Sec   181.09     63.61   350.00     72.65%
        Latency Distribution
        50%  345.63ms
        75%  371.93ms
        90%  412.86ms
        99%  567.43ms
        4065 requests in 3.02s, 2.35MB read
        Requests/sec:   1344.33
        Transfer/sec:    796.88KB
        [run.sh] Speed is 1344.33, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-dcgb8        1647m        45Mi
        service1-5fb77b57fc-x4v6q        1358m        17Mi
        service2-6fbdd6f76f-s8sjj        715m         10Mi
        ubuntu-client-76886f6bbd-m7bw5   52m          11Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   344.93ms   38.69ms 636.87ms   73.56%
        Req/Sec   185.75     47.27   343.00     72.22%
        Latency Distribution
        50%  341.55ms
        75%  365.63ms
        90%  392.34ms
        99%  455.62ms
        40000 requests in 44.00s, 23.16MB read
        Requests/sec:    909.09
        Transfer/sec:    538.88KB
        ------------------------------
        stop time: 26.974624
        stop time: 27.177003
        stop time: 27.059143
        stop time: 27.171575
        stop time: 27.192713
        stop time: 27.129367
        stop time: 27.167892
        stop time: 27.229317
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.974624, 27.177003, 27.059143, 27.171575, 27.192713, 27.129367, 27.167892, 27.229317]
    [exp] Throughput: 1473.96403290083
[test.py] Baseline throughput:  1793.427816752545
[test.py] Groundtruth:  [2227.6970041916766, 2208.106959817891]
[test.py] Slowdown:  [1125.0320467136369, 1473.96403290083]
[test.py] Predicted:  [2219.4426477362636, 2177.972565359153]
[test.py] Error percentage:  [-0.37053317573626326, -1.3647162482211996]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1793.427816752545
    Groundtruth: [2227.6970041916766, 2208.106959817891]
    Slowdown:    [1125.0320467136369, 1473.96403290083]
    Predicted:   [2219.4426477362636, 2177.972565359153]
    Error Perc:  [-0.37053317573626326, -1.3647162482211996]
