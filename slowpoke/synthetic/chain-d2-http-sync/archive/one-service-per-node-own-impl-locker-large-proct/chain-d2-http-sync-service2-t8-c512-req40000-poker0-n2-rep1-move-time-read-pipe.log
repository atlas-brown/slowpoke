[config.py] Random numbers for execution time: [738.7567487313221, 908.1430120173984, 1414.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1414.9, 'service1': 908.14, 'service2': 1477.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1477.51]
baseline_throughputs             : []
poker_batch                      : 0
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 738]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.57ms  213.93ms   1.54s    86.84%
        Req/Sec   134.71     52.64   313.00     67.11%
        Latency Distribution
        50%  426.72ms
        75%  486.26ms
        90%  670.52ms
        99%    1.46s
        3073 requests in 3.02s, 1.78MB read
        Requests/sec:   1016.46
        Transfer/sec:    602.53KB
        [run.sh] Speed is 1016.46, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66bcf88fbf-csmmv        1951m        48Mi
        service1-66d59fdfb5-x4g6h        1433m        17Mi
        service2-5fdb89d677-f9fjp        1920m        12Mi
        ubuntu-client-76886f6bbd-dbjv2   41m          12Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   425.33ms   57.36ms   1.15s    86.36%
        Req/Sec   150.46     37.39   290.00     67.54%
        Latency Distribution
        50%  417.93ms
        75%  444.93ms
        90%  477.05ms
        99%  593.36ms
        40000 requests in 0.98m, 23.16MB read
        Requests/sec:    677.96
        Transfer/sec:    401.88KB
        ------------------------------
        stop time: 33.274895
        stop time: 33.218669
        stop time: 33.402308
        stop time: 33.369703
        stop time: 33.467467
        stop time: 33.596023
        stop time: 33.564186
        stop time: 33.573248
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.274895, 33.218669, 33.402308, 33.369703, 33.467467, 33.596023, 33.564186, 33.573248]
    [exp] Throughput: 1196.4115176906698
[test.py] Baseline throughput: 1196.4115176906698
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.70ms  107.08ms 876.43ms   82.61%
        Req/Sec   147.51     59.66   340.00     75.48%
        Latency Distribution
        50%  419.32ms
        75%  475.81ms
        90%  618.41ms
        99%  813.41ms
        3128 requests in 3.03s, 1.81MB read
        Requests/sec:   1033.33
        Transfer/sec:    612.53KB
        [run.sh] Speed is 1033.33, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   421.32ms  166.42ms   1.88s    88.98%
        Req/Sec   154.00     47.19   444.00     72.59%
        Latency Distribution
        50%  406.06ms
        75%  441.57ms
        90%  495.46ms
        99%    1.34s
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 32.633772
        stop time: 32.703482
        stop time: 32.217474
        stop time: 32.723139
        stop time: 32.969146
        stop time: 33.105483
        stop time: 33.210483
        stop time: 33.220834
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [32.633772, 32.703482, 32.217474, 32.723139, 32.969146, 33.105483, 33.210483, 33.220834]
    [exp] Throughput: 1217.7310175493951
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.000738', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '20000000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.67ms   99.34ms   1.02s    87.00%
        Req/Sec   146.11     50.95   292.00     72.43%
        Latency Distribution
        50%  422.02ms
        75%  457.97ms
        90%  578.74ms
        99%  870.37ms
        3154 requests in 3.02s, 1.83MB read
        Requests/sec:   1042.84
        Transfer/sec:    618.17KB
        [run.sh] Speed is 1042.84, duration is 57
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d57s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   420.47ms  102.45ms   1.87s    88.33%
        Req/Sec   152.88     45.18   464.00     70.80%
        Latency Distribution
        50%  411.37ms
        75%  442.33ms
        90%  482.37ms
        99%  939.14ms
        40000 requests in 0.95m, 23.16MB read
        Requests/sec:    701.75
        Transfer/sec:    415.98KB
        ------------------------------
        stop time: 32.444945
        stop time: 32.555364
        stop time: 32.628501
        stop time: 33.073085
        stop time: 33.244606
        stop time: 33.366913
        stop time: 33.235568
        stop time: 33.277445
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [32.444945, 32.555364, 32.628501, 33.073085, 33.244606, 33.366913, 33.235568, 33.277445]
    [exp] Throughput: 1212.9186739886375
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '738', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '40749233.121618375', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '738', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '40749233.121618375', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   822.05ms  220.43ms   1.53s    77.95%
        Req/Sec    89.16     48.74   230.00     64.48%
        Latency Distribution
        50%  727.45ms
        75%  900.42ms
        90%    1.19s
        99%    1.43s
        1651 requests in 3.04s, 0.96MB read
        Requests/sec:    542.94
        Transfer/sec:    321.84KB
        [run.sh] Speed is 542.94, duration is 110
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d110s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   804.20ms  205.72ms   2.72s    84.04%
        Req/Sec    81.28     40.88   300.00     66.96%
        Latency Distribution
        50%  781.42ms
        75%  863.81ms
        90%    1.01s
        99%    1.58s
        40000 requests in 1.83m, 23.16MB read
        Requests/sec:    363.64
        Transfer/sec:    215.55KB
        ------------------------------
        stop time: 62.948718
        stop time: 63.003771
        stop time: 62.946604
        stop time: 63.270543
        stop time: 63.438334
        stop time: 63.505542
        stop time: 63.418423
        stop time: 63.494955
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [62.948718, 63.003771, 62.946604, 63.270543, 63.438334, 63.505542, 63.418423, 63.494955]
    [exp] Throughput: 632.3774612056683
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '0', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '369', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '28814059.068447817', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '369', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '28814059.068447817', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '20000000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   596.99ms  239.26ms   1.50s    78.91%
        Req/Sec   106.75     54.68   272.00     66.82%
        Latency Distribution
        50%  519.08ms
        75%  671.59ms
        90%  979.35ms
        99%    1.32s
        2328 requests in 3.03s, 1.35MB read
        Requests/sec:    768.72
        Transfer/sec:    455.68KB
        [run.sh] Speed is 768.72, duration is 78
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d78s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6c6446c6c-pgq9g         273m         44Mi
        service1-7fd86964b7-q5w6s        156m         15Mi
        service2-5fdb89d677-mbjn2        212m         10Mi
        ubuntu-client-76886f6bbd-mbd99   17m          16Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   618.18ms  182.82ms   2.41s    82.95%
        Req/Sec   104.35     47.89   350.00     71.01%
        Latency Distribution
        50%  592.68ms
        75%  664.26ms
        90%  778.53ms
        99%    1.33s
        40000 requests in 1.30m, 23.16MB read
        Requests/sec:    512.82
        Transfer/sec:    303.99KB
        ------------------------------
        stop time: 48.953809
        stop time: 48.429138
        stop time: 48.843575
        stop time: 48.231839
        stop time: 48.828517
        stop time: 48.554299
        stop time: 49.083078
        stop time: 49.083463
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [48.953809, 48.429138, 48.843575, 48.231839, 48.828517, 48.554299, 49.083078, 49.083463]
    [exp] Throughput: 820.4965830958248
[test.py] Baseline throughput:  1196.4115176906698
[test.py] Groundtruth:  [1217.7310175493951, 1212.9186739886375]
[test.py] Slowdown:  [632.3774612056683, 820.4965830958248]
[test.py] Predicted:  [1186.8322886180297, 1177.829777817356]
[test.py] Error percentage:  [-2.5374018141992583, -2.8929306575759908]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1196.4115176906698
    Groundtruth: [1217.7310175493951, 1212.9186739886375]
    Slowdown:    [632.3774612056683, 820.4965830958248]
    Predicted:   [1186.8322886180297, 1177.829777817356]
    Error Perc:  [-2.5374018141992583, -2.8929306575759908]
