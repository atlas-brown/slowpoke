[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   296.30ms   66.22ms 594.73ms   86.71%
        Req/Sec   223.94     64.02   414.00     70.37%
        Latency Distribution
        50%  278.08ms
        75%  303.81ms
        90%  366.96ms
        99%  566.51ms
        4928 requests in 3.03s, 2.85MB read
        Requests/sec:   1624.27
        Transfer/sec:      0.94MB
        [run.sh] Speed is 1624.27, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-s7nfd        1936m        46Mi
        service1-69bf8b98cb-kwg2k        1648m        15Mi
        service2-54d57f45b4-hr7jl        1058m        9Mi
        ubuntu-client-76886f6bbd-nnkht   61m          12Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.28ms   52.26ms 852.07ms   83.86%
        Req/Sec   223.88     50.52   410.00     70.92%
        Latency Distribution
        50%  277.45ms
        75%  303.53ms
        90%  336.75ms
        99%  459.87ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 22.420329
        stop time: 22.580720
        stop time: 22.502297
        stop time: 22.453398
        stop time: 22.366135
        stop time: 22.444890
        stop time: 22.340601
        stop time: 22.398954
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.420329, 22.58072, 22.502297, 22.453398, 22.366135, 22.44489, 22.340601, 22.398954]
    [exp] Throughput: 1782.6570686330326
[test.py] Baseline throughput: 1782.6570686330326
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.57ms   39.27ms 430.49ms   77.13%
        Req/Sec   266.33     73.89   460.00     74.48%
        Latency Distribution
        50%  227.33ms
        75%  251.03ms
        90%  278.28ms
        99%  347.99ms
        6363 requests in 3.03s, 3.68MB read
        Requests/sec:   2102.21
        Transfer/sec:      1.22MB
        [run.sh] Speed is 2102.21, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.10ms   31.48ms 412.14ms   77.03%
        Req/Sec   276.63     56.58   630.00     75.43%
        Latency Distribution
        50%  227.76ms
        75%  244.73ms
        90%  269.84ms
        99%  323.98ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.81KB
        ------------------------------
        stop time: 18.110426
        stop time: 18.100920
        stop time: 18.160079
        stop time: 18.157552
        stop time: 18.120782
        stop time: 18.279328
        stop time: 18.280815
        stop time: 18.258190
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [18.110426, 18.10092, 18.160079, 18.157552, 18.120782, 18.279328, 18.280815, 18.25819]
    [exp] Throughput: 2199.7951275802807
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   237.88ms   37.51ms 459.64ms   76.71%
        Req/Sec   267.82     62.29   400.00     82.76%
        Latency Distribution
        50%  229.27ms
        75%  249.95ms
        90%  288.46ms
        99%  378.09ms
        6208 requests in 3.03s, 3.59MB read
        Requests/sec:   2046.23
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2046.23, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.48ms   29.73ms 497.20ms   75.07%
        Req/Sec   273.94     48.50   480.00     70.50%
        Latency Distribution
        50%  229.62ms
        75%  246.96ms
        90%  270.41ms
        99%  327.41ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 18.297567
        stop time: 18.315637
        stop time: 18.337350
        stop time: 18.360618
        stop time: 18.402718
        stop time: 18.405738
        stop time: 18.444183
        stop time: 18.436930
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-44t6g        1493m        45Mi
        service1-69bf8b98cb-lnr4v        1928m        16Mi
        service2-54d57f45b4-kqh22        1270m        10Mi
        ubuntu-client-76886f6bbd-mgjk9   73m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.297567, 18.315637, 18.33735, 18.360618, 18.402718, 18.405738, 18.444183, 18.43693]
    [exp] Throughput: 2176.859775149025
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   457.32ms   71.83ms 769.08ms   75.79%
        Req/Sec   134.81     54.92   313.00     70.35%
        Latency Distribution
        50%  450.23ms
        75%  495.90ms
        90%  547.03ms
        99%  654.72ms
        3081 requests in 3.03s, 1.78MB read
        Requests/sec:   1017.57
        Transfer/sec:    603.19KB
        [run.sh] Speed is 1017.57, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   451.65ms   51.24ms 811.38ms   72.30%
        Req/Sec   141.81     51.03   404.00     67.20%
        Latency Distribution
        50%  446.49ms
        75%  478.55ms
        90%  515.29ms
        99%  597.00ms
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 35.323089
        stop time: 35.375608
        stop time: 35.383310
        stop time: 35.567595
        stop time: 35.567617
        stop time: 35.628031
        stop time: 35.561520
        stop time: 35.790756
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [35.323089, 35.375608, 35.38331, 35.567595, 35.567617, 35.628031, 35.56152, 35.790756]
    [exp] Throughput: 1125.9774302187275
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   356.71ms   67.70ms 807.49ms   84.35%
        Req/Sec   177.20     54.19   323.00     67.86%
        Latency Distribution
        50%  344.96ms
        75%  376.12ms
        90%  422.65ms
        99%  648.92ms
        4046 requests in 3.03s, 2.34MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        [run.sh] Speed is 1333.33, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-bb66c        523m         41Mi
        service1-5678f7c96-6xnl2         415m         15Mi
        service2-7fdd479476-9qzlh        259m         11Mi
        ubuntu-client-76886f6bbd-h2gqt   21m          0Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   352.55ms   45.70ms 925.28ms   74.60%
        Req/Sec   181.35     44.64   333.00     70.34%
        Latency Distribution
        50%  347.78ms
        75%  378.51ms
        90%  405.83ms
        99%  477.28ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 27.679970
        stop time: 27.657307
        stop time: 27.705169
        stop time: 27.646852
        stop time: 27.856396
        stop time: 27.772084
        stop time: 27.794606
        stop time: 27.757066
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.67997, 27.657307, 27.705169, 27.646852, 27.856396, 27.772084, 27.794606, 27.757066]
    [exp] Throughput: 1442.2895986806654
[test.py] Baseline throughput:  1782.6570686330326
[test.py] Groundtruth:  [2199.7951275802807, 2176.859775149025]
[test.py] Slowdown:  [1125.9774302187275, 1442.2895986806654]
[test.py] Predicted:  [2223.1249653418295, 2109.51758299386]
[test.py] Error percentage:  [1.0605459330756415, -3.093547546054277]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1782.6570686330326
    Groundtruth: [2199.7951275802807, 2176.859775149025]
    Slowdown:    [1125.9774302187275, 1442.2895986806654]
    Predicted:   [2223.1249653418295, 2109.51758299386]
    Error Perc:  [1.0605459330756415, -3.093547546054277]

