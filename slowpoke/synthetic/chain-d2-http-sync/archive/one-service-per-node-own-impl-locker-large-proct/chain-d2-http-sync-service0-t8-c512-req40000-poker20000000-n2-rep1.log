[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   312.24ms  111.24ms 925.64ms   81.83%
        Req/Sec   213.94     61.85   383.00     74.07%
        Latency Distribution
        50%  284.53ms
        75%  326.21ms
        90%  455.42ms
        99%  759.49ms
        4698 requests in 3.02s, 2.72MB read
        Requests/sec:   1556.63
        Transfer/sec:      0.90MB
        [run.sh] Speed is 1556.63, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-l5vfg        1857m        45Mi
        service1-745ff764dc-frsz5        1628m        16Mi
        service2-55c99d4dbc-m2vqh        880m         9Mi
        ubuntu-client-76886f6bbd-4x5cw   60m          12Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   281.28ms   51.71ms 945.18ms   87.37%
        Req/Sec   227.80     52.30   464.00     73.06%
        Latency Distribution
        50%  275.54ms
        75%  298.03ms
        90%  323.92ms
        99%  463.13ms
        40000 requests in 38.00s, 23.16MB read
        Requests/sec:   1052.63
        Transfer/sec:    623.97KB
        ------------------------------
        stop time: 21.751211
        stop time: 21.773142
        stop time: 22.021039
        stop time: 22.182312
        stop time: 22.235260
        stop time: 22.288613
        stop time: 22.289767
        stop time: 22.234827
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.751211, 21.773142, 22.021039, 22.182312, 22.23526, 22.288613, 22.289767, 22.234827]
    [exp] Throughput: 1810.1987286510464
[test.py] Baseline throughput: 1810.1987286510464
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   234.49ms   42.64ms 468.57ms   76.98%
        Req/Sec   264.06     71.59   535.00     76.89%
        Latency Distribution
        50%  227.38ms
        75%  254.54ms
        90%  290.00ms
        99%  363.75ms
        6272 requests in 3.03s, 3.63MB read
        Requests/sec:   2066.76
        Transfer/sec:      1.20MB
        [run.sh] Speed is 2066.76, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   229.12ms   31.89ms 441.10ms   78.70%
        Req/Sec   278.77     48.07   610.00     71.36%
        Latency Distribution
        50%  225.30ms
        75%  242.10ms
        90%  266.23ms
        99%  326.97ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.942888
        stop time: 17.939645
        stop time: 18.023692
        stop time: 18.048845
        stop time: 18.094935
        stop time: 18.029278
        stop time: 18.112398
        stop time: 18.050982
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.942888, 17.939645, 18.023692, 18.048845, 18.094935, 18.029278, 18.112398, 18.050982]
    [exp] Throughput: 2218.4837228081406
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   237.78ms   40.54ms 494.62ms   83.60%
        Req/Sec   267.91     69.95   424.00     79.31%
        Latency Distribution
        50%  229.21ms
        75%  248.25ms
        90%  278.02ms
        99%  408.40ms
        6214 requests in 3.03s, 3.60MB read
        Requests/sec:   2052.20
        Transfer/sec:      1.19MB
        [run.sh] Speed is 2052.20, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.52ms   34.74ms 554.14ms   78.92%
        Req/Sec   275.97     48.55   484.00     74.69%
        Latency Distribution
        50%  225.93ms
        75%  243.97ms
        90%  272.56ms
        99%  344.90ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 18.090000
        stop time: 18.187218
        stop time: 18.175024
        stop time: 18.249730
        stop time: 18.130681
        stop time: 18.276885
        stop time: 18.332418
        stop time: 18.339359
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-28wxl        1520m        43Mi
        service1-745ff764dc-jxwst        1933m        16Mi
        service2-55c99d4dbc-99zds        1141m        9Mi
        ubuntu-client-76886f6bbd-9fjcp   72m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.09, 18.187218, 18.175024, 18.24973, 18.130681, 18.276885, 18.332418, 18.339359]
    [exp] Throughput: 2195.068689015461
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   441.97ms   68.42ms 810.97ms   83.74%
        Req/Sec   142.97     59.81   323.00     70.54%
        Latency Distribution
        50%  429.18ms
        75%  466.42ms
        90%  508.99ms
        99%  741.31ms
        3211 requests in 3.03s, 1.86MB read
        Requests/sec:   1059.74
        Transfer/sec:    628.18KB
        [run.sh] Speed is 1059.74, duration is 56
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d56s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   441.53ms   50.83ms   1.02s    77.90%
        Req/Sec   144.96     46.89   310.00     71.52%
        Latency Distribution
        50%  436.88ms
        75%  467.63ms
        90%  500.18ms
        99%  572.09ms
        40000 requests in 0.93m, 23.16MB read
        Requests/sec:    714.28
        Transfer/sec:    423.41KB
        ------------------------------
        stop time: 34.525414
        stop time: 34.492517
        stop time: 34.525964
        stop time: 34.752124
        stop time: 34.816547
        stop time: 34.891336
        stop time: 34.886897
        stop time: 34.884809
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [34.525414, 34.492517, 34.525964, 34.752124, 34.816547, 34.891336, 34.886897, 34.884809]
    [exp] Throughput: 1152.0089985726895
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   368.69ms   79.92ms 767.43ms   84.31%
        Req/Sec   179.64     59.06   303.00     69.44%
        Latency Distribution
        50%  350.04ms
        75%  382.96ms
        90%  458.06ms
        99%  673.85ms
        3925 requests in 3.03s, 2.27MB read
        Requests/sec:   1295.18
        Transfer/sec:    767.75KB
        [run.sh] Speed is 1295.18, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service2-85cd4d569f-bbrgh   250m         10Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   344.31ms   45.12ms   1.06s    79.44%
        Req/Sec   186.15     46.10   353.00     70.39%
        Latency Distribution
        50%  339.21ms
        75%  365.41ms
        90%  393.03ms
        99%  458.40ms
        40000 requests in 46.00s, 23.16MB read
        Requests/sec:    869.56
        Transfer/sec:    515.45KB
        ------------------------------
        stop time: 26.817598
        stop time: 26.887205
        stop time: 26.971903
        stop time: 27.019001
        stop time: 27.123600
        stop time: 27.213148
        stop time: 27.283013
        stop time: 27.269622
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.817598, 26.887205, 26.971903, 27.019001, 27.1236, 27.213148, 27.283013, 27.269622]
    [exp] Throughput: 1477.4793592670667
[test.py] Baseline throughput:  1810.1987286510464
[test.py] Groundtruth:  [2218.4837228081406, 2195.068689015461]
[test.py] Slowdown:  [1152.0089985726895, 1477.4793592670667]
[test.py] Predicted:  [2326.940897039206, 2185.656641947573]
[test.py] Error percentage:  [4.888797385169955, -0.4287814369995704]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1810.1987286510464
    Groundtruth: [2218.4837228081406, 2195.068689015461]
    Slowdown:    [1152.0089985726895, 1477.4793592670667]
    Predicted:   [2326.940897039206, 2185.656641947573]
    Error Perc:  [4.888797385169955, -0.4287814369995704]

    438 219
