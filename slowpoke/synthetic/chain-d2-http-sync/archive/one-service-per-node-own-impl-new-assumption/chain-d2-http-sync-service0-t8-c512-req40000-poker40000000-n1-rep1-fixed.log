[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   241.96ms  102.40ms 869.35ms   83.43%
        Req/Sec   268.64     85.94   480.00     73.48%
        Latency Distribution
        50%  221.90ms
        75%  248.74ms
        90%  352.86ms
        99%  715.82ms
        6186 requests in 3.02s, 3.58MB read
        Requests/sec:   2046.26
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2046.26, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   227.96ms   50.28ms 641.87ms   86.52%
        Req/Sec   281.31     59.94   670.00     70.18%
        Latency Distribution
        50%  220.71ms
        75%  241.18ms
        90%  269.79ms
        99%  469.98ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.641535
        stop time: 17.810469
        stop time: 17.987505
        stop time: 17.990935
        stop time: 17.964546
        stop time: 18.011619
        stop time: 18.052664
        stop time: 18.061208
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-pzmtk   595m         42Mi
        service2-65c58f846f-5hlc4   261m         8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.641535, 17.810469, 17.987505, 17.990935, 17.964546, 18.011619, 18.052664, 18.061208]
    [exp] Throughput: 2229.646931018856
[test.py] Baseline throughput: 2229.646931018856
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.13ms   32.73ms 364.56ms   77.15%
        Req/Sec   346.34     81.98   510.00     80.00%
        Latency Distribution
        50%  172.91ms
        75%  192.65ms
        90%  228.73ms
        99%  282.02ms
        8281 requests in 3.02s, 4.79MB read
        Requests/sec:   2746.39
        Transfer/sec:      1.59MB
        [run.sh] Speed is 2746.39, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.95ms   26.53ms 362.04ms   76.52%
        Req/Sec   365.16     52.99   606.00     74.70%
        Latency Distribution
        50%  171.44ms
        75%  187.57ms
        90%  207.11ms
        99%  256.75ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.723706
        stop time: 13.694319
        stop time: 13.719802
        stop time: 13.758358
        stop time: 13.824765
        stop time: 13.798061
        stop time: 13.824109
        stop time: 13.798788
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-7lmvn        3m           40Mi
        service1-76dc8bbc57-26lwk        867m         16Mi
        service2-65c58f846f-2n47q        123m         10Mi
        ubuntu-client-76886f6bbd-mbllh   44m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.723706, 13.694319, 13.719802, 13.758358, 13.824765, 13.798061, 13.824109, 13.798788]
    [exp] Throughput: 2905.34280557406
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   400.34ms   81.56ms 926.41ms   84.55%
        Req/Sec   153.33     46.65   303.00     70.26%
        Latency Distribution
        50%  398.06ms
        75%  439.41ms
        90%  467.02ms
        99%  751.73ms
        3572 requests in 3.02s, 2.07MB read
        Requests/sec:   1182.28
        Transfer/sec:    700.82KB
        [run.sh] Speed is 1182.28, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-zfpdr        319m         38Mi
        service1-85d68db775-tdwh9        298m         15Mi
        service2-7bc7f7f6b7-g6rqh        144m         10Mi
        ubuntu-client-76886f6bbd-hp9bx   19m          0Mi
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   395.59ms   58.83ms 955.02ms   74.81%
        Req/Sec   161.77     48.57   430.00     71.04%
        Latency Distribution
        50%  394.08ms
        75%  431.24ms
        90%  460.26ms
        99%  513.34ms
        40000 requests in 50.00s, 23.16MB read
        Requests/sec:    800.00
        Transfer/sec:    474.22KB
        ------------------------------
        stop time: 30.812765
        stop time: 30.749432
        stop time: 30.986110
        stop time: 30.987671
        stop time: 31.118482
        stop time: 31.353382
        stop time: 31.340733
        stop time: 31.428661
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.812765, 30.749432, 30.98611, 30.987671, 31.118482, 31.353382, 31.340733, 31.428661]
    [exp] Throughput: 1286.2913228925815
[test.py] Baseline throughput:  2229.646931018856
[test.py] Groundtruth:  [2905.34280557406]
[test.py] Slowdown:  [1286.2913228925815]
[test.py] Predicted:  [2277.235876291324]
[test.py] Error percentage:  [-21.619029881006753]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2229.646931018856
    Groundtruth: [2905.34280557406]
    Slowdown:    [1286.2913228925815]
    Predicted:   [2277.235876291324]
    Error Perc:  [-21.619029881006753]
