[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   236.30ms   46.16ms 482.33ms   86.19%
        Req/Sec   276.19     66.21   434.00     78.57%
        Latency Distribution
        50%  226.10ms
        75%  246.49ms
        90%  278.05ms
        99%  435.42ms
        6256 requests in 3.03s, 3.62MB read
        Requests/sec:   2064.48
        Transfer/sec:      1.20MB
        [run.sh] Speed is 2064.48, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.05ms   79.47ms   1.31s    91.12%
        Req/Sec   279.88     59.19   505.00     70.45%
        Latency Distribution
        50%  220.71ms
        75%  241.73ms
        90%  275.78ms
        99%  562.90ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.827382
        stop time: 17.950602
        stop time: 18.009144
        stop time: 18.004885
        stop time: 18.079319
        stop time: 17.967229
        stop time: 18.122151
        stop time: 18.055035
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-8p6mf        596m         38Mi
        ubuntu-client-76886f6bbd-xgrzk   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.827382, 17.950602, 18.009144, 18.004885, 18.079319, 17.967229, 18.122151, 18.055035]
    [exp] Throughput: 2221.9792395341324
[test.py] Baseline throughput: 2221.9792395341324
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   186.21ms   28.87ms 331.87ms   73.68%
        Req/Sec   338.12     65.46   490.00     68.10%
        Latency Distribution
        50%  180.17ms
        75%  199.69ms
        90%  228.08ms
        99%  270.07ms
        7966 requests in 3.03s, 4.61MB read
        Requests/sec:   2629.61
        Transfer/sec:      1.52MB
        [run.sh] Speed is 2629.61, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.72ms   27.75ms 337.85ms   77.18%
        Req/Sec   361.60     55.86   707.00     75.54%
        Latency Distribution
        50%  172.89ms
        75%  189.75ms
        90%  211.37ms
        99%  259.26ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 13.884814
        stop time: 13.797993
        stop time: 13.897182
        stop time: 13.851528
        stop time: 13.979814
        stop time: 13.914437
        stop time: 13.977419
        stop time: 13.974883
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-fp7xd        832m         40Mi
        service1-76dc8bbc57-l2wsh        1288m        16Mi
        service2-65c58f846f-xtc6h        881m         9Mi
        ubuntu-client-76886f6bbd-vc7h6   53m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.884814, 13.797993, 13.897182, 13.851528, 13.979814, 13.914437, 13.977419, 13.974883]
    [exp] Throughput: 2875.678918586564
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   192.16ms   31.12ms 366.12ms   76.98%
        Req/Sec   332.03     72.48   470.00     80.17%
        Latency Distribution
        50%  184.91ms
        75%  205.37ms
        90%  233.43ms
        99%  303.12ms
        7751 requests in 3.02s, 4.49MB read
        Requests/sec:   2566.02
        Transfer/sec:      1.49MB
        [run.sh] Speed is 2566.02, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d23s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 23s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.69ms   30.24ms 522.51ms   81.47%
        Req/Sec   355.61     55.67   646.00     77.18%
        Latency Distribution
        50%  175.54ms
        75%  191.65ms
        90%  212.82ms
        99%  269.15ms
        40001 requests in 23.00s, 23.16MB read
        Requests/sec:   1739.16
        Transfer/sec:      1.01MB
        ------------------------------
        stop time: 14.001803
        stop time: 13.995130
        stop time: 13.980486
        stop time: 14.120787
        stop time: 14.163704
        stop time: 14.257699
        stop time: 14.269575
        stop time: 14.297002
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        ubuntu-client-76886f6bbd-hhnhj   24m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.001803, 13.99513, 13.980486, 14.120787, 14.163704, 14.257699, 14.269575, 14.297002]
    [exp] Throughput: 2829.700172220858
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   379.43ms   68.26ms 753.70ms   83.18%
        Req/Sec   169.32     59.64   340.00     69.20%
        Latency Distribution
        50%  359.36ms
        75%  400.39ms
        90%  460.87ms
        99%  630.59ms
        3812 requests in 3.03s, 2.21MB read
        Requests/sec:   1256.36
        Transfer/sec:    744.74KB
        [run.sh] Speed is 1256.36, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-d8xhq        1237m        46Mi
        service1-85d68db775-t7wd2        949m         17Mi
        service2-7bc7f7f6b7-qlkd4        489m         11Mi
        ubuntu-client-76886f6bbd-q5c5c   46m          11Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   379.07ms   52.00ms 743.76ms   73.88%
        Req/Sec   168.37     48.97   350.00     70.21%
        Latency Distribution
        50%  373.45ms
        75%  409.30ms
        90%  446.89ms
        99%  511.96ms
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 29.681255
        stop time: 29.759874
        stop time: 29.763711
        stop time: 29.759420
        stop time: 29.838513
        stop time: 29.826625
        stop time: 29.919205
        stop time: 29.942780
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.681255, 29.759874, 29.763711, 29.75942, 29.838513, 29.826625, 29.919205, 29.94278]
    [exp] Throughput: 1341.7675556017887
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.37ms   52.70ms 562.49ms   79.12%
        Req/Sec   215.71     66.71   373.00     70.09%
        Latency Distribution
        50%  286.75ms
        75%  313.45ms
        90%  360.22ms
        99%  501.59ms
        4924 requests in 3.02s, 2.85MB read
        Requests/sec:   1630.79
        Transfer/sec:      0.94MB
        [run.sh] Speed is 1630.79, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.60ms   44.91ms 689.84ms   73.42%
        Req/Sec   212.07     56.34   404.00     67.88%
        Latency Distribution
        50%  295.24ms
        75%  324.40ms
        90%  360.38ms
        99%  432.04ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 23.637294
        stop time: 23.720037
        stop time: 23.742162
        stop time: 23.737427
        stop time: 23.655342
        stop time: 23.703494
        stop time: 23.717092
        stop time: 23.817720
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [23.637294, 23.720037, 23.742162, 23.737427, 23.655342, 23.703494, 23.717092, 23.81772]
    [exp] Throughput: 1686.602234806992
[test.py] Baseline throughput:  2221.9792395341324
[test.py] Groundtruth:  [2875.678918586564, 2829.700172220858]
[test.py] Slowdown:  [1341.7675556017887, 1686.602234806992]
[test.py] Predicted:  [2457.0895606764557, 2360.6729357877484]
[test.py] Error percentage:  [-14.556192459617533, -16.575156655731437]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2221.9792395341324
    Groundtruth: [2875.678918586564, 2829.700172220858]
    Slowdown:    [1341.7675556017887, 1686.602234806992]
    Predicted:   [2457.0895606764557, 2360.6729357877484]
    Error Perc:  [-14.556192459617533, -16.575156655731437]
