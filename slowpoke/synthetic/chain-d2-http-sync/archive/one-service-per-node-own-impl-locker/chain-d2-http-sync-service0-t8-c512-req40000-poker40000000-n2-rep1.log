[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.11ms   47.41ms 611.38ms   90.85%
        Req/Sec   274.26     69.23   420.00     80.95%
        Latency Distribution
        50%  222.88ms
        75%  241.18ms
        90%  267.12ms
        99%  464.60ms
        6344 requests in 3.04s, 3.67MB read
        Requests/sec:   2089.55
        Transfer/sec:      1.21MB
        [run.sh] Speed is 2089.55, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   226.50ms   38.24ms 653.22ms   82.91%
        Req/Sec   283.09     54.72   494.00     73.62%
        Latency Distribution
        50%  220.39ms
        75%  239.43ms
        90%  264.75ms
        99%  362.14ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.82KB
        ------------------------------
        stop time: 17.746219
        stop time: 17.737362
        stop time: 17.806781
        stop time: 17.815545
        stop time: 17.824796
        stop time: 17.827129
        stop time: 17.859724
        stop time: 17.854572
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-2r7sr        74m          48Mi
        service1-76dc8bbc57-vtqj7        112m         15Mi
        service2-65c58f846f-l2d49        493m         10Mi
        ubuntu-client-76886f6bbd-m979c   4m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.746219, 17.737362, 17.806781, 17.815545, 17.824796, 17.827129, 17.859724, 17.854572]
    [exp] Throughput: 2246.053347360685
[test.py] Baseline throughput: 2246.053347360685
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   166.96ms   27.47ms 350.04ms   77.04%
        Req/Sec   375.50     72.44   520.00     86.97%
        Latency Distribution
        50%  160.90ms
        75%  178.61ms
        90%  202.77ms
        99%  257.03ms
        8943 requests in 3.03s, 5.18MB read
        Requests/sec:   2947.24
        Transfer/sec:      1.71MB
        [run.sh] Speed is 2947.24, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   169.42ms   25.50ms 318.66ms   76.23%
        Req/Sec   377.08     53.40   700.00     73.77%
        Latency Distribution
        50%  165.47ms
        75%  181.37ms
        90%  203.01ms
        99%  244.43ms
        40000 requests in 20.00s, 23.16MB read
        Requests/sec:   1999.99
        Transfer/sec:      1.16MB
        ------------------------------
        stop time: 13.236946
        stop time: 13.286179
        stop time: 13.349996
        stop time: 13.373446
        stop time: 13.327095
        stop time: 13.408405
        stop time: 13.362246
        stop time: 13.409267
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.236946, 13.286179, 13.349996, 13.373446, 13.327095, 13.408405, 13.362246, 13.409267]
    [exp] Throughput: 2997.5575526366424
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.49ms   29.23ms 382.10ms   79.06%
        Req/Sec   361.73     70.62   505.00     75.00%
        Latency Distribution
        50%  170.15ms
        75%  187.80ms
        90%  210.79ms
        99%  291.68ms
        8447 requests in 3.03s, 4.89MB read
        Requests/sec:   2787.18
        Transfer/sec:      1.61MB
        [run.sh] Speed is 2787.18, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.77ms   26.57ms 374.40ms   75.42%
        Req/Sec   366.13     57.13   737.00     75.25%
        Latency Distribution
        50%  170.64ms
        75%  187.96ms
        90%  208.79ms
        99%  255.20ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.551567
        stop time: 13.709098
        stop time: 13.737690
        stop time: 13.805708
        stop time: 13.779958
        stop time: 13.744745
        stop time: 13.776435
        stop time: 13.852280
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-bd47k        729m         44Mi
        service1-76dc8bbc57-ljbn9        937m         17Mi
        service2-65c58f846f-nwncr        1122m        10Mi
        ubuntu-client-76886f6bbd-z5ds7   30m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.551567, 13.709098, 13.73769, 13.805708, 13.779958, 13.744745, 13.776435, 13.85228]
    [exp] Throughput: 2910.2158133287903
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   394.99ms   67.05ms 720.21ms   74.02%
        Req/Sec   160.25     60.99   320.00     70.09%
        Latency Distribution
        50%  385.19ms
        75%  429.60ms
        90%  468.24ms
        99%  612.57ms
        3607 requests in 3.04s, 2.09MB read
        Requests/sec:   1188.39
        Transfer/sec:    704.45KB
        [run.sh] Speed is 1188.39, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   377.02ms   49.70ms 606.51ms   71.32%
        Req/Sec   169.63     49.48   370.00     67.25%
        Latency Distribution
        50%  371.51ms
        75%  407.59ms
        90%  446.02ms
        99%  502.41ms
        40000 requests in 50.00s, 23.16MB read
        Requests/sec:    800.00
        Transfer/sec:    474.22KB
        ------------------------------
        stop time: 29.479020
        stop time: 29.694796
        stop time: 29.616542
        stop time: 29.612927
        stop time: 29.678661
        stop time: 29.604031
        stop time: 29.764941
        stop time: 29.749440
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [29.47902, 29.694796, 29.616542, 29.612927, 29.678661, 29.604031, 29.764941, 29.74944]
    [exp] Throughput: 1349.0704765293822
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   293.73ms   65.62ms 640.57ms   82.44%
        Req/Sec   223.03     71.89   383.00     70.98%
        Latency Distribution
        50%  276.89ms
        75%  310.69ms
        90%  370.54ms
        99%  523.81ms
        5005 requests in 3.03s, 2.90MB read
        Requests/sec:   1649.83
        Transfer/sec:      0.96MB
        [run.sh] Speed is 1649.83, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-vxv5g        507m         41Mi
        service1-c6cc4d879-kfqqc         379m         16Mi
        service2-c8574fb79-hk9sq         192m         9Mi
        ubuntu-client-76886f6bbd-zjm6k   20m          0Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   294.46ms   46.52ms 918.37ms   75.95%
        Req/Sec   217.40     57.01   610.00     69.04%
        Latency Distribution
        50%  288.57ms
        75%  316.87ms
        90%  352.79ms
        99%  423.83ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 22.802966
        stop time: 22.905480
        stop time: 23.105269
        stop time: 23.247920
        stop time: 23.266177
        stop time: 23.260616
        stop time: 23.255998
        stop time: 23.225810
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.802966, 22.90548, 23.105269, 23.24792, 23.266177, 23.260616, 23.255998, 23.22581]
    [exp] Throughput: 1729.0732800492026
[test.py] Baseline throughput:  2246.053347360685
[test.py] Groundtruth:  [2997.5575526366424, 2910.2158133287903]
[test.py] Slowdown:  [1349.0704765293822, 1729.0732800492026]
[test.py] Predicted:  [2481.690590913641, 2444.7218592574236]
[test.py] Error percentage:  [-17.20957655239168, -15.995169565755369]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2246.053347360685
    Groundtruth: [2997.5575526366424, 2910.2158133287903]
    Slowdown:    [1349.0704765293822, 1729.0732800492026]
    Predicted:   [2481.690590913641, 2444.7218592574236]
    Error Perc:  [-17.20957655239168, -15.995169565755369]
