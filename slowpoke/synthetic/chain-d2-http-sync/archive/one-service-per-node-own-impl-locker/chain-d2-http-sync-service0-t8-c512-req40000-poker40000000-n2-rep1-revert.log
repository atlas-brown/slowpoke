[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   241.01ms   60.90ms 730.95ms   90.70%
        Req/Sec   266.47     68.49   430.00     74.14%
        Latency Distribution
        50%  227.64ms
        75%  249.23ms
        90%  284.52ms
        99%  572.56ms
        6188 requests in 3.02s, 3.58MB read
        Requests/sec:   2046.29
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2046.29, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.50ms   41.47ms 762.99ms   83.82%
        Req/Sec   280.40     56.68   740.00     71.62%
        Latency Distribution
        50%  222.04ms
        75%  242.63ms
        90%  270.19ms
        99%  374.99ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.635281
        stop time: 17.834510
        stop time: 17.937185
        stop time: 18.041780
        stop time: 18.049657
        stop time: 18.057389
        stop time: 18.069846
        stop time: 18.027522
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-flcjr        598m         44Mi
        service1-76dc8bbc57-mstbz        105m         16Mi
        service2-65c58f846f-lj8qb        95m          9Mi
        ubuntu-client-76886f6bbd-dwl6s   26m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.635281, 17.83451, 17.937185, 18.04178, 18.049657, 18.057389, 18.069846, 18.027522]
    [exp] Throughput: 2227.5874594344145
[test.py] Baseline throughput: 2227.5874594344145
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.73ms   31.19ms 397.52ms   79.98%
        Req/Sec   356.68     76.34   494.00     86.25%
        Latency Distribution
        50%  167.69ms
        75%  186.83ms
        90%  213.49ms
        99%  277.85ms
        8528 requests in 3.03s, 4.94MB read
        Requests/sec:   2812.17
        Transfer/sec:      1.63MB
        [run.sh] Speed is 2812.17, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.13ms   27.93ms 410.39ms   78.31%
        Req/Sec   362.53     55.33   690.00     77.88%
        Latency Distribution
        50%  171.70ms
        75%  188.00ms
        90%  211.35ms
        99%  264.17ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.834210
        stop time: 13.856650
        stop time: 13.811137
        stop time: 13.918116
        stop time: 13.877886
        stop time: 13.873477
        stop time: 13.883473
        stop time: 13.863775
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.83421, 13.85665, 13.811137, 13.918116, 13.877886, 13.873477, 13.883473, 13.863775]
    [exp] Throughput: 2884.995323242269
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   182.90ms   28.83ms 421.32ms   79.47%
        Req/Sec   348.63     79.67   515.00     76.29%
        Latency Distribution
        50%  177.13ms
        75%  193.47ms
        90%  215.14ms
        99%  292.12ms
        8118 requests in 3.02s, 4.70MB read
        Requests/sec:   2686.05
        Transfer/sec:      1.55MB
        [run.sh] Speed is 2686.05, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   181.80ms   33.46ms 523.41ms   84.88%
        Req/Sec   351.13     58.24   757.00     74.82%
        Latency Distribution
        50%  177.46ms
        75%  194.47ms
        90%  214.94ms
        99%  296.61ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 14.129678
        stop time: 14.267841
        stop time: 14.256117
        stop time: 14.303075
        stop time: 14.331371
        stop time: 14.393360
        stop time: 14.379300
        stop time: 14.423664
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-62lsp        59m          44Mi
        service1-76dc8bbc57-4whpw        931m         16Mi
        service2-65c58f846f-t9b78        306m         10Mi
        ubuntu-client-76886f6bbd-v9rg9   8m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.129678, 14.267841, 14.256117, 14.303075, 14.331371, 14.39336, 14.3793, 14.423664]
    [exp] Throughput: 2795.1405014932775
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   365.39ms   86.69ms 793.00ms   83.29%
        Req/Sec   166.58     57.32   300.00     70.04%
        Latency Distribution
        50%  357.97ms
        75%  396.80ms
        90%  447.54ms
        99%  642.57ms
        3955 requests in 3.03s, 2.29MB read
        Requests/sec:   1306.72
        Transfer/sec:    774.59KB
        [run.sh] Speed is 1306.72, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   376.65ms   50.43ms 702.01ms   73.69%
        Req/Sec   170.06     49.18   393.00     67.47%
        Latency Distribution
        50%  369.51ms
        75%  405.28ms
        90%  443.99ms
        99%  508.83ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 29.384792
        stop time: 29.607758
        stop time: 29.537485
        stop time: 29.605871
        stop time: 29.681427
        stop time: 29.694903
        stop time: 29.768596
        stop time: 29.759281
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [29.384792, 29.607758, 29.537485, 29.605871, 29.681427, 29.694903, 29.768596, 29.759281]
    [exp] Throughput: 1349.982481657018
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   296.80ms   58.93ms 615.90ms   85.67%
        Req/Sec   220.15     64.02   363.00     77.68%
        Latency Distribution
        50%  281.30ms
        75%  310.86ms
        90%  357.23ms
        99%  523.30ms
        4933 requests in 3.02s, 2.86MB read
        Requests/sec:   1634.70
        Transfer/sec:      0.95MB
        [run.sh] Speed is 1634.70, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-xrm6c        504m         41Mi
        service1-c6cc4d879-6tr5c         314m         16Mi
        service2-c8574fb79-twnnl         205m         10Mi
        ubuntu-client-76886f6bbd-wq6p7   23m          0Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   304.60ms   46.54ms 803.65ms   75.44%
        Req/Sec   209.77     57.23   460.00     66.40%
        Latency Distribution
        50%  297.54ms
        75%  327.81ms
        90%  364.46ms
        99%  438.48ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 23.715214
        stop time: 23.963061
        stop time: 23.973281
        stop time: 23.994399
        stop time: 24.067169
        stop time: 24.039653
        stop time: 24.045499
        stop time: 23.957320
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.715214, 23.963061, 23.973281, 23.994399, 24.067169, 24.039653, 24.045499, 23.95732]
    [exp] Throughput: 1668.790933225229
[test.py] Baseline throughput:  2227.5874594344145
[test.py] Groundtruth:  [2884.995323242269, 2795.1405014932775]
[test.py] Slowdown:  [1349.982481657018, 1668.790933225229]
[test.py] Predicted:  [2484.778537862042, 2325.9262950590437]
[test.py] Error percentage:  [-13.87235473679895, -16.786784284495198]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2227.5874594344145
    Groundtruth: [2884.995323242269, 2795.1405014932775]
    Slowdown:    [1349.982481657018, 1668.790933225229]
    Predicted:   [2484.778537862042, 2325.9262950590437]
    Error Perc:  [-13.87235473679895, -16.786784284495198]
