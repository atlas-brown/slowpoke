[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 10000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '10000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   235.54ms   53.96ms 509.38ms   82.91%
        Req/Sec   276.81     68.11   450.00     76.79%
        Latency Distribution
        50%  223.05ms
        75%  249.73ms
        90%  296.04ms
        99%  448.73ms
        6277 requests in 3.03s, 3.63MB read
        Requests/sec:   2068.92
        Transfer/sec:      1.20MB
        [run.sh] Speed is 2068.92, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   226.93ms   56.63ms 788.63ms   86.39%
        Req/Sec   282.72     62.96   484.00     73.51%
        Latency Distribution
        50%  219.78ms
        75%  241.62ms
        90%  270.55ms
        99%  478.01ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.706214
        stop time: 17.799045
        stop time: 17.804382
        stop time: 17.845878
        stop time: 17.906791
        stop time: 17.917318
        stop time: 17.861207
        stop time: 17.916885
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.706214, 17.799045, 17.804382, 17.845878, 17.906791, 17.917318, 17.861207, 17.916885]
    [exp] Throughput: 2241.56003612274
[test.py] Baseline throughput: 2241.56003612274
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '10000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.79ms   24.86ms 297.95ms   74.24%
        Req/Sec   360.96     75.46   484.00     85.00%
        Latency Distribution
        50%  169.19ms
        75%  185.20ms
        90%  204.39ms
        99%  248.78ms
        8632 requests in 3.03s, 5.00MB read
        Requests/sec:   2848.13
        Transfer/sec:      1.65MB
        [run.sh] Speed is 2848.13, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.45ms   26.26ms 336.68ms   76.52%
        Req/Sec   372.52     55.62     0.96k    76.65%
        Latency Distribution
        50%  167.87ms
        75%  183.88ms
        90%  205.35ms
        99%  246.92ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.341782
        stop time: 13.520505
        stop time: 13.494022
        stop time: 13.504399
        stop time: 13.527754
        stop time: 13.572236
        stop time: 13.525722
        stop time: 13.564358
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-98dfccb74-fzwqz         344m         41Mi
        service1-68c47cd7c4-229jf        539m         16Mi
        service2-5884598b98-x8bdb        964m         10Mi
        ubuntu-client-76886f6bbd-758zp   13m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.341782, 13.520505, 13.494022, 13.504399, 13.527754, 13.572236, 13.525722, 13.564358]
    [exp] Throughput: 2961.5705312182017
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '10000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.78ms   30.43ms 441.70ms   83.87%
        Req/Sec   358.64     77.67   505.00     84.94%
        Latency Distribution
        50%  169.86ms
        75%  184.40ms
        90%  204.24ms
        99%  300.55ms
        8554 requests in 3.03s, 4.95MB read
        Requests/sec:   2826.19
        Transfer/sec:      1.64MB
        [run.sh] Speed is 2826.19, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.35ms   28.90ms 444.48ms   80.78%
        Req/Sec   374.02     57.93   818.00     78.30%
        Latency Distribution
        50%  167.33ms
        75%  183.31ms
        90%  204.18ms
        99%  258.68ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.255887
        stop time: 13.354662
        stop time: 13.378557
        stop time: 13.561540
        stop time: 13.549891
        stop time: 13.576529
        stop time: 13.577605
        stop time: 13.553919
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.255887, 13.354662, 13.378557, 13.56154, 13.549891, 13.576529, 13.577605, 13.553919]
    [exp] Throughput: 2968.2235896045017
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '10000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   314.52ms   61.46ms 645.01ms   86.87%
        Req/Sec   193.57     59.14   333.00     75.83%
        Latency Distribution
        50%  310.06ms
        75%  332.16ms
        90%  360.90ms
        99%  556.63ms
        4630 requests in 3.03s, 2.68MB read
        Requests/sec:   1530.44
        Transfer/sec:      0.89MB
        [run.sh] Speed is 1530.44, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-98dfccb74-cq8f5         1138m        45Mi
        service1-676d6cdf6-rt7p9         703m         16Mi
        service2-78d948d668-wgqf8        122m         10Mi
        ubuntu-client-76886f6bbd-zkgvh   27m          10Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   322.13ms   33.33ms 674.64ms   76.57%
        Req/Sec   198.62     50.80   414.00     69.38%
        Latency Distribution
        50%  319.29ms
        75%  338.89ms
        90%  361.94ms
        99%  409.60ms
        40000 requests in 39.00s, 23.16MB read
        Requests/sec:   1025.64
        Transfer/sec:    607.97KB
        ------------------------------
        stop time: 25.138470
        stop time: 25.299872
        stop time: 25.275533
        stop time: 25.316636
        stop time: 25.464930
        stop time: 25.414466
        stop time: 25.409433
        stop time: 25.491892
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.13847, 25.299872, 25.275533, 25.316636, 25.46493, 25.414466, 25.409433, 25.491892]
    [exp] Throughput: 1577.8218831588183
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '10000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   259.78ms   45.98ms 575.94ms   87.48%
        Req/Sec   248.07     59.66   404.00     77.88%
        Latency Distribution
        50%  249.56ms
        75%  269.98ms
        90%  296.26ms
        99%  463.06ms
        5657 requests in 3.03s, 3.27MB read
        Requests/sec:   1868.69
        Transfer/sec:      1.08MB
        [run.sh] Speed is 1868.69, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   252.14ms   28.06ms 501.11ms   73.42%
        Req/Sec   254.08     53.53   440.00     68.97%
        Latency Distribution
        50%  249.40ms
        75%  267.08ms
        90%  286.79ms
        99%  331.83ms
        40000 requests in 32.00s, 23.16MB read
        Requests/sec:   1249.99
        Transfer/sec:    740.96KB
        ------------------------------
        stop time: 19.746430
        stop time: 19.786264
        stop time: 19.869943
        stop time: 19.856526
        stop time: 19.896419
        stop time: 19.888970
        stop time: 19.831833
        stop time: 19.927982
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [19.74643, 19.786264, 19.869943, 19.856526, 19.896419, 19.88897, 19.831833, 19.927982]
    [exp] Throughput: 2015.0579360327035
[test.py] Baseline throughput:  2241.56003612274
[test.py] Groundtruth:  [2961.5705312182017, 2968.2235896045017]
[test.py] Slowdown:  [1577.8218831588183, 2015.0579360327035]
[test.py] Predicted:  [3384.2653995074534, 3058.443987757163]
[test.py] Error percentage:  [14.272659179769114, 3.0395418481490704]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2241.56003612274
    Groundtruth: [2961.5705312182017, 2968.2235896045017]
    Slowdown:    [1577.8218831588183, 2015.0579360327035]
    Predicted:   [3384.2653995074534, 3058.443987757163]
    Error Perc:  [14.272659179769114, 3.0395418481490704]
