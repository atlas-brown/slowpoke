[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   235.72ms   45.53ms 536.84ms   80.46%
        Req/Sec   259.00     74.02   414.00     76.72%
        Latency Distribution
        50%  233.33ms
        75%  241.66ms
        90%  262.10ms
        99%  429.02ms
        6053 requests in 3.02s, 3.50MB read
        Requests/sec:   2001.83
        Transfer/sec:      1.16MB
        [run.sh] Speed is 2001.83, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   232.87ms   83.24ms   1.13s    88.24%
        Req/Sec   276.45     71.65   606.00     72.02%
        Latency Distribution
        50%  225.49ms
        75%  241.41ms
        90%  284.01ms
        99%  620.64ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.819188
        stop time: 17.952251
        stop time: 18.129052
        stop time: 18.327540
        stop time: 18.373950
        stop time: 18.349000
        stop time: 18.366364
        stop time: 18.310775
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-tbsdp        598m         40Mi
        ubuntu-client-76886f6bbd-nghqx   26m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.819188, 17.952251, 18.129052, 18.32754, 18.37395, 18.349, 18.366364, 18.310775]
    [exp] Throughput: 2197.3778141199655
[test.py] Baseline throughput: 2197.3778141199655
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.31ms   31.34ms 327.26ms   76.82%
        Req/Sec   348.25     75.58   515.00     79.17%
        Latency Distribution
        50%  173.47ms
        75%  192.04ms
        90%  221.98ms
        99%  281.97ms
        8325 requests in 3.02s, 4.82MB read
        Requests/sec:   2754.24
        Transfer/sec:      1.59MB
        [run.sh] Speed is 2754.24, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.07ms   28.28ms 387.82ms   77.76%
        Req/Sec   362.73     56.52     0.93k    75.66%
        Latency Distribution
        50%  171.84ms
        75%  188.56ms
        90%  211.26ms
        99%  262.37ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.768372
        stop time: 13.864801
        stop time: 13.883276
        stop time: 13.832858
        stop time: 13.865038
        stop time: 13.882882
        stop time: 13.921227
        stop time: 13.885786
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-xzwls        10m          39Mi
        service1-76dc8bbc57-lrlqc        1197m        16Mi
        service2-65c58f846f-wzfjq        726m         9Mi
        ubuntu-client-76886f6bbd-r7wpd   12m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.768372, 13.864801, 13.883276, 13.832858, 13.865038, 13.882882, 13.921227, 13.885786]
    [exp] Throughput: 2885.372101192885
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   183.84ms   30.56ms 429.85ms   79.44%
        Req/Sec   347.03     67.89   494.00     84.48%
        Latency Distribution
        50%  177.40ms
        75%  195.03ms
        90%  219.76ms
        99%  295.31ms
        8101 requests in 3.02s, 4.69MB read
        Requests/sec:   2679.12
        Transfer/sec:      1.55MB
        [run.sh] Speed is 2679.12, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.42ms   28.73ms 406.66ms   78.41%
        Req/Sec   354.87     54.78   760.00     71.49%
        Latency Distribution
        50%  176.67ms
        75%  193.48ms
        90%  214.38ms
        99%  266.83ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 14.010102
        stop time: 13.982178
        stop time: 14.198059
        stop time: 14.235121
        stop time: 14.244357
        stop time: 14.235150
        stop time: 14.296887
        stop time: 14.297461
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-ptxlr        507m         40Mi
        service1-76dc8bbc57-wl9fp        589m         15Mi
        service2-65c58f846f-h4dbt        327m         9Mi
        ubuntu-client-76886f6bbd-fgg2b   31m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.010102, 13.982178, 14.198059, 14.235121, 14.244357, 14.23515, 14.296887, 14.297461]
    [exp] Throughput: 2819.4002756756727
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   376.30ms   64.52ms 745.03ms   78.70%
        Req/Sec   167.03     61.58   323.00     66.67%
        Latency Distribution
        50%  365.79ms
        75%  404.02ms
        90%  449.85ms
        99%  594.14ms
        3821 requests in 3.02s, 2.21MB read
        Requests/sec:   1264.26
        Transfer/sec:    749.42KB
        [run.sh] Speed is 1264.26, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-f8xx7        1223m        44Mi
        service1-85d68db775-p7v7l        984m         18Mi
        service2-7bc7f7f6b7-pvbgg        503m         10Mi
        ubuntu-client-76886f6bbd-sj62d   45m          11Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.56ms   47.31ms 747.45ms   76.01%
        Req/Sec   171.29     47.23   350.00     66.82%
        Latency Distribution
        50%  366.49ms
        75%  398.67ms
        90%  435.73ms
        99%  496.54ms
        40000 requests in 47.00s, 23.16MB read
        Requests/sec:    851.06
        Transfer/sec:    504.49KB
        ------------------------------
        stop time: 29.184020
        stop time: 29.177957
        stop time: 29.232015
        stop time: 29.327807
        stop time: 29.397346
        stop time: 29.472619
        stop time: 29.547744
        stop time: 29.621313
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.18402, 29.177957, 29.232015, 29.327807, 29.397346, 29.472619, 29.547744, 29.621313]
    [exp] Throughput: 1361.929187334598
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   294.23ms   65.44ms 665.76ms   89.21%
        Req/Sec   223.70     70.09   393.00     75.78%
        Latency Distribution
        50%  276.36ms
        75%  309.18ms
        90%  347.74ms
        99%  580.81ms
        4994 requests in 3.02s, 2.89MB read
        Requests/sec:   1655.25
        Transfer/sec:      0.96MB
        [run.sh] Speed is 1655.25, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   302.79ms   47.48ms 766.79ms   75.31%
        Req/Sec   211.30     56.09   450.00     67.35%
        Latency Distribution
        50%  295.66ms
        75%  326.73ms
        90%  363.26ms
        99%  438.35ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 23.577395
        stop time: 23.634974
        stop time: 23.856179
        stop time: 23.855456
        stop time: 23.922882
        stop time: 23.904562
        stop time: 23.929136
        stop time: 23.899365
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [23.577395, 23.634974, 23.856179, 23.855456, 23.922882, 23.904562, 23.929136, 23.899365]
    [exp] Throughput: 1679.0853480604094
[test.py] Baseline throughput:  2197.3778141199655
[test.py] Groundtruth:  [2885.372101192885, 2819.4002756756727]
[test.py] Slowdown:  [1361.929187334598, 1679.0853480604094]
[test.py] Predicted:  [2525.5550457705153, 2345.973136012361]
[test.py] Error percentage:  [-12.470386584579936, -16.791767516936]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2197.3778141199655
    Groundtruth: [2885.372101192885, 2819.4002756756727]
    Slowdown:    [1361.929187334598, 1679.0853480604094]
    Predicted:   [2525.5550457705153, 2345.973136012361]
    Error Perc:  [-12.470386584579936, -16.791767516936]
