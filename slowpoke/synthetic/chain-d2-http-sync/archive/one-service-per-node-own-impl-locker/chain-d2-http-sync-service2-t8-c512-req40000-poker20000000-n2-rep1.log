[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 538]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   389.95ms   98.31ms 784.31ms   85.95%
        Req/Sec   174.18     51.04   282.00     67.79%
        Latency Distribution
        50%  355.11ms
        75%  391.31ms
        90%  541.35ms
        99%  738.20ms
        3702 requests in 3.02s, 2.14MB read
        Requests/sec:   1225.69
        Transfer/sec:    726.56KB
        [run.sh] Speed is 1225.69, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-jzh6g        1446m        46Mi
        service1-b4658cd9f-s7b56         869m         16Mi
        service2-554c5f44f7-9ckdm        1641m        11Mi
        ubuntu-client-76886f6bbd-z5c27   28m          12Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   368.94ms   67.74ms   1.12s    88.06%
        Req/Sec   174.13     44.92   464.00     70.76%
        Latency Distribution
        50%  360.20ms
        75%  386.73ms
        90%  424.01ms
        99%  643.46ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 28.655719
        stop time: 28.879689
        stop time: 28.813111
        stop time: 28.980636
        stop time: 29.110839
        stop time: 29.165628
        stop time: 29.138604
        stop time: 29.197476
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.655719, 28.879689, 28.813111, 28.980636, 29.110839, 29.165628, 29.138604, 29.197476]
    [exp] Throughput: 1379.6570312310632
[test.py] Baseline throughput: 1379.6570312310632
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   404.63ms  221.86ms   1.42s    83.27%
        Req/Sec   158.27     62.17   410.00     72.84%
        Latency Distribution
        50%  349.78ms
        75%  413.16ms
        90%  685.54ms
        99%    1.29s
        3687 requests in 3.03s, 2.13MB read
        Requests/sec:   1217.10
        Transfer/sec:    721.46KB
        [run.sh] Speed is 1217.10, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d49s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-qq8ff        600m         34Mi
        service1-b4658cd9f-6pn8r         400m         14Mi
        ubuntu-client-76886f6bbd-4hngr   20m          0Mi
        Running 49s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   379.56ms  160.74ms   2.03s    89.22%
        Req/Sec   171.76     53.56   404.00     73.87%
        Latency Distribution
        50%  359.63ms
        75%  394.44ms
        90%  457.29ms
        99%    1.15s
        40000 requests in 49.00s, 23.16MB read
        Requests/sec:    816.32
        Transfer/sec:    483.90KB
        ------------------------------
        stop time: 29.654653
        stop time: 29.563358
        stop time: 29.136621
        stop time: 29.710091
        stop time: 29.181512
        stop time: 29.439342
        stop time: 29.641672
        stop time: 29.658305
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.654653, 29.563358, 29.136621, 29.710091, 29.181512, 29.439342, 29.641672, 29.658305]
    [exp] Throughput: 1356.015207608852
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.000538', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   411.86ms  112.21ms   1.20s    87.11%
        Req/Sec   155.61     56.52   303.00     75.45%
        Latency Distribution
        50%  387.56ms
        75%  426.32ms
        90%  518.58ms
        99%  869.32ms
        3504 requests in 3.03s, 2.03MB read
        Requests/sec:   1156.10
        Transfer/sec:    685.30KB
        [run.sh] Speed is 1156.10, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d51s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-tvcsb        1698m        45Mi
        service1-b4658cd9f-k5kkl         1184m        15Mi
        service2-554c5f44f7-4rdbr        360m         9Mi
        ubuntu-client-76886f6bbd-b64fb   47m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   372.02ms   85.76ms   1.33s    86.34%
        Req/Sec   170.78     47.18   440.00     70.51%
        Latency Distribution
        50%  363.98ms
        75%  394.11ms
        90%  436.74ms
        99%  750.03ms
        40000 requests in 0.85m, 23.16MB read
        Requests/sec:    784.31
        Transfer/sec:    464.92KB
        ------------------------------
        stop time: 29.130769
        stop time: 29.259533
        stop time: 29.596038
        stop time: 29.318328
        stop time: 29.476108
        stop time: 29.609409
        stop time: 29.609167
        stop time: 29.665682
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.130769, 29.259533, 29.596038, 29.318328, 29.476108, 29.609409, 29.609167, 29.665682]
    [exp] Throughput: 1357.8594777874428
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   563.12ms  125.80ms 964.03ms   72.39%
        Req/Sec   107.08     60.81   360.00     67.98%
        Latency Distribution
        50%  586.55ms
        75%  643.04ms
        90%  694.44ms
        99%  835.73ms
        2470 requests in 3.02s, 1.43MB read
        Requests/sec:    818.40
        Transfer/sec:    485.13KB
        [run.sh] Speed is 818.40, duration is 73
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d73s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7ffd77698d-nm8xf        1208m        42Mi
        service1-769d87c95d-x4xm8        761m         14Mi
        service2-554c5f44f7-zh7xc        986m         9Mi
        ubuntu-client-76886f6bbd-k2d9c   30m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   622.34ms   89.96ms   1.53s    81.63%
        Req/Sec   103.42     46.34   390.00     68.95%
        Latency Distribution
        50%  623.33ms
        75%  663.55ms
        90%  710.44ms
        99%  833.18ms
        40000 requests in 1.22m, 23.16MB read
        Requests/sec:    547.94
        Transfer/sec:    324.81KB
        ------------------------------
        stop time: 48.508787
        stop time: 48.686428
        stop time: 48.834666
        stop time: 48.826913
        stop time: 48.935906
        stop time: 49.168700
        stop time: 49.270572
        stop time: 49.268076
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [48.508787, 48.686428, 48.834666, 48.826913, 48.935906, 49.1687, 49.270572, 49.268076]
    [exp] Throughput: 817.3689930173393
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   470.15ms   97.00ms 767.83ms   71.80%
        Req/Sec   130.69     70.58   313.00     65.80%
        Latency Distribution
        50%  482.20ms
        75%  534.90ms
        90%  586.74ms
        99%  646.67ms
        3043 requests in 3.03s, 1.76MB read
        Requests/sec:   1004.05
        Transfer/sec:    595.17KB
        [run.sh] Speed is 1004.05, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-56d65df5fc-99vzm        1108m        44Mi
        service1-67dfd994cf-6wks6        787m         14Mi
        service2-554c5f44f7-n7blj        1269m        10Mi
        ubuntu-client-76886f6bbd-d8jh5   32m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   477.29ms  105.12ms   1.10s    76.33%
        Req/Sec   135.14     58.32   400.00     69.58%
        Latency Distribution
        50%  472.32ms
        75%  521.74ms
        90%  604.43ms
        99%  784.79ms
        40000 requests in 0.98m, 23.16MB read
        Requests/sec:    677.96
        Transfer/sec:    401.88KB
        ------------------------------
        stop time: 37.071003
        stop time: 37.335633
        stop time: 37.627472
        stop time: 37.547830
        stop time: 37.617746
        stop time: 37.744778
        stop time: 37.799235
        stop time: 37.861724
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.071003, 37.335633, 37.627472, 37.54783, 37.617746, 37.744778, 37.799235, 37.861724]
    [exp] Throughput: 1064.5183940312243
[test.py] Baseline throughput:  1379.6570312310632
[test.py] Groundtruth:  [1356.015207608852, 1357.8594777874428]
[test.py] Slowdown:  [817.3689930173393, 1064.5183940312243]
[test.py] Predicted:  [1460.5306560637987, 1493.3465275476867]
[test.py] Error percentage:  [7.707542501624697, 9.977987558846124]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1379.6570312310632
    Groundtruth: [1356.015207608852, 1357.8594777874428]
    Slowdown:    [817.3689930173393, 1064.5183940312243]
    Predicted:   [1460.5306560637987, 1493.3465275476867]
    Error Perc:  [7.707542501624697, 9.977987558846124]
