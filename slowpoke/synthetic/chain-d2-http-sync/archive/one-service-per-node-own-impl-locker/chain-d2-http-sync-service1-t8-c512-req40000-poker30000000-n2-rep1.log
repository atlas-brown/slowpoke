[config.py] Random numbers for execution time: [452.4185451586567, 524.4164304797239, 701.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 701.5, 'service1': 524.42, 'service2': 452.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 524.42]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 262]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   250.95ms   58.37ms 519.87ms   80.15%
        Req/Sec   255.38     84.70   474.00     75.76%
        Latency Distribution
        50%  238.32ms
        75%  268.50ms
        90%  320.27ms
        99%  471.64ms
        5889 requests in 3.02s, 3.41MB read
        Requests/sec:   1947.11
        Transfer/sec:      1.13MB
        [run.sh] Speed is 1947.11, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.73ms   55.35ms 834.12ms   86.17%
        Req/Sec   273.38     58.30   494.00     71.20%
        Latency Distribution
        50%  225.72ms
        75%  246.17ms
        90%  277.51ms
        99%  502.53ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 18.195335
        stop time: 18.283747
        stop time: 18.441789
        stop time: 18.416282
        stop time: 18.393471
        stop time: 18.504589
        stop time: 18.516433
        stop time: 18.451310
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [18.195335, 18.283747, 18.441789, 18.416282, 18.393471, 18.504589, 18.516433, 18.45131]
    [exp] Throughput: 2173.8693888728703
[test.py] Baseline throughput: 2173.8693888728703
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   249.59ms  122.39ms   1.15s    88.28%
        Req/Sec   262.34     67.94   434.00     74.25%
        Latency Distribution
        50%  224.08ms
        75%  246.93ms
        90%  332.05ms
        99%  849.13ms
        6173 requests in 3.03s, 3.57MB read
        Requests/sec:   2035.01
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2035.01, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   234.01ms   93.13ms   1.23s    88.49%
        Req/Sec   275.92     61.51   510.00     75.07%
        Latency Distribution
        50%  222.45ms
        75%  244.17ms
        90%  282.07ms
        99%  671.41ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 18.132402
        stop time: 18.018052
        stop time: 18.222523
        stop time: 18.342576
        stop time: 18.212438
        stop time: 18.325487
        stop time: 18.302152
        stop time: 18.306139
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-pds4n        1939m        44Mi
        service1-69bf8b98cb-kbcbn        586m         15Mi
        service2-54d57f45b4-n44rg        575m         10Mi
        ubuntu-client-76886f6bbd-jwmhr   71m          14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.132402, 18.018052, 18.222523, 18.342576, 18.212438, 18.325487, 18.302152, 18.306139]
    [exp] Throughput: 2193.8579395674274
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.000262', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.54ms   70.02ms 608.66ms   79.47%
        Req/Sec   274.24     95.84   550.00     78.57%
        Latency Distribution
        50%  224.77ms
        75%  253.38ms
        90%  342.65ms
        99%  483.54ms
        6144 requests in 3.03s, 3.56MB read
        Requests/sec:   2026.61
        Transfer/sec:      1.17MB
        [run.sh] Speed is 2026.61, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   230.55ms   57.84ms   1.06s    88.67%
        Req/Sec   278.07     62.18   650.00     74.37%
        Latency Distribution
        50%  223.96ms
        75%  243.77ms
        90%  271.73ms
        99%  445.05ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.761959
        stop time: 18.045165
        stop time: 18.023714
        stop time: 18.044138
        stop time: 18.136447
        stop time: 18.146064
        stop time: 18.169045
        stop time: 18.216556
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.761959, 18.045165, 18.023714, 18.044138, 18.136447, 18.146064, 18.169045, 18.216556]
    [exp] Throughput: 2213.8727242356963
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '262.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.08ms  132.92ms 852.67ms   77.91%
        Req/Sec   182.58     83.59   373.00     62.56%
        Latency Distribution
        50%  320.79ms
        75%  405.79ms
        90%  524.24ms
        99%  786.98ms
        4209 requests in 3.03s, 2.44MB read
        Requests/sec:   1390.83
        Transfer/sec:    824.44KB
        [run.sh] Speed is 1390.83, duration is 43
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d43s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-84cc76fc54-cmznc        1328m        45Mi
        service1-69bf8b98cb-5jwcm        1110m        17Mi
        service2-559ffb9658-dtnrp        812m         12Mi
        ubuntu-client-76886f6bbd-t4nrh   50m          13Mi
        Running 43s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   351.35ms   93.48ms   1.06s    77.17%
        Req/Sec   183.77     73.98   525.00     69.56%
        Latency Distribution
        50%  341.27ms
        75%  397.24ms
        90%  464.19ms
        99%  637.50ms
        40000 requests in 43.00s, 23.16MB read
        Requests/sec:    930.23
        Transfer/sec:    551.42KB
        ------------------------------
        stop time: 27.428838
        stop time: 27.349789
        stop time: 27.502980
        stop time: 27.646510
        stop time: 27.742955
        stop time: 27.742210
        stop time: 27.770781
        stop time: 27.767412
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.428838, 27.349789, 27.50298, 27.64651, 27.742955, 27.74221, 27.770781, 27.767412]
    [exp] Throughput: 1448.2818003364764
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '131.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '131.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.97ms   72.93ms 739.26ms   69.59%
        Req/Sec   224.54     90.97   414.00     65.62%
        Latency Distribution
        50%  282.03ms
        75%  324.17ms
        90%  379.92ms
        99%  514.78ms
        5068 requests in 3.03s, 2.93MB read
        Requests/sec:   1673.88
        Transfer/sec:      0.97MB
        [run.sh] Speed is 1673.88, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.23ms   98.59ms 941.75ms   76.43%
        Req/Sec   226.29     93.35   515.00     66.15%
        Latency Distribution
        50%  262.75ms
        75%  331.37ms
        90%  421.89ms
        99%  582.32ms
        40000 requests in 35.00s, 23.16MB read
        Requests/sec:   1142.85
        Transfer/sec:    677.45KB
        ------------------------------
        stop time: 22.311532
        stop time: 22.234047
        stop time: 22.313051
        stop time: 22.413815
        stop time: 22.538970
        stop time: 22.435835
        stop time: 22.551944
        stop time: 22.520547
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [22.311532, 22.234047, 22.313051, 22.413815, 22.53897, 22.435835, 22.551944, 22.520547]
    [exp] Throughput: 1784.521872580666
[test.py] Baseline throughput:  2173.8693888728703
[test.py] Groundtruth:  [2193.8579395674274, 2213.8727242356963]
[test.py] Slowdown:  [1448.2818003364764, 1784.521872580666]
[test.py] Predicted:  [2335.011805491327, 2330.1105307590574]
[test.py] Error percentage:  [6.434047682765249, 5.250428592885362]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2173.8693888728703
    Groundtruth: [2193.8579395674274, 2213.8727242356963]
    Slowdown:    [1448.2818003364764, 1784.521872580666]
    Predicted:   [2335.011805491327, 2330.1105307590574]
    Error Perc:  [6.434047682765249, 5.250428592885362]
