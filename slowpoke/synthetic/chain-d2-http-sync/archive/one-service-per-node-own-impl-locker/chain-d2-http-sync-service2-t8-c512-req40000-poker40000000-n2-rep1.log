[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 538]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   401.73ms  100.18ms 820.20ms   80.22%
        Req/Sec   165.05     56.99   333.00     74.07%
        Latency Distribution
        50%  371.10ms
        75%  416.13ms
        90%  562.71ms
        99%  728.43ms
        3595 requests in 3.03s, 2.08MB read
        Requests/sec:   1185.86
        Transfer/sec:    702.95KB
        [run.sh] Speed is 1185.86, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   365.82ms   89.30ms   1.35s    90.64%
        Req/Sec   175.11     49.08   410.00     70.87%
        Latency Distribution
        50%  354.88ms
        75%  381.70ms
        90%  417.14ms
        99%  793.76ms
        40001 requests in 50.00s, 23.16MB read
        Requests/sec:    800.02
        Transfer/sec:    474.23KB
        ------------------------------
        stop time: 28.430938
        stop time: 28.643601
        stop time: 28.689989
        stop time: 28.667539
        stop time: 28.954079
        stop time: 28.800385
        stop time: 28.964385
        stop time: 28.972492
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [28.430938, 28.643601, 28.689989, 28.667539, 28.954079, 28.800385, 28.964385, 28.972492]
    [exp] Throughput: 1390.558234736381
[test.py] Baseline throughput: 1390.558234736381
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   383.60ms   90.47ms 951.72ms   84.59%
        Req/Sec   166.83     61.37   333.00     70.54%
        Latency Distribution
        50%  358.24ms
        75%  392.43ms
        90%  501.76ms
        99%  739.17ms
        3783 requests in 3.03s, 2.19MB read
        Requests/sec:   1248.79
        Transfer/sec:    740.25KB
        [run.sh] Speed is 1248.79, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-twl49        851m         47Mi
        service1-76dc8bbc57-mk9x9        561m         15Mi
        service2-65c58f846f-fwz28        14m          9Mi
        ubuntu-client-76886f6bbd-gx8sb   1m           11Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   369.74ms  171.47ms   2.14s    90.03%
        Req/Sec   175.49     50.06   440.00     71.77%
        Latency Distribution
        50%  350.02ms
        75%  382.54ms
        90%  440.14ms
        99%    1.21s
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 28.713327
        stop time: 28.622066
        stop time: 28.578637
        stop time: 28.705729
        stop time: 28.713968
        stop time: 28.583489
        stop time: 28.520077
        stop time: 28.824010
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.713327, 28.622066, 28.578637, 28.705729, 28.713968, 28.583489, 28.520077, 28.82401]
    [exp] Throughput: 1395.7872340976794
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.000538', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   380.68ms  101.88ms   1.06s    85.49%
        Req/Sec   168.08     59.27   313.00     72.77%
        Latency Distribution
        50%  356.65ms
        75%  388.70ms
        90%  488.55ms
        99%  815.75ms
        3768 requests in 3.02s, 2.18MB read
        Requests/sec:   1246.73
        Transfer/sec:    739.03KB
        [run.sh] Speed is 1246.73, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-gqxdk        1944m        43Mi
        service1-76dc8bbc57-6b8wm        1314m        14Mi
        service2-65c58f846f-5x55q        953m         9Mi
        ubuntu-client-76886f6bbd-5zd8k   48m          14Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   369.40ms  131.79ms   2.12s    91.47%
        Req/Sec   175.13     46.36   390.00     72.77%
        Latency Distribution
        50%  354.44ms
        75%  382.78ms
        90%  425.37ms
        99%  973.54ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 28.388432
        stop time: 28.492110
        stop time: 28.661471
        stop time: 28.908446
        stop time: 28.798607
        stop time: 28.957151
        stop time: 28.866282
        stop time: 28.880676
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.388432, 28.49211, 28.661471, 28.908446, 28.798607, 28.957151, 28.866282, 28.880676]
    [exp] Throughput: 1391.5876569218929
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   568.91ms  135.69ms   1.09s    80.37%
        Req/Sec   109.43     50.75   260.00     72.14%
        Latency Distribution
        50%  532.64ms
        75%  617.46ms
        90%  695.42ms
        99%  990.92ms
        2420 requests in 3.03s, 1.40MB read
        Requests/sec:    799.29
        Transfer/sec:    473.80KB
        [run.sh] Speed is 799.29, duration is 75
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d75s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   621.19ms  134.43ms   1.72s    76.64%
        Req/Sec   104.76     52.27   356.00     64.83%
        Latency Distribution
        50%  607.05ms
        75%  690.00ms
        90%  781.01ms
        99%    1.02s
        40000 requests in 1.25m, 23.16MB read
        Requests/sec:    533.33
        Transfer/sec:    316.15KB
        ------------------------------
        stop time: 48.649223
        stop time: 48.864654
        stop time: 48.859407
        stop time: 48.946381
        stop time: 48.935359
        stop time: 48.925661
        stop time: 49.090031
        stop time: 49.050820
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [48.649223, 48.864654, 48.859407, 48.946381, 48.935359, 48.925661, 49.090031, 49.05082]
    [exp] Throughput: 817.7418581940759
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   498.59ms  164.70ms   1.03s    76.35%
        Req/Sec   135.22     72.56   320.00     59.79%
        Latency Distribution
        50%  454.29ms
        75%  555.45ms
        90%  780.23ms
        99%  934.89ms
        2698 requests in 3.02s, 1.56MB read
        Requests/sec:    893.34
        Transfer/sec:    529.55KB
        [run.sh] Speed is 893.34, duration is 67
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d67s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-f9bc574d9-jw8xb         1511m        46Mi
        service1-7d558f85df-96bcq        998m         17Mi
        service2-65c58f846f-dnbr7        1269m        10Mi
        ubuntu-client-76886f6bbd-c9dfh   38m          16Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   476.03ms  144.54ms   2.02s    77.28%
        Req/Sec   137.23     65.50   380.00     66.51%
        Latency Distribution
        50%  453.79ms
        75%  543.33ms
        90%  651.70ms
        99%  986.67ms
        40000 requests in 1.12m, 23.16MB read
        Requests/sec:    597.01
        Transfer/sec:    353.89KB
        ------------------------------
        stop time: 37.093489
        stop time: 37.551919
        stop time: 37.369174
        stop time: 37.090717
        stop time: 37.401933
        stop time: 37.556066
        stop time: 37.641740
        stop time: 37.752784
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.093489, 37.551919, 37.369174, 37.090717, 37.401933, 37.556066, 37.64174, 37.752784]
    [exp] Throughput: 1068.5979009090638
[test.py] Baseline throughput:  1390.558234736381
[test.py] Groundtruth:  [1395.7872340976794, 1391.5876569218929]
[test.py] Slowdown:  [817.7418581940759, 1068.5979009090638]
[test.py] Predicted:  [1461.7216040114315, 1501.3872207981622]
[test.py] Error percentage:  [4.723812362159626, 7.890236977176074]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1390.558234736381
    Groundtruth: [1395.7872340976794, 1391.5876569218929]
    Slowdown:    [817.7418581940759, 1068.5979009090638]
    Predicted:   [1461.7216040114315, 1501.3872207981622]
    Error Perc:  [4.723812362159626, 7.890236977176074]
