[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 80000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.54ms   73.67ms 675.26ms   82.04%
        Req/Sec   266.39     82.31   410.00     70.69%
        Latency Distribution
        50%  223.95ms
        75%  257.42ms
        90%  325.10ms
        99%  518.94ms
        6186 requests in 3.03s, 3.58MB read
        Requests/sec:   2039.90
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2039.90, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   226.97ms   42.99ms 700.31ms   85.50%
        Req/Sec   282.78     54.38   530.00     71.66%
        Latency Distribution
        50%  220.46ms
        75%  239.39ms
        90%  265.12ms
        99%  398.76ms
        80000 requests in 0.97m, 46.31MB read
        Requests/sec:   1379.31
        Transfer/sec:    817.62KB
        ------------------------------
        stop time: 35.417875
        stop time: 35.478494
        stop time: 35.439405
        stop time: 35.608315
        stop time: 35.576249
        stop time: 35.625293
        stop time: 35.673499
        stop time: 35.692429
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [35.417875, 35.478494, 35.439405, 35.608315, 35.576249, 35.625293, 35.673499, 35.692429]
    [exp] Throughput: 2249.4692386118486
[test.py] Baseline throughput: 2249.4692386118486
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.46ms   26.92ms 311.20ms   76.72%
        Req/Sec   361.50     67.12   490.00     81.67%
        Latency Distribution
        50%  168.06ms
        75%  185.52ms
        90%  206.99ms
        99%  255.98ms
        8644 requests in 3.03s, 5.00MB read
        Requests/sec:   2855.39
        Transfer/sec:      1.65MB
        [run.sh] Speed is 2855.39, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-lf8tr        264m         40Mi
        service1-745ff764dc-8f47f        608m         15Mi
        ubuntu-client-76886f6bbd-vz6ck   32m          0Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.66ms   26.04ms 362.08ms   75.99%
        Req/Sec   373.30     50.36   640.00     73.64%
        Latency Distribution
        50%  167.04ms
        75%  183.23ms
        90%  205.30ms
        99%  255.19ms
        80000 requests in 42.00s, 46.31MB read
        Requests/sec:   1904.76
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 26.864118
        stop time: 26.934244
        stop time: 26.997431
        stop time: 26.895729
        stop time: 26.978530
        stop time: 26.988089
        stop time: 26.911592
        stop time: 26.904780
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.864118, 26.934244, 26.997431, 26.895729, 26.97853, 26.988089, 26.911592, 26.90478]
    [exp] Throughput: 2970.188868694647
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   175.72ms   33.35ms 393.87ms   80.55%
        Req/Sec   366.44     78.24   494.00     84.91%
        Latency Distribution
        50%  167.12ms
        75%  187.26ms
        90%  217.29ms
        99%  302.19ms
        8517 requests in 3.03s, 4.93MB read
        Requests/sec:   2809.52
        Transfer/sec:      1.63MB
        [run.sh] Speed is 2809.52, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-cg47v        1661m        42Mi
        service1-745ff764dc-kfv7w        1913m        17Mi
        service2-55c99d4dbc-x7bzd        1142m        10Mi
        ubuntu-client-76886f6bbd-m2s48   90m          11Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.82ms   28.08ms 589.55ms   78.30%
        Req/Sec   370.77     51.10   505.00     74.06%
        Latency Distribution
        50%  168.05ms
        75%  184.91ms
        90%  206.77ms
        99%  256.45ms
        80000 requests in 42.00s, 46.31MB read
        Requests/sec:   1904.76
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 27.158259
        stop time: 27.157711
        stop time: 27.140227
        stop time: 27.079264
        stop time: 27.146534
        stop time: 27.001695
        stop time: 27.007707
        stop time: 27.142184
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.158259, 27.157711, 27.140227, 27.079264, 27.146534, 27.001695, 27.007707, 27.142184]
    [exp] Throughput: 2951.572339710609
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   336.72ms   54.51ms 668.97ms   82.36%
        Req/Sec   185.93     64.29   333.00     64.91%
        Latency Distribution
        50%  330.41ms
        75%  356.94ms
        90%  389.38ms
        99%  579.16ms
        4285 requests in 3.03s, 2.48MB read
        Requests/sec:   1416.27
        Transfer/sec:    839.52KB
        [run.sh] Speed is 1416.27, duration is 84
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d84s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   337.35ms   39.25ms 742.33ms   75.05%
        Req/Sec   189.87     50.39   390.00     70.23%
        Latency Distribution
        50%  333.75ms
        75%  358.79ms
        90%  382.81ms
        99%  440.43ms
        80000 requests in 1.40m, 46.31MB read
        Requests/sec:    952.38
        Transfer/sec:    564.55KB
        ------------------------------
        stop time: 52.575514
        stop time: 52.693800
        stop time: 52.920415
        stop time: 52.876519
        stop time: 53.038209
        stop time: 52.950924
        stop time: 52.923345
        stop time: 53.109729
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [52.575514, 52.6938, 52.920415, 52.876519, 53.038209, 52.950924, 52.923345, 53.109729]
    [exp] Throughput: 1512.6860410313016
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   267.13ms   47.76ms 592.67ms   86.06%
        Req/Sec   236.42     66.44   420.00     74.14%
        Latency Distribution
        50%  258.27ms
        75%  280.49ms
        90%  308.48ms
        99%  497.12ms
        5511 requests in 3.03s, 3.19MB read
        Requests/sec:   1820.26
        Transfer/sec:      1.05MB
        [run.sh] Speed is 1820.26, duration is 65
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d65s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-wdp78        1707m        48Mi
        service1-7465c99d97-xjv22        1297m        17Mi
        service2-5c7c666cfc-9lz8v        705m         11Mi
        ubuntu-client-76886f6bbd-ttths   63m          11Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   264.05ms   31.20ms 554.85ms   70.99%
        Req/Sec   242.85     49.79   434.00     69.76%
        Latency Distribution
        50%  260.16ms
        75%  281.87ms
        90%  305.05ms
        99%  351.69ms
        80000 requests in 1.08m, 46.31MB read
        Requests/sec:   1230.77
        Transfer/sec:    729.57KB
        ------------------------------
        stop time: 41.326203
        stop time: 41.359763
        stop time: 41.381085
        stop time: 41.419607
        stop time: 41.413541
        stop time: 41.423904
        stop time: 41.483566
        stop time: 41.434519
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.326203, 41.359763, 41.381085, 41.419607, 41.413541, 41.423904, 41.483566, 41.434519]
    [exp] Throughput: 1932.1210376741017
[test.py] Baseline throughput:  2249.4692386118486
[test.py] Groundtruth:  [2970.188868694647, 2951.572339710609]
[test.py] Slowdown:  [1512.6860410313016, 1932.1210376741017]
[test.py] Predicted:  [3098.1265507726907, 2871.369106656233]
[test.py] Error percentage:  [4.307392146893008, -2.7173053485871796]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2249.4692386118486
    Groundtruth: [2970.188868694647, 2951.572339710609]
    Slowdown:    [1512.6860410313016, 1932.1210376741017]
    Predicted:   [3098.1265507726907, 2871.369106656233]
    Error Perc:  [4.307392146893008, -2.7173053485871796]
