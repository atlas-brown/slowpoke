[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.76ms   64.82ms 531.77ms   76.34%
        Req/Sec   263.74     88.70   450.00     69.70%
        Latency Distribution
        50%  224.54ms
        75%  262.69ms
        90%  332.25ms
        99%  464.40ms
        6090 requests in 3.03s, 3.53MB read
        Requests/sec:   2010.94
        Transfer/sec:      1.16MB
        [run.sh] Speed is 2010.94, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.33ms   69.29ms 967.72ms   91.59%
        Req/Sec   282.11     58.67   484.00     74.03%
        Latency Distribution
        50%  220.40ms
        75%  239.52ms
        90%  266.24ms
        99%  503.20ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.836312
        stop time: 17.824617
        stop time: 17.737438
        stop time: 17.877282
        stop time: 17.717858
        stop time: 17.866967
        stop time: 17.898135
        stop time: 17.952248
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-f2h7t        1586m        44Mi
        service1-b4658cd9f-vsc4x         1531m        16Mi
        service2-554c5f44f7-v29tp        888m         10Mi
        ubuntu-client-76886f6bbd-rntk9   57m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.836312, 17.824617, 17.737438, 17.877282, 17.717858, 17.866967, 17.898135, 17.952248]
    [exp] Throughput: 2242.2961134624816
[test.py] Baseline throughput: 2242.2961134624816
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   169.38ms   23.87ms 304.36ms   76.91%
        Req/Sec   368.44     74.93   494.00     85.83%
        Latency Distribution
        50%  165.63ms
        75%  180.24ms
        90%  199.16ms
        99%  250.23ms
        8808 requests in 3.03s, 5.10MB read
        Requests/sec:   2910.89
        Transfer/sec:      1.69MB
        [run.sh] Speed is 2910.89, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   169.41ms   27.22ms 378.28ms   78.48%
        Req/Sec   377.08     49.53   660.00     72.17%
        Latency Distribution
        50%  164.84ms
        75%  181.09ms
        90%  203.98ms
        99%  254.61ms
        40000 requests in 20.00s, 23.16MB read
        Requests/sec:   1999.99
        Transfer/sec:      1.16MB
        ------------------------------
        stop time: 13.235648
        stop time: 13.280300
        stop time: 13.303537
        stop time: 13.306850
        stop time: 13.350895
        stop time: 13.364977
        stop time: 13.375619
        stop time: 13.429964
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-86h4g   303m         33Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.235648, 13.2803, 13.303537, 13.30685, 13.350895, 13.364977, 13.375619, 13.429964]
    [exp] Throughput: 3000.5310002204455
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.63ms   33.04ms 387.72ms   82.69%
        Req/Sec   356.84     74.05   470.00     84.91%
        Latency Distribution
        50%  172.31ms
        75%  189.73ms
        90%  214.23ms
        99%  318.71ms
        8283 requests in 3.03s, 4.79MB read
        Requests/sec:   2737.32
        Transfer/sec:      1.58MB
        [run.sh] Speed is 2737.32, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   173.17ms   29.95ms 495.38ms   81.36%
        Req/Sec   368.79     53.44   650.00     73.73%
        Latency Distribution
        50%  169.22ms
        75%  185.66ms
        90%  206.48ms
        99%  261.57ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.464002
        stop time: 13.514669
        stop time: 13.675588
        stop time: 13.697975
        stop time: 13.709204
        stop time: 13.756942
        stop time: 13.675222
        stop time: 13.628644
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-9f2r6        1644m        42Mi
        service1-b4658cd9f-2svnd         1562m        16Mi
        service2-554c5f44f7-dtpbq        460m         10Mi
        ubuntu-client-76886f6bbd-ngptv   90m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.464002, 13.514669, 13.675588, 13.697975, 13.709204, 13.756942, 13.675222, 13.628644]
    [exp] Throughput: 2932.4909606424344
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   374.26ms   84.28ms 770.09ms   81.35%
        Req/Sec   165.70     56.28   282.00     69.40%
        Latency Distribution
        50%  364.99ms
        75%  407.03ms
        90%  464.59ms
        99%  687.11ms
        3877 requests in 3.04s, 2.24MB read
        Requests/sec:   1276.99
        Transfer/sec:    756.96KB
        [run.sh] Speed is 1276.99, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                       CPU(cores)   MEMORY(bytes)
        service2-f9cb979d7-rhxbp   166m         9Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   408.40ms   63.34ms 698.61ms   66.61%
        Req/Sec   156.67     48.71   320.00     68.65%
        Latency Distribution
        50%  400.17ms
        75%  449.95ms
        90%  496.08ms
        99%  543.47ms
        40000 requests in 46.00s, 23.16MB read
        Requests/sec:    869.56
        Transfer/sec:    515.45KB
        ------------------------------
        stop time: 32.015553
        stop time: 31.943626
        stop time: 32.017465
        stop time: 32.048973
        stop time: 32.041804
        stop time: 32.203655
        stop time: 32.197263
        stop time: 32.293502
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [32.015553, 31.943626, 32.017465, 32.048973, 32.041804, 32.203655, 32.197263, 32.293502]
    [exp] Throughput: 1246.291110679488
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   316.03ms   98.96ms 859.68ms   83.70%
        Req/Sec   195.56     76.06   410.00     65.09%
        Latency Distribution
        50%  315.95ms
        75%  348.89ms
        90%  388.49ms
        99%  751.01ms
        4607 requests in 3.03s, 2.67MB read
        Requests/sec:   1522.18
        Transfer/sec:      0.88MB
        [run.sh] Speed is 1522.18, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-gc7wd        821m         44Mi
        service1-67cd8bfdf-5k7kj         853m         16Mi
        service2-5f48bfc8c9-lp6dn        708m         11Mi
        ubuntu-client-76886f6bbd-glgqn   29m          11Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   293.73ms   45.76ms 613.94ms   68.78%
        Req/Sec   217.61     71.25   424.00     65.94%
        Latency Distribution
        50%  291.71ms
        75%  323.19ms
        90%  351.90ms
        99%  408.22ms
        40000 requests in 39.00s, 23.16MB read
        Requests/sec:   1025.64
        Transfer/sec:    607.97KB
        ------------------------------
        stop time: 22.934345
        stop time: 23.120154
        stop time: 23.159438
        stop time: 23.071708
        stop time: 23.210277
        stop time: 23.094630
        stop time: 23.204967
        stop time: 23.222827
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.934345, 23.120154, 23.159438, 23.071708, 23.210277, 23.09463, 23.204967, 23.222827]
    [exp] Throughput: 1729.5582136487155
[test.py] Baseline throughput:  2242.2961134624816
[test.py] Groundtruth:  [3000.5310002204455, 2932.4909606424344]
[test.py] Slowdown:  [1246.291110679488, 1729.5582136487155]
[test.py] Predicted:  [2154.7973995177745, 2445.691397187268]
[test.py] Error percentage:  [-28.186131076150723, -16.600206786264767]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2242.2961134624816
    Groundtruth: [3000.5310002204455, 2932.4909606424344]
    Slowdown:    [1246.291110679488, 1729.5582136487155]
    Predicted:   [2154.7973995177745, 2445.691397187268]
    Error Perc:  [-28.186131076150723, -16.600206786264767]
