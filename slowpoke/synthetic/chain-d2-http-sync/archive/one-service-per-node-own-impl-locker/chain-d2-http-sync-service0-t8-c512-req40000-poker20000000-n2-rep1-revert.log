[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   243.11ms   63.08ms 549.92ms   82.00%
        Req/Sec   270.32     72.86   440.00     78.12%
        Latency Distribution
        50%  223.14ms
        75%  254.77ms
        90%  335.74ms
        99%  468.89ms
        6079 requests in 3.03s, 3.52MB read
        Requests/sec:   2006.01
        Transfer/sec:      1.16MB
        [run.sh] Speed is 2006.01, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.00ms   46.27ms 698.63ms   86.71%
        Req/Sec   281.57     54.72   606.00     74.38%
        Latency Distribution
        50%  220.57ms
        75%  239.98ms
        90%  268.75ms
        99%  406.83ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.694850
        stop time: 17.817228
        stop time: 17.866153
        stop time: 17.961720
        stop time: 17.947309
        stop time: 17.979717
        stop time: 18.015394
        stop time: 18.036013
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-9677s        281m         46Mi
        service1-745ff764dc-m4hkv        467m         15Mi
        service2-55c99d4dbc-n98dj        256m         8Mi
        ubuntu-client-76886f6bbd-9rjzm   1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.69485, 17.817228, 17.866153, 17.96172, 17.947309, 17.979717, 18.015394, 18.036013]
    [exp] Throughput: 2232.791014445153
[test.py] Baseline throughput: 2232.791014445153
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   182.10ms   28.48ms 313.17ms   74.90%
        Req/Sec   341.96     70.38   480.00     80.83%
        Latency Distribution
        50%  178.35ms
        75%  196.26ms
        90%  218.25ms
        99%  270.72ms
        8175 requests in 3.03s, 4.73MB read
        Requests/sec:   2698.31
        Transfer/sec:      1.56MB
        [run.sh] Speed is 2698.31, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.29ms   26.71ms 344.22ms   76.81%
        Req/Sec   360.32     51.83   690.00     75.02%
        Latency Distribution
        50%  173.41ms
        75%  190.19ms
        90%  211.35ms
        99%  254.58ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 13.859985
        stop time: 13.876474
        stop time: 13.963059
        stop time: 13.985278
        stop time: 13.941632
        stop time: 13.970967
        stop time: 14.012552
        stop time: 13.985548
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-5s4rt        2m           39Mi
        service1-745ff764dc-6kcsz        1m           16Mi
        service2-55c99d4dbc-lmbhn        140m         9Mi
        ubuntu-client-76886f6bbd-jpmfs   1m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.859985, 13.876474, 13.963059, 13.985278, 13.941632, 13.970967, 14.012552, 13.985548]
    [exp] Throughput: 2867.499265987395
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   190.53ms   45.12ms 490.19ms   91.07%
        Req/Sec   338.59     84.57   480.00     81.03%
        Latency Distribution
        50%  179.44ms
        75%  197.73ms
        90%  224.79ms
        99%  398.78ms
        7840 requests in 3.03s, 4.54MB read
        Requests/sec:   2590.57
        Transfer/sec:      1.50MB
        [run.sh] Speed is 2590.57, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d23s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 23s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.93ms   28.83ms 411.47ms   77.14%
        Req/Sec   355.74     52.20   585.00     72.06%
        Latency Distribution
        50%  175.66ms
        75%  193.39ms
        90%  216.00ms
        99%  264.88ms
        40000 requests in 23.00s, 23.16MB read
        Requests/sec:   1739.12
        Transfer/sec:      1.01MB
        ------------------------------
        stop time: 13.990068
        stop time: 14.046982
        stop time: 14.163194
        stop time: 14.063641
        stop time: 14.223827
        stop time: 14.221421
        stop time: 14.271143
        stop time: 14.283937
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-h69bg        414m         42Mi
        service1-745ff764dc-phdrt        547m         16Mi
        service2-55c99d4dbc-5jkwj        324m         9Mi
        ubuntu-client-76886f6bbd-85v58   30m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.990068, 14.046982, 14.163194, 14.063641, 14.223827, 14.221421, 14.271143, 14.283937]
    [exp] Throughput: 2825.25249171157
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   360.31ms   57.68ms 735.26ms   82.83%
        Req/Sec   180.87     80.14   454.00     71.49%
        Latency Distribution
        50%  347.80ms
        75%  378.57ms
        90%  418.91ms
        99%  582.92ms
        4047 requests in 3.03s, 2.34MB read
        Requests/sec:   1334.01
        Transfer/sec:    790.77KB
        [run.sh] Speed is 1334.01, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-tpkqz        1350m        45Mi
        service1-5d9f687985-pr884        877m         17Mi
        service2-7c4d6d8f6f-2c77v        538m         11Mi
        ubuntu-client-76886f6bbd-mj9q9   51m          10Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   343.07ms   39.92ms 760.99ms   75.75%
        Req/Sec   186.53     49.52   440.00     69.94%
        Latency Distribution
        50%  340.28ms
        75%  363.95ms
        90%  389.86ms
        99%  448.99ms
        40000 requests in 44.00s, 23.16MB read
        Requests/sec:    909.09
        Transfer/sec:    538.88KB
        ------------------------------
        stop time: 26.734383
        stop time: 26.815278
        stop time: 26.814887
        stop time: 26.989787
        stop time: 27.055873
        stop time: 27.060068
        stop time: 27.129720
        stop time: 27.160373
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.734383, 26.815278, 26.814887, 26.989787, 27.055873, 27.060068, 27.12972, 27.160373]
    [exp] Throughput: 1483.1268665470259
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   280.31ms   69.92ms 690.71ms   88.42%
        Req/Sec   219.72     66.82   373.00     68.20%
        Latency Distribution
        50%  270.76ms
        75%  297.42ms
        90%  331.51ms
        99%  569.76ms
        5237 requests in 3.03s, 3.03MB read
        Requests/sec:   1726.34
        Transfer/sec:      1.00MB
        [run.sh] Speed is 1726.34, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   271.08ms   38.19ms 776.33ms   78.40%
        Req/Sec   236.60     51.53   470.00     68.13%
        Latency Distribution
        50%  267.07ms
        75%  290.25ms
        90%  314.18ms
        99%  373.81ms
        40000 requests in 34.00s, 23.16MB read
        Requests/sec:   1176.47
        Transfer/sec:    697.38KB
        ------------------------------
        stop time: 21.076448
        stop time: 21.036955
        stop time: 21.258016
        stop time: 21.382502
        stop time: 21.424098
        stop time: 21.423423
        stop time: 21.421844
        stop time: 21.421110
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service1-7465c99d97-vmd7v   410m         15Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.076448, 21.036955, 21.258016, 21.382502, 21.424098, 21.423423, 21.421844, 21.42111]
    [exp] Throughput: 1877.4451229244285
[test.py] Baseline throughput:  2232.791014445153
[test.py] Groundtruth:  [2867.499265987395, 2825.25249171157]
[test.py] Slowdown:  [1483.1268665470259, 1877.4451229244285]
[test.py] Predicted:  [2976.623210541333, 2752.2526413798637]
[test.py] Error percentage:  [3.8055439402653843, -2.5838345615432896]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2232.791014445153
    Groundtruth: [2867.499265987395, 2825.25249171157]
    Slowdown:    [1483.1268665470259, 1877.4451229244285]
    Predicted:   [2976.623210541333, 2752.2526413798637]
    Error Perc:  [3.8055439402653843, -2.5838345615432896]
