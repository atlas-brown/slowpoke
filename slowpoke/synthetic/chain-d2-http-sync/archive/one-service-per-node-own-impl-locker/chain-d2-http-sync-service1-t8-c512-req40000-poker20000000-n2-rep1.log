[config.py] Random numbers for execution time: [452.4185451586567, 524.4164304797239, 701.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 701.5, 'service1': 524.42, 'service2': 452.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 524.42]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 262]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   245.62ms   76.62ms 877.08ms   90.77%
        Req/Sec   260.48     75.11   414.00     75.43%
        Latency Distribution
        50%  225.77ms
        75%  249.31ms
        90%  302.28ms
        99%  592.79ms
        6041 requests in 3.04s, 3.50MB read
        Requests/sec:   1988.49
        Transfer/sec:      1.15MB
        [run.sh] Speed is 1988.49, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.76ms   39.38ms 809.94ms   83.71%
        Req/Sec   277.02     54.89   585.00     68.68%
        Latency Distribution
        50%  226.34ms
        75%  246.08ms
        90%  271.19ms
        99%  361.25ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 17.995125
        stop time: 18.003485
        stop time: 18.158303
        stop time: 18.219590
        stop time: 18.333079
        stop time: 18.378763
        stop time: 18.358631
        stop time: 18.355967
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-r5sw8        556m         44Mi
        service1-b4658cd9f-vs4d2         307m         15Mi
        service2-554c5f44f7-k87zn        335m         9Mi
        ubuntu-client-76886f6bbd-w6sm6   6m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.995125, 18.003485, 18.158303, 18.21959, 18.333079, 18.378763, 18.358631, 18.355967]
    [exp] Throughput: 2194.7430786770883
[test.py] Baseline throughput: 2194.7430786770883
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   248.15ms   55.43ms 630.95ms   81.82%
        Req/Sec   261.44     84.96   530.00     75.00%
        Latency Distribution
        50%  234.83ms
        75%  264.66ms
        90%  324.09ms
        99%  433.36ms
        5954 requests in 3.03s, 3.45MB read
        Requests/sec:   1965.75
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1965.75, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.34ms  109.84ms   1.10s    87.52%
        Req/Sec   278.66     71.41   560.00     76.31%
        Latency Distribution
        50%  219.39ms
        75%  241.52ms
        90%  290.99ms
        99%  815.29ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 17.941229
        stop time: 18.011658
        stop time: 17.970352
        stop time: 18.172556
        stop time: 18.099333
        stop time: 18.043202
        stop time: 18.149198
        stop time: 18.142103
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-7bc2n        1m           44Mi
        service1-b4658cd9f-mffj9         1m           15Mi
        service2-554c5f44f7-lrkqr        476m         11Mi
        ubuntu-client-76886f6bbd-mmlkt   2m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.941229, 18.011658, 17.970352, 18.172556, 18.099333, 18.043202, 18.149198, 18.142103]
    [exp] Throughput: 2214.078855566994
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.000262', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   246.63ms   71.55ms 643.39ms   77.90%
        Req/Sec   268.35     94.83   520.00     73.66%
        Latency Distribution
        50%  234.40ms
        75%  267.08ms
        90%  329.83ms
        99%  497.45ms
        6079 requests in 3.02s, 3.52MB read
        Requests/sec:   2011.21
        Transfer/sec:      1.16MB
        [run.sh] Speed is 2011.21, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.90ms   89.07ms   1.25s    89.72%
        Req/Sec   279.75     68.95   760.00     78.74%
        Latency Distribution
        50%  223.84ms
        75%  244.12ms
        90%  274.70ms
        99%  678.28ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.866155
        stop time: 18.015214
        stop time: 17.825346
        stop time: 17.828085
        stop time: 18.118118
        stop time: 18.236539
        stop time: 18.236538
        stop time: 18.207326
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-2678x        4m           44Mi
        service1-b4658cd9f-d7tgv         95m          15Mi
        service2-554c5f44f7-wmb7n        365m         10Mi
        ubuntu-client-76886f6bbd-hdflm   21m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.866155, 18.015214, 17.825346, 17.828085, 18.118118, 18.236539, 18.236538, 18.207326]
    [exp] Throughput: 2217.0902587351957
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '262.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   318.27ms   75.56ms 693.72ms   71.08%
        Req/Sec   199.24     90.99   470.00     73.89%
        Latency Distribution
        50%  303.99ms
        75%  347.70ms
        90%  422.60ms
        99%  539.63ms
        4572 requests in 3.02s, 2.65MB read
        Requests/sec:   1512.28
        Transfer/sec:      0.88MB
        [run.sh] Speed is 1512.28, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   347.02ms   75.82ms 857.19ms   76.17%
        Req/Sec   184.45     72.55   464.00     67.19%
        Latency Distribution
        50%  343.11ms
        75%  382.50ms
        90%  430.39ms
        99%  577.26ms
        40000 requests in 39.00s, 23.16MB read
        Requests/sec:   1025.64
        Transfer/sec:    607.97KB
        ------------------------------
        stop time: 27.054539
        stop time: 27.337461
        stop time: 27.312377
        stop time: 27.384959
        stop time: 27.378339
        stop time: 27.410549
        stop time: 27.412645
        stop time: 27.399915
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [27.054539, 27.337461, 27.312377, 27.384959, 27.378339, 27.410549, 27.412645, 27.399915]
    [exp] Throughput: 1463.253248019816
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '131.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '131.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   275.37ms   94.78ms 699.52ms   74.76%
        Req/Sec   220.72     88.75   444.00     67.24%
        Latency Distribution
        50%  264.39ms
        75%  341.78ms
        90%  389.83ms
        99%  556.29ms
        5150 requests in 3.03s, 2.98MB read
        Requests/sec:   1701.76
        Transfer/sec:      0.99MB
        [run.sh] Speed is 1701.76, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6d676f988-wz54r         82m          43Mi
        service1-b4658cd9f-t6gms         51m          15Mi
        service2-7d44f6df64-sjvhw        318m         11Mi
        ubuntu-client-76886f6bbd-95j27   13m          11Mi
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   287.09ms   84.74ms 757.43ms   73.31%
        Req/Sec   223.81     89.65   500.00     67.31%
        Latency Distribution
        50%  278.24ms
        75%  333.48ms
        90%  397.09ms
        99%  538.38ms
        40000 requests in 35.00s, 23.16MB read
        Requests/sec:   1142.85
        Transfer/sec:    677.45KB
        ------------------------------
        stop time: 22.507822
        stop time: 22.637413
        stop time: 22.596396
        stop time: 22.639442
        stop time: 22.695749
        stop time: 22.668786
        stop time: 22.564000
        stop time: 22.560372
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.507822, 22.637413, 22.596396, 22.639442, 22.695749, 22.668786, 22.564, 22.560372]
    [exp] Throughput: 1769.2267119175885
[test.py] Baseline throughput:  2194.7430786770883
[test.py] Groundtruth:  [2214.078855566994, 2217.0902587351957]
[test.py] Slowdown:  [1463.253248019816, 1769.2267119175885]
[test.py] Predicted:  [2374.176368540549, 2304.1013435934965]
[test.py] Error percentage:  [7.230885773151746, 3.924562137941053]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2194.7430786770883
    Groundtruth: [2214.078855566994, 2217.0902587351957]
    Slowdown:    [1463.253248019816, 1769.2267119175885]
    Predicted:   [2374.176368540549, 2304.1013435934965]
    Error Perc:  [7.230885773151746, 3.924562137941053]
