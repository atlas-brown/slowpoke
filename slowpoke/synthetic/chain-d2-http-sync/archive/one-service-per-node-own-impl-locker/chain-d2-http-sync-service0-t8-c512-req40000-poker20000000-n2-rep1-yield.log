[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   245.03ms   56.38ms 602.15ms   85.09%
        Req/Sec   257.49     65.44   380.00     75.00%
        Latency Distribution
        50%  232.75ms
        75%  259.62ms
        90%  303.95ms
        99%  489.56ms
        6014 requests in 3.03s, 3.48MB read
        Requests/sec:   1984.96
        Transfer/sec:      1.15MB
        [run.sh] Speed is 1984.96, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.25ms   46.72ms   1.07s    86.86%
        Req/Sec   280.58     57.90   606.00     72.96%
        Latency Distribution
        50%  221.83ms
        75%  241.19ms
        90%  268.02ms
        99%  376.51ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 17.646397
        stop time: 17.775470
        stop time: 17.772534
        stop time: 17.984871
        stop time: 18.002656
        stop time: 18.030507
        stop time: 18.054132
        stop time: 18.102932
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-w4bn8        590m         44Mi
        service1-745ff764dc-79t9x        207m         16Mi
        service2-55c99d4dbc-c85jm        241m         8Mi
        ubuntu-client-76886f6bbd-vdqgk   14m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.646397, 17.77547, 17.772534, 17.984871, 18.002656, 18.030507, 18.054132, 18.102932]
    [exp] Throughput: 2231.994965679555
[test.py] Baseline throughput: 2231.994965679555
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.49ms   25.27ms 312.51ms   74.47%
        Req/Sec   354.93     60.81   470.00     83.61%
        Latency Distribution
        50%  173.58ms
        75%  189.26ms
        90%  209.76ms
        99%  246.61ms
        8444 requests in 3.03s, 4.89MB read
        Requests/sec:   2787.47
        Transfer/sec:      1.61MB
        [run.sh] Speed is 2787.47, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.19ms   27.35ms 359.40ms   77.58%
        Req/Sec   355.00     53.72   650.00     73.47%
        Latency Distribution
        50%  176.27ms
        75%  192.30ms
        90%  213.99ms
        99%  264.06ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 14.084060
        stop time: 14.072620
        stop time: 14.164559
        stop time: 14.232334
        stop time: 14.208377
        stop time: 14.241952
        stop time: 14.259974
        stop time: 14.244108
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-xtmkt        2m           39Mi
        service1-745ff764dc-7wqwr        1m           16Mi
        service2-55c99d4dbc-vfbl9        1m           9Mi
        ubuntu-client-76886f6bbd-2k5js   2m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.08406, 14.07262, 14.164559, 14.232334, 14.208377, 14.241952, 14.259974, 14.244108]
    [exp] Throughput: 2819.1849482587936
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   184.25ms   54.12ms 586.64ms   90.09%
        Req/Sec   352.78     83.40   575.00     86.64%
        Latency Distribution
        50%  171.49ms
        75%  191.51ms
        90%  227.33ms
        99%  459.07ms
        8164 requests in 3.02s, 4.73MB read
        Requests/sec:   2702.67
        Transfer/sec:      1.56MB
        [run.sh] Speed is 2702.67, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.58ms   46.16ms 740.24ms   88.89%
        Req/Sec   354.68     59.27     0.86k    74.82%
        Latency Distribution
        50%  174.33ms
        75%  192.48ms
        90%  219.42ms
        99%  328.88ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 13.981821
        stop time: 14.131869
        stop time: 14.075134
        stop time: 14.130291
        stop time: 14.241267
        stop time: 14.247661
        stop time: 14.250357
        stop time: 14.255566
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-wf48x        494m         43Mi
        service1-745ff764dc-6z4x8        310m         16Mi
        service2-55c99d4dbc-6zpzp        11m          9Mi
        ubuntu-client-76886f6bbd-bgw5g   8m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.981821, 14.131869, 14.075134, 14.130291, 14.241267, 14.247661, 14.250357, 14.255566]
    [exp] Throughput: 2824.0120021922103
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   356.79ms   54.59ms 638.31ms   78.38%
        Req/Sec   178.77     57.82   323.00     68.75%
        Latency Distribution
        50%  348.61ms
        75%  379.73ms
        90%  415.15ms
        99%  568.96ms
        4047 requests in 3.02s, 2.34MB read
        Requests/sec:   1338.18
        Transfer/sec:    793.24KB
        [run.sh] Speed is 1338.18, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-kg2x2        1124m        44Mi
        service1-5d9f687985-kgmn5        395m         16Mi
        service2-7c4d6d8f6f-47j25        293m         11Mi
        ubuntu-client-76886f6bbd-h6bw7   28m          10Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   343.19ms   43.30ms 761.93ms   76.89%
        Req/Sec   186.34     49.50   343.00     69.97%
        Latency Distribution
        50%  340.18ms
        75%  365.44ms
        90%  392.82ms
        99%  454.46ms
        40000 requests in 44.00s, 23.16MB read
        Requests/sec:    909.09
        Transfer/sec:    538.88KB
        ------------------------------
        stop time: 26.762136
        stop time: 26.804382
        stop time: 26.816632
        stop time: 26.940850
        stop time: 27.020077
        stop time: 27.104860
        stop time: 27.142900
        stop time: 27.258954
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.762136, 26.804382, 26.816632, 26.94085, 27.020077, 27.10486, 27.1429, 27.258954]
    [exp] Throughput: 1482.5055702482925
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.51ms   57.37ms 663.91ms   86.04%
        Req/Sec   227.11     59.12   370.00     74.55%
        Latency Distribution
        50%  270.92ms
        75%  299.05ms
        90%  340.54ms
        99%  526.49ms
        5142 requests in 3.03s, 2.98MB read
        Requests/sec:   1696.20
        Transfer/sec:      0.98MB
        [run.sh] Speed is 1696.20, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-9l9sz        523m         41Mi
        service2-5c7c666cfc-gttqb        207m         10Mi
        ubuntu-client-76886f6bbd-227lq   24m          0Mi
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   272.55ms   48.10ms 885.78ms   86.50%
        Req/Sec   234.46     50.66   484.00     69.38%
        Latency Distribution
        50%  268.22ms
        75%  290.98ms
        90%  315.57ms
        99%  378.90ms
        40001 requests in 35.00s, 23.16MB read
        Requests/sec:   1142.88
        Transfer/sec:    677.47KB
        ------------------------------
        stop time: 21.117727
        stop time: 21.271130
        stop time: 21.364044
        stop time: 21.425129
        stop time: 21.512028
        stop time: 21.564637
        stop time: 21.541822
        stop time: 21.618006
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.117727, 21.27113, 21.364044, 21.425129, 21.512028, 21.564637, 21.541822, 21.618006]
    [exp] Throughput: 1866.8196509813815
[test.py] Baseline throughput:  2231.994965679555
[test.py] Groundtruth:  [2819.1849482587936, 2824.0120021922103]
[test.py] Slowdown:  [1482.5055702482925, 1866.8196509813815]
[test.py] Predicted:  [2974.121674719365, 2729.4782620214346]
[test.py] Error percentage:  [5.495798583780904, -3.3474978186137836]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2231.994965679555
    Groundtruth: [2819.1849482587936, 2824.0120021922103]
    Slowdown:    [1482.5055702482925, 1866.8196509813815]
    Predicted:   [2974.121674719365, 2729.4782620214346]
    Error Perc:  [5.495798583780904, -3.3474978186137836]
