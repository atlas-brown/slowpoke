[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.72ms   45.57ms 530.32ms   86.56%
        Req/Sec   281.65     66.36   424.00     75.00%
        Latency Distribution
        50%  221.17ms
        75%  240.72ms
        90%  275.24ms
        99%  433.08ms
        6396 requests in 3.02s, 3.70MB read
        Requests/sec:   2114.86
        Transfer/sec:      1.22MB
        [run.sh] Speed is 2114.86, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   226.54ms   65.59ms   1.11s    90.87%
        Req/Sec   284.20     57.91   606.00     73.13%
        Latency Distribution
        50%  219.31ms
        75%  239.16ms
        90%  264.78ms
        99%  513.09ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.57
        Transfer/sec:    846.82KB
        ------------------------------
        stop time: 17.513597
        stop time: 17.648304
        stop time: 17.548891
        stop time: 17.761297
        stop time: 17.803762
        stop time: 17.817157
        stop time: 17.822943
        stop time: 17.814113
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.513597, 17.648304, 17.548891, 17.761297, 17.803762, 17.817157, 17.822943, 17.814113]
    [exp] Throughput: 2257.813134127986
[test.py] Baseline throughput: 2257.813134127986
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.41ms   28.78ms 313.54ms   73.66%
        Req/Sec   360.90     75.34   505.00     82.77%
        Latency Distribution
        50%  166.54ms
        75%  185.73ms
        90%  214.45ms
        99%  259.57ms
        8599 requests in 3.03s, 4.98MB read
        Requests/sec:   2839.99
        Transfer/sec:      1.64MB
        [run.sh] Speed is 2839.99, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.61ms   26.61ms 331.69ms   77.46%
        Req/Sec   374.39     54.88     0.87k    77.43%
        Latency Distribution
        50%  166.65ms
        75%  183.42ms
        90%  203.93ms
        99%  253.11ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.338433
        stop time: 13.367718
        stop time: 13.411966
        stop time: 13.448068
        stop time: 13.442646
        stop time: 13.490937
        stop time: 13.442105
        stop time: 13.485252
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-56jl2        201m         41Mi
        service1-b4658cd9f-t7pp2         230m         16Mi
        service2-554c5f44f7-nhjjg        402m         9Mi
        ubuntu-client-76886f6bbd-wm7cq   22m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.338433, 13.367718, 13.411966, 13.448068, 13.442646, 13.490937, 13.442105, 13.485252]
    [exp] Throughput: 2978.7635106124267
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.31ms   34.03ms 393.44ms   77.88%
        Req/Sec   355.38     75.31   484.00     81.47%
        Latency Distribution
        50%  171.67ms
        75%  195.44ms
        90%  223.24ms
        99%  302.50ms
        8261 requests in 3.03s, 4.78MB read
        Requests/sec:   2725.41
        Transfer/sec:      1.58MB
        [run.sh] Speed is 2725.41, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d22s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 22s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   175.09ms   25.22ms 359.64ms   75.45%
        Req/Sec   364.92     52.14   610.00     74.70%
        Latency Distribution
        50%  171.58ms
        75%  187.60ms
        90%  206.52ms
        99%  250.74ms
        40000 requests in 22.00s, 23.16MB read
        Requests/sec:   1818.17
        Transfer/sec:      1.05MB
        ------------------------------
        stop time: 13.606366
        stop time: 13.726777
        stop time: 13.762134
        stop time: 13.804804
        stop time: 13.795241
        stop time: 13.889095
        stop time: 13.872452
        stop time: 13.850752
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.606366, 13.726777, 13.762134, 13.804804, 13.795241, 13.889095, 13.872452, 13.850752]
    [exp] Throughput: 2900.97816541615
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   339.90ms   62.63ms 704.90ms   85.26%
        Req/Sec   183.84     65.30   360.00     71.98%
        Latency Distribution
        50%  333.63ms
        75%  360.81ms
        90%  391.69ms
        99%  639.69ms
        4280 requests in 3.03s, 2.48MB read
        Requests/sec:   1410.68
        Transfer/sec:    836.21KB
        [run.sh] Speed is 1410.68, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-5lvpr        77m          48Mi
        service1-bd5d8f697-tdpwp         149m         16Mi
        service2-f9cb979d7-zxcmj         338m         10Mi
        ubuntu-client-76886f6bbd-67pm5   25m          11Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   339.57ms   37.58ms 652.19ms   73.84%
        Req/Sec   188.34     50.78   373.00     67.67%
        Latency Distribution
        50%  335.65ms
        75%  360.14ms
        90%  384.44ms
        99%  445.56ms
        40000 requests in 42.00s, 23.16MB read
        Requests/sec:    952.38
        Transfer/sec:    564.54KB
        ------------------------------
        stop time: 26.574951
        stop time: 26.625879
        stop time: 26.706867
        stop time: 26.740176
        stop time: 26.768353
        stop time: 26.731243
        stop time: 26.718946
        stop time: 26.829336
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.574951, 26.625879, 26.706867, 26.740176, 26.768353, 26.731243, 26.718946, 26.829336]
    [exp] Throughput: 1497.4560724887788
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   275.30ms   76.74ms 721.16ms   88.22%
        Req/Sec   224.92     67.36   340.00     75.73%
        Latency Distribution
        50%  262.35ms
        75%  290.94ms
        90%  326.44ms
        99%  608.28ms
        5359 requests in 3.03s, 3.10MB read
        Requests/sec:   1769.47
        Transfer/sec:      1.02MB
        [run.sh] Speed is 1769.47, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   265.41ms   36.17ms 826.45ms   77.66%
        Req/Sec   241.12     47.87   555.00     67.41%
        Latency Distribution
        50%  261.55ms
        75%  283.46ms
        90%  307.01ms
        99%  361.91ms
        40000 requests in 33.00s, 23.16MB read
        Requests/sec:   1212.12
        Transfer/sec:    718.51KB
        ------------------------------
        stop time: 20.597218
        stop time: 20.769706
        stop time: 20.704035
        stop time: 20.902598
        stop time: 20.984722
        stop time: 20.989843
        stop time: 20.978193
        stop time: 20.989173
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-mwd29        891m         44Mi
        service1-67cd8bfdf-6w467         551m         16Mi
        service2-5f48bfc8c9-8vgnd        1m           10Mi
        ubuntu-client-76886f6bbd-26nvx   13m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.597218, 20.769706, 20.704035, 20.902598, 20.984722, 20.989843, 20.978193, 20.989173]
    [exp] Throughput: 1917.1378512220506
[test.py] Baseline throughput:  2257.813134127986
[test.py] Groundtruth:  [2978.7635106124267, 2900.97816541615]
[test.py] Slowdown:  [1497.4560724887788, 1917.1378512220506]
[test.py] Predicted:  [3034.90853274113, 2838.402104504856]
[test.py] Error percentage:  [1.8848432219837392, -2.1570676283362293]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2257.813134127986
    Groundtruth: [2978.7635106124267, 2900.97816541615]
    Slowdown:    [1497.4560724887788, 1917.1378512220506]
    Predicted:   [3034.90853274113, 2838.402104504856]
    Error Perc:  [1.8848432219837392, -2.1570676283362293]
