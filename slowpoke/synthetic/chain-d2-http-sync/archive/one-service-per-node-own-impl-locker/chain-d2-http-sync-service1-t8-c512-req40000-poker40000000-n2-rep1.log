[config.py] Random numbers for execution time: [452.4185451586567, 524.4164304797239, 701.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 701.5, 'service1': 524.42, 'service2': 452.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 524.42]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 262]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   252.76ms  101.61ms 775.55ms   84.88%
        Req/Sec   249.10     69.86   380.00     70.83%
        Latency Distribution
        50%  233.79ms
        75%  259.83ms
        90%  333.18ms
        99%  697.34ms
        5958 requests in 3.02s, 3.45MB read
        Requests/sec:   1970.69
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1970.69, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   243.49ms  109.44ms   1.55s    89.75%
        Req/Sec   268.02     63.68   500.00     72.29%
        Latency Distribution
        50%  230.04ms
        75%  251.71ms
        90%  293.06ms
        99%  843.82ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 18.678616
        stop time: 18.746980
        stop time: 18.509602
        stop time: 18.933450
        stop time: 18.780731
        stop time: 18.840968
        stop time: 18.928166
        stop time: 18.927016
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-sq9fn        1334m        46Mi
        service1-76dc8bbc57-9fb8z        1061m        15Mi
        service2-65c58f846f-gktwn        1230m        9Mi
        ubuntu-client-76886f6bbd-d8jgm   66m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.678616, 18.74698, 18.509602, 18.93345, 18.780731, 18.840968, 18.928166, 18.927016]
    [exp] Throughput: 2128.4304370634122
[test.py] Baseline throughput: 2128.4304370634122
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   242.24ms   51.19ms 515.11ms   83.53%
        Req/Sec   271.25     70.87   420.00     72.32%
        Latency Distribution
        50%  227.85ms
        75%  251.89ms
        90%  305.39ms
        99%  451.81ms
        6113 requests in 3.02s, 3.54MB read
        Requests/sec:   2025.22
        Transfer/sec:      1.17MB
        [run.sh] Speed is 2025.22, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   228.27ms   63.02ms 954.28ms   88.19%
        Req/Sec   279.56     67.91     1.04k    78.82%
        Latency Distribution
        50%  222.95ms
        75%  242.64ms
        90%  272.70ms
        99%  481.78ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.883185
        stop time: 17.898869
        stop time: 17.600856
        stop time: 18.109431
        stop time: 18.116031
        stop time: 18.090589
        stop time: 18.149606
        stop time: 18.097337
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-6ndpf        596m         42Mi
        service1-76dc8bbc57-ffrz4        180m         14Mi
        ubuntu-client-76886f6bbd-ksrsv   25m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.883185, 17.898869, 17.600856, 18.109431, 18.116031, 18.090589, 18.149606, 18.097337]
    [exp] Throughput: 2223.0573507669933
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.000262', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   250.15ms  145.12ms 863.19ms   79.57%
        Req/Sec   260.93     86.95   555.00     75.42%
        Latency Distribution
        50%  219.26ms
        75%  252.28ms
        90%  434.87ms
        99%  797.44ms
        6238 requests in 3.03s, 3.61MB read
        Requests/sec:   2059.84
        Transfer/sec:      1.19MB
        [run.sh] Speed is 2059.84, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   231.47ms   92.23ms   1.08s    85.99%
        Req/Sec   280.12     70.85   570.00     77.61%
        Latency Distribution
        50%  220.50ms
        75%  242.69ms
        90%  292.08ms
        99%  631.86ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.780534
        stop time: 17.994751
        stop time: 18.033113
        stop time: 17.960416
        stop time: 18.126481
        stop time: 18.121936
        stop time: 18.097790
        stop time: 18.096590
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5974d4ffb9-79mt9        641m         44Mi
        service1-76dc8bbc57-nfpls        331m         15Mi
        service2-65c58f846f-72vdp        996m         10Mi
        ubuntu-client-76886f6bbd-q4z49   47m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.780534, 17.994751, 18.033113, 17.960416, 18.126481, 18.121936, 18.09779, 18.09659]
    [exp] Throughput: 2218.9614121986333
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '262.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   356.21ms  123.57ms 905.74ms   70.70%
        Req/Sec   179.58     72.99   363.00     69.20%
        Latency Distribution
        50%  327.00ms
        75%  429.34ms
        90%  539.66ms
        99%  685.47ms
        4102 requests in 3.04s, 2.37MB read
        Requests/sec:   1348.53
        Transfer/sec:    799.37KB
        [run.sh] Speed is 1348.53, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-f78d5d96c-dhs5q         452m         33Mi
        service1-76dc8bbc57-24f85        351m         15Mi
        service2-6dd7b6475-bmtjf         261m         11Mi
        ubuntu-client-76886f6bbd-cqnws   20m          0Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   359.25ms  114.33ms   1.02s    74.29%
        Req/Sec   180.96     75.62   464.00     68.68%
        Latency Distribution
        50%  342.38ms
        75%  421.07ms
        90%  508.14ms
        99%  702.56ms
        40000 requests in 44.00s, 23.16MB read
        Requests/sec:    909.09
        Transfer/sec:    538.88KB
        ------------------------------
        stop time: 27.984534
        stop time: 27.891137
        stop time: 28.191085
        stop time: 28.344339
        stop time: 28.430367
        stop time: 28.345141
        stop time: 28.502506
        stop time: 28.505858
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.984534, 27.891137, 28.191085, 28.344339, 28.430367, 28.345141, 28.502506, 28.505858]
    [exp] Throughput: 1414.7087543287378
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '131.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '131.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   299.17ms   89.44ms 737.37ms   74.63%
        Req/Sec   217.33     79.97   404.00     69.68%
        Latency Distribution
        50%  276.45ms
        75%  344.62ms
        90%  417.16ms
        99%  613.92ms
        4888 requests in 3.02s, 2.83MB read
        Requests/sec:   1616.75
        Transfer/sec:      0.94MB
        [run.sh] Speed is 1616.75, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-574cd778d6-qzdlx        1558m        44Mi
        service1-76dc8bbc57-5zctq        1291m        16Mi
        service2-77f7647c9d-jrfbl        981m         11Mi
        ubuntu-client-76886f6bbd-5tfvz   59m          14Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   292.89ms  114.42ms   1.06s    78.42%
        Req/Sec   219.69     85.55   484.00     68.27%
        Latency Distribution
        50%  271.32ms
        75%  335.84ms
        90%  426.84ms
        99%  729.71ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.890034
        stop time: 23.027101
        stop time: 23.162636
        stop time: 22.826096
        stop time: 23.206394
        stop time: 23.009382
        stop time: 23.102542
        stop time: 22.992822
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.890034, 23.027101, 23.162636, 22.826096, 23.206394, 23.009382, 23.102542, 22.992822]
    [exp] Throughput: 1737.0817451181367
[test.py] Baseline throughput:  2128.4304370634122
[test.py] Groundtruth:  [2223.0573507669933, 2218.9614121986333]
[test.py] Slowdown:  [1414.7087543287378, 1737.0817451181367]
[test.py] Predicted:  [2248.963538798103, 2249.8800128442836]
[test.py] Error percentage:  [1.1653405172912685, 1.3933816278046451]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2128.4304370634122
    Groundtruth: [2223.0573507669933, 2218.9614121986333]
    Slowdown:    [1414.7087543287378, 1737.0817451181367]
    Predicted:   [2248.963538798103, 2249.8800128442836]
    Error Perc:  [1.1653405172912685, 1.3933816278046451]
