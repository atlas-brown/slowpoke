[config.py] Random numbers for execution time: [738.7567487313221, 908.1430120173984, 1414.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1414.9, 'service1': 908.14, 'service2': 1477.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1477.51]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 738]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   470.43ms  135.45ms   1.24s    89.14%
        Req/Sec   136.80     49.04   260.00     74.66%
        Latency Distribution
        50%  430.49ms
        75%  484.28ms
        90%  593.28ms
        99%    1.10s
        3044 requests in 3.02s, 1.76MB read
        Requests/sec:   1007.78
        Transfer/sec:    597.38KB
        [run.sh] Speed is 1007.78, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-n8ptv        1584m        46Mi
        service1-69bf8b98cb-c5cbx        1389m        16Mi
        service2-54d57f45b4-fwpt6        1905m        12Mi
        ubuntu-client-76886f6bbd-rxjsc   40m          12Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   423.76ms   55.07ms   1.44s    85.88%
        Req/Sec   151.17     39.08   353.00     69.47%
        Latency Distribution
        50%  416.24ms
        75%  442.03ms
        90%  473.87ms
        99%  603.71ms
        40000 requests in 0.98m, 23.16MB read
        Requests/sec:    677.96
        Transfer/sec:    401.88KB
        ------------------------------
        stop time: 33.149152
        stop time: 33.104969
        stop time: 33.093543
        stop time: 33.300813
        stop time: 33.286499
        stop time: 33.471953
        stop time: 33.535928
        stop time: 33.537079
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.149152, 33.104969, 33.093543, 33.300813, 33.286499, 33.471953, 33.535928, 33.537079]
    [exp] Throughput: 1200.8408768155814
[test.py] Baseline throughput: 1200.8408768155814
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.49ms  101.64ms 845.95ms   85.97%
        Req/Sec   148.99     48.30   290.00     71.01%
        Latency Distribution
        50%  421.58ms
        75%  461.36ms
        90%  612.20ms
        99%  816.90ms
        3144 requests in 3.03s, 1.82MB read
        Requests/sec:   1038.36
        Transfer/sec:    615.51KB
        [run.sh] Speed is 1038.36, duration is 57
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d57s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-7v4zz        1942m        47Mi
        service1-69bf8b98cb-l8d8b        1368m        15Mi
        service2-54d57f45b4-jcfs9        188m         8Mi
        ubuntu-client-76886f6bbd-6ts8p   41m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   423.31ms   72.51ms   1.75s    86.60%
        Req/Sec   151.26     41.31   340.00     73.39%
        Latency Distribution
        50%  413.88ms
        75%  444.57ms
        90%  484.67ms
        99%  678.57ms
        40000 requests in 0.95m, 23.16MB read
        Requests/sec:    701.75
        Transfer/sec:    415.98KB
        ------------------------------
        stop time: 32.920368
        stop time: 32.991961
        stop time: 33.184062
        stop time: 33.337062
        stop time: 33.285731
        stop time: 33.422018
        stop time: 33.366156
        stop time: 33.378831
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [32.920368, 32.991961, 33.184062, 33.337062, 33.285731, 33.422018, 33.366156, 33.378831]
    [exp] Throughput: 1203.522459002186
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.000738', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.76ms  147.82ms   1.22s    86.47%
        Req/Sec   137.39     48.27   282.00     69.43%
        Latency Distribution
        50%  413.89ms
        75%  462.19ms
        90%  622.12ms
        99%    1.09s
        3149 requests in 3.03s, 1.82MB read
        Requests/sec:   1037.96
        Transfer/sec:    615.27KB
        [run.sh] Speed is 1037.96, duration is 57
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d57s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-znt6f        1943m        51Mi
        service1-69bf8b98cb-46x77        1368m        15Mi
        service2-54d57f45b4-lzvv9        1061m        9Mi
        ubuntu-client-76886f6bbd-g2kq8   40m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.54ms   69.28ms   1.18s    85.70%
        Req/Sec   151.15     41.13   404.00     71.64%
        Latency Distribution
        50%  415.31ms
        75%  445.66ms
        90%  486.82ms
        99%  687.92ms
        40000 requests in 0.95m, 23.16MB read
        Requests/sec:    701.75
        Transfer/sec:    415.98KB
        ------------------------------
        stop time: 33.006295
        stop time: 33.224376
        stop time: 33.286727
        stop time: 33.345010
        stop time: 33.489864
        stop time: 33.480946
        stop time: 33.478575
        stop time: 33.467233
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.006295, 33.224376, 33.286727, 33.34501, 33.489864, 33.480946, 33.478575, 33.467233]
    [exp] Throughput: 1199.4945959507324
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '738.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '738.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   864.60ms  314.03ms   1.85s    67.47%
        Req/Sec    76.67     40.29   202.00     68.21%
        Latency Distribution
        50%  836.48ms
        75%    1.05s
        90%    1.32s
        99%    1.77s
        1534 requests in 3.03s, 0.89MB read
        Socket errors: connect 0, read 0, write 0, timeout 3
        Requests/sec:    505.99
        Transfer/sec:    299.94KB
        [run.sh] Speed is 505.99, duration is 118
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d118s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   808.71ms  481.28ms   3.83s    70.87%
        Req/Sec    80.69     41.34   390.00     72.03%
        Latency Distribution
        50%  752.75ms
        75%    1.07s
        90%    1.43s
        99%    2.25s
        40000 requests in 1.97m, 23.16MB read
        Requests/sec:    338.98
        Transfer/sec:    200.94KB
        ------------------------------
        stop time: 63.179709
        stop time: 63.428083
        stop time: 64.060835
        stop time: 63.224233
        stop time: 63.888832
        stop time: 64.047090
        stop time: 62.605320
        stop time: 63.261702
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [63.179709, 63.428083, 64.060835, 63.224233, 63.888832, 64.04709, 62.60532, 63.261702]
    [exp] Throughput: 630.2986896460542
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0014149', 'PROCESSING_TIME_SERVICE1': '0.00090814', 'PROCESSING_TIME_SERVICE2': '0.00147751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '369.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '369.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   655.62ms  272.19ms   1.82s    74.28%
        Req/Sec   101.21     49.10   250.00     69.08%
        Latency Distribution
        50%  555.46ms
        75%  830.03ms
        90%    1.08s
        99%    1.39s
        2116 requests in 3.02s, 1.22MB read
        Requests/sec:    700.06
        Transfer/sec:    414.98KB
        [run.sh] Speed is 700.06, duration is 85
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d85s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.24ms  380.73ms   3.18s    74.29%
        Req/Sec   105.16     45.62   300.00     70.46%
        Latency Distribution
        50%  504.00ms
        75%  800.01ms
        90%    1.14s
        99%    1.80s
        40000 requests in 1.42m, 23.16MB read
        Requests/sec:    470.59
        Transfer/sec:    278.95KB
        ------------------------------
        stop time: 47.160365
        stop time: 48.536037
        stop time: 48.311942
        stop time: 48.187376
        stop time: 47.990940
        stop time: 48.400856
        stop time: 48.685805
        stop time: 48.614722
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [47.160365, 48.536037, 48.311942, 48.187376, 47.99094, 48.400856, 48.685805, 48.614722]
    [exp] Throughput: 829.2560648218893
[test.py] Baseline throughput:  1200.8408768155814
[test.py] Groundtruth:  [1203.522459002186, 1199.4945959507324]
[test.py] Slowdown:  [630.2986896460542, 829.2560648218893]
[test.py] Predicted:  [1179.5312811032259, 1195.964622514341]
[test.py] Error percentage:  [-1.9934133941173553, -0.294288398489491]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1200.8408768155814
    Groundtruth: [1203.522459002186, 1199.4945959507324]
    Slowdown:    [630.2986896460542, 829.2560648218893]
    Predicted:   [1179.5312811032259, 1195.964622514341]
    Error Perc:  [-1.9934133941173553, -0.294288398489491]
