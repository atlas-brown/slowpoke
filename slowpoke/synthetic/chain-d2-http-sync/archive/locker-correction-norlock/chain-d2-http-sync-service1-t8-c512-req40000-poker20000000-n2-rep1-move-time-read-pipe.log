[config.py] Random numbers for execution time: [652.4185451586567, 724.4164304797239, 901.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 901.5, 'service1': 724.42, 'service2': 652.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 724.42]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 362]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.04ms   70.93ms 851.86ms   89.76%
        Req/Sec   214.05     62.88   390.00     74.11%
        Latency Distribution
        50%  283.50ms
        75%  309.61ms
        90%  360.35ms
        99%  651.56ms
        4855 requests in 3.02s, 2.81MB read
        Requests/sec:   1609.20
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1609.20, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-wqdjs        596m         40Mi
        service1-745ff764dc-5b6c6        516m         15Mi
        service2-55c99d4dbc-v6pn5        415m         9Mi
        ubuntu-client-76886f6bbd-f7dx2   22m          11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   290.40ms   43.31ms 877.76ms   82.32%
        Req/Sec   220.64     49.73   540.00     70.51%
        Latency Distribution
        50%  283.92ms
        75%  307.14ms
        90%  335.75ms
        99%  444.55ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.643618
        stop time: 22.635753
        stop time: 22.855315
        stop time: 22.847939
        stop time: 22.902154
        stop time: 22.954945
        stop time: 23.005389
        stop time: 22.990274
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.643618, 22.635753, 22.855315, 22.847939, 22.902154, 22.954945, 23.005389, 22.990274]
    [exp] Throughput: 1750.2082351268248
[test.py] Baseline throughput: 1750.2082351268248
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   300.10ms   64.79ms 686.71ms   83.97%
        Req/Sec   215.70     57.72   343.00     79.91%
        Latency Distribution
        50%  281.28ms
        75%  306.85ms
        90%  387.85ms
        99%  565.43ms
        4851 requests in 3.04s, 2.81MB read
        Requests/sec:   1596.46
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1596.46, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-vmd6v        1937m        44Mi
        service1-745ff764dc-dcfg8        514m         15Mi
        service2-55c99d4dbc-kgnnk        1350m        10Mi
        ubuntu-client-76886f6bbd-7vscj   49m          11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   289.24ms   45.57ms 984.38ms   82.90%
        Req/Sec   221.59     47.96   400.00     66.80%
        Latency Distribution
        50%  281.98ms
        75%  304.23ms
        90%  334.98ms
        99%  447.50ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.542730
        stop time: 22.562928
        stop time: 22.689691
        stop time: 22.763938
        stop time: 22.812894
        stop time: 22.811196
        stop time: 22.834215
        stop time: 22.816428
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.54273, 22.562928, 22.689691, 22.763938, 22.812894, 22.811196, 22.834215, 22.816428]
    [exp] Throughput: 1759.8466997539842
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.000362', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   303.47ms   76.83ms 781.77ms   87.32%
        Req/Sec   206.61     69.34   370.00     71.12%
        Latency Distribution
        50%  284.15ms
        75%  310.90ms
        90%  375.97ms
        99%  671.12ms
        4789 requests in 3.03s, 2.77MB read
        Requests/sec:   1582.33
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1582.33, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-c6j9b        601m         40Mi
        service1-745ff764dc-jgsbk        335m         15Mi
        service2-55c99d4dbc-7xjsm        376m         10Mi
        ubuntu-client-76886f6bbd-4ff4g   22m          0Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   286.43ms   41.77ms 753.85ms   83.72%
        Req/Sec   224.21     45.11   353.00     69.64%
        Latency Distribution
        50%  279.99ms
        75%  299.95ms
        90%  326.20ms
        99%  445.56ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 22.491138
        stop time: 22.427649
        stop time: 22.486663
        stop time: 22.552862
        stop time: 22.481851
        stop time: 22.554142
        stop time: 22.509549
        stop time: 22.593910
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.491138, 22.427649, 22.486663, 22.552862, 22.481851, 22.554142, 22.509549, 22.59391]
    [exp] Throughput: 1776.8127315561787
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '362.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '362.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   488.37ms  258.46ms   1.35s    65.26%
        Req/Sec   126.67     55.09   270.00     65.62%
        Latency Distribution
        50%  437.89ms
        75%  656.86ms
        90%  869.55ms
        99%    1.14s
        2867 requests in 3.02s, 1.66MB read
        Requests/sec:    948.25
        Transfer/sec:    562.10KB
        [run.sh] Speed is 948.25, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-866456998b-gtmpn        1226m        46Mi
        service1-745ff764dc-r72w4        1068m        18Mi
        service2-685858d8d6-nn8m4        834m         12Mi
        ubuntu-client-76886f6bbd-qpwtr   37m          20Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   477.85ms  379.32ms   2.66s    69.23%
        Req/Sec   135.32     58.15   373.00     68.55%
        Latency Distribution
        50%  401.24ms
        75%  697.79ms
        90%  989.52ms
        99%    1.65s
        40000 requests in 1.05m, 23.16MB read
        Requests/sec:    634.92
        Transfer/sec:    376.36KB
        ------------------------------
        stop time: 36.730182
        stop time: 36.775684
        stop time: 37.557244
        stop time: 37.324911
        stop time: 37.190249
        stop time: 37.240706
        stop time: 37.663727
        stop time: 37.558977
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [36.730182, 36.775684, 37.557244, 37.324911, 37.190249, 37.240706, 37.663727, 37.558977]
    [exp] Throughput: 1073.6753329265896
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0009015', 'PROCESSING_TIME_SERVICE1': '0.00072442', 'PROCESSING_TIME_SERVICE2': '0.00065242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '181.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '181.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   397.24ms  163.80ms   1.03s    77.71%
        Req/Sec   159.35     61.70   310.00     70.98%
        Latency Distribution
        50%  342.84ms
        75%  477.12ms
        90%  628.20ms
        99%  895.23ms
        3592 requests in 3.02s, 2.08MB read
        Requests/sec:   1188.50
        Transfer/sec:    704.51KB
        [run.sh] Speed is 1188.50, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6fc5fb685f-6l7x2        1495m        46Mi
        service1-745ff764dc-sn4k4        1290m        16Mi
        service2-79dcf9fc5-gbnxl         1017m        11Mi
        ubuntu-client-76886f6bbd-pmkj9   45m          17Mi
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   386.25ms  217.72ms   1.92s    78.92%
        Req/Sec   165.92     57.33   620.00     72.98%
        Latency Distribution
        50%  321.58ms
        75%  468.98ms
        90%  696.06ms
        99%    1.10s
        40000 requests in 50.00s, 23.16MB read
        Requests/sec:    800.00
        Transfer/sec:    474.22KB
        ------------------------------
        stop time: 30.298898
        stop time: 30.080867
        stop time: 30.077341
        stop time: 30.275948
        stop time: 30.493047
        stop time: 30.408578
        stop time: 30.242578
        stop time: 30.478338
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.298898, 30.080867, 30.077341, 30.275948, 30.493047, 30.408578, 30.242578, 30.478338]
    [exp] Throughput: 1320.3738910999764
[test.py] Baseline throughput:  1750.2082351268248
[test.py] Groundtruth:  [1759.8466997539842, 1776.8127315561787]
[test.py] Slowdown:  [1073.6753329265896, 1320.3738910999764]
[test.py] Predicted:  [1756.9435507214232, 1735.6553979872742]
[test.py] Error percentage:  [-0.16496601851552606, -2.316357421238075]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1750.2082351268248
    Groundtruth: [1759.8466997539842, 1776.8127315561787]
    Slowdown:    [1073.6753329265896, 1320.3738910999764]
    Predicted:   [1756.9435507214232, 1735.6553979872742]
    Error Perc:  [-0.16496601851552606, -2.316357421238075]
