[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   295.56ms   65.63ms 711.23ms   85.82%
        Req/Sec   214.01     65.60   360.00     74.03%
        Latency Distribution
        50%  280.07ms
        75%  307.39ms
        90%  361.60ms
        99%  583.01ms
        4940 requests in 3.02s, 2.86MB read
        Requests/sec:   1634.69
        Transfer/sec:      0.95MB
        [run.sh] Speed is 1634.69, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-crn5q        1742m        45Mi
        service1-69bf8b98cb-66xhx        1618m        15Mi
        service2-54d57f45b4-ks2v7        526m         9Mi
        ubuntu-client-76886f6bbd-w44mf   59m          10Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   282.41ms   41.97ms 908.09ms   81.90%
        Req/Sec   226.48     48.97   370.00     71.82%
        Latency Distribution
        50%  275.73ms
        75%  297.58ms
        90%  325.59ms
        99%  436.03ms
        40000 requests in 36.00s, 23.16MB read
        Requests/sec:   1111.11
        Transfer/sec:    658.63KB
        ------------------------------
        stop time: 22.184013
        stop time: 22.133968
        stop time: 22.148574
        stop time: 22.209269
        stop time: 22.175792
        stop time: 22.242078
        stop time: 22.270050
        stop time: 22.307441
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.184013, 22.133968, 22.148574, 22.209269, 22.175792, 22.242078, 22.27005, 22.307441]
    [exp] Throughput: 1801.079899365786
[test.py] Baseline throughput: 1801.079899365786
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   218.39ms   31.49ms 355.05ms   80.66%
        Req/Sec   281.53     61.06   400.00     75.83%
        Latency Distribution
        50%  216.64ms
        75%  231.77ms
        90%  255.20ms
        99%  303.59ms
        6733 requests in 3.02s, 3.90MB read
        Requests/sec:   2230.91
        Transfer/sec:      1.29MB
        [run.sh] Speed is 2230.91, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d26s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 26s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   222.47ms   30.96ms 441.27ms   77.21%
        Req/Sec   287.17     46.52   490.00     72.40%
        Latency Distribution
        50%  218.83ms
        75%  236.05ms
        90%  260.40ms
        99%  314.44ms
        40000 requests in 26.00s, 23.16MB read
        Requests/sec:   1538.45
        Transfer/sec:      0.89MB
        ------------------------------
        stop time: 17.438454
        stop time: 17.425194
        stop time: 17.549005
        stop time: 17.471183
        stop time: 17.544361
        stop time: 17.542320
        stop time: 17.574873
        stop time: 17.579695
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-qj2ww        230m         39Mi
        service1-69bf8b98cb-bxmw5        573m         15Mi
        ubuntu-client-76886f6bbd-jh29f   26m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.438454, 17.425194, 17.549005, 17.471183, 17.544361, 17.54232, 17.574873, 17.579695]
    [exp] Throughput: 2283.6739046402718
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   227.71ms   36.36ms 464.85ms   82.41%
        Req/Sec   278.99     60.10   404.00     80.17%
        Latency Distribution
        50%  220.24ms
        75%  238.30ms
        90%  266.38ms
        99%  379.57ms
        6492 requests in 3.02s, 3.76MB read
        Requests/sec:   2148.07
        Transfer/sec:      1.24MB
        [run.sh] Speed is 2148.07, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   225.35ms   32.43ms 506.70ms   77.82%
        Req/Sec   283.86     47.42   480.00     72.48%
        Latency Distribution
        50%  220.58ms
        75%  239.22ms
        90%  263.60ms
        99%  327.06ms
        40000 requests in 27.00s, 23.16MB read
        Requests/sec:   1481.47
        Transfer/sec:      0.86MB
        ------------------------------
        stop time: 17.556177
        stop time: 17.626292
        stop time: 17.720171
        stop time: 17.751612
        stop time: 17.762655
        stop time: 17.841660
        stop time: 17.879546
        stop time: 17.784313
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-q98fl        405m         44Mi
        service1-69bf8b98cb-qkmm5        1220m        16Mi
        service2-54d57f45b4-7w77m        1106m        9Mi
        ubuntu-client-76886f6bbd-hp772   40m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.556177, 17.626292, 17.720171, 17.751612, 17.762655, 17.84166, 17.879546, 17.784313]
    [exp] Throughput: 2254.752888736555
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   444.40ms  101.76ms 959.02ms   81.35%
        Req/Sec   136.75     46.74   252.00     68.53%
        Latency Distribution
        50%  433.15ms
        75%  476.74ms
        90%  536.66ms
        99%  824.90ms
        3190 requests in 3.03s, 1.85MB read
        Requests/sec:   1053.44
        Transfer/sec:    624.45KB
        [run.sh] Speed is 1053.44, duration is 56
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d56s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-qgktj        432m         40Mi
        service1-db6b99859-6468n         328m         15Mi
        service2-cc7579c67-8vfs4         204m         9Mi
        ubuntu-client-76886f6bbd-5zscf   17m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.00ms   48.20ms 895.53ms   84.19%
        Req/Sec   142.16     40.65   303.00     67.03%
        Latency Distribution
        50%  438.40ms
        75%  476.73ms
        90%  502.23ms
        99%  584.35ms
        40000 requests in 0.93m, 23.16MB read
        Requests/sec:    714.28
        Transfer/sec:    423.41KB
        ------------------------------
        stop time: 35.122210
        stop time: 35.017684
        stop time: 35.315715
        stop time: 35.471731
        stop time: 35.538866
        stop time: 35.645442
        stop time: 35.587603
        stop time: 35.470593
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.12221, 35.017684, 35.315715, 35.471731, 35.538866, 35.645442, 35.587603, 35.470593]
    [exp] Throughput: 1130.0638354697119
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   356.84ms   57.04ms 647.83ms   76.37%
        Req/Sec   180.55     62.18   390.00     72.32%
        Latency Distribution
        50%  347.33ms
        75%  379.64ms
        90%  421.01ms
        99%  565.58ms
        4076 requests in 3.03s, 2.36MB read
        Requests/sec:   1343.03
        Transfer/sec:    796.11KB
        [run.sh] Speed is 1343.03, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-wsthl        1341m        45Mi
        service1-5678f7c96-qg2l8         570m         17Mi
        service2-7fdd479476-2pq64        164m         11Mi
        ubuntu-client-76886f6bbd-tphc9   26m          11Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   347.30ms   49.65ms 940.54ms   76.73%
        Req/Sec   184.20     43.61   440.00     69.00%
        Latency Distribution
        50%  344.67ms
        75%  372.99ms
        90%  403.25ms
        99%  456.87ms
        40000 requests in 44.00s, 23.16MB read
        Requests/sec:    909.09
        Transfer/sec:    538.88KB
        ------------------------------
        stop time: 26.962108
        stop time: 27.081259
        stop time: 27.315963
        stop time: 27.391603
        stop time: 27.571036
        stop time: 27.478020
        stop time: 27.365164
        stop time: 27.291531
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [26.962108, 27.081259, 27.315963, 27.391603, 27.571036, 27.47802, 27.365164, 27.291531]
    [exp] Throughput: 1464.8212823737636
[test.py] Baseline throughput:  1801.079899365786
[test.py] Groundtruth:  [2283.6739046402718, 2254.752888736555]
[test.py] Slowdown:  [1130.0638354697119, 1464.8212823737636]
[test.py] Predicted:  [2239.111278820546, 2158.069354468314]
[test.py] Error percentage:  [-1.9513567908788345, -4.2879880430009125]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1801.079899365786
    Groundtruth: [2283.6739046402718, 2254.752888736555]
    Slowdown:    [1130.0638354697119, 1464.8212823737636]
    Predicted:   [2239.111278820546, 2158.069354468314]
    Error Perc:  [-1.9513567908788345, -4.2879880430009125]
