[config.py] Random numbers for execution time: [447.2573382140748, 676.7004053709668, 876.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 876.6, 'service1': 676.7, 'service2': 447.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 876.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 438]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   300.38ms   72.00ms 644.01ms   85.36%
        Req/Sec   221.09     63.14   400.00     74.54%
        Latency Distribution
        50%  279.01ms
        75%  308.24ms
        90%  390.54ms
        99%  580.68ms
        4865 requests in 3.03s, 2.82MB read
        Requests/sec:   1605.52
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1605.52, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d37s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-zfg79        1m           47Mi
        service1-745ff764dc-9m4bk        52m          15Mi
        service2-55c99d4dbc-lbjcq        7m           9Mi
        ubuntu-client-76886f6bbd-z4kl4   22m          11Mi
        Running 37s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   280.21ms   40.87ms 694.62ms   80.32%
        Req/Sec   228.53     51.13   390.00     70.49%
        Latency Distribution
        50%  273.54ms
        75%  295.98ms
        90%  324.99ms
        99%  424.44ms
        40000 requests in 37.00s, 23.16MB read
        Requests/sec:   1081.08
        Transfer/sec:    640.83KB
        ------------------------------
        stop time: 21.972772
        stop time: 22.029216
        stop time: 21.984180
        stop time: 22.034084
        stop time: 22.068591
        stop time: 22.070915
        stop time: 22.117601
        stop time: 22.145977
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.972772, 22.029216, 21.98418, 22.034084, 22.068591, 22.070915, 22.117601, 22.145977]
    [exp] Throughput: 1813.8190063473235
[test.py] Baseline throughput: 1813.8190063473235
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   229.67ms   33.17ms 445.24ms   77.69%
        Req/Sec   267.11     61.05   434.00     76.50%
        Latency Distribution
        50%  226.21ms
        75%  243.99ms
        90%  272.39ms
        99%  327.49ms
        6310 requests in 3.03s, 3.65MB read
        Requests/sec:   2081.21
        Transfer/sec:      1.20MB
        [run.sh] Speed is 2081.21, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d28s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 28s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   230.34ms   32.98ms 441.08ms   76.78%
        Req/Sec   277.20     47.99   580.00     74.27%
        Latency Distribution
        50%  225.89ms
        75%  244.35ms
        90%  271.86ms
        99%  328.90ms
        40000 requests in 28.00s, 23.16MB read
        Requests/sec:   1428.56
        Transfer/sec:    846.82KB
        ------------------------------
        stop time: 18.009127
        stop time: 18.096031
        stop time: 18.111824
        stop time: 18.140769
        stop time: 18.181504
        stop time: 18.188516
        stop time: 18.154920
        stop time: 18.181830
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-5jhq9        2m           41Mi
        service1-745ff764dc-8529r        1m           16Mi
        service2-55c99d4dbc-9pqqx        1m           10Mi
        ubuntu-client-76886f6bbd-ftvbj   27m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.009127, 18.096031, 18.111824, 18.140769, 18.181504, 18.188516, 18.15492, 18.18183]
    [exp] Throughput: 2205.914980410682
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000438', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   239.58ms   35.92ms 482.65ms   79.30%
        Req/Sec   264.08     57.86   390.00     77.59%
        Latency Distribution
        50%  234.05ms
        75%  251.54ms
        90%  280.19ms
        99%  380.26ms
        6158 requests in 3.03s, 3.56MB read
        Requests/sec:   2030.20
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2030.20, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   230.00ms   33.31ms 567.89ms   78.88%
        Req/Sec   278.20     43.84   434.00     70.81%
        Latency Distribution
        50%  225.42ms
        75%  242.37ms
        90%  269.06ms
        99%  334.45ms
        40001 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.34
        Transfer/sec:    817.64KB
        ------------------------------
        stop time: 17.973392
        stop time: 17.965301
        stop time: 18.029911
        stop time: 18.029016
        stop time: 18.146254
        stop time: 18.156815
        stop time: 18.233106
        stop time: 18.253773
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-mn9gk        112m         43Mi
        service1-745ff764dc-lcwk4        239m         17Mi
        service2-55c99d4dbc-vlvsc        80m          10Mi
        ubuntu-client-76886f6bbd-87rnd   25m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.973392, 17.965301, 18.029911, 18.029016, 18.146254, 18.156815, 18.233106, 18.253773]
    [exp] Throughput: 2210.1345054708013
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '438.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '438.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.95ms   87.34ms 885.44ms   80.09%
        Req/Sec   135.17     48.71   270.00     73.16%
        Latency Distribution
        50%  437.21ms
        75%  492.03ms
        90%  561.95ms
        99%  728.82ms
        3129 requests in 3.03s, 1.81MB read
        Requests/sec:   1034.30
        Transfer/sec:    613.11KB
        [run.sh] Speed is 1034.30, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-wc56n        1262m        44Mi
        service1-8565ddd48-j6kmw         1016m        17Mi
        service2-9d74df8fb-mwm4n         630m         10Mi
        ubuntu-client-76886f6bbd-mspz5   38m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.12ms   72.78ms 932.65ms   79.51%
        Req/Sec   141.06     40.32   390.00     70.93%
        Latency Distribution
        50%  435.48ms
        75%  490.12ms
        90%  549.54ms
        99%  669.08ms
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 35.225719
        stop time: 35.224858
        stop time: 35.506664
        stop time: 35.577328
        stop time: 35.688294
        stop time: 35.892251
        stop time: 35.933269
        stop time: 35.920416
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.225719, 35.224858, 35.506664, 35.577328, 35.688294, 35.892251, 35.933269, 35.920416]
    [exp] Throughput: 1122.9299527630042
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0008766', 'PROCESSING_TIME_SERVICE1': '0.0006767', 'PROCESSING_TIME_SERVICE2': '0.00044726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '219.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '219.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   362.55ms   94.57ms 908.12ms   90.18%
        Req/Sec   171.28     50.73   303.00     75.43%
        Latency Distribution
        50%  344.33ms
        75%  375.16ms
        90%  431.92ms
        99%  816.82ms
        3992 requests in 3.04s, 2.31MB read
        Requests/sec:   1315.13
        Transfer/sec:    779.57KB
        [run.sh] Speed is 1315.13, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.99ms   46.02ms 890.52ms   75.39%
        Req/Sec   183.11     44.17   343.00     70.10%
        Latency Distribution
        50%  343.40ms
        75%  372.57ms
        90%  407.18ms
        99%  489.51ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 27.290916
        stop time: 27.396893
        stop time: 27.395036
        stop time: 27.472191
        stop time: 27.617864
        stop time: 27.586900
        stop time: 27.697803
        stop time: 27.694810
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [27.290916, 27.396893, 27.395036, 27.472191, 27.617864, 27.5869, 27.697803, 27.69481]
    [exp] Throughput: 1453.5384629193234
[test.py] Baseline throughput:  1813.8190063473235
[test.py] Groundtruth:  [2205.914980410682, 2210.1345054708013]
[test.py] Slowdown:  [1122.9299527630042, 1453.5384629193234]
[test.py] Predicted:  [2211.2764193027606, 2133.668845647083]
[test.py] Error percentage:  [0.2430483014844271, -3.4597740379348423]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1813.8190063473235
    Groundtruth: [2205.914980410682, 2210.1345054708013]
    Slowdown:    [1122.9299527630042, 1453.5384629193234]
    Predicted:   [2211.2764193027606, 2133.668845647083]
    Error Perc:  [0.2430483014844271, -3.4597740379348423]
