[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   388.04ms  323.70ms   1.92s    81.34%
        Req/Sec   177.11     84.37   383.00     64.94%
        Latency Distribution
        50%  267.17ms
        75%  573.13ms
        90%  870.13ms
        99%    1.39s
        4153 requests in 3.02s, 2.92MB read
        Requests/sec:   1374.51
        Transfer/sec:      0.97MB
        [run.sh] Speed is 1374.51, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   687.08ms  919.61ms   7.48s    89.76%
        Req/Sec   137.25     87.28   430.00     65.73%
        Latency Distribution
        50%  368.65ms
        75%  720.17ms
        90%    1.64s
        99%    4.67s
        20000 requests in 29.00s, 14.06MB read
        Requests/sec:    689.65
        Transfer/sec:    496.36KB
        ------------------------------
        stop time: 19.575010
        stop time: 20.300903
        stop time: 20.538071
        stop time: 21.103596
        stop time: 19.648285
        stop time: 20.749049
        stop time: 20.983792
        stop time: 19.682646
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-zpgjm        1943m        85Mi
        service1-6bcd7fbfb7-lxpcj        1429m        32Mi
        service2-6dc44f9545-mw8k6        344m         10Mi
        ubuntu-client-76886f6bbd-kg4ph   16m          21Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.57501, 20.300903, 20.538071, 21.103596, 19.648285, 20.749049, 20.983792, 19.682646]
    [exp] Throughput: 984.1227055363643
[test.py] Baseline throughput: 984.1227055363643
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   311.52ms  203.87ms   1.36s    71.96%
        Req/Sec   191.17     93.16   390.00     65.00%
        Latency Distribution
        50%  274.23ms
        75%  407.64ms
        90%  583.58ms
        99%  988.88ms
        4576 requests in 3.03s, 3.18MB read
        Requests/sec:   1511.63
        Transfer/sec:      1.05MB
        [run.sh] Speed is 1511.63, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d26s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 26s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.84ms  684.71ms   5.58s    87.43%
        Req/Sec   141.40     92.40   430.00     65.88%
        Latency Distribution
        50%  347.80ms
        75%  760.82ms
        90%    1.49s
        99%    3.26s
        20000 requests in 26.00s, 13.90MB read
        Requests/sec:    769.23
        Transfer/sec:    547.62KB
        ------------------------------
        stop time: 19.364466
        stop time: 19.060302
        stop time: 18.962397
        stop time: 19.359827
        stop time: 19.478907
        stop time: 19.125555
        stop time: 19.489150
        stop time: 19.288797
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service1-6bcd7fbfb7-gn4jp        616m         35Mi
        service2-6dc44f9545-t6h9r        287m         20Mi
        ubuntu-client-76886f6bbd-r6rxq   22m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.364466, 19.060302, 18.962397, 19.359827, 19.478907, 19.125555, 19.48915, 19.288797]
    [exp] Throughput: 1038.0887680216185
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   316.21ms  204.30ms   1.23s    66.09%
        Req/Sec   185.36     84.77   420.00     64.41%
        Latency Distribution
        50%  289.40ms
        75%  431.76ms
        90%  613.77ms
        99%  856.21ms
        4385 requests in 3.03s, 3.08MB read
        Requests/sec:   1449.48
        Transfer/sec:      1.02MB
        [run.sh] Speed is 1449.48, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   545.19ms  554.15ms   4.06s    86.20%
        Req/Sec   139.59     91.59   424.00     64.64%
        Latency Distribution
        50%  342.50ms
        75%  713.20ms
        90%    1.32s
        99%    2.57s
        20000 requests in 27.00s, 14.04MB read
        Requests/sec:    740.74
        Transfer/sec:    532.40KB
        ------------------------------
        stop time: 18.716807
        stop time: 18.843192
        stop time: 19.667217
        stop time: 19.723993
        stop time: 18.986904
        stop time: 19.601628
        stop time: 19.695007
        stop time: 18.910509
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-r2jv5        1164m        64Mi
        service1-6bcd7fbfb7-fbwc5        679m         47Mi
        service2-6dc44f9545-zpdvh        216m         20Mi
        ubuntu-client-76886f6bbd-6nwvz   7m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.716807, 18.843192, 19.667217, 19.723993, 18.986904, 19.601628, 19.695007, 18.910509]
    [exp] Throughput: 1037.9819860432035
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   460.65ms  282.34ms   1.70s    68.62%
        Req/Sec   127.84     66.07   333.00     60.85%
        Latency Distribution
        50%  389.78ms
        75%  604.88ms
        90%  862.75ms
        99%    1.27s
        3015 requests in 3.03s, 2.12MB read
        Requests/sec:    995.42
        Transfer/sec:    716.43KB
        [run.sh] Speed is 995.42, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-wp27n        489m         63Mi
        service1-684b76cfdf-n8wpv        302m         34Mi
        service2-5896ddd4b7-qt47d        184m         11Mi
        ubuntu-client-76886f6bbd-xhvdc   5m           10Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   627.65ms  576.25ms   6.00s    87.25%
        Req/Sec   113.95     72.26   353.00     64.40%
        Latency Distribution
        50%  445.17ms
        75%  764.40ms
        90%    1.32s
        99%    2.85s
        20000 requests in 40.00s, 14.06MB read
        Requests/sec:    500.00
        Transfer/sec:    359.86KB
        ------------------------------
        stop time: 22.514919
        stop time: 23.503152
        stop time: 22.719155
        stop time: 23.561750
        stop time: 23.752060
        stop time: 24.120974
        stop time: 24.172301
        stop time: 24.179818
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.514919, 23.503152, 22.719155, 23.56175, 23.75206, 24.120974, 24.172301, 24.179818]
    [exp] Throughput: 848.6977282361559
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   395.50ms  215.50ms   1.37s    69.97%
        Req/Sec   157.35     73.44   353.00     66.96%
        Latency Distribution
        50%  371.97ms
        75%  517.22ms
        90%  689.85ms
        99%  982.74ms
        3594 requests in 3.03s, 2.53MB read
        Requests/sec:   1184.47
        Transfer/sec:    852.50KB
        [run.sh] Speed is 1184.47, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   676.22ms  633.49ms   5.76s    84.81%
        Req/Sec   113.59     76.57   434.00     65.49%
        Latency Distribution
        50%  449.96ms
        75%  846.87ms
        90%    1.59s
        99%    2.94s
        20000 requests in 33.00s, 14.06MB read
        Requests/sec:    606.06
        Transfer/sec:    436.20KB
        ------------------------------
        stop time: 23.537632
        stop time: 23.379401
        stop time: 24.651184
        stop time: 24.015277
        stop time: 24.130305
        stop time: 23.760342
        stop time: 24.523832
        stop time: 24.291410
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-t9ld8        1391m        80Mi
        service1-74dc665c69-rxx78        1883m        48Mi
        service2-577cbd8655-ttc9j        274m         24Mi
        ubuntu-client-76886f6bbd-qjdnt   18m          23Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.537632, 23.379401, 24.651184, 24.015277, 24.130305, 23.760342, 24.523832, 24.29141]
    [exp] Throughput: 832.0792209312982
[test.py] Baseline throughput:  984.1227055363643
[test.py] Groundtruth:  [1038.0887680216185, 1037.9819860432035]
[test.py] Slowdown:  [848.6977282361559, 832.0792209312982]
[test.py] Predicted:  [1190.5104796582345, 968.5148943335421]
[test.py] Error percentage:  [14.682916946216471, -6.692514190392704]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 984.1227055363643
    Groundtruth: [1038.0887680216185, 1037.9819860432035]
    Slowdown:    [848.6977282361559, 832.0792209312982]
    Predicted:   [1190.5104796582345, 968.5148943335421]
    Error Perc:  [14.682916946216471, -6.692514190392704]
