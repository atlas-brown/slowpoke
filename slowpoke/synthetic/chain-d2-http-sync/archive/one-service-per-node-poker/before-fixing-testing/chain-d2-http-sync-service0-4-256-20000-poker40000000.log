[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 4
num_conns                        : 256
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 3
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.64ms  110.66ms 826.36ms   72.79%
        Req/Sec   355.41    133.45   767.00     75.83%
        Latency Distribution
        50%  155.39ms
        75%  231.48ms
        90%  330.48ms
        99%  526.12ms
        4249 requests in 3.03s, 2.99MB read
        Requests/sec:   1402.04
        Transfer/sec:      0.99MB
        [run.sh] Speed is 1402.04, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t4 -c256 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   324.79ms  363.64ms   3.73s    87.67%
        Req/Sec   266.68    144.56   656.00     61.20%
        Latency Distribution
        50%  189.51ms
        75%  376.54ms
        90%  797.51ms
        99%    1.79s
        20000 requests in 21.00s, 14.06MB read
        Requests/sec:    952.38
        Transfer/sec:    685.45KB
        ------------------------------
        stop time: 19.053770
        stop time: 19.534383
        stop time: 19.100825
        stop time: 19.483381
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-rgrbb        828m         35Mi
        service1-8d85bfbc7-h4shj         302m         26Mi
        service2-597d9b447f-qb66x        1m           9Mi
        ubuntu-client-76886f6bbd-hwrj5   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.05377, 19.534383, 19.100825, 19.483381]
    [exp] Throughput: 1036.6405930392773
[test.py] Baseline throughput: 1036.6405930392773
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   157.44ms  100.56ms 681.93ms   70.53%
        Req/Sec   412.27    144.81   830.00     76.67%
        Latency Distribution
        50%  138.88ms
        75%  209.34ms
        90%  291.41ms
        99%  484.87ms
        4926 requests in 3.03s, 3.42MB read
        Requests/sec:   1626.25
        Transfer/sec:      1.13MB
        [run.sh] Speed is 1626.25, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t4 -c256 -d18s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 18s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   326.77ms  394.53ms   4.40s    86.79%
        Req/Sec   308.90    170.93   797.00     61.65%
        Latency Distribution
        50%  183.19ms
        75%  405.06ms
        90%  860.04ms
        99%    1.83s
        20000 requests in 18.00s, 13.90MB read
        Requests/sec:   1111.11
        Transfer/sec:    791.01KB
        ------------------------------
        stop time: 17.787561
        stop time: 17.716549
        stop time: 17.704870
        stop time: 17.911830
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-kzvjk        217m         42Mi
        service1-8d85bfbc7-rvstz         120m         32Mi
        service2-597d9b447f-lmgzw        315m         14Mi
        ubuntu-client-76886f6bbd-67nwz   23m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.787561, 17.716549, 17.70487, 17.91183]
    [exp] Throughput: 1124.846581471724
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   159.99ms   91.50ms 643.47ms   71.06%
        Req/Sec   397.83    123.67   650.00     69.17%
        Latency Distribution
        50%  143.97ms
        75%  210.59ms
        90%  281.91ms
        99%  452.09ms
        4756 requests in 3.03s, 3.34MB read
        Requests/sec:   1568.59
        Transfer/sec:      1.10MB
        [run.sh] Speed is 1568.59, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t4 -c256 -d19s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 19s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   274.97ms  278.29ms   2.76s    86.96%
        Req/Sec   298.64    153.34   670.00     64.82%
        Latency Distribution
        50%  182.24ms
        75%  348.68ms
        90%  646.96ms
        99%    1.32s
        20000 requests in 19.00s, 14.04MB read
        Requests/sec:   1052.63
        Transfer/sec:    756.58KB
        ------------------------------
        stop time: 17.578143
        stop time: 17.110962
        stop time: 17.698793
        stop time: 17.780429
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [17.578143, 17.110962, 17.698793, 17.780429]
    [exp] Throughput: 1140.1155395938115
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '676', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '676'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   271.19ms  143.20ms 839.30ms   68.26%
        Req/Sec   227.52    111.38   490.00     64.66%
        Latency Distribution
        50%  250.55ms
        75%  354.01ms
        90%  464.61ms
        99%  685.67ms
        2637 requests in 3.03s, 1.85MB read
        Requests/sec:    870.88
        Transfer/sec:    626.79KB
        [run.sh] Speed is 870.88, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t4 -c256 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   344.00ms  285.72ms   2.52s    86.02%
        Req/Sec   207.30    106.03   520.00     65.49%
        Latency Distribution
        50%  261.04ms
        75%  420.03ms
        90%  668.42ms
        99%    1.43s
        20000 requests in 34.00s, 14.06MB read
        Requests/sec:    588.23
        Transfer/sec:    423.37KB
        ------------------------------
        stop time: 24.814016
        stop time: 25.258355
        stop time: 25.160524
        stop time: 25.102379
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-62dqc        48m          40Mi
        service1-5c95794cb-fbnj7         374m         33Mi
        service2-7668b8768b-t6pv6        290m         15Mi
        ubuntu-client-76886f6bbd-brsw8   23m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.814016, 25.258355, 25.160524, 25.102379]
    [exp] Throughput: 797.3267706429945
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   238.55ms  122.84ms 802.37ms   70.68%
        Req/Sec   276.39     98.75   505.00     75.00%
        Latency Distribution
        50%  218.12ms
        75%  300.97ms
        90%  410.24ms
        99%  600.09ms
        3131 requests in 3.03s, 2.20MB read
        Requests/sec:   1034.37
        Transfer/sec:    744.46KB
        [run.sh] Speed is 1034.37, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t4 -c256 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   302.70ms  237.19ms   1.99s    80.68%
        Req/Sec   228.42    111.92   570.00     62.61%
        Latency Distribution
        50%  233.08ms
        75%  393.73ms
        90%  604.93ms
        99%    1.17s
        20000 requests in 29.00s, 14.06MB read
        Requests/sec:    689.65
        Transfer/sec:    496.36KB
        ------------------------------
        stop time: 22.627881
        stop time: 22.381357
        stop time: 22.204293
        stop time: 22.818212
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [22.627881, 22.381357, 22.204293, 22.818212]
    [exp] Throughput: 888.5754883141606
[test.py] Baseline throughput:  1036.6405930392773
[test.py] Groundtruth:  [1124.846581471724, 1140.1155395938115]
[test.py] Slowdown:  [797.3267706429945, 888.5754883141606]
[test.py] Predicted:  [1091.833069532816, 1045.9192134875782]
[test.py] Error percentage:  [-2.934934637549768, -8.261998265526017]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 4 256 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   181.92ms  111.18ms 693.32ms   68.97%
        Req/Sec   358.04    138.29   740.00     75.86%
        Latency Distribution
        50%  162.13ms
        75%  244.99ms
        90%  329.57ms
        99%  532.16ms
        4149 requests in 3.03s, 2.92MB read
        Requests/sec:   1369.87
        Transfer/sec:      0.96MB
        [run.sh] Speed is 1369.87, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
