[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.09ms  236.56ms   1.56s    68.32%
        Req/Sec   168.52     88.12   434.00     70.82%
        Latency Distribution
        50%  298.67ms
        75%  476.56ms
        90%  671.80ms
        99%    1.09s
        3943 requests in 3.02s, 2.77MB read
        Requests/sec:   1305.05
        Transfer/sec:      0.92MB
        [run.sh] Speed is 1305.05, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   685.35ms  901.13ms   6.54s    88.87%
        Req/Sec   137.37     87.92   430.00     65.32%
        Latency Distribution
        50%  336.54ms
        75%  808.52ms
        90%    1.71s
        99%    4.70s
        20000 requests in 30.00s, 14.06MB read
        Requests/sec:    666.66
        Transfer/sec:    479.82KB
        ------------------------------
        stop time: 19.869000
        stop time: 20.511987
        stop time: 20.598168
        stop time: 21.969208
        stop time: 20.599765
        stop time: 20.720690
        stop time: 20.575744
        stop time: 20.451019
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-pjm9n        1860m        98Mi
        service1-8d85bfbc7-r9n7n         1629m        53Mi
        service2-597d9b447f-w5vff        741m         16Mi
        ubuntu-client-76886f6bbd-bhkx9   30m          21Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.869, 20.511987, 20.598168, 21.969208, 20.599765, 20.72069, 20.575744, 20.451019]
    [exp] Throughput: 967.962960848905
[test.py] Baseline throughput: 967.962960848905
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   318.64ms  215.88ms   1.46s    67.14%
        Req/Sec   203.28    101.78   525.00     66.81%
        Latency Distribution
        50%  295.96ms
        75%  459.02ms
        90%  580.47ms
        99%  954.70ms
        4818 requests in 3.03s, 3.35MB read
        Requests/sec:   1592.32
        Transfer/sec:      1.11MB
        [run.sh] Speed is 1592.32, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d25s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 25s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   610.83ms  740.16ms   6.90s    88.16%
        Req/Sec   145.81    100.45   525.00     64.17%
        Latency Distribution
        50%  355.88ms
        75%  791.86ms
        90%    1.47s
        99%    3.72s
        20000 requests in 25.00s, 13.90MB read
        Requests/sec:    800.00
        Transfer/sec:    569.53KB
        ------------------------------
        stop time: 19.001427
        stop time: 19.454993
        stop time: 19.729003
        stop time: 19.377515
        stop time: 19.378172
        stop time: 19.978148
        stop time: 18.393379
        stop time: 19.885652
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-7c97847747-vpmfr   300m         52Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.001427, 19.454993, 19.729003, 19.377515, 19.378172, 19.978148, 18.393379, 19.885652]
    [exp] Throughput: 1030.9392006248213
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   335.14ms  166.59ms   1.12s    67.92%
        Req/Sec   187.12    102.71   510.00     62.50%
        Latency Distribution
        50%  319.36ms
        75%  440.60ms
        90%  556.61ms
        99%  801.49ms
        4367 requests in 3.03s, 3.07MB read
        Requests/sec:   1443.48
        Transfer/sec:      1.01MB
        [run.sh] Speed is 1443.48, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   645.16ms  666.74ms   5.86s    86.16%
        Req/Sec   125.06     89.99   420.00     64.78%
        Latency Distribution
        50%  392.95ms
        75%  831.57ms
        90%    1.59s
        99%    3.08s
        20000 requests in 27.00s, 14.04MB read
        Requests/sec:    740.74
        Transfer/sec:    532.41KB
        ------------------------------
        stop time: 21.538468
        stop time: 21.422921
        stop time: 21.321271
        stop time: 22.064603
        stop time: 22.312261
        stop time: 22.095646
        stop time: 22.100227
        stop time: 22.163684
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-frjbm        1077m        63Mi
        service1-8d85bfbc7-jjt48         1944m        59Mi
        service2-597d9b447f-8nlz9        535m         29Mi
        ubuntu-client-76886f6bbd-wv4pg   23m          22Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.538468, 21.422921, 21.321271, 22.064603, 22.312261, 22.095646, 22.100227, 22.163684]
    [exp] Throughput: 914.1860366641968
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '676', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '676'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   506.58ms  290.48ms   1.94s    70.27%
        Req/Sec   122.06     79.64   340.00     61.97%
        Latency Distribution
        50%  467.44ms
        75%  660.57ms
        90%  877.80ms
        99%    1.43s
        2864 requests in 3.02s, 2.01MB read
        Requests/sec:    947.30
        Transfer/sec:    681.79KB
        [run.sh] Speed is 947.30, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-x24dz        468m         77Mi
        ubuntu-client-76886f6bbd-llt7v   18m          0Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   629.72ms  492.67ms   3.85s    80.10%
        Req/Sec   106.60     66.35   350.00     64.60%
        Latency Distribution
        50%  505.27ms
        75%  800.27ms
        90%    1.22s
        99%    2.64s
        20000 requests in 42.00s, 14.06MB read
        Requests/sec:    476.19
        Transfer/sec:    342.73KB
        ------------------------------
        stop time: 24.432315
        stop time: 24.808124
        stop time: 24.894766
        stop time: 25.042341
        stop time: 24.716165
        stop time: 24.614287
        stop time: 24.623030
        stop time: 25.091645
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.432315, 24.808124, 24.894766, 25.042341, 24.716165, 24.614287, 24.62303, 25.091645]
    [exp] Throughput: 807.1730522976046
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   483.00ms  350.48ms   1.98s    65.21%
        Req/Sec   130.59     67.45   303.00     66.36%
        Latency Distribution
        50%  420.60ms
        75%  700.50ms
        90%  964.72ms
        99%    1.49s
        2904 requests in 3.02s, 2.04MB read
        Requests/sec:    961.00
        Transfer/sec:    691.66KB
        [run.sh] Speed is 961.00, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d41s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c97847747-fzmmk        1259m        88Mi
        service1-57769478b7-59qtd        1413m        70Mi
        service2-8474b79db5-2n6cq        598m         22Mi
        ubuntu-client-76886f6bbd-qbv89   34m          21Mi
        Running 41s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   590.71ms  505.76ms   4.80s    81.81%
        Req/Sec   113.53     68.51   450.00     66.78%
        Latency Distribution
        50%  435.07ms
        75%  728.52ms
        90%    1.33s
        99%    2.37s
        20000 requests in 41.00s, 14.06MB read
        Requests/sec:    487.80
        Transfer/sec:    351.08KB
        ------------------------------
        stop time: 20.825994
        stop time: 23.397608
        stop time: 22.749569
        stop time: 23.821767
        stop time: 23.454963
        stop time: 23.491716
        stop time: 23.794891
        stop time: 23.615780
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.825994, 23.397608, 22.749569, 23.821767, 23.454963, 23.491716, 23.794891, 23.61578]
    [exp] Throughput: 864.1535123778757
[test.py] Baseline throughput:  967.962960848905
[test.py] Groundtruth:  [1030.9392006248213, 914.1860366641968]
[test.py] Slowdown:  [807.1730522976046, 864.1535123778757]
[test.py] Predicted:  [1110.3810895216088, 1012.2463588992347]
[test.py] Error percentage:  [7.705778269818452, 10.726517175087624]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 967.962960848905
    Groundtruth: [1030.9392006248213, 914.1860366641968]
    Slowdown:    [807.1730522976046, 864.1535123778757]
    Predicted:   [1110.3810895216088, 1012.2463588992347]
    Error Perc:  [7.705778269818452, 10.726517175087624]
