[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.60ms  253.48ms   1.62s    70.44%
        Req/Sec   171.42     93.09   444.00     70.69%
        Latency Distribution
        50%  304.89ms
        75%  492.47ms
        90%  746.72ms
        99%    1.16s
        3995 requests in 3.02s, 2.81MB read
        Requests/sec:   1321.43
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1321.43, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   567.48ms  482.61ms   4.69s    85.13%
        Req/Sec   128.90     86.07   450.00     64.49%
        Latency Distribution
        50%  425.18ms
        75%  727.50ms
        90%    1.17s
        99%    2.46s
        20000 requests in 30.00s, 14.06MB read
        Requests/sec:    666.66
        Transfer/sec:    479.82KB
        ------------------------------
        stop time: 20.817514
        stop time: 21.146480
        stop time: 20.352932
        stop time: 21.215164
        stop time: 21.085560
        stop time: 21.496758
        stop time: 21.577383
        stop time: 21.489245
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-lgdjs        843m         76Mi
        service1-6bcd7fbfb7-tvkwh        1m           43Mi
        service2-6dc44f9545-wqlg2        81m          11Mi
        ubuntu-client-76886f6bbd-tt7gp   4m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.817514, 21.14648, 20.352932, 21.215164, 21.08556, 21.496758, 21.577383, 21.489245]
    [exp] Throughput: 945.7324755949596
[test.py] Baseline throughput: 945.7324755949596
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   298.71ms  215.98ms   1.16s    64.54%
        Req/Sec   199.28     97.76   500.00     67.80%
        Latency Distribution
        50%  262.03ms
        75%  443.99ms
        90%  604.58ms
        99%  936.96ms
        4699 requests in 3.03s, 3.27MB read
        Requests/sec:   1551.10
        Transfer/sec:      1.08MB
        [run.sh] Speed is 1551.10, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d25s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 25s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   569.66ms  537.64ms   4.90s    84.92%
        Req/Sec   136.80     95.81   474.00     64.19%
        Latency Distribution
        50%  418.39ms
        75%  769.73ms
        90%    1.21s
        99%    2.63s
        20000 requests in 25.00s, 13.90MB read
        Requests/sec:    800.00
        Transfer/sec:    569.53KB
        ------------------------------
        stop time: 19.841408
        stop time: 19.520312
        stop time: 20.724400
        stop time: 20.443257
        stop time: 19.501205
        stop time: 20.671104
        stop time: 20.744191
        stop time: 20.225935
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-z9j82        119m         74Mi
        service1-6bcd7fbfb7-fgv99        670m         54Mi
        service2-6dc44f9545-6hltf        71m          21Mi
        ubuntu-client-76886f6bbd-4xl8x   28m          15Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.841408, 19.520312, 20.7244, 20.443257, 19.501205, 20.671104, 20.744191, 20.225935]
    [exp] Throughput: 989.6592239592144
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   337.95ms  218.30ms   1.66s    68.67%
        Req/Sec   184.25     93.24   414.00     59.24%
        Latency Distribution
        50%  307.13ms
        75%  462.87ms
        90%  626.12ms
        99%    1.02s
        4374 requests in 3.03s, 3.07MB read
        Requests/sec:   1445.47
        Transfer/sec:      1.01MB
        [run.sh] Speed is 1445.47, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   557.06ms  548.90ms   3.74s    86.46%
        Req/Sec   134.55     91.59   430.00     63.48%
        Latency Distribution
        50%  369.02ms
        75%  703.90ms
        90%    1.28s
        99%    2.68s
        20000 requests in 27.00s, 14.04MB read
        Requests/sec:    740.74
        Transfer/sec:    532.40KB
        ------------------------------
        stop time: 19.769474
        stop time: 18.874301
        stop time: 19.098644
        stop time: 20.061691
        stop time: 19.682644
        stop time: 20.222539
        stop time: 19.963752
        stop time: 20.111634
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [19.769474, 18.874301, 19.098644, 20.061691, 19.682644, 20.222539, 19.963752, 20.111634]
    [exp] Throughput: 1014.0401527831482
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   491.47ms  291.02ms   1.59s    67.27%
        Req/Sec   129.64     76.24   340.00     62.84%
        Latency Distribution
        50%  415.99ms
        75%  687.33ms
        90%  877.58ms
        99%    1.33s
        2856 requests in 3.03s, 2.01MB read
        Requests/sec:    942.77
        Transfer/sec:    678.53KB
        [run.sh] Speed is 942.77, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-9bj5j        385m         77Mi
        service1-684b76cfdf-l9qp4        982m         47Mi
        service2-5896ddd4b7-pxrbs        257m         19Mi
        ubuntu-client-76886f6bbd-dhhlh   35m          16Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   624.58ms  557.60ms   4.55s    83.87%
        Req/Sec   111.01     65.99   393.00     65.64%
        Latency Distribution
        50%  456.60ms
        75%  739.37ms
        90%    1.34s
        99%    2.70s
        20000 requests in 42.00s, 14.06MB read
        Requests/sec:    476.19
        Transfer/sec:    342.73KB
        ------------------------------
        stop time: 24.042221
        stop time: 23.622940
        stop time: 24.206822
        stop time: 23.583318
        stop time: 23.891437
        stop time: 24.004019
        stop time: 23.268283
        stop time: 23.639764
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.042221, 23.62294, 24.206822, 23.583318, 23.891437, 24.004019, 23.268283, 23.639764]
    [exp] Throughput: 840.9597697250321
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   404.82ms  244.74ms   1.47s    67.42%
        Req/Sec   156.64     75.08   340.00     64.13%
        Latency Distribution
        50%  362.41ms
        75%  554.33ms
        90%  744.27ms
        99%    1.11s
        3529 requests in 3.03s, 2.48MB read
        Requests/sec:   1164.44
        Transfer/sec:    838.08KB
        [run.sh] Speed is 1164.44, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   569.43ms  422.47ms   3.56s    79.18%
        Req/Sec   117.18     73.32   404.00     65.48%
        Latency Distribution
        50%  438.26ms
        75%  727.16ms
        90%    1.19s
        99%    1.95s
        20000 requests in 34.00s, 14.06MB read
        Requests/sec:    588.23
        Transfer/sec:    423.37KB
        ------------------------------
        stop time: 21.689303
        stop time: 22.584010
        stop time: 21.618737
        stop time: 22.701819
        stop time: 22.809961
        stop time: 22.401517
        stop time: 22.579280
        stop time: 22.711942
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74c66db75c-nfzgr        991m         70Mi
        service1-74dc665c69-xkznw        1858m        58Mi
        service2-577cbd8655-pmtsk        162m         19Mi
        ubuntu-client-76886f6bbd-rqppl   22m          21Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.689303, 22.58401, 21.618737, 22.701819, 22.809961, 22.401517, 22.57928, 22.711942]
    [exp] Throughput: 893.3727814741109
[test.py] Baseline throughput:  945.7324755949596
[test.py] Groundtruth:  [989.6592239592144, 1014.0401527831482]
[test.py] Slowdown:  [840.9597697250321, 893.3727814741109]
[test.py] Predicted:  [1175.340152989914, 1052.572240187328]
[test.py] Error percentage:  [18.762107656397884, 3.799858151417775]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 945.7324755949596
    Groundtruth: [989.6592239592144, 1014.0401527831482]
    Slowdown:    [840.9597697250321, 893.3727814741109]
    Predicted:   [1175.340152989914, 1052.572240187328]
    Error Perc:  [18.762107656397884, 3.799858151417775]
