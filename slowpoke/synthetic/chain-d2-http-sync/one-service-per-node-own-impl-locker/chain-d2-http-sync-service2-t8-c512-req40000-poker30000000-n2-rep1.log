[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 538]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   408.07ms  165.96ms   1.13s    83.31%
        Req/Sec   151.78     62.19   323.00     68.53%
        Latency Distribution
        50%  374.85ms
        75%  426.01ms
        90%  562.71ms
        99%    1.02s
        3539 requests in 3.03s, 2.05MB read
        Requests/sec:   1166.73
        Transfer/sec:    691.60KB
        [run.sh] Speed is 1166.73, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d51s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-5xbwj        116m         47Mi
        service1-69bf8b98cb-rjfrb        1224m        16Mi
        service2-54d57f45b4-hn9tb        761m         10Mi
        ubuntu-client-76886f6bbd-bnglm   45m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   379.63ms   78.65ms   1.23s    86.22%
        Req/Sec   168.95     46.53   510.00     71.69%
        Latency Distribution
        50%  370.89ms
        75%  400.15ms
        90%  440.28ms
        99%  706.03ms
        40000 requests in 0.85m, 23.16MB read
        Requests/sec:    784.31
        Transfer/sec:    464.92KB
        ------------------------------
        stop time: 29.377925
        stop time: 29.508735
        stop time: 29.808510
        stop time: 29.889175
        stop time: 30.006327
        stop time: 29.963304
        stop time: 29.910745
        stop time: 29.962459
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.377925, 29.508735, 29.80851, 29.889175, 30.006327, 29.963304, 29.910745, 29.962459]
    [exp] Throughput: 1342.1288629928854
[test.py] Baseline throughput: 1342.1288629928854
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   384.13ms   82.01ms 915.84ms   85.60%
        Req/Sec   170.09     51.06   282.00     72.22%
        Latency Distribution
        50%  362.43ms
        75%  391.82ms
        90%  492.88ms
        99%  686.07ms
        3740 requests in 3.04s, 2.17MB read
        Requests/sec:   1231.97
        Transfer/sec:    730.28KB
        [run.sh] Speed is 1231.97, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-vn94r        1943m        46Mi
        service1-69bf8b98cb-lshx5        1304m        17Mi
        service2-54d57f45b4-zkwlz        219m         8Mi
        ubuntu-client-76886f6bbd-tzc8t   48m          15Mi
        Running 48s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.45ms  100.96ms   1.34s    87.51%
        Req/Sec   175.01     51.86   600.00     72.21%
        Latency Distribution
        50%  358.87ms
        75%  389.79ms
        90%  429.67ms
        99%  820.98ms
        40000 requests in 48.00s, 23.16MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 28.677908
        stop time: 28.579426
        stop time: 28.681081
        stop time: 28.867014
        stop time: 28.907823
        stop time: 28.962733
        stop time: 28.962100
        stop time: 29.026992
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.677908, 28.579426, 28.681081, 28.867014, 28.907823, 28.962733, 28.9621, 29.026992]
    [exp] Throughput: 1387.2927976869253
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.000538', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   396.47ms  106.76ms 752.05ms   74.73%
        Req/Sec   169.76     65.88   370.00     76.08%
        Latency Distribution
        50%  363.91ms
        75%  433.07ms
        90%  568.54ms
        99%  708.92ms
        3640 requests in 3.03s, 2.11MB read
        Requests/sec:   1200.56
        Transfer/sec:    711.66KB
        [run.sh] Speed is 1200.56, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d49s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 49s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.70ms  164.66ms   1.83s    86.51%
        Req/Sec   176.01     55.04   464.00     70.93%
        Latency Distribution
        50%  349.32ms
        75%  385.66ms
        90%  465.07ms
        99%    1.19s
        40000 requests in 49.00s, 23.16MB read
        Requests/sec:    816.32
        Transfer/sec:    483.90KB
        ------------------------------
        stop time: 28.600245
        stop time: 28.286696
        stop time: 28.766985
        stop time: 28.791585
        stop time: 28.758895
        stop time: 28.655555
        stop time: 28.797314
        stop time: 28.755857
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [28.600245, 28.286696, 28.766985, 28.791585, 28.758895, 28.655555, 28.797314, 28.755857]
    [exp] Throughput: 1394.8634814854454
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   562.60ms  102.99ms 853.79ms   67.95%
        Req/Sec   108.27     57.23   292.00     68.52%
        Latency Distribution
        50%  536.53ms
        75%  645.32ms
        90%  704.47ms
        99%  792.18ms
        2396 requests in 3.02s, 1.39MB read
        Requests/sec:    793.08
        Transfer/sec:    470.12KB
        [run.sh] Speed is 793.08, duration is 75
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d75s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-755658596c-x7cwj        425m         40Mi
        service1-5b6df85f47-qh2xc        272m         15Mi
        service2-54d57f45b4-srph6        351m         9Mi
        ubuntu-client-76886f6bbd-pl4v5   15m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   607.80ms  122.26ms   1.32s    76.21%
        Req/Sec   106.37     52.27   343.00     67.18%
        Latency Distribution
        50%  596.98ms
        75%  669.13ms
        90%  753.07ms
        99%  962.26ms
        40001 requests in 1.25m, 23.16MB read
        Requests/sec:    533.35
        Transfer/sec:    316.15KB
        ------------------------------
        stop time: 47.585846
        stop time: 47.316295
        stop time: 47.660209
        stop time: 47.935488
        stop time: 47.879785
        stop time: 47.853462
        stop time: 48.007427
        stop time: 48.022088
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [47.585846, 47.316295, 47.660209, 47.935488, 47.879785, 47.853462, 48.007427, 48.022088]
    [exp] Throughput: 837.125249110162
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.59ms  121.73ms 984.33ms   77.23%
        Req/Sec   139.06     65.44   333.00     67.26%
        Latency Distribution
        50%  434.35ms
        75%  498.89ms
        90%  602.32ms
        99%  892.43ms
        3132 requests in 3.03s, 1.81MB read
        Requests/sec:   1034.30
        Transfer/sec:    613.11KB
        [run.sh] Speed is 1034.30, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   492.08ms  122.71ms   1.15s    74.43%
        Req/Sec   132.28     62.38   636.00     69.35%
        Latency Distribution
        50%  473.00ms
        75%  556.69ms
        90%  663.57ms
        99%  839.28ms
        40000 requests in 0.97m, 23.16MB read
        Requests/sec:    689.65
        Transfer/sec:    408.81KB
        ------------------------------
        stop time: 38.170560
        stop time: 38.439535
        stop time: 38.576913
        stop time: 38.752494
        stop time: 38.873483
        stop time: 38.907276
        stop time: 38.900484
        stop time: 38.894963
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [38.17056, 38.439535, 38.576913, 38.752494, 38.873483, 38.907276, 38.900484, 38.894963]
    [exp] Throughput: 1033.8732146027303
[test.py] Baseline throughput:  1342.1288629928854
[test.py] Groundtruth:  [1387.2927976869253, 1394.8634814854454]
[test.py] Slowdown:  [837.125249110162, 1033.8732146027303]
[test.py] Predicted:  [1524.8333404809898, 1433.7296036506482]
[test.py] Error percentage:  [9.914312466942091, 2.7863746295668106]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1342.1288629928854
    Groundtruth: [1387.2927976869253, 1394.8634814854454]
    Slowdown:    [837.125249110162, 1033.8732146027303]
    Predicted:   [1524.8333404809898, 1433.7296036506482]
    Error Perc:  [9.914312466942091, 2.7863746295668106]
