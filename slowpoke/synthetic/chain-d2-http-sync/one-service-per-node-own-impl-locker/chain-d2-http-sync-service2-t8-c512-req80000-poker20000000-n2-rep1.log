[config.py] Random numbers for execution time: [538.7567487313221, 708.1430120173984, 1214.8986942771999]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 80000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 22717
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1214.9, 'service1': 708.14, 'service2': 1077.51}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1077.51]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 538]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   390.74ms  160.93ms   1.26s    83.48%
        Req/Sec   160.16     52.89   282.00     72.73%
        Latency Distribution
        50%  356.90ms
        75%  391.00ms
        90%  540.39ms
        99%    1.04s
        3739 requests in 3.03s, 2.16MB read
        Requests/sec:   1234.61
        Transfer/sec:    731.84KB
        [run.sh] Speed is 1234.61, duration is 97
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d97s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-vjhvn        1947m        45Mi
        service1-745ff764dc-dgcc4        1331m        15Mi
        service2-55c99d4dbc-rfq48        1670m        12Mi
        ubuntu-client-76886f6bbd-6p4rq   49m          12Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   363.43ms   87.05ms   1.70s    91.38%
        Req/Sec   177.28     44.77   343.00     69.32%
        Latency Distribution
        50%  352.20ms
        75%  378.62ms
        90%  416.59ms
        99%  690.29ms
        80000 requests in 1.62m, 46.31MB read
        Requests/sec:    824.74
        Transfer/sec:    488.88KB
        ------------------------------
        stop time: 56.589586
        stop time: 56.752953
        stop time: 56.562994
        stop time: 56.654379
        stop time: 56.928321
        stop time: 56.977738
        stop time: 56.918443
        stop time: 56.958481
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [56.589586, 56.752953, 56.562994, 56.654379, 56.928321, 56.977738, 56.918443, 56.958481]
    [exp] Throughput: 1408.627728183138
[test.py] Baseline throughput: 1408.627728183138
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   389.44ms   84.12ms 870.79ms   85.30%
        Req/Sec   169.08     55.91   313.00     68.20%
        Latency Distribution
        50%  365.25ms
        75%  402.88ms
        90%  500.99ms
        99%  705.23ms
        3726 requests in 3.03s, 2.16MB read
        Requests/sec:   1229.20
        Transfer/sec:    728.64KB
        [run.sh] Speed is 1229.20, duration is 97
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d97s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   364.34ms   77.73ms   1.26s    87.74%
        Req/Sec   175.79     49.59   434.00     70.96%
        Latency Distribution
        50%  356.10ms
        75%  383.85ms
        90%  419.23ms
        99%  706.53ms
        80000 requests in 1.62m, 46.31MB read
        Requests/sec:    824.74
        Transfer/sec:    488.88KB
        ------------------------------
        stop time: 57.284112
        stop time: 57.196156
        stop time: 57.073515
        stop time: 57.029377
        stop time: 57.101535
        stop time: 57.131355
        stop time: 57.006163
        stop time: 57.097056
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [57.284112, 57.196156, 57.073515, 57.029377, 57.101535, 57.131355, 57.006163, 57.097056]
    [exp] Throughput: 1400.6850737564318
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.000538', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   380.21ms   79.66ms 725.23ms   82.39%
        Req/Sec   174.18     60.46   350.00     72.22%
        Latency Distribution
        50%  356.07ms
        75%  396.04ms
        90%  490.26ms
        99%  676.17ms
        3787 requests in 3.03s, 2.19MB read
        Requests/sec:   1248.53
        Transfer/sec:    740.10KB
        [run.sh] Speed is 1248.53, duration is 96
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d96s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-565959b5f9-mvnnt        1941m        47Mi
        service1-745ff764dc-kfjfv        1299m        15Mi
        service2-55c99d4dbc-mfmx7        681m         9Mi
        ubuntu-client-76886f6bbd-nlpkg   50m          15Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.20ms  131.64ms   2.15s    90.35%
        Req/Sec   176.24     51.31   434.00     70.98%
        Latency Distribution
        50%  353.81ms
        75%  381.29ms
        90%  424.62ms
        99%    1.00s
        80000 requests in 1.60m, 46.31MB read
        Requests/sec:    833.33
        Transfer/sec:    493.98KB
        ------------------------------
        stop time: 56.861093
        stop time: 56.907827
        stop time: 56.990899
        stop time: 57.281931
        stop time: 57.200095
        stop time: 57.200435
        stop time: 57.154627
        stop time: 57.172464
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [56.861093, 56.907827, 56.990899, 57.281931, 57.200095, 57.200435, 57.154627, 57.172464]
    [exp] Throughput: 1401.1447365633455
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '538.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   580.39ms  118.05ms 881.04ms   79.16%
        Req/Sec   102.34     54.12   303.00     66.96%
        Latency Distribution
        50%  596.85ms
        75%  645.49ms
        90%  699.55ms
        99%  821.32ms
        2371 requests in 3.02s, 1.37MB read
        Requests/sec:    785.40
        Transfer/sec:    465.57KB
        [run.sh] Speed is 785.40, duration is 152
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d152s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   624.38ms   97.22ms   1.74s    81.42%
        Req/Sec   103.39     44.08   360.00     71.98%
        Latency Distribution
        50%  621.54ms
        75%  660.79ms
        90%  713.61ms
        99%  938.18ms
        80000 requests in 2.53m, 46.31MB read
        Requests/sec:    526.32
        Transfer/sec:    311.99KB
        ------------------------------
        stop time: 97.386395
        stop time: 97.779034
        stop time: 97.771041
        stop time: 97.680345
        stop time: 97.986620
        stop time: 98.287286
        stop time: 98.121340
        stop time: 98.072419
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [97.386395, 97.779034, 97.771041, 97.680345, 97.98662, 98.287286, 98.12134, 98.072419]
    [exp] Throughput: 817.2809145700346
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012149', 'PROCESSING_TIME_SERVICE1': '0.00070814', 'PROCESSING_TIME_SERVICE2': '0.00107751', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '269.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 80000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   451.04ms  115.95ms 787.27ms   69.74%
        Req/Sec   144.96     64.87   350.00     64.98%
        Latency Distribution
        50%  415.52ms
        75%  510.17ms
        90%  637.03ms
        99%  727.94ms
        3225 requests in 3.03s, 1.87MB read
        Requests/sec:   1064.87
        Transfer/sec:    631.23KB
        [run.sh] Speed is 1064.87, duration is 112
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d112s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7f8787fbbc-kr492        1539m        42Mi
        service1-6cd4c44cdc-5kl6n        997m         15Mi
        service2-55c99d4dbc-rqrwn        1289m        10Mi
        ubuntu-client-76886f6bbd-gzpfz   39m          14Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   480.43ms  112.41ms   1.37s    75.53%
        Req/Sec   135.18     58.38   430.00     69.33%
        Latency Distribution
        50%  470.90ms
        75%  527.05ms
        90%  618.62ms
        99%  837.00ms
        80000 requests in 1.87m, 46.31MB read
        Requests/sec:    714.28
        Transfer/sec:    423.41KB
        ------------------------------
        stop time: 74.853210
        stop time: 75.094551
        stop time: 75.183086
        stop time: 75.345207
        stop time: 75.471325
        stop time: 75.468737
        stop time: 75.458629
        stop time: 75.622417
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [74.85321, 75.094551, 75.183086, 75.345207, 75.471325, 75.468737, 75.458629, 75.622417]
    [exp] Throughput: 1062.245667474198
[test.py] Baseline throughput:  1408.627728183138
[test.py] Groundtruth:  [1400.6850737564318, 1401.1447365633455]
[test.py] Slowdown:  [817.2809145700346, 1062.245667474198]
[test.py] Predicted:  [1460.2494544142974, 1488.8777505324006]
[test.py] Error percentage:  [4.252517698223383, 6.261524001028043]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1408.627728183138
    Groundtruth: [1400.6850737564318, 1401.1447365633455]
    Slowdown:    [817.2809145700346, 1062.245667474198]
    Predicted:   [1460.2494544142974, 1488.8777505324006]
    Error Perc:  [4.252517698223383, 6.261524001028043]
