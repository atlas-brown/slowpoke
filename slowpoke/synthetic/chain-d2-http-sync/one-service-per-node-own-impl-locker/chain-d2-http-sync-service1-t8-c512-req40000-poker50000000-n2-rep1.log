[config.py] Random numbers for execution time: [452.4185451586567, 524.4164304797239, 701.4983386752051]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 7748
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 701.5, 'service1': 524.42, 'service2': 452.42}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 524.42]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 262]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   244.30ms   56.21ms 527.95ms   87.59%
        Req/Sec   268.58     77.49   464.00     73.54%
        Latency Distribution
        50%  228.62ms
        75%  250.64ms
        90%  302.22ms
        99%  487.65ms
        6005 requests in 3.04s, 3.48MB read
        Requests/sec:   1974.20
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1974.20, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   233.06ms   46.84ms 839.35ms   85.96%
        Req/Sec   275.22     54.79   470.00     72.18%
        Latency Distribution
        50%  226.43ms
        75%  246.14ms
        90%  273.24ms
        99%  406.04ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 18.212022
        stop time: 18.259364
        stop time: 18.175431
        stop time: 18.249461
        stop time: 18.245227
        stop time: 18.352268
        stop time: 18.465504
        stop time: 18.481547
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [18.212022, 18.259364, 18.175431, 18.249461, 18.245227, 18.352268, 18.465504, 18.481547]
    [exp] Throughput: 2185.1830060721322
[test.py] Baseline throughput: 2185.1830060721322
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   240.65ms   55.91ms 663.71ms   87.37%
        Req/Sec   263.98     60.57   400.00     78.88%
        Latency Distribution
        50%  227.09ms
        75%  247.42ms
        90%  296.17ms
        99%  481.19ms
        6151 requests in 3.03s, 3.56MB read
        Requests/sec:   2032.14
        Transfer/sec:      1.18MB
        [run.sh] Speed is 2032.14, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   236.10ms   98.67ms   1.34s    85.75%
        Req/Sec   273.64     72.97   630.00     77.04%
        Latency Distribution
        50%  223.61ms
        75%  249.16ms
        90%  300.09ms
        99%  650.51ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 18.243463
        stop time: 18.144910
        stop time: 18.313766
        stop time: 18.404450
        stop time: 18.572011
        stop time: 18.482472
        stop time: 18.514884
        stop time: 18.545802
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68dbb768cc-fkhdd        864m         46Mi
        service1-b4658cd9f-r2m8d         376m         15Mi
        service2-554c5f44f7-hzdkr        1197m        10Mi
        ubuntu-client-76886f6bbd-58qpb   26m          14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.243463, 18.14491, 18.313766, 18.40445, 18.572011, 18.482472, 18.514884, 18.545802]
    [exp] Throughput: 2173.591759446317
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.000262', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   247.27ms   71.04ms 646.27ms   77.69%
        Req/Sec   261.75     84.11   525.00     82.59%
        Latency Distribution
        50%  233.18ms
        75%  269.31ms
        90%  335.96ms
        99%  491.15ms
        5882 requests in 3.03s, 3.40MB read
        Requests/sec:   1942.26
        Transfer/sec:      1.12MB
        [run.sh] Speed is 1942.26, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   234.81ms  108.99ms   1.25s    89.36%
        Req/Sec   277.62     68.38   707.00     80.40%
        Latency Distribution
        50%  221.92ms
        75%  242.46ms
        90%  280.30ms
        99%  795.45ms
        40000 requests in 30.00s, 23.16MB read
        Requests/sec:   1333.33
        Transfer/sec:    790.36KB
        ------------------------------
        stop time: 18.086253
        stop time: 18.115592
        stop time: 18.254947
        stop time: 18.191944
        stop time: 18.317592
        stop time: 18.235110
        stop time: 18.132334
        stop time: 17.951400
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [18.086253, 18.115592, 18.254947, 18.191944, 18.317592, 18.23511, 18.132334, 17.9514]
    [exp] Throughput: 2202.5647600155644
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '262.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   354.76ms  144.02ms   1.20s    80.64%
        Req/Sec   170.93     75.72   363.00     63.79%
        Latency Distribution
        50%  325.42ms
        75%  410.71ms
        90%  513.22ms
        99%  892.08ms
        3967 requests in 3.03s, 2.30MB read
        Requests/sec:   1307.35
        Transfer/sec:    774.96KB
        [run.sh] Speed is 1307.35, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-66ff78568c-c4z6h        1285m        45Mi
        service1-b4658cd9f-h9q5f         1058m        16Mi
        service2-6cb6d99cc9-njvq9        547m         12Mi
        ubuntu-client-76886f6bbd-h5rjt   46m          14Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   358.76ms   97.90ms 930.83ms   77.34%
        Req/Sec   179.95     75.80   535.00     68.07%
        Latency Distribution
        50%  350.77ms
        75%  410.79ms
        90%  467.07ms
        99%  688.60ms
        40000 requests in 45.00s, 23.16MB read
        Requests/sec:    888.89
        Transfer/sec:    526.91KB
        ------------------------------
        stop time: 27.742880
        stop time: 27.862017
        stop time: 27.922021
        stop time: 28.332572
        stop time: 28.386281
        stop time: 28.398355
        stop time: 28.397266
        stop time: 28.385456
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.74288, 27.862017, 27.922021, 28.332572, 28.386281, 28.398355, 28.397266, 28.385456]
    [exp] Throughput: 1419.5292301651664
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0007015', 'PROCESSING_TIME_SERVICE1': '0.00052442', 'PROCESSING_TIME_SERVICE2': '0.00045242', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '131.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '131.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   302.34ms  126.28ms 670.41ms   68.78%
        Req/Sec   211.33    113.19   500.00     67.73%
        Latency Distribution
        50%  279.17ms
        75%  389.72ms
        90%  485.42ms
        99%  589.96ms
        4712 requests in 3.02s, 2.73MB read
        Requests/sec:   1560.37
        Transfer/sec:      0.90MB
        [run.sh] Speed is 1560.37, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.35ms   88.44ms 968.07ms   77.91%
        Req/Sec   215.58     85.49   545.00     69.12%
        Latency Distribution
        50%  284.12ms
        75%  337.46ms
        90%  397.53ms
        99%  604.97ms
        40000 requests in 38.00s, 23.16MB read
        Requests/sec:   1052.63
        Transfer/sec:    623.97KB
        ------------------------------
        stop time: 23.129897
        stop time: 23.132393
        stop time: 23.453565
        stop time: 23.307464
        stop time: 23.447368
        stop time: 23.510121
        stop time: 23.489005
        stop time: 23.502989
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [23.129897, 23.132393, 23.453565, 23.307464, 23.447368, 23.510121, 23.489005, 23.502989]
    [exp] Throughput: 1711.4788706006557
[test.py] Baseline throughput:  2185.1830060721322
[test.py] Groundtruth:  [2173.591759446317, 2202.5647600155644]
[test.py] Slowdown:  [1419.5292301651664, 1711.4788706006557]
[test.py] Predicted:  [2261.1701238827272, 2207.1157107034674]
[test.py] Error percentage:  [4.029200242216555, 0.2066205167048441]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2185.1830060721322
    Groundtruth: [2173.591759446317, 2202.5647600155644]
    Slowdown:    [1419.5292301651664, 1711.4788706006557]
    Predicted:   [2261.1701238827272, 2207.1157107034674]
    Error Perc:  [4.029200242216555, 0.2066205167048441]
