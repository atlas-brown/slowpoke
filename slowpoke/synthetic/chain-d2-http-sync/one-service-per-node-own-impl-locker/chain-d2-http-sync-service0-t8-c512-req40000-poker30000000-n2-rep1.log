[config.py] Random numbers for execution time: [247.2573382140748, 476.70040537096673, 676.5993667502922]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 4446
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 676.6, 'service1': 476.7, 'service2': 247.26}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 676.6]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 338]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   241.34ms   71.93ms 739.64ms   88.24%
        Req/Sec   262.81     73.55   430.00     71.98%
        Latency Distribution
        50%  224.87ms
        75%  252.54ms
        90%  305.03ms
        99%  601.16ms
        6130 requests in 3.02s, 3.55MB read
        Requests/sec:   2027.49
        Transfer/sec:      1.17MB
        [run.sh] Speed is 2027.49, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   223.34ms   51.27ms 943.74ms   86.75%
        Req/Sec   287.60     61.58   717.00     74.31%
        Latency Distribution
        50%  217.70ms
        75%  237.10ms
        90%  265.94ms
        99%  422.39ms
        40000 requests in 29.00s, 23.16MB read
        Requests/sec:   1379.30
        Transfer/sec:    817.61KB
        ------------------------------
        stop time: 17.295109
        stop time: 17.224893
        stop time: 17.449217
        stop time: 17.504870
        stop time: 17.600006
        stop time: 17.685676
        stop time: 17.703796
        stop time: 17.713637
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-zfktk        1695m        44Mi
        service1-69bf8b98cb-wdvjx        1272m        13Mi
        service2-54d57f45b4-j59tp        890m         9Mi
        ubuntu-client-76886f6bbd-f994d   73m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.295109, 17.224893, 17.449217, 17.50487, 17.600006, 17.685676, 17.703796, 17.713637]
    [exp] Throughput: 2282.8248165086816
[test.py] Baseline throughput: 2282.8248165086816
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.65ms   25.24ms 313.51ms   76.33%
        Req/Sec   365.58     70.69   474.00     81.25%
        Latency Distribution
        50%  167.55ms
        75%  182.94ms
        90%  201.92ms
        99%  251.00ms
        8736 requests in 3.04s, 5.06MB read
        Requests/sec:   2877.15
        Transfer/sec:      1.67MB
        [run.sh] Speed is 2877.15, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.18ms   27.30ms 405.25ms   77.76%
        Req/Sec   375.32     52.33     0.99k    77.54%
        Latency Distribution
        50%  166.15ms
        75%  182.51ms
        90%  204.29ms
        99%  252.95ms
        40000 requests in 20.00s, 23.16MB read
        Requests/sec:   1999.99
        Transfer/sec:      1.16MB
        ------------------------------
        stop time: 13.221968
        stop time: 13.396174
        stop time: 13.434804
        stop time: 13.490643
        stop time: 13.424357
        stop time: 13.416314
        stop time: 13.398031
        stop time: 13.452339
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.221968, 13.396174, 13.434804, 13.490643, 13.424357, 13.416314, 13.398031, 13.452339]
    [exp] Throughput: 2984.1106366478816
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000338', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.83ms   27.93ms 425.89ms   81.71%
        Req/Sec   365.62     66.76   490.00     82.33%
        Latency Distribution
        50%  167.85ms
        75%  184.50ms
        90%  206.25ms
        99%  283.76ms
        8530 requests in 3.03s, 4.94MB read
        Requests/sec:   2812.88
        Transfer/sec:      1.63MB
        [run.sh] Speed is 2812.88, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d21s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 21s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   173.45ms   27.64ms 418.48ms   77.88%
        Req/Sec   369.35     53.58   680.00     76.62%
        Latency Distribution
        50%  169.16ms
        75%  185.89ms
        90%  207.13ms
        99%  255.46ms
        40000 requests in 21.00s, 23.16MB read
        Requests/sec:   1904.75
        Transfer/sec:      1.10MB
        ------------------------------
        stop time: 13.524532
        stop time: 13.551023
        stop time: 13.547275
        stop time: 13.672466
        stop time: 13.743942
        stop time: 13.719183
        stop time: 13.768983
        stop time: 13.813357
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-mw9fl        1648m        43Mi
        service1-69bf8b98cb-vvbhl        1928m        16Mi
        service2-54d57f45b4-kvfc6        949m         9Mi
        ubuntu-client-76886f6bbd-rbdm9   72m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.524532, 13.551023, 13.547275, 13.672466, 13.743942, 13.719183, 13.768983, 13.813357]
    [exp] Throughput: 2926.6304447981665
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.77ms   65.67ms 696.25ms   80.64%
        Req/Sec   174.00     55.73   303.00     66.82%
        Latency Distribution
        50%  363.12ms
        75%  393.14ms
        90%  442.71ms
        99%  650.12ms
        3879 requests in 3.03s, 2.25MB read
        Requests/sec:   1278.32
        Transfer/sec:    757.75KB
        [run.sh] Speed is 1278.32, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   354.67ms   47.03ms 821.87ms   78.75%
        Req/Sec   180.43     51.40   474.00     68.54%
        Latency Distribution
        50%  354.22ms
        75%  379.76ms
        90%  404.10ms
        99%  478.65ms
        40000 requests in 46.00s, 23.16MB read
        Requests/sec:    869.56
        Transfer/sec:    515.45KB
        ------------------------------
        stop time: 27.490109
        stop time: 27.643088
        stop time: 27.841516
        stop time: 27.952293
        stop time: 27.939905
        stop time: 28.009151
        stop time: 28.054036
        stop time: 28.169843
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [27.490109, 27.643088, 27.841516, 27.952293, 27.939905, 28.009151, 28.054036, 28.169843]
    [exp] Throughput: 1434.3347585197255
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0006766', 'PROCESSING_TIME_SERVICE1': '0.0004767', 'PROCESSING_TIME_SERVICE2': '0.00024726', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '169.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '169.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   282.68ms   54.83ms 554.40ms   82.99%
        Req/Sec   230.53     57.66   360.00     77.23%
        Latency Distribution
        50%  272.01ms
        75%  295.02ms
        90%  338.59ms
        99%  497.70ms
        5190 requests in 3.02s, 3.00MB read
        Requests/sec:   1720.68
        Transfer/sec:      1.00MB
        [run.sh] Speed is 1720.68, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   279.06ms   39.84ms 730.50ms   76.33%
        Req/Sec   229.28     48.44   424.00     69.64%
        Latency Distribution
        50%  276.17ms
        75%  299.23ms
        90%  323.93ms
        99%  388.81ms
        40000 requests in 34.00s, 23.16MB read
        Requests/sec:   1176.47
        Transfer/sec:    697.38KB
        ------------------------------
        stop time: 21.733043
        stop time: 21.838210
        stop time: 21.866861
        stop time: 21.871317
        stop time: 21.951204
        stop time: 22.066769
        stop time: 22.066155
        stop time: 22.121236
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-567cd5b64d-5hlsd        855m         45Mi
        service1-698d7bb97d-7rfvr        596m         16Mi
        service2-68d9b946d6-j8nw4        8m           11Mi
        ubuntu-client-76886f6bbd-mnf6m   45m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.733043, 21.83821, 21.866861, 21.871317, 21.951204, 22.066769, 22.066155, 22.121236]
    [exp] Throughput: 1823.208123281003
[test.py] Baseline throughput:  2282.8248165086816
[test.py] Groundtruth:  [2984.1106366478816, 2926.6304447981665]
[test.py] Slowdown:  [1434.3347585197255, 1823.208123281003]
[test.py] Predicted:  [2786.389923696541, 2637.2439251601268]
[test.py] Error percentage:  [-6.625783592710388, -9.888044462613971]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2282.8248165086816
    Groundtruth: [2984.1106366478816, 2926.6304447981665]
    Slowdown:    [1434.3347585197255, 1823.208123281003]
    Predicted:   [2786.389923696541, 2637.2439251601268]
    Error Perc:  [-6.625783592710388, -9.888044462613971]
