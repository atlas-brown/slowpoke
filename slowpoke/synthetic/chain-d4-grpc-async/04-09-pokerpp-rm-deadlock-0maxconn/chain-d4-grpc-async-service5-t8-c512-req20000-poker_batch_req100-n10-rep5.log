[config.py] Random numbers for execution time: [441.50094919119925, 565.6324356917719, 718.2531722271892, 1099.0949112857336, 1107.6563079097275, 1341.3771121111708]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service5
request_type                     : chain-d4-grpc-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 17806
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1}
baseline_service_processing_time : {'service0': 1341.38, 'service1': 1107.66, 'service2': 1099.09, 'service3': 718.25, 'service4': 565.63, 'service5': 883.0}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2}
target_processing_time_range     : [0, 883.0]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 88, 176, 264, 352, 440, 528, 616, 704, 792]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000883', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   484.00ms  276.82ms   1.31s    67.42%
        Req/Sec   165.29     98.67   404.00     69.05%
        Latency Distribution
        50%  384.78ms
        75%  655.73ms
        90%  936.97ms
        99%    1.14s
        2969 requests in 3.03s, 461.01KB read
        Requests/sec:    980.49
        Transfer/sec:    152.24KB
        [run.sh] Speed is 980.49, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.27ms  257.89ms   1.98s    74.17%
        Req/Sec   150.44     92.70   460.00     67.99%
        Latency Distribution
        50%  381.66ms
        75%  576.06ms
        90%  818.42ms
        99%    1.28s
        20000 requests in 30.00s, 3.03MB read
        Requests/sec:    666.66
        Transfer/sec:    103.52KB
        ------------------------------
        stop time: 17.670704
        stop time: 17.446313
        stop time: 17.283519
        stop time: 17.870834
        stop time: 17.898707
        stop time: 17.947235
        stop time: 17.874851
        stop time: 18.013032
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6fb7cc7c7f-v888z        1742m        52Mi
        service1-76b89695f7-mgr7s        1526m        17Mi
        service2-8f7c6f8f5-thw7r         1525m        12Mi
        service3-766854894f-9q7b4        1179m        10Mi
        service4-6fb56c9f99-4lnnn        774m         9Mi
        service5-858ff6f8bb-cppgw        1207m        11Mi
        ubuntu-client-76886f6bbd-mvg6h   43m          17Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.670704, 17.446313, 17.283519, 17.870834, 17.898707, 17.947235, 17.874851, 18.013032]
    [exp] Throughput: 1126.7193429085462
[test.py] Baseline throughput: 1126.7193429085462
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   504.75ms  348.05ms   1.57s    66.95%
        Req/Sec   154.90     90.86   383.00     64.63%
        Latency Distribution
        50%  360.76ms
        75%  863.88ms
        90%    1.05s
        99%    1.29s
        2768 requests in 3.03s, 429.80KB read
        Requests/sec:    913.34
        Transfer/sec:    141.82KB
        [run.sh] Speed is 913.34, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   419.02ms  236.65ms   2.13s    75.84%
        Req/Sec   160.49    104.71   590.00     66.24%
        Latency Distribution
        50%  371.85ms
        75%  532.81ms
        90%  707.34ms
        99%    1.31s
        20000 requests in 32.00s, 3.03MB read
        Requests/sec:    625.00
        Transfer/sec:     97.05KB
        ------------------------------
        stop time: 16.281004
        stop time: 16.292844
        stop time: 16.301630
        stop time: 16.745234
        stop time: 16.666918
        stop time: 16.654063
        stop time: 16.814086
        stop time: 16.656058
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [16.281004, 16.292844, 16.30163, 16.745234, 16.666918, 16.654063, 16.814086, 16.656058]
    [exp] Throughput: 1208.3511838900024
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000883', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '441.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '441.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '441.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '441.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '441.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   700.04ms  360.52ms   2.12s    62.94%
        Req/Sec   107.31    105.35   520.00     92.31%
        Latency Distribution
        50%  711.58ms
        75%  944.69ms
        90%    1.11s
        99%    2.01s
        1960 requests in 3.04s, 304.34KB read
        Requests/sec:    643.94
        Transfer/sec:     99.99KB
        [run.sh] Speed is 643.94, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68c7fbb95-bbrmt         458m         49Mi
        service1-7c7b59d9bf-xl7wf        488m         15Mi
        service2-77954cf887-gsj7g        363m         12Mi
        service3-55c5749f9c-txq74        244m         10Mi
        service4-7dcf894799-n6g5z        24m          8Mi
        service5-858ff6f8bb-2dj2q        272m         9Mi
        ubuntu-client-76886f6bbd-7jvmh   20m          16Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   651.43ms  301.64ms   2.43s    69.42%
        Req/Sec   107.43     80.38   535.00     67.43%
        Latency Distribution
        50%  601.32ms
        75%  824.53ms
        90%    1.06s
        99%    1.48s
        20000 requests in 46.00s, 3.03MB read
        Requests/sec:    434.78
        Transfer/sec:     67.51KB
        ------------------------------
        stop time: 25.747923
        stop time: 25.291163
        stop time: 25.802651
        stop time: 25.830916
        stop time: 25.959787
        stop time: 25.922250
        stop time: 26.020677
        stop time: 26.023204
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.747923, 25.291163, 25.802651, 25.830916, 25.959787, 25.92225, 26.020677, 26.023204]
    [exp] Throughput: 774.4487254948148
[test.py] Finished running 0th optmization experiment: groundtruth->1208.3511838900024, slowdown->774.4487254948148, predicted->1176.8290797937261, err->-2.608687318433229
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '8.8e-05', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   459.06ms  241.26ms   1.33s    69.47%
        Req/Sec   158.25    110.06   535.00     70.33%
        Latency Distribution
        50%  387.88ms
        75%  625.63ms
        90%  845.35ms
        99%    1.08s
        3111 requests in 3.03s, 483.06KB read
        Requests/sec:   1027.74
        Transfer/sec:    159.58KB
        [run.sh] Speed is 1027.74, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 29s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   418.91ms  238.24ms   2.10s    76.75%
        Req/Sec   155.75     92.53   450.00     62.12%
        Latency Distribution
        50%  358.58ms
        75%  514.46ms
        90%  725.18ms
        99%    1.22s
        20000 requests in 29.00s, 3.03MB read
        Requests/sec:    689.65
        Transfer/sec:    107.08KB
        ------------------------------
        stop time: 16.174773
        stop time: 16.387622
        stop time: 16.494220
        stop time: 16.340313
        stop time: 16.484421
        stop time: 16.715143
        stop time: 16.762066
        stop time: 16.761670
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6fb7cc7c7f-zh4db        1432m        52Mi
        service1-76b89695f7-f7c4f        1083m        17Mi
        service2-8f7c6f8f5-w968c         1253m        18Mi
        service3-766854894f-4kgcf        1039m        11Mi
        service4-6fb56c9f99-62dkj        1140m        9Mi
        service5-858ff6f8bb-62n5w        326m         8Mi
        ubuntu-client-76886f6bbd-npdjj   29m          16Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.174773, 16.387622, 16.49422, 16.340313, 16.484421, 16.715143, 16.762066, 16.76167]
    [exp] Throughput: 1211.0181947309386
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000883', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '397.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '397.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '397.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '397.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '397.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   745.76ms  400.65ms   2.02s    75.89%
        Req/Sec   103.16     72.53   320.00     61.29%
        Latency Distribution
        50%  618.40ms
        75%    1.02s
        90%    1.35s
        99%    1.88s
        1563 requests in 3.02s, 242.69KB read
        Requests/sec:    517.49
        Transfer/sec:     80.35KB
        [run.sh] Speed is 517.49, duration is 57
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d57s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-787cd48cbf-4tp6p        0m           30Mi
        service1-5979798dd7-c7vsw        0m           14Mi
        service2-6fd78dfc65-ld4j5        0m           9Mi
        ubuntu-client-76886f6bbd-86lxh   0m           6Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   628.56ms  314.10ms   3.00s    71.94%
        Req/Sec   107.36     77.84   500.00     72.92%
        Latency Distribution
        50%  571.14ms
        75%  781.80ms
        90%    1.06s
        99%    1.65s
        20000 requests in 0.95m, 3.03MB read
        Requests/sec:    350.88
        Transfer/sec:     54.48KB
        ------------------------------
        stop time: 24.358045
        stop time: 24.362200
        stop time: 24.578608
        stop time: 25.000162
        stop time: 24.939704
        stop time: 25.084391
        stop time: 25.102043
        stop time: 25.026371
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.358045, 24.3622, 24.578608, 25.000162, 24.939704, 25.084391, 25.102043, 25.026371]
    [exp] Throughput: 806.242233745708
[test.py] Finished running 1th optmization experiment: groundtruth->1211.0181947309386, slowdown->806.242233745708, predicted->1186.4901133783253, err->-2.0254098129436358
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000176', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   527.25ms  295.04ms   1.51s    70.43%
        Req/Sec   140.32    103.26   404.00     63.59%
        Latency Distribution
        50%  451.85ms
        75%  714.36ms
        90%  914.30ms
        99%    1.34s
        2696 requests in 3.02s, 418.62KB read
        Requests/sec:    893.46
        Transfer/sec:    138.73KB
        [run.sh] Speed is 893.46, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   435.07ms  233.60ms   1.85s    71.76%
        Req/Sec   153.27     99.62   565.00     68.65%
        Latency Distribution
        50%  385.73ms
        75%  554.53ms
        90%  749.92ms
        99%    1.15s
        20000 requests in 33.00s, 3.03MB read
        Requests/sec:    606.06
        Transfer/sec:     94.10KB
        ------------------------------
        stop time: 17.039121
        stop time: 17.193417
        stop time: 17.061672
        stop time: 17.045695
        stop time: 17.326958
        stop time: 17.380079
        stop time: 17.195228
        stop time: 17.296213
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6fb7cc7c7f-mxdp9        405m         49Mi
        service1-76b89695f7-wmd92        431m         17Mi
        service2-8f7c6f8f5-x6gfx         305m         11Mi
        service3-766854894f-bpw5n        203m         9Mi
        service4-6fb56c9f99-2jtc9        0m           8Mi
        service5-858ff6f8bb-k56q8        88m          8Mi
        ubuntu-client-76886f6bbd-v6j4d   15m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.039121, 17.193417, 17.061672, 17.045695, 17.326958, 17.380079, 17.195228, 17.296213]
    [exp] Throughput: 1163.3116262534509
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000883', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '353.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '353.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '353.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '353.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '353.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   645.42ms  319.58ms   1.64s    70.58%
        Req/Sec   105.68     76.42   353.00     66.89%
        Latency Distribution
        50%  566.60ms
        75%  895.16ms
        90%    1.15s
        99%    1.44s
        1961 requests in 3.03s, 304.49KB read
        Requests/sec:    647.38
        Transfer/sec:    100.52KB
        [run.sh] Speed is 647.38, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-74fdd9cc6f-qxx2b        1302m        53Mi
        service1-686f768bff-gfp8p        1118m        15Mi
        service2-76485df45c-hsqzb        1112m        12Mi
        service3-587fcd6b7-4g5wc         874m         11Mi
        service4-6f9fdd5c97-j9wgt        767m         10Mi
        service5-858ff6f8bb-v5dlb        913m         9Mi
        ubuntu-client-76886f6bbd-6nvm5   31m          18Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   612.44ms  333.23ms   2.93s    74.24%
        Req/Sec   110.98     76.90   525.00     65.86%
        Latency Distribution
        50%  523.28ms
        75%  762.91ms
        90%    1.07s
        99%    1.69s
        20000 requests in 46.00s, 3.03MB read
        Requests/sec:    434.78
        Transfer/sec:     67.51KB
        ------------------------------
        stop time: 23.465041
        stop time: 23.913172
        stop time: 24.112769
        stop time: 24.455144
        stop time: 24.363286
        stop time: 24.525054
        stop time: 24.501312
        stop time: 24.195613
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.465041, 23.913172, 24.112769, 24.455144, 24.363286, 24.525054, 24.501312, 24.195613]
    [exp] Throughput: 826.7392652595568
[test.py] Finished running 2th optmization experiment: groundtruth->1163.3116262534509, slowdown->826.7392652595568, predicted->1168.1271456168536, err->0.41394921659224804
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000264', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   538.19ms  350.91ms   1.48s    72.71%
        Req/Sec   152.25    101.02   390.00     59.30%
        Latency Distribution
        50%  420.11ms
        75%  736.14ms
        90%    1.11s
        99%    1.38s
        2692 requests in 3.02s, 418.00KB read
        Requests/sec:    890.06
        Transfer/sec:    138.20KB
        [run.sh] Speed is 890.06, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   428.94ms  245.93ms   1.97s    74.61%
        Req/Sec   152.63    104.30   600.00     71.62%
        Latency Distribution
        50%  368.51ms
        75%  546.87ms
        90%  754.55ms
        99%    1.24s
        20000 requests in 33.00s, 3.03MB read
        Requests/sec:    606.06
        Transfer/sec:     94.10KB
        ------------------------------
        stop time: 16.793197
        stop time: 16.944514
        stop time: 17.360422
        stop time: 17.367692
        stop time: 17.061085
        stop time: 16.924609
        stop time: 17.344418
        stop time: 16.944312
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6fb7cc7c7f-sk4xs        0m           53Mi
        service1-76b89695f7-xjmpx        936m         22Mi
        service2-8f7c6f8f5-cfzr5         0m           18Mi
        service3-766854894f-hm745        0m           12Mi
        service4-6fb56c9f99-dnljc        132m         9Mi
        service5-858ff6f8bb-fh6lj        0m           9Mi
        ubuntu-client-76886f6bbd-7hpzb   0m           16Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.793197, 16.944514, 17.360422, 17.367692, 17.061085, 16.924609, 17.344418, 16.944312]
    [exp] Throughput: 1170.1017159914632
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/chain-d4-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00134138', 'PROCESSING_TIME_SERVICE1': '0.00110766', 'PROCESSING_TIME_SERVICE2': '0.00109909', 'PROCESSING_TIME_SERVICE3': '0.00071825', 'PROCESSING_TIME_SERVICE4': '0.00056563', 'PROCESSING_TIME_SERVICE5': '0.000883', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '309.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '309.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '309.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '309.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '309.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request chain-d4-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   826.35ms  550.05ms   1.88s    60.06%
        Req/Sec   111.36     82.75   310.00     66.93%
        Latency Distribution
        50%  562.41ms
        75%    1.45s
        90%    1.71s
        99%    1.86s
        1660 requests in 3.03s, 257.75KB read
        Requests/sec:    548.13
        Transfer/sec:     85.11KB
        [run.sh] Speed is 548.13, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d54s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5954fccd54-z97pr        353m         45Mi
        service1-8cc8d5ffb-rjngd         66m          17Mi
        service2-77676d784b-spqvl        296m         13Mi
        service3-bcc4fcbb4-4z4lv         229m         11Mi
        service4-694ccfcd9d-fndl4        197m         9Mi
        service5-858ff6f8bb-cdpsc        233m         9Mi
        ubuntu-client-76886f6bbd-2b4kt   14m          0Mi
