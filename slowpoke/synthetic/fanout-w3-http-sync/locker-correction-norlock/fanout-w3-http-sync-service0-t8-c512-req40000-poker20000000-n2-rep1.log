[config.py] Random numbers for execution time: [266.13634741120245, 341.46867326669883, 1140.7815626331162, 1275.9127585791719]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : fanout-w3-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 24479
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1}
baseline_service_processing_time : {'service0': 1275.91, 'service1': 1140.78, 'service2': 341.47, 'service3': 266.14}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2}
target_processing_time_range     : [0, 1275.91]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 637]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   489.86ms  168.69ms   1.27s    73.96%
        Req/Sec   124.35     57.28   280.00     71.18%
        Latency Distribution
        50%  461.48ms
        75%  566.79ms
        90%  728.22ms
        99%    1.01s
        2852 requests in 3.02s, 2.19MB read
        Requests/sec:    944.41
        Transfer/sec:    742.43KB
        [run.sh] Speed is 944.41, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-85f89bc8b4-drkck        149m         55Mi
        service1-596fb777dc-89wsx        44m          12Mi
        service2-69bc9dd878-gcj6h        162m         11Mi
        service3-6648848984-nccqx        138m         12Mi
        ubuntu-client-76886f6bbd-qcv7r   12m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.30ms  154.62ms   1.57s    75.43%
        Req/Sec   140.82     46.83   330.00     67.25%
        Latency Distribution
        50%  428.32ms
        75%  523.93ms
        90%  650.18ms
        99%  968.91ms
        40000 requests in 1.05m, 30.71MB read
        Requests/sec:    634.92
        Transfer/sec:    499.13KB
        ------------------------------
        stop time: 35.982793
        stop time: 35.759685
        stop time: 35.903194
        stop time: 35.997174
        stop time: 35.761609
        stop time: 35.960919
        stop time: 35.822726
        stop time: 35.715417
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.982793, 35.759685, 35.903194, 35.997174, 35.761609, 35.960919, 35.822726, 35.715417]
    [exp] Throughput: 1115.3575367289764
[test.py] Baseline throughput: 1115.3575367289764
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   315.57ms   77.99ms 867.45ms   86.65%
        Req/Sec   192.59     58.36   380.00     72.50%
        Latency Distribution
        50%  305.54ms
        75%  332.06ms
        90%  366.15ms
        99%  611.46ms
        4607 requests in 3.02s, 3.54MB read
        Requests/sec:   1524.45
        Transfer/sec:      1.17MB
        [run.sh] Speed is 1524.45, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-85f89bc8b4-lb7fv        329m         45Mi
        service1-596fb777dc-mb4qz        638m         15Mi
        service2-69bc9dd878-tpqj4        249m         8Mi
        service3-6648848984-g2jfj        207m         8Mi
        ubuntu-client-76886f6bbd-qdd4m   4m           11Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   327.06ms   61.51ms 766.77ms   90.78%
        Req/Sec   195.34     44.24   545.00     65.80%
        Latency Distribution
        50%  314.22ms
        75%  341.05ms
        90%  374.87ms
        99%  597.00ms
        40000 requests in 39.00s, 30.71MB read
        Requests/sec:   1025.64
        Transfer/sec:    806.29KB
        ------------------------------
        stop time: 25.564805
        stop time: 25.703754
        stop time: 25.771562
        stop time: 25.831289
        stop time: 25.675825
        stop time: 25.753553
        stop time: 25.822291
        stop time: 25.697931
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.564805, 25.703754, 25.771562, 25.831289, 25.675825, 25.753553, 25.822291, 25.697931]
    [exp] Throughput: 1554.7489539576156
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000637', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   320.80ms   95.97ms 929.36ms   82.23%
        Req/Sec   196.34     55.13   320.00     74.78%
        Latency Distribution
        50%  301.62ms
        75%  339.96ms
        90%  419.56ms
        99%  706.95ms
        4529 requests in 3.03s, 3.48MB read
        Requests/sec:   1495.45
        Transfer/sec:      1.15MB
        [run.sh] Speed is 1495.45, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-85f89bc8b4-9lqdl        1713m        49Mi
        service1-596fb777dc-8s7ll        1946m        15Mi
        service2-69bc9dd878-wt49k        741m         10Mi
        service3-6648848984-q456l        618m         9Mi
        ubuntu-client-76886f6bbd-t5klh   50m          12Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   328.87ms   68.52ms   1.14s    89.14%
        Req/Sec   194.41     44.39   353.00     66.17%
        Latency Distribution
        50%  313.81ms
        75%  341.97ms
        90%  382.37ms
        99%  618.48ms
        40000 requests in 40.00s, 30.71MB read
        Requests/sec:   1000.00
        Transfer/sec:    786.13KB
        ------------------------------
        stop time: 25.754518
        stop time: 25.882424
        stop time: 25.616747
        stop time: 25.942819
        stop time: 25.992132
        stop time: 25.950066
        stop time: 25.847328
        stop time: 25.963222
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.754518, 25.882424, 25.616747, 25.942819, 25.992132, 25.950066, 25.847328, 25.963222]
    [exp] Throughput: 1546.2727732637993
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '637.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '637.5', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '637.5'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   667.70ms  152.51ms   1.12s    73.43%
        Req/Sec    95.46     36.35   190.00     75.00%
        Latency Distribution
        50%  627.81ms
        75%  752.22ms
        90%  911.07ms
        99%    1.07s
        2025 requests in 3.02s, 1.55MB read
        Requests/sec:    669.50
        Transfer/sec:    526.31KB
        [run.sh] Speed is 669.50, duration is 89
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d89s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        ubuntu-client-76886f6bbd-qljtl   15m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   630.01ms  137.90ms   2.00s    79.18%
        Req/Sec   101.57     35.48   260.00     68.11%
        Latency Distribution
        50%  598.62ms
        75%  691.47ms
        90%  813.37ms
        99%    1.07s
        40000 requests in 1.48m, 30.71MB read
        Requests/sec:    449.44
        Transfer/sec:    353.32KB
        ------------------------------
        stop time: 48.992837
        stop time: 49.099792
        stop time: 49.469726
        stop time: 49.351929
        stop time: 49.766403
        stop time: 49.766448
        stop time: 49.797014
        stop time: 50.084447
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [48.992837, 49.099792, 49.469726, 49.351929, 49.766403, 49.766448, 49.797014, 50.084447]
    [exp] Throughput: 807.410828362231
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '319.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '319.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '319.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   507.77ms  233.67ms   1.62s    81.58%
        Req/Sec   121.47     52.83   260.00     68.53%
        Latency Distribution
        50%  454.53ms
        75%  544.68ms
        90%  753.90ms
        99%    1.45s
        2832 requests in 3.03s, 2.17MB read
        Requests/sec:    936.17
        Transfer/sec:    735.96KB
        [run.sh] Speed is 936.17, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-85f89bc8b4-pvfzm        1832m        52Mi
        service1-6c54c97876-x68wd        1330m        16Mi
        service2-697dcf7bf-vhl9s         494m         10Mi
        service3-5f58b69d99-97f8j        399m         10Mi
        ubuntu-client-76886f6bbd-b2ft6   39m          15Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   482.99ms  119.59ms   1.61s    81.23%
        Req/Sec   132.51     37.06   262.00     65.25%
        Latency Distribution
        50%  446.06ms
        75%  532.84ms
        90%  641.35ms
        99%  868.66ms
        40000 requests in 1.07m, 30.71MB read
        Requests/sec:    625.00
        Transfer/sec:    491.33KB
        ------------------------------
        stop time: 37.579505
        stop time: 37.665691
        stop time: 37.706451
        stop time: 38.145877
        stop time: 38.064752
        stop time: 38.155144
        stop time: 38.309957
        stop time: 38.190693
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.579505, 37.665691, 37.706451, 38.145877, 38.064752, 38.155144, 38.309957, 38.190693]
    [exp] Throughput: 1053.2619076936403
[test.py] Baseline throughput:  1115.3575367289764
[test.py] Groundtruth:  [1554.7489539576156, 1546.2727732637993]
[test.py] Slowdown:  [807.410828362231, 1053.2619076936403]
[test.py] Predicted:  [1665.0796722931718, 1587.360877120063]
[test.py] Error percentage:  [7.09636871307803, 2.657235163595152]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1115.3575367289764
    Groundtruth: [1554.7489539576156, 1546.2727732637993]
    Slowdown:    [807.410828362231, 1053.2619076936403]
    Predicted:   [1665.0796722931718, 1587.360877120063]
    Error Perc:  [7.09636871307803, 2.657235163595152]
