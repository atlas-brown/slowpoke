[config.py] Random numbers for execution time: [266.13634741120245, 341.46867326669883, 1140.7815626331162, 1275.9127585791719]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : fanout-w3-http-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 24479
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1}
baseline_service_processing_time : {'service0': 1275.91, 'service1': 1140.78, 'service2': 341.47, 'service3': 266.14}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2}
target_processing_time_range     : [0, 1275.91]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 637]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   486.06ms  176.16ms   1.48s    73.59%
        Req/Sec   127.51     53.37   292.00     69.96%
        Latency Distribution
        50%  434.86ms
        75%  567.97ms
        90%  741.27ms
        99%    1.07s
        2868 requests in 3.03s, 2.20MB read
        Requests/sec:    946.00
        Transfer/sec:    743.68KB
        [run.sh] Speed is 946.00, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7d7b74c5c9-gkp7w        1776m        56Mi
        service1-79544bdbfb-nhptr        1154m        13Mi
        service2-5cf74bd689-fk7wn        43m          11Mi
        service3-7999f7bb99-lfgsv        35m          11Mi
        ubuntu-client-76886f6bbd-9s8wx   10m          16Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.99ms  178.57ms   2.54s    78.38%
        Req/Sec   141.82     49.40   520.00     71.26%
        Latency Distribution
        50%  418.39ms
        75%  525.65ms
        90%  675.32ms
        99%    1.06s
        40000 requests in 1.05m, 30.71MB read
        Requests/sec:    634.92
        Transfer/sec:    499.13KB
        ------------------------------
        stop time: 35.017014
        stop time: 35.272968
        stop time: 35.163284
        stop time: 35.730387
        stop time: 35.704564
        stop time: 35.880994
        stop time: 35.985884
        stop time: 36.014452
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.017014, 35.272968, 35.163284, 35.730387, 35.704564, 35.880994, 35.985884, 36.014452]
    [exp] Throughput: 1123.715661913807
[test.py] Baseline throughput: 1123.715661913807
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   311.50ms   75.68ms 719.39ms   86.05%
        Req/Sec   194.86     46.94   313.00     80.00%
        Latency Distribution
        50%  302.13ms
        75%  327.77ms
        90%  363.93ms
        99%  611.50ms
        4661 requests in 3.03s, 3.58MB read
        Requests/sec:   1538.48
        Transfer/sec:      1.18MB
        [run.sh] Speed is 1538.48, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7d7b74c5c9-snp95        968m         47Mi
        service1-79544bdbfb-n7pnp        1950m        15Mi
        service2-5cf74bd689-vnz29        276m         9Mi
        service3-7999f7bb99-gshqh        231m         9Mi
        ubuntu-client-76886f6bbd-lnqdv   24m          12Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   326.40ms   59.80ms 806.11ms   89.93%
        Req/Sec   195.76     44.91   490.00     72.32%
        Latency Distribution
        50%  314.20ms
        75%  340.71ms
        90%  375.17ms
        99%  579.62ms
        40000 requests in 38.00s, 30.71MB read
        Requests/sec:   1052.63
        Transfer/sec:    827.50KB
        ------------------------------
        stop time: 25.605829
        stop time: 25.465345
        stop time: 25.556098
        stop time: 25.737995
        stop time: 25.736826
        stop time: 25.803478
        stop time: 25.795829
        stop time: 25.799091
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.605829, 25.465345, 25.556098, 25.737995, 25.736826, 25.803478, 25.795829, 25.799091]
    [exp] Throughput: 1557.1738950249028
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000637', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   324.91ms   93.14ms 908.21ms   75.88%
        Req/Sec   201.31     66.63   424.00     69.68%
        Latency Distribution
        50%  310.20ms
        75%  354.38ms
        90%  447.20ms
        99%  619.88ms
        4497 requests in 3.03s, 3.45MB read
        Requests/sec:   1485.07
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1485.07, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   325.43ms   75.72ms   1.17s    88.93%
        Req/Sec   196.88     43.96   660.00     70.77%
        Latency Distribution
        50%  311.74ms
        75%  339.73ms
        90%  379.07ms
        99%  628.27ms
        40000 requests in 40.00s, 30.71MB read
        Requests/sec:   1000.00
        Transfer/sec:    786.13KB
        ------------------------------
        stop time: 25.025701
        stop time: 25.263447
        stop time: 25.395988
        stop time: 25.730724
        stop time: 25.776829
        stop time: 25.913074
        stop time: 25.768955
        stop time: 25.738086
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [25.025701, 25.263447, 25.395988, 25.730724, 25.776829, 25.913074, 25.768955, 25.738086]
    [exp] Throughput: 1563.929498761964
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '637.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '637.5', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '637.5'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   607.98ms  144.43ms   1.13s    75.60%
        Req/Sec    99.32     42.32   202.00     70.85%
        Latency Distribution
        50%  567.14ms
        75%  673.98ms
        90%  831.52ms
        99%  989.37ms
        2234 requests in 3.03s, 1.72MB read
        Requests/sec:    738.03
        Transfer/sec:    580.19KB
        [run.sh] Speed is 738.03, duration is 81
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d81s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7d7b74c5c9-4g5n2        507m         52Mi
        service1-f88b4f7b7-jd78c         377m         13Mi
        service2-995d7dd8b-t4f4w         127m         10Mi
        service3-69dcccf5b-6cwbq         103m         10Mi
        ubuntu-client-76886f6bbd-bzznf   16m          12Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   639.20ms  143.14ms   1.73s    80.54%
        Req/Sec   100.10     36.20   240.00     66.02%
        Latency Distribution
        50%  590.59ms
        75%  707.14ms
        90%  846.30ms
        99%    1.09s
        40000 requests in 1.35m, 30.71MB read
        Requests/sec:    493.83
        Transfer/sec:    388.21KB
        ------------------------------
        stop time: 50.049635
        stop time: 49.991015
        stop time: 50.204538
        stop time: 50.332942
        stop time: 50.504909
        stop time: 50.387596
        stop time: 50.313197
        stop time: 50.556593
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.049635, 49.991015, 50.204538, 50.332942, 50.504909, 50.387596, 50.313197, 50.556593]
    [exp] Throughput: 795.3463786294901
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '319.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '319.0', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '319.0'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   511.13ms  126.03ms   1.14s    75.64%
        Req/Sec   129.28     57.48   303.00     64.42%
        Latency Distribution
        50%  478.53ms
        75%  560.62ms
        90%  685.56ms
        99%  885.20ms
        2742 requests in 3.02s, 2.11MB read
        Requests/sec:    908.16
        Transfer/sec:    713.94KB
        [run.sh] Speed is 908.16, duration is 66
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d66s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   485.69ms  100.18ms   1.40s    76.82%
        Req/Sec   132.03     39.76   260.00     68.71%
        Latency Distribution
        50%  461.61ms
        75%  526.35ms
        90%  621.38ms
        99%  809.88ms
        40000 requests in 1.10m, 30.71MB read
        Requests/sec:    606.06
        Transfer/sec:    476.44KB
        ------------------------------
        stop time: 37.825814
        stop time: 38.023717
        stop time: 38.159888
        stop time: 38.235717
        stop time: 38.316046
        stop time: 38.219904
        stop time: 38.285530
        stop time: 38.457324
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [37.825814, 38.023717, 38.159888, 38.235717, 38.316046, 38.219904, 38.28553, 38.457324]
    [exp] Throughput: 1047.3810988428597
[test.py] Baseline throughput:  1123.715661913807
[test.py] Groundtruth:  [1557.1738950249028, 1563.929498761964]
[test.py] Slowdown:  [795.3463786294901, 1047.3810988428597]
[test.py] Predicted:  [1614.572933475937, 1574.041381744681]
[test.py] Error percentage:  [3.6861033076923104, 0.6465689783792614]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1123.715661913807
    Groundtruth: [1557.1738950249028, 1563.929498761964]
    Slowdown:    [795.3463786294901, 1047.3810988428597]
    Predicted:   [1614.572933475937, 1574.041381744681]
    Error Perc:  [3.6861033076923104, 0.6465689783792614]
