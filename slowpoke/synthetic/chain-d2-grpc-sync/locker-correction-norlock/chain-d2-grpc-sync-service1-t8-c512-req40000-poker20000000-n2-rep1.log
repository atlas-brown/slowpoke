[config.py] Random numbers for execution time: [914.0154955937174, 923.3921959608822, 1032.233184310042]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service1
request_type                     : chain-d2-grpc-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 13163
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1032.23, 'service1': 923.39, 'service2': 914.02}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 923.39]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 461]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00103223', 'PROCESSING_TIME_SERVICE1': '0.00092339', 'PROCESSING_TIME_SERVICE2': '0.00091402', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   404.97ms  230.29ms   1.33s    74.39%
        Req/Sec   182.73     79.81   373.00     71.50%
        Latency Distribution
        50%  325.99ms
        75%  542.99ms
        90%  746.34ms
        99%    1.08s
        3662 requests in 3.04s, 2.10MB read
        Requests/sec:   1205.46
        Transfer/sec:    708.68KB
        [run.sh] Speed is 1205.46, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d49s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-5vvhr         220m         47Mi
        service1-664b5cccb8-6n97q        312m         17Mi
        service2-5cc6b6cc45-b4tlx        434m         12Mi
        ubuntu-client-76886f6bbd-l96ks   29m          13Mi
        Running 49s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   350.47ms  138.84ms   1.29s    73.54%
        Req/Sec   188.40    107.46   606.00     67.51%
        Latency Distribution
        50%  326.05ms
        75%  416.09ms
        90%  533.13ms
        99%  803.22ms
        40000 requests in 49.00s, 22.96MB read
        Requests/sec:    816.32
        Transfer/sec:    479.91KB
        ------------------------------
        stop time: 27.008185
        stop time: 27.528745
        stop time: 27.296757
        stop time: 27.652556
        stop time: 27.659015
        stop time: 27.761301
        stop time: 27.745404
        stop time: 27.751276
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.008185, 27.528745, 27.296757, 27.652556, 27.659015, 27.761301, 27.745404, 27.751276]
    [exp] Throughput: 1451.8842892322466
[test.py] Baseline throughput: 1451.8842892322466
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00103223', 'PROCESSING_TIME_SERVICE1': '0.0', 'PROCESSING_TIME_SERVICE2': '0.00091402', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   355.56ms  157.99ms   1.01s    78.14%
        Req/Sec   200.49    105.15   525.00     71.14%
        Latency Distribution
        50%  324.97ms
        75%  425.22ms
        90%  539.83ms
        99%  948.15ms
        4153 requests in 3.02s, 2.38MB read
        Requests/sec:   1373.77
        Transfer/sec:    807.63KB
        [run.sh] Speed is 1373.77, duration is 43
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d43s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-f58b6         1895m        48Mi
        service1-664b5cccb8-dp9ks        292m         11Mi
        service2-5cc6b6cc45-dc8l7        1643m        13Mi
        ubuntu-client-76886f6bbd-72dn4   57m          15Mi
        Running 43s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   324.13ms  134.18ms   1.56s    77.94%
        Req/Sec   199.57    102.43   525.00     67.10%
        Latency Distribution
        50%  304.40ms
        75%  381.37ms
        90%  472.96ms
        99%  785.82ms
        40000 requests in 43.00s, 22.96MB read
        Requests/sec:    930.23
        Transfer/sec:    546.87KB
        ------------------------------
        stop time: 25.086803
        stop time: 25.355508
        stop time: 25.373285
        stop time: 25.446360
        stop time: 25.480804
        stop time: 25.532890
        stop time: 25.532349
        stop time: 25.465716
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.086803, 25.355508, 25.373285, 25.44636, 25.480804, 25.53289, 25.532349, 25.465716]
    [exp] Throughput: 1574.2320643866815
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00103223', 'PROCESSING_TIME_SERVICE1': '0.000461', 'PROCESSING_TIME_SERVICE2': '0.00091402', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   346.18ms  150.70ms   1.11s    78.96%
        Req/Sec   186.00    109.73   480.00     69.72%
        Latency Distribution
        50%  312.05ms
        75%  408.19ms
        90%  526.09ms
        99%  805.03ms
        4233 requests in 3.03s, 2.43MB read
        Requests/sec:   1398.50
        Transfer/sec:    822.16KB
        [run.sh] Speed is 1398.50, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   331.44ms  119.77ms   1.11s    74.65%
        Req/Sec   197.35    107.18   505.00     62.82%
        Latency Distribution
        50%  310.57ms
        75%  390.14ms
        90%  480.57ms
        99%  737.66ms
        40000 requests in 42.00s, 22.96MB read
        Requests/sec:    952.38
        Transfer/sec:    559.89KB
        ------------------------------
        stop time: 25.886612
        stop time: 26.033561
        stop time: 25.905092
        stop time: 26.153419
        stop time: 26.112892
        stop time: 26.141882
        stop time: 26.093322
        stop time: 26.190937
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [25.886612, 26.033561, 25.905092, 26.153419, 26.112892, 26.141882, 26.093322, 26.190937]
    [exp] Throughput: 1534.641778185208
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00103223', 'PROCESSING_TIME_SERVICE1': '0.00092339', 'PROCESSING_TIME_SERVICE2': '0.00091402', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '461.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '461.5'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   493.36ms  334.94ms   1.53s    56.51%
        Req/Sec   130.52     68.86   330.00     67.15%
        Latency Distribution
        50%  493.88ms
        75%  733.91ms
        90%  963.59ms
        99%    1.23s
        2716 requests in 3.04s, 1.56MB read
        Requests/sec:    894.48
        Transfer/sec:    525.86KB
        [run.sh] Speed is 894.48, duration is 67
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d67s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-855667c94d-b7wrg        706m         44Mi
        service1-664b5cccb8-7vkv6        971m         19Mi
        service2-959589d55-hgdvs         273m         16Mi
        ubuntu-client-76886f6bbd-gqtdv   36m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   567.30ms  387.44ms   3.09s    63.31%
        Req/Sec   118.38     70.45   434.00     69.63%
        Latency Distribution
        50%  549.92ms
        75%  821.06ms
        90%    1.05s
        99%    1.66s
        40000 requests in 1.12m, 22.96MB read
        Requests/sec:    597.01
        Transfer/sec:    350.98KB
        ------------------------------
        stop time: 43.498956
        stop time: 43.009524
        stop time: 44.925085
        stop time: 44.753479
        stop time: 44.493693
        stop time: 44.787067
        stop time: 44.821362
        stop time: 44.691333
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [43.498956, 43.009524, 44.925085, 44.753479, 44.493693, 44.787067, 44.821362, 44.691333]
    [exp] Throughput: 901.4579699489351
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00103223', 'PROCESSING_TIME_SERVICE1': '0.00092339', 'PROCESSING_TIME_SERVICE2': '0.00091402', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '231.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '231.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   408.90ms  301.27ms   1.78s    56.67%
        Req/Sec   155.22     74.75   370.00     67.31%
        Latency Distribution
        50%  368.45ms
        75%  674.40ms
        90%  856.90ms
        99%    1.02s
        3250 requests in 3.04s, 1.87MB read
        Requests/sec:   1069.82
        Transfer/sec:    628.94KB
        [run.sh] Speed is 1069.82, duration is 56
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d56s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-86c9bfb98d-zrn7g        947m         46Mi
        service1-664b5cccb8-cg4pk        1293m        14Mi
        service2-58bbf89775-5xdbk        392m         13Mi
        ubuntu-client-76886f6bbd-kx4mc   6m           18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.03ms  415.91ms   3.67s    82.30%
        Req/Sec   151.00     78.06   490.00     67.77%
        Latency Distribution
        50%  303.14ms
        75%  704.27ms
        90%    1.02s
        99%    1.76s
        40000 requests in 0.93m, 22.96MB read
        Requests/sec:    714.28
        Transfer/sec:    419.92KB
        ------------------------------
        stop time: 33.896819
        stop time: 33.574645
        stop time: 34.246106
        stop time: 34.461786
        stop time: 33.959620
        stop time: 34.274044
        stop time: 34.286298
        stop time: 34.546090
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.896819, 33.574645, 34.246106, 34.461786, 33.95962, 34.274044, 34.286298, 34.54609]
    [exp] Throughput: 1171.1084271908423
[test.py] Baseline throughput:  1451.8842892322466
[test.py] Groundtruth:  [1574.2320643866815, 1534.641778185208]
[test.py] Slowdown:  [901.4579699489351, 1171.1084271908423]
[test.py] Predicted:  [1544.1176190291148, 1605.917742644937]
[test.py] Error percentage:  [-1.912960994686586, 4.644469183161199]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1451.8842892322466
    Groundtruth: [1574.2320643866815, 1534.641778185208]
    Slowdown:    [901.4579699489351, 1171.1084271908423]
    Predicted:   [1544.1176190291148, 1605.917742644937]
    Error Perc:  [-1.912960994686586, 4.644469183161199]
