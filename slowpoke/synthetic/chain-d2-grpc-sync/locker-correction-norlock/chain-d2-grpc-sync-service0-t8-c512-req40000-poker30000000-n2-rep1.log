[config.py] Random numbers for execution time: [766.0924113224554, 942.610724404941, 1339.2804861013565]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-grpc-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 16813
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1339.28, 'service1': 942.61, 'service2': 766.09}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1339.28]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 669]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.20ms  172.50ms 953.34ms   63.56%
        Req/Sec   139.39    132.95   580.00     80.57%
        Latency Distribution
        50%  460.89ms
        75%  630.28ms
        90%  703.43ms
        99%  802.55ms
        2818 requests in 3.03s, 1.62MB read
        Requests/sec:    928.57
        Transfer/sec:    545.90KB
        [run.sh] Speed is 928.57, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   439.83ms  188.85ms   1.60s    72.46%
        Req/Sec   156.73    110.25   560.00     67.91%
        Latency Distribution
        50%  410.02ms
        75%  532.68ms
        90%  698.15ms
        99%    1.02s
        40000 requests in 1.07m, 22.96MB read
        Requests/sec:    625.00
        Transfer/sec:    367.43KB
        ------------------------------
        stop time: 34.197275
        stop time: 34.433459
        stop time: 34.635485
        stop time: 34.634525
        stop time: 34.472082
        stop time: 34.892918
        stop time: 34.893580
        stop time: 34.698326
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [34.197275, 34.433459, 34.635485, 34.634525, 34.472082, 34.892918, 34.89358, 34.698326]
    [exp] Throughput: 1155.8286361240155
[test.py] Baseline throughput: 1155.8286361240155
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.62ms  163.12ms   1.18s    64.74%
        Req/Sec   214.24    143.47   656.00     71.36%
        Latency Distribution
        50%  264.37ms
        75%  417.98ms
        90%  541.89ms
        99%  704.63ms
        4940 requests in 3.03s, 2.84MB read
        Requests/sec:   1628.56
        Transfer/sec:      0.93MB
        [run.sh] Speed is 1628.56, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d36s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service2-8546fb4bfd-dfjsx        486m         14Mi
        ubuntu-client-76886f6bbd-4rkwq   24m          0Mi
        Running 36s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   300.47ms  159.77ms   1.18s    69.53%
        Req/Sec   220.15    145.50   790.00     67.06%
        Latency Distribution
        50%  273.19ms
        75%  397.32ms
        90%  515.50ms
        99%  778.27ms
        40000 requests in 36.00s, 22.96MB read
        Requests/sec:   1111.11
        Transfer/sec:    653.21KB
        ------------------------------
        stop time: 23.466485
        stop time: 23.565262
        stop time: 23.410600
        stop time: 23.433778
        stop time: 23.579438
        stop time: 23.589862
        stop time: 23.733035
        stop time: 23.666699
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.466485, 23.565262, 23.4106, 23.433778, 23.579438, 23.589862, 23.733035, 23.666699]
    [exp] Throughput: 1698.1067685585917
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000669', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   339.53ms  184.76ms   1.11s    72.16%
        Req/Sec   187.33    113.18   505.00     63.08%
        Latency Distribution
        50%  318.85ms
        75%  424.87ms
        90%  567.38ms
        99%  970.64ms
        4327 requests in 3.03s, 2.48MB read
        Requests/sec:   1430.36
        Transfer/sec:    840.90KB
        [run.sh] Speed is 1430.36, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d41s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-774d57bf5c-8q942        1379m        46Mi
        service1-759b5b8bb7-m94p4        1845m        22Mi
        service2-8546fb4bfd-46rkg        1453m        12Mi
        ubuntu-client-76886f6bbd-rlrrz   57m          15Mi
        Running 41s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   315.41ms  149.43ms   1.10s    69.91%
        Req/Sec   212.02    122.38   646.00     66.24%
        Latency Distribution
        50%  291.98ms
        75%  403.79ms
        90%  515.13ms
        99%  750.68ms
        40000 requests in 41.00s, 22.96MB read
        Requests/sec:    975.61
        Transfer/sec:    573.55KB
        ------------------------------
        stop time: 24.914082
        stop time: 24.779398
        stop time: 24.786726
        stop time: 24.677496
        stop time: 24.771441
        stop time: 24.706653
        stop time: 24.897717
        stop time: 24.880893
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.914082, 24.779398, 24.786726, 24.677496, 24.771441, 24.706653, 24.897717, 24.880893]
    [exp] Throughput: 1612.786119975583
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '669.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '669.5'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   619.44ms  359.22ms   1.79s    59.44%
        Req/Sec    98.25     63.78   340.00     75.13%
        Latency Distribution
        50%  641.74ms
        75%  927.70ms
        90%    1.09s
        99%    1.60s
        2054 requests in 3.03s, 1.18MB read
        Requests/sec:    678.82
        Transfer/sec:    399.07KB
        [run.sh] Speed is 678.82, duration is 88
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d88s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   643.70ms  385.41ms   3.48s    65.56%
        Req/Sec   106.49     63.61   410.00     67.43%
        Latency Distribution
        50%  608.18ms
        75%  885.46ms
        90%    1.15s
        99%    1.73s
        40000 requests in 1.47m, 22.96MB read
        Requests/sec:    454.54
        Transfer/sec:    267.22KB
        ------------------------------
        stop time: 50.581255
        stop time: 50.171197
        stop time: 50.309186
        stop time: 50.279797
        stop time: 50.876117
        stop time: 50.953073
        stop time: 50.291062
        stop time: 50.840447
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [50.581255, 50.171197, 50.309186, 50.279797, 50.876117, 50.953073, 50.291062, 50.840447]
    [exp] Throughput: 791.48728905794
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '335.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '335.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   475.50ms  188.49ms 962.39ms   68.36%
        Req/Sec   141.72     87.92   380.00     60.75%
        Latency Distribution
        50%  452.03ms
        75%  582.82ms
        90%  737.77ms
        99%  941.34ms
        2876 requests in 3.03s, 1.65MB read
        Requests/sec:    950.73
        Transfer/sec:    558.93KB
        [run.sh] Speed is 950.73, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-774d57bf5c-q4p28        1560m        47Mi
        service1-56db7f4f9d-vqb9d        1166m        20Mi
        service2-fcd97b7c9-lr67f         932m         11Mi
        ubuntu-client-76886f6bbd-j5qrf   38m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   493.14ms  260.23ms   2.11s    72.14%
        Req/Sec   136.02     78.51   440.00     69.23%
        Latency Distribution
        50%  441.39ms
        75%  626.98ms
        90%  846.73ms
        99%    1.31s
        40000 requests in 1.05m, 22.96MB read
        Requests/sec:    634.92
        Transfer/sec:    373.26KB
        ------------------------------
        stop time: 38.473590
        stop time: 38.369850
        stop time: 38.487608
        stop time: 38.978152
        stop time: 38.995189
        stop time: 38.585456
        stop time: 38.928223
        stop time: 39.040040
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [38.47359, 38.36985, 38.487608, 38.978152, 38.995189, 38.585456, 38.928223, 39.04004]
    [exp] Throughput: 1032.7307620428637
[test.py] Baseline throughput:  1155.8286361240155
[test.py] Groundtruth:  [1698.1067685585917, 1612.786119975583]
[test.py] Slowdown:  [791.48728905794, 1032.7307620428637]
[test.py] Predicted:  [1684.0568871469377, 1579.3631877329594]
[test.py] Error percentage:  [-0.8273850426719657, -2.072372264905751]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1155.8286361240155
    Groundtruth: [1698.1067685585917, 1612.786119975583]
    Slowdown:    [791.48728905794, 1032.7307620428637]
    Predicted:   [1684.0568871469377, 1579.3631877329594]
    Error Perc:  [-0.8273850426719657, -2.072372264905751]
