[config.py] Random numbers for execution time: [340.77168555491374, 566.6676033049213, 693.4243150979855]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-grpc-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 23507
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 693.42, 'service1': 566.67, 'service2': 681.54}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 681.54]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 340]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   264.04ms  122.75ms 770.46ms   75.34%
        Req/Sec   256.84     97.26   464.00     71.76%
        Latency Distribution
        50%  238.86ms
        75%  318.14ms
        90%  418.66ms
        99%  719.66ms
        5598 requests in 3.03s, 3.21MB read
        Requests/sec:   1847.91
        Transfer/sec:      1.06MB
        [run.sh] Speed is 1847.91, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   245.03ms  105.87ms 996.92ms   75.52%
        Req/Sec   264.81    108.85   630.00     70.28%
        Latency Distribution
        50%  225.48ms
        75%  290.27ms
        90%  380.76ms
        99%  597.14ms
        40000 requests in 32.00s, 22.96MB read
        Requests/sec:   1249.99
        Transfer/sec:    734.86KB
        ------------------------------
        stop time: 19.053806
        stop time: 19.227126
        stop time: 19.204959
        stop time: 19.319989
        stop time: 19.256788
        stop time: 19.281496
        stop time: 19.394651
        stop time: 19.391404
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-w8bcc         1803m        46Mi
        service1-664b5cccb8-25xnw        1595m        20Mi
        service2-5cc6b6cc45-xf9j6        1712m        12Mi
        ubuntu-client-76886f6bbd-wtctq   77m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.053806, 19.227126, 19.204959, 19.319989, 19.256788, 19.281496, 19.394651, 19.391404]
    [exp] Throughput: 2076.166517352447
[test.py] Baseline throughput: 2076.166517352447
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   266.05ms  116.70ms 737.28ms   73.84%
        Req/Sec   263.20    124.52   585.00     68.66%
        Latency Distribution
        50%  240.92ms
        75%  310.67ms
        90%  445.93ms
        99%  631.27ms
        5590 requests in 3.02s, 3.21MB read
        Requests/sec:   1848.55
        Transfer/sec:      1.06MB
        [run.sh] Speed is 1848.55, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   247.52ms   98.87ms 877.85ms   72.57%
        Req/Sec   262.24    119.46   610.00     66.16%
        Latency Distribution
        50%  232.12ms
        75%  296.19ms
        90%  381.93ms
        99%  543.97ms
        40000 requests in 32.00s, 22.96MB read
        Requests/sec:   1249.99
        Transfer/sec:    734.86KB
        ------------------------------
        stop time: 19.279008
        stop time: 19.324552
        stop time: 19.336649
        stop time: 19.561553
        stop time: 19.507702
        stop time: 19.549381
        stop time: 19.517717
        stop time: 19.501196
        [run.sh] Checking the resource usage
        NAME                       CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-2n5r2   532m         45Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.279008, 19.324552, 19.336649, 19.561553, 19.507702, 19.549381, 19.517717, 19.501196]
    [exp] Throughput: 2056.8492830446885
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00034', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   265.27ms  117.12ms 760.41ms   73.19%
        Req/Sec   254.34    116.65   565.00     66.05%
        Latency Distribution
        50%  237.23ms
        75%  329.97ms
        90%  433.30ms
        99%  607.63ms
        5605 requests in 3.03s, 3.22MB read
        Requests/sec:   1847.94
        Transfer/sec:      1.06MB
        [run.sh] Speed is 1847.94, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   253.50ms  109.56ms 835.71ms   72.14%
        Req/Sec   254.31    132.06   646.00     66.06%
        Latency Distribution
        50%  235.03ms
        75%  310.23ms
        90%  402.40ms
        99%  584.04ms
        40000 requests in 32.00s, 22.96MB read
        Requests/sec:   1249.99
        Transfer/sec:    734.86KB
        ------------------------------
        stop time: 19.760231
        stop time: 19.988290
        stop time: 19.764315
        stop time: 20.090801
        stop time: 20.116768
        stop time: 20.010130
        stop time: 20.135036
        stop time: 20.088531
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-kj449         1037m        48Mi
        service1-664b5cccb8-rwcm7        1514m        17Mi
        service2-5cc6b6cc45-9jhjp        923m         11Mi
        ubuntu-client-76886f6bbd-d9l8k   72m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.760231, 19.98829, 19.764315, 20.090801, 20.116768, 20.01013, 20.135036, 20.088531]
    [exp] Throughput: 2000.5738896274136
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '340.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '340.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   368.23ms  230.14ms   1.31s    62.50%
        Req/Sec   166.27     97.61   494.00     68.37%
        Latency Distribution
        50%  367.93ms
        75%  548.87ms
        90%  646.09ms
        99%  974.65ms
        3614 requests in 3.03s, 2.07MB read
        Requests/sec:   1194.04
        Transfer/sec:    701.97KB
        [run.sh] Speed is 1194.04, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-7f9f4dd964-tsvr9   376m         42Mi
        service2-5cc6b6cc45-bm49n   340m         9Mi
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   405.56ms  270.01ms   1.88s    63.29%
        Req/Sec   160.89     98.18   720.00     68.34%
        Latency Distribution
        50%  373.95ms
        75%  578.80ms
        90%  770.27ms
        99%    1.14s
        40000 requests in 50.00s, 22.96MB read
        Requests/sec:    800.00
        Transfer/sec:    470.31KB
        ------------------------------
        stop time: 31.351804
        stop time: 31.749353
        stop time: 31.847464
        stop time: 31.694524
        stop time: 31.865102
        stop time: 31.823701
        stop time: 32.093264
        stop time: 31.805076
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [31.351804, 31.749353, 31.847464, 31.694524, 31.865102, 31.823701, 32.093264, 31.805076]
    [exp] Throughput: 1258.7013235810832
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '170.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '170.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   330.28ms  217.93ms   1.27s    66.39%
        Req/Sec   208.23    120.19   555.00     69.38%
        Latency Distribution
        50%  254.24ms
        75%  498.02ms
        90%  655.55ms
        99%  851.91ms
        4401 requests in 3.03s, 2.53MB read
        Requests/sec:   1451.43
        Transfer/sec:    853.28KB
        [run.sh] Speed is 1451.43, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d41s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5c84cf569-wpjlt         349m         44Mi
        service1-57c4b7d975-ltnmj        617m         13Mi
        service2-5cc6b6cc45-knp5t        1143m        11Mi
        ubuntu-client-76886f6bbd-w5h98   27m          16Mi
        Running 41s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   329.26ms  244.55ms   1.76s    72.86%
        Req/Sec   198.37     99.73   595.00     67.73%
        Latency Distribution
        50%  256.08ms
        75%  475.80ms
        90%  690.76ms
        99%    1.03s
        40000 requests in 41.00s, 22.96MB read
        Requests/sec:    975.61
        Transfer/sec:    573.55KB
        ------------------------------
        stop time: 25.328928
        stop time: 25.067106
        stop time: 25.989321
        stop time: 25.821240
        stop time: 25.951757
        stop time: 25.826436
        stop time: 25.926994
        stop time: 25.934526
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.328928, 25.067106, 25.989321, 25.82124, 25.951757, 25.826436, 25.926994, 25.934526]
    [exp] Throughput: 1554.5578791726493
[test.py] Baseline throughput:  2076.166517352447
[test.py] Groundtruth:  [2056.8492830446885, 2000.5738896274136]
[test.py] Slowdown:  [1258.7013235810832, 1554.5578791726493]
[test.py] Predicted:  [2204.1013256236806, 2116.403404160801]
[test.py] Error percentage:  [7.159107076675041, 5.789814369463733]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2076.166517352447
    Groundtruth: [2056.8492830446885, 2000.5738896274136]
    Slowdown:    [1258.7013235810832, 1554.5578791726493]
    Predicted:   [2204.1013256236806, 2116.403404160801]
    Error Perc:  [7.159107076675041, 5.789814369463733]
