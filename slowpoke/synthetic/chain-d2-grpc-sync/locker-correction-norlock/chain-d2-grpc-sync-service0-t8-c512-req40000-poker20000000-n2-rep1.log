[config.py] Random numbers for execution time: [766.0924113224554, 942.610724404941, 1339.2804861013565]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-grpc-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 16813
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 1339.28, 'service1': 942.61, 'service2': 766.09}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 1339.28]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 669]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   462.34ms  215.50ms   1.25s    73.36%
        Req/Sec   151.66     81.55   360.00     67.01%
        Latency Distribution
        50%  408.66ms
        75%  540.32ms
        90%  812.99ms
        99%    1.12s
        3046 requests in 3.04s, 1.75MB read
        Requests/sec:   1003.26
        Transfer/sec:    589.81KB
        [run.sh] Speed is 1003.26, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-8k25p         1388m        50Mi
        service1-664b5cccb8-h7kgr        38m          18Mi
        service2-5cc6b6cc45-jgdgf        170m         10Mi
        ubuntu-client-76886f6bbd-mltsv   27m          14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   428.17ms  173.82ms   1.58s    71.79%
        Req/Sec   158.53    115.27   620.00     70.32%
        Latency Distribution
        50%  399.14ms
        75%  520.02ms
        90%  654.76ms
        99%  965.38ms
        40001 requests in 0.98m, 22.97MB read
        Requests/sec:    677.98
        Transfer/sec:    398.58KB
        ------------------------------
        stop time: 33.352580
        stop time: 33.399462
        stop time: 33.771829
        stop time: 33.814456
        stop time: 33.857545
        stop time: 33.891317
        stop time: 33.673483
        stop time: 33.629442
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.35258, 33.399462, 33.771829, 33.814456, 33.857545, 33.891317, 33.673483, 33.629442]
    [exp] Throughput: 1187.868386291265
[test.py] Baseline throughput: 1187.868386291265
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   306.81ms  143.97ms 941.49ms   65.55%
        Req/Sec   223.10    153.90   686.00     64.97%
        Latency Distribution
        50%  315.53ms
        75%  393.17ms
        90%  501.68ms
        99%  682.40ms
        4751 requests in 3.03s, 2.73MB read
        Requests/sec:   1567.61
        Transfer/sec:      0.90MB
        [run.sh] Speed is 1567.61, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-6hrx2         187m         40Mi
        service1-664b5cccb8-qncxf        1571m        24Mi
        service2-5cc6b6cc45-ng8nn        1525m        11Mi
        ubuntu-client-76886f6bbd-mspr4   61m          15Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.67ms  182.40ms   1.50s    72.51%
        Req/Sec   227.29    149.73   757.00     68.13%
        Latency Distribution
        50%  269.86ms
        75%  376.11ms
        90%  533.31ms
        99%  904.93ms
        40001 requests in 38.00s, 22.97MB read
        Requests/sec:   1052.65
        Transfer/sec:    618.85KB
        ------------------------------
        stop time: 23.253408
        stop time: 23.566916
        stop time: 23.252695
        stop time: 23.223781
        stop time: 23.214876
        stop time: 23.159844
        stop time: 23.479487
        stop time: 23.447734
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.253408, 23.566916, 23.252695, 23.223781, 23.214876, 23.159844, 23.479487, 23.447734]
    [exp] Throughput: 1714.909748506824
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.000669', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   350.01ms  211.26ms   1.01s    69.72%
        Req/Sec   211.07    123.89   474.00     60.23%
        Latency Distribution
        50%  279.69ms
        75%  439.26ms
        90%  704.16ms
        99%  864.33ms
        4065 requests in 3.04s, 2.33MB read
        Requests/sec:   1339.06
        Transfer/sec:    787.22KB
        [run.sh] Speed is 1339.06, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   317.01ms  152.50ms   1.17s    69.80%
        Req/Sec   211.58    118.83   580.00     64.19%
        Latency Distribution
        50%  293.17ms
        75%  405.55ms
        90%  528.02ms
        99%  768.79ms
        40000 requests in 44.00s, 22.96MB read
        Requests/sec:    909.09
        Transfer/sec:    534.44KB
        ------------------------------
        stop time: 24.654731
        stop time: 24.910661
        stop time: 24.906870
        stop time: 25.021818
        stop time: 25.058513
        stop time: 24.931667
        stop time: 24.928330
        stop time: 24.945461
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [24.654731, 24.910661, 24.90687, 25.021818, 25.058513, 24.931667, 24.92833, 24.945461]
    [exp] Throughput: 1605.1521290203625
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '669.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '669.5'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   760.44ms  372.16ms   1.97s    72.33%
        Req/Sec    90.17     70.68   310.00     68.89%
        Latency Distribution
        50%  714.70ms
        75%  930.89ms
        90%    1.26s
        99%    1.83s
        1812 requests in 3.03s, 1.04MB read
        Socket errors: connect 0, read 0, write 0, timeout 23
        Requests/sec:    598.12
        Transfer/sec:    351.63KB
        [run.sh] Speed is 598.12, duration is 100
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d100s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-fjhqn         234m         46Mi
        service1-5f66b576bd-lcjg5        31m          18Mi
        service2-685cc679fc-gt2vt        123m         12Mi
        ubuntu-client-76886f6bbd-m2bcd   18m          15Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   633.71ms  327.39ms   2.82s    69.14%
        Req/Sec   107.64     63.75   460.00     68.80%
        Latency Distribution
        50%  623.13ms
        75%  827.13ms
        90%    1.05s
        99%    1.58s
        40000 requests in 1.67m, 22.96MB read
        Requests/sec:    400.00
        Transfer/sec:    235.16KB
        ------------------------------
        stop time: 49.562649
        stop time: 49.418591
        stop time: 49.868694
        stop time: 50.108617
        stop time: 50.024830
        stop time: 49.897475
        stop time: 49.136841
        stop time: 50.298519
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [49.562649, 49.418591, 49.868694, 50.108617, 50.02483, 49.897475, 49.136841, 50.298519]
    [exp] Throughput: 803.3818035668424
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00133928', 'PROCESSING_TIME_SERVICE1': '0.00094261', 'PROCESSING_TIME_SERVICE2': '0.00076609', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '335.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '335.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   514.86ms  266.10ms   1.33s    66.49%
        Req/Sec   137.29     75.40   323.00     66.49%
        Latency Distribution
        50%  446.57ms
        75%  711.01ms
        90%  890.77ms
        99%    1.25s
        2757 requests in 3.02s, 1.58MB read
        Requests/sec:    911.88
        Transfer/sec:    536.09KB
        [run.sh] Speed is 911.88, duration is 65
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d65s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-t9hmz         1677m        47Mi
        service1-7d488c844f-trrc4        1244m        20Mi
        service2-7c54c4b58d-f7wnm        987m         14Mi
        ubuntu-client-76886f6bbd-j8zqf   41m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   472.35ms  255.03ms   2.43s    71.41%
        Req/Sec   139.54     72.75   490.00     70.41%
        Latency Distribution
        50%  431.93ms
        75%  609.97ms
        90%  806.14ms
        99%    1.29s
        40000 requests in 1.08m, 22.96MB read
        Requests/sec:    615.38
        Transfer/sec:    361.78KB
        ------------------------------
        stop time: 36.308306
        stop time: 37.104737
        stop time: 37.073358
        stop time: 37.075069
        stop time: 37.302995
        stop time: 37.294004
        stop time: 37.129270
        stop time: 37.361401
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [36.308306, 37.104737, 37.073358, 37.075069, 37.302995, 37.294004, 37.12927, 37.361401]
    [exp] Throughput: 1078.7154144454962
[test.py] Baseline throughput:  1187.868386291265
[test.py] Groundtruth:  [1714.909748506824, 1605.1521290203625]
[test.py] Slowdown:  [803.3818035668424, 1078.7154144454962]
[test.py] Predicted:  [1738.8335478546774, 1689.507220373092]
[test.py] Error percentage:  [1.3950471369518982, 5.255270813752219]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1187.868386291265
    Groundtruth: [1714.909748506824, 1605.1521290203625]
    Slowdown:    [803.3818035668424, 1078.7154144454962]
    Predicted:   [1738.8335478546774, 1689.507220373092]
    Error Perc:  [1.3950471369518982, 5.255270813752219]
