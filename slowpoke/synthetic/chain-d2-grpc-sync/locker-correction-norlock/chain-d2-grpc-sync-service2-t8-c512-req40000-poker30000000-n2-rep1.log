[config.py] Random numbers for execution time: [340.77168555491374, 566.6676033049213, 693.4243150979855]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : chain-d2-grpc-sync
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 23507
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 693.42, 'service1': 566.67, 'service2': 681.54}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 681.54]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 340]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   259.49ms  101.41ms 716.37ms   73.61%
        Req/Sec   244.79    116.58   525.00     66.09%
        Latency Distribution
        50%  240.42ms
        75%  300.08ms
        90%  406.60ms
        99%  571.13ms
        5668 requests in 3.03s, 3.25MB read
        Requests/sec:   1868.33
        Transfer/sec:      1.07MB
        [run.sh] Speed is 1868.33, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   241.01ms   90.69ms 967.70ms   75.07%
        Req/Sec   267.19    105.74   565.00     67.56%
        Latency Distribution
        50%  225.03ms
        75%  281.48ms
        90%  360.24ms
        99%  538.53ms
        40000 requests in 32.00s, 22.96MB read
        Requests/sec:   1249.99
        Transfer/sec:    734.86KB
        ------------------------------
        stop time: 18.983581
        stop time: 18.951697
        stop time: 19.064210
        stop time: 19.053816
        stop time: 18.963855
        stop time: 18.979211
        stop time: 18.816253
        stop time: 18.800937
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [18.983581, 18.951697, 19.06421, 19.053816, 18.963855, 18.979211, 18.816253, 18.800937]
    [exp] Throughput: 2110.62915480647
[test.py] Baseline throughput: 2110.62915480647
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   243.75ms   95.48ms 683.43ms   71.26%
        Req/Sec   255.88    140.94   595.00     66.24%
        Latency Distribution
        50%  229.21ms
        75%  295.83ms
        90%  371.73ms
        99%  549.12ms
        5990 requests in 3.03s, 3.44MB read
        Requests/sec:   1974.77
        Transfer/sec:      1.13MB
        [run.sh] Speed is 1974.77, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   243.22ms   95.60ms 794.61ms   71.98%
        Req/Sec   264.70    119.56   650.00     67.22%
        Latency Distribution
        50%  228.97ms
        75%  291.45ms
        90%  370.28ms
        99%  537.94ms
        40000 requests in 30.00s, 22.96MB read
        Requests/sec:   1333.33
        Transfer/sec:    783.85KB
        ------------------------------
        stop time: 18.916243
        stop time: 18.989933
        stop time: 18.927531
        stop time: 19.166437
        stop time: 19.248267
        stop time: 19.233135
        stop time: 19.250415
        stop time: 19.251891
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-774d57bf5c-8ztgg        1848m        49Mi
        service1-759b5b8bb7-8bmqw        1633m        17Mi
        service2-8546fb4bfd-nzz8h        305m         8Mi
        ubuntu-client-76886f6bbd-ghjdz   73m          13Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.916243, 18.989933, 18.927531, 19.166437, 19.248267, 19.233135, 19.250415, 19.251891]
    [exp] Throughput: 2091.7240337235066
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00034', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   270.56ms  133.71ms 855.14ms   68.51%
        Req/Sec   257.53    149.46   690.00     68.50%
        Latency Distribution
        50%  239.14ms
        75%  345.46ms
        90%  463.11ms
        99%  653.87ms
        5465 requests in 3.03s, 3.14MB read
        Requests/sec:   1804.00
        Transfer/sec:      1.04MB
        [run.sh] Speed is 1804.00, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   256.15ms  113.53ms 911.03ms   71.69%
        Req/Sec   252.79    135.48   696.00     68.38%
        Latency Distribution
        50%  233.10ms
        75%  317.10ms
        90%  417.19ms
        99%  595.33ms
        40000 requests in 33.00s, 22.96MB read
        Requests/sec:   1212.12
        Transfer/sec:    712.59KB
        ------------------------------
        stop time: 19.996805
        stop time: 19.934039
        stop time: 20.037977
        stop time: 20.237339
        stop time: 20.118831
        stop time: 20.222322
        stop time: 20.266646
        stop time: 20.253255
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [19.996805, 19.934039, 20.037977, 20.237339, 20.118831, 20.222322, 20.266646, 20.253255]
    [exp] Throughput: 1986.7482155617347
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '340.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '340.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.35ms  268.97ms   1.19s    66.72%
        Req/Sec   161.68    105.24   404.00     61.88%
        Latency Distribution
        50%  368.91ms
        75%  589.45ms
        90%  877.10ms
        99%    1.07s
        3345 requests in 3.03s, 1.92MB read
        Requests/sec:   1104.43
        Transfer/sec:    649.28KB
        [run.sh] Speed is 1104.43, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d54s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6d867ff6f5-txfnl        1091m        45Mi
        service1-675fbf977-jfj8z         980m         17Mi
        service2-8546fb4bfd-rmd5s        1037m        10Mi
        ubuntu-client-76886f6bbd-vwsvr   43m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   415.06ms  281.57ms   2.19s    68.24%
        Req/Sec   160.18     95.02   660.00     67.81%
        Latency Distribution
        50%  353.22ms
        75%  589.85ms
        90%  818.72ms
        99%    1.21s
        40000 requests in 0.90m, 22.96MB read
        Requests/sec:    740.74
        Transfer/sec:    435.47KB
        ------------------------------
        stop time: 32.775977
        stop time: 32.570981
        stop time: 32.377605
        stop time: 32.855756
        stop time: 32.565596
        stop time: 32.491911
        stop time: 32.746167
        stop time: 32.349164
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [32.775977, 32.570981, 32.377605, 32.855756, 32.565596, 32.491911, 32.746167, 32.349164]
    [exp] Throughput: 1227.3084239915063
    [exp] Running (pre_run: False) workload synthetic/chain-d2-grpc-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00069342', 'PROCESSING_TIME_SERVICE1': '0.00056667', 'PROCESSING_TIME_SERVICE2': '0.00068154', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '170.5', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '170.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-grpc-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-grpc-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   333.22ms  237.07ms   1.37s    72.24%
        Req/Sec   204.82    102.06   480.00     65.74%
        Latency Distribution
        50%  250.63ms
        75%  479.28ms
        90%  711.32ms
        99%  918.32ms
        4451 requests in 3.04s, 2.56MB read
        Requests/sec:   1465.28
        Transfer/sec:    861.42KB
        [run.sh] Speed is 1465.28, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   330.95ms  237.25ms   2.02s    75.46%
        Req/Sec   198.72    106.65   700.00     67.08%
        Latency Distribution
        50%  248.41ms
        75%  463.36ms
        90%  678.19ms
        99%    1.07s
        40000 requests in 40.00s, 22.96MB read
        Requests/sec:   1000.00
        Transfer/sec:    587.89KB
        ------------------------------
        stop time: 25.794336
        stop time: 25.715769
        stop time: 25.472233
        stop time: 25.809844
        stop time: 25.742455
        stop time: 25.855953
        stop time: 25.802739
        stop time: 25.604827
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [25.794336, 25.715769, 25.472233, 25.809844, 25.742455, 25.855953, 25.802739, 25.604827]
    [exp] Throughput: 1554.9216096960558
[test.py] Baseline throughput:  2110.62915480647
[test.py] Groundtruth:  [2091.7240337235066, 1986.7482155617347]
[test.py] Slowdown:  [1227.3084239915063, 1554.9216096960558]
[test.py] Predicted:  [2109.6106629796295, 2117.077620983775]
[test.py] Error percentage:  [0.855114200905492, 6.5599356980014125]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 2110.62915480647
    Groundtruth: [2091.7240337235066, 1986.7482155617347]
    Slowdown:    [1227.3084239915063, 1554.9216096960558]
    Predicted:   [2109.6106629796295, 2117.077620983775]
    Error Perc:  [0.855114200905492, 6.5599356980014125]
