[config.py] Random numbers for execution time: [301.7797365005585, 329.4742627119304, 334.4473458465523, 424.2322214955936, 689.7904953456607, 747.7237316311903, 913.4849599051364, 1012.7176778879183, 1046.6582370044264, 1134.9125406153807, 1263.2690510162995]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 800
target_service                   : service5
request_type                     : fanout-w10-http-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 9970
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1, 'service6': 1, 'service7': 1, 'service8': 1, 'service9': 1, 'service10': 1}
baseline_service_processing_time : {'service0': 1263.27, 'service1': 1134.91, 'service2': 1046.66, 'service3': 1012.72, 'service4': 913.48, 'service5': 1495.45, 'service6': 689.79, 'service7': 424.23, 'service8': 334.45, 'service9': 329.47, 'service10': 301.78}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2, 'service7': 2, 'service8': 2, 'service9': 2, 'service10': 2}
target_processing_time_range     : [0, 1495.45]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 149, 298, 447, 596, 745, 894, 1043, 1192, 1341]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00126327', 'PROCESSING_TIME_SERVICE1': '0.00113491', 'PROCESSING_TIME_SERVICE2': '0.00104666', 'PROCESSING_TIME_SERVICE3': '0.00101272', 'PROCESSING_TIME_SERVICE4': '0.00091348', 'PROCESSING_TIME_SERVICE5': '0.00149545', 'PROCESSING_TIME_SERVICE6': '0.00068979', 'PROCESSING_TIME_SERVICE7': '0.00042423', 'PROCESSING_TIME_SERVICE8': '0.00033445', 'PROCESSING_TIME_SERVICE9': '0.00032947', 'PROCESSING_TIME_SERVICE10': '0.00030178', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-async 8 800 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-async, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.81s   763.21ms   2.98s    59.72%
        Req/Sec    40.71     33.01   141.00     72.37%
        Latency Distribution
        50%    1.88s
        75%    2.50s
        90%    2.77s
        99%    2.95s
        653 requests in 3.02s, 101.39KB read
        Requests/sec:    216.16
        Transfer/sec:     33.56KB
        [run.sh] Speed is 216.16, duration is 138
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d138s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-7crv5        1621m        402Mi
        service1-7585bd9d88-bvgcd        705m         33Mi
        service10-8467f679d8-999f5       281m         37Mi
        service2-958786d58-cz7w5         659m         33Mi
        service3-6ddd8b8f64-f4c27        632m         34Mi
        service4-9bb5bd9fd-5n59g         592m         39Mi
        service5-6c596999df-cs8mf        776m         39Mi
        service6-7dcff5bc4-b5rvl         478m         31Mi
        service7-7758b6668-rctkm         291m         31Mi
        service8-778ccbf6cd-npztj        257m         30Mi
        service9-54c984fd45-rwkj8        285m         32Mi
        ubuntu-client-76886f6bbd-4b696   19m          22Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.94s     1.64s   17.07s    96.00%
        Req/Sec    65.45     45.81   310.00     72.09%
        Latency Distribution
        50%    1.59s
        75%    2.06s
        90%    2.74s
        99%   13.22s
        19971 requests in 2.30m, 3.03MB read
        Socket errors: connect 0, read 1901, write 51880, timeout 2
        Requests/sec:    144.66
        Transfer/sec:     22.46KB
        ------------------------------
        stop time: 55.190910
        stop time: 136.374918
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh synthetic fanout-w10-http-async 8 800 20000
[test.py] Found 0 throughput, rerun experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00126327', 'PROCESSING_TIME_SERVICE1': '0.00113491', 'PROCESSING_TIME_SERVICE2': '0.00104666', 'PROCESSING_TIME_SERVICE3': '0.00101272', 'PROCESSING_TIME_SERVICE4': '0.00091348', 'PROCESSING_TIME_SERVICE5': '0.00149545', 'PROCESSING_TIME_SERVICE6': '0.00068979', 'PROCESSING_TIME_SERVICE7': '0.00042423', 'PROCESSING_TIME_SERVICE8': '0.00033445', 'PROCESSING_TIME_SERVICE9': '0.00032947', 'PROCESSING_TIME_SERVICE10': '0.00030178', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-async 8 800 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-async, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.73s   182.18ms   3.00s    63.05%
        Req/Sec   101.80     62.92   252.00     67.80%
        Latency Distribution
        50%    2.74s
        75%    2.89s
        90%    2.98s
        99%    3.00s
        612 requests in 3.03s, 95.03KB read
        Socket errors: connect 0, read 0, write 0, timeout 3
        Requests/sec:    202.25
        Transfer/sec:     31.40KB
        [run.sh] Speed is 202.25, duration is 148
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d148s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-965gb        6m           3Mi
        service1-7585bd9d88-dfxnm        1m           3Mi
        service10-8467f679d8-lsfsd       6m           3Mi
        service2-958786d58-pgwfb         6m           3Mi
        service3-6ddd8b8f64-9445q        1m           3Mi
        service4-9bb5bd9fd-7h52n         7m           3Mi
        service5-6c596999df-gx7wx        6m           3Mi
        service6-7dcff5bc4-stk8h         1m           3Mi
        service7-7758b6668-dgmpt         1m           3Mi
        service8-778ccbf6cd-fmgpw        1m           3Mi
        service9-54c984fd45-2qftd        1m           3Mi
        ubuntu-client-76886f6bbd-rtjbh   0m           0Mi
