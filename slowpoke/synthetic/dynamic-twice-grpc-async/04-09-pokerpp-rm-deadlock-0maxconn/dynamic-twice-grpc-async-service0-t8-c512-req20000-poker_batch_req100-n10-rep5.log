[config.py] Random numbers for execution time: [386.33140356988423, 409.03347797940205, 544.8347840427616, 645.8976193591313, 903.8216759894148, 1182.890502291722, 1202.8970058004106]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : dynamic-twice-grpc-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 9175
request_ratio                    : {'service0': 1, 'service1': 0.2, 'service2': 0.3, 'service3': 0.5, 'service4': 0.16, 'service5': 0.15, 'service6': 0.35}
baseline_service_processing_time : {'service0': 1202.9, 'service1': 5914.45, 'service2': 3012.74, 'service3': 1291.8, 'service4': 3405.22, 'service5': 2726.89, 'service6': 1103.8}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2}
target_processing_time_range     : [0, 1202.9]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 120, 240, 360, 480, 600, 720, 840, 960, 1080]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012029', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   448.30ms  368.73ms   1.94s    68.99%
        Req/Sec   159.61    101.66   500.00     67.98%
        Latency Distribution
        50%  357.73ms
        75%  680.15ms
        90%  928.68ms
        99%    1.59s
        3303 requests in 3.04s, 512.87KB read
        Requests/sec:   1086.87
        Transfer/sec:    168.76KB
        [run.sh] Speed is 1086.87, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   427.44ms  497.52ms   4.29s    85.59%
        Req/Sec   169.04     83.01   525.00     70.02%
        Latency Distribution
        50%  220.64ms
        75%  603.97ms
        90%    1.13s
        99%    2.25s
        20000 requests in 27.00s, 3.03MB read
        Requests/sec:    740.74
        Transfer/sec:    115.02KB
        ------------------------------
        stop time: 14.925170
        stop time: 15.108984
        stop time: 15.080151
        stop time: 15.144867
        stop time: 15.001020
        stop time: 15.029137
        stop time: 14.997542
        stop time: 15.133166
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-hmxrd        1588m        49Mi
        service1-76b89695f7-lrs94        1171m        17Mi
        service2-8f7c6f8f5-r5dmv         1288m        11Mi
        service3-766854894f-lwrwj        1112m        11Mi
        service4-6fb56c9f99-f7dwf        637m         11Mi
        service5-5c448f7b5c-tfppn        618m         9Mi
        service6-67d69f5cf-9n4zt         638m         9Mi
        ubuntu-client-76886f6bbd-dfzzs   55m          20Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.92517, 15.108984, 15.080151, 15.144867, 15.00102, 15.029137, 14.997542, 15.133166]
    [exp] Throughput: 1328.6825347844726
[test.py] Baseline throughput: 1328.6825347844726
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   275.66ms  316.88ms   1.79s    85.01%
        Req/Sec   233.52    102.35   510.00     71.19%
        Latency Distribution
        50%  142.49ms
        75%  382.72ms
        90%  737.26ms
        99%    1.37s
        5562 requests in 3.03s, 863.63KB read
        Requests/sec:   1837.63
        Transfer/sec:    285.33KB
        [run.sh] Speed is 1837.63, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d16s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 16s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   416.78ms  554.09ms   3.34s    85.49%
        Req/Sec   225.50    109.37   848.00     68.00%
        Latency Distribution
        50%  152.31ms
        75%  643.32ms
        90%    1.20s
        99%    2.40s
        20000 requests in 16.00s, 3.03MB read
        Requests/sec:   1249.99
        Transfer/sec:    194.09KB
        ------------------------------
        stop time: 11.645270
        stop time: 11.760267
        stop time: 11.684042
        stop time: 11.341876
        stop time: 12.455118
        stop time: 11.983195
        stop time: 11.840759
        stop time: 11.646058
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [11.64527, 11.760267, 11.684042, 11.341876, 12.455118, 11.983195, 11.840759, 11.646058]
    [exp] Throughput: 1695.6951123231092
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012029', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '3007.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '2004.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '1202.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '3759.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '4009.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '1718.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   591.86ms  548.45ms   2.77s    81.26%
        Req/Sec   100.58     77.12   330.00     69.12%
        Latency Distribution
        50%  388.61ms
        75%  876.22ms
        90%    1.24s
        99%    2.68s
        2093 requests in 3.02s, 324.99KB read
        Requests/sec:    693.28
        Transfer/sec:    107.65KB
        [run.sh] Speed is 693.28, duration is 43
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d43s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-5xrn9        838m         51Mi
        service1-587cc76cd7-qjkkp        741m         23Mi
        service2-b75fc66db-zdwfh         389m         14Mi
        service3-5b46b5cdf9-mwzf6        61m          10Mi
        service4-67d85cc47-m8h8g         307m         13Mi
        service5-5cf686bccc-q98fx        60m          9Mi
        service6-79989f99b6-c9q7z        44m          10Mi
        ubuntu-client-76886f6bbd-z8f25   14m          18Mi
        Running 43s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   775.11ms    1.11s    9.05s    84.09%
        Req/Sec   105.75     64.61   450.00     69.05%
        Latency Distribution
        50%  212.79ms
        75%    1.23s
        90%    2.45s
        99%    4.62s
        20001 requests in 43.00s, 3.03MB read
        Requests/sec:    465.14
        Transfer/sec:     72.22KB
        ------------------------------
        stop time: 24.728137
        stop time: 25.022203
        stop time: 26.156311
        stop time: 25.635308
        stop time: 25.818141
        stop time: 24.729543
        stop time: 26.440999
        stop time: 24.998754
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.728137, 25.022203, 26.156311, 25.635308, 25.818141, 24.729543, 26.440999, 24.998754]
    [exp] Throughput: 786.1272285208374
[test.py] Finished running 0th optmization experiment: groundtruth->1695.6951123231092, slowdown->786.1272285208374, predicted->1491.1825073555376, err->-12.06069437137131
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00012', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   249.31ms  280.20ms   1.67s    84.72%
        Req/Sec   236.50    110.24   494.00     67.97%
        Latency Distribution
        50%  113.30ms
        75%  414.36ms
        90%  644.67ms
        99%    1.16s
        5485 requests in 3.04s, 851.67KB read
        Requests/sec:   1807.02
        Transfer/sec:    280.58KB
        [run.sh] Speed is 1807.02, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d16s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 16s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   479.01ms  664.56ms   4.33s    85.32%
        Req/Sec   231.89    107.37   570.00     67.50%
        Latency Distribution
        50%  150.19ms
        75%  735.76ms
        90%    1.39s
        99%    2.98s
        20000 requests in 16.00s, 3.03MB read
        Requests/sec:   1249.99
        Transfer/sec:    194.09KB
        ------------------------------
        stop time: 11.987944
        stop time: 11.649692
        stop time: 12.374693
        stop time: 12.000058
        stop time: 11.813969
        stop time: 12.275897
        stop time: 11.938187
        stop time: 12.296642
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-9rjsw        4m           47Mi
        service1-76b89695f7-xk5fg        0m           25Mi
        service2-8f7c6f8f5-km7rg         333m         14Mi
        service3-766854894f-q9lnm        686m         11Mi
        service4-6fb56c9f99-z4f2t        0m           18Mi
        service5-5c448f7b5c-qb254        323m         9Mi
        service6-67d69f5cf-tmcbt         376m         9Mi
        ubuntu-client-76886f6bbd-gzbsq   28m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.987944, 11.649692, 12.374693, 12.000058, 11.813969, 12.275897, 11.938187, 12.296642]
    [exp] Throughput: 1660.8350250841102
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012029', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2707.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1804.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '1082.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '3384.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '3609.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '1547.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   557.87ms  352.49ms   1.81s    67.81%
        Req/Sec   111.80     71.56   330.00     67.48%
        Latency Distribution
        50%  481.05ms
        75%  735.04ms
        90%    1.15s
        99%    1.46s
        2343 requests in 3.04s, 363.81KB read
        Requests/sec:    770.95
        Transfer/sec:    119.71KB
        [run.sh] Speed is 770.95, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-gjhcz   177m         43Mi
        service1-769b787f67-hcprp   242m         11Mi
        service2-55586c7669-6dv2j   0m           11Mi
        service4-7764f5756f-5dcck   70m          8Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   775.41ms    1.09s   11.08s    84.85%
        Req/Sec   113.88     64.02   630.00     72.70%
        Latency Distribution
        50%  221.15ms
        75%    1.17s
        90%    2.36s
        99%    4.47s
        20000 requests in 38.00s, 3.03MB read
        Requests/sec:    526.31
        Transfer/sec:     81.72KB
        ------------------------------
        stop time: 22.563401
        stop time: 22.787701
        stop time: 22.029729
        stop time: 23.481951
        stop time: 23.093393
        stop time: 23.315543
        stop time: 23.867213
        stop time: 22.650981
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [22.563401, 22.787701, 22.029729, 23.481951, 23.093393, 23.315543, 23.867213, 22.650981]
    [exp] Throughput: 870.5592067534153
[test.py] Finished running 1th optmization experiment: groundtruth->1660.8350250841102, slowdown->870.5592067534153, predicted->1646.8036077185357, err->-0.8448411283272341
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00024', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   245.11ms  247.64ms   1.45s    83.52%
        Req/Sec   226.24    138.95   767.00     71.05%
        Latency Distribution
        50%  152.10ms
        75%  410.20ms
        90%  596.34ms
        99%  977.33ms
        5193 requests in 3.03s, 806.33KB read
        Requests/sec:   1712.69
        Transfer/sec:    265.94KB
        [run.sh] Speed is 1712.69, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d17s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 17s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   483.81ms  626.37ms   4.15s    83.31%
        Req/Sec   210.74    108.48   525.00     65.56%
        Latency Distribution
        50%  149.21ms
        75%  800.19ms
        90%    1.45s
        99%    2.54s
        20000 requests in 17.00s, 3.03MB read
        Requests/sec:   1176.46
        Transfer/sec:    182.67KB
        ------------------------------
        stop time: 12.717411
        stop time: 12.765292
        stop time: 12.979818
        stop time: 12.761412
        stop time: 12.631335
        stop time: 12.900484
        stop time: 12.511352
        stop time: 12.649357
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-5rnrf        746m         46Mi
        service1-76b89695f7-fzt6l        93m          33Mi
        service2-8f7c6f8f5-p5kg8         1017m        14Mi
        service3-766854894f-rs9d8        470m         10Mi
        service4-6fb56c9f99-984tn        851m         11Mi
        service5-5c448f7b5c-kmgmn        319m         9Mi
        service6-67d69f5cf-6z4vk         304m         9Mi
        ubuntu-client-76886f6bbd-zrs28   30m          19Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.717411, 12.765292, 12.979818, 12.761412, 12.631335, 12.900484, 12.511352, 12.649357]
    [exp] Throughput: 1569.9132253032217
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012029', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2407.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '962.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '3009.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '3209.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '1375.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   513.46ms  444.34ms   2.50s    78.58%
        Req/Sec   118.35     64.20   303.00     69.12%
        Latency Distribution
        50%  348.13ms
        75%  780.79ms
        90%    1.15s
        99%    1.80s
        2631 requests in 3.03s, 408.52KB read
        Requests/sec:    868.96
        Transfer/sec:    134.93KB
        [run.sh] Speed is 868.96, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   677.06ms  856.19ms   5.72s    85.38%
        Req/Sec   123.26     67.58   430.00     68.57%
        Latency Distribution
        50%  277.64ms
        75%    1.00s
        90%    1.90s
        99%    3.72s
        20001 requests in 34.00s, 3.03MB read
        Requests/sec:    588.26
        Transfer/sec:     91.34KB
        ------------------------------
        stop time: 21.864939
        stop time: 21.790662
        stop time: 21.401287
        stop time: 21.514177
        stop time: 21.934510
        stop time: 22.263561
        stop time: 22.260880
        stop time: 22.232550
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [21.864939, 21.790662, 21.401287, 21.514177, 21.93451, 22.263561, 22.26088, 22.23255]
    [exp] Throughput: 912.9159959919793
[test.py] Finished running 2th optmization experiment: groundtruth->1569.9132253032217, slowdown->912.9159959919793, predicted->1628.8209109983145, err->3.752289282340116
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00036', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   250.64ms  325.73ms   1.82s    85.59%
        Req/Sec   205.26    107.21   520.00     64.38%
        Latency Distribution
        50%   87.32ms
        75%  398.50ms
        90%  719.71ms
        99%    1.40s
        4539 requests in 3.03s, 704.79KB read
        Requests/sec:   1498.81
        Transfer/sec:    232.72KB
        [run.sh] Speed is 1498.81, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.06ms  581.50ms   3.49s    84.86%
        Req/Sec   219.89    110.48   656.00     70.75%
        Latency Distribution
        50%  143.31ms
        75%  643.75ms
        90%    1.28s
        99%    2.48s
        20000 requests in 20.00s, 3.03MB read
        Requests/sec:    999.99
        Transfer/sec:    155.27KB
        ------------------------------
        stop time: 12.616465
        stop time: 12.734188
        stop time: 12.735854
        stop time: 12.723487
        stop time: 12.367260
        stop time: 12.448128
        stop time: 12.440069
        stop time: 12.667354
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-rr9rd        9m           45Mi
        service1-76b89695f7-bp76x        666m         25Mi
        service2-8f7c6f8f5-2rkpf         384m         12Mi
        service3-766854894f-pj97v        410m         10Mi
        service4-6fb56c9f99-7zw66        33m          8Mi
        service5-5c448f7b5c-s5tkt        224m         8Mi
        service6-67d69f5cf-vp5bn         240m         9Mi
        ubuntu-client-76886f6bbd-z69jx   24m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.616465, 12.734188, 12.735854, 12.723487, 12.36726, 12.448128, 12.440069, 12.667354]
    [exp] Throughput: 1588.3604154575066
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0012029', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2107.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1404.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '842.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '2634.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '2809.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '1204.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   501.07ms  346.01ms   2.04s    70.19%
        Req/Sec   131.38     77.17   363.00     66.82%
        Latency Distribution
        50%  406.43ms
        75%  721.57ms
        90%    1.05s
        99%    1.37s
        2791 requests in 3.04s, 433.37KB read
        Requests/sec:    919.59
        Transfer/sec:    142.79KB
        [run.sh] Speed is 919.59, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   671.62ms  924.51ms   6.26s    85.37%
        Req/Sec   127.21     61.75   540.00     67.76%
        Latency Distribution
        50%  222.52ms
        75%  985.05ms
        90%    2.03s
        99%    3.98s
        20000 requests in 32.00s, 3.03MB read
        Requests/sec:    625.00
        Transfer/sec:     97.05KB
        ------------------------------
        stop time: 21.418680
        stop time: 20.067588
        stop time: 20.704742
        stop time: 21.025307
        stop time: 20.864075
        stop time: 21.240286
        stop time: 20.036489
        stop time: 20.957540
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5db46c56cd-5bql8        1416m        49Mi
        service1-7fc4f7fd89-h2gst        1227m        31Mi
        service2-595f9fd577-6zrf5        771m         12Mi
        service3-768cffbc6-kfgfb         804m         11Mi
        service4-57f4cddbf6-tjx7z        637m         17Mi
        service5-b469498bc-84w4p         456m         9Mi
        service6-86888d6bdd-bpl79        454m         10Mi
        ubuntu-client-76886f6bbd-c5j7z   36m          23Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.41868, 20.067588, 20.704742, 21.025307, 20.864075, 21.240286, 20.036489, 20.95754]
    [exp] Throughput: 962.0315778808426
[test.py] Finished running 3th optmization experiment: groundtruth->1588.3604154575066, slowdown->962.0315778808426, predicted->1618.0786798241684, err->1.8710025808658661
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dynamic-twice-grpc-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00048', 'PROCESSING_TIME_SERVICE1': '0.00591445', 'PROCESSING_TIME_SERVICE2': '0.00301274', 'PROCESSING_TIME_SERVICE3': '0.0012918', 'PROCESSING_TIME_SERVICE4': '0.00340522', 'PROCESSING_TIME_SERVICE5': '0.00272689', 'PROCESSING_TIME_SERVICE6': '0.0011038', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dynamic-twice-grpc-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dynamic-twice-grpc-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   291.64ms  302.75ms   1.59s    84.19%
        Req/Sec   228.18    110.36   480.00     66.67%
        Latency Distribution
        50%  154.56ms
        75%  472.04ms
        90%  747.06ms
        99%    1.22s
        5110 requests in 3.03s, 793.45KB read
        Requests/sec:   1687.27
        Transfer/sec:    261.99KB
        [run.sh] Speed is 1687.27, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d17s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
