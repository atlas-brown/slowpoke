[config.py] Random numbers for execution time: [207.56191924285463, 228.10834499298699, 251.54297266141458, 476.075272239858, 477.29450431696637, 482.9554454292452, 516.2947473075429, 528.4748547993806, 553.6710466540935, 763.5126709144843, 1005.8585704066938]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service5
request_type                     : fanout-w10-http-sync
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 10000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 30007
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1, 'service6': 1, 'service7': 1, 'service8': 1, 'service9': 1, 'service10': 1}
baseline_service_processing_time : {'service0': 1005.86, 'service1': 763.51, 'service2': 553.67, 'service3': 528.47, 'service4': 516.29, 'service5': 965.91, 'service6': 477.29, 'service7': 476.08, 'service8': 251.54, 'service9': 228.11, 'service10': 207.56}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2, 'service7': 2, 'service8': 2, 'service9': 2, 'service10': 2}
target_processing_time_range     : [0, 965.91]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 96, 192, 288, 384, 480, 576, 672, 768, 864]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.10s   199.22ms   1.60s    70.86%
        Req/Sec    78.03     68.43   282.00     73.19%
        Latency Distribution
        50%    1.13s
        75%    1.26s
        90%    1.32s
        99%    1.48s
        1112 requests in 3.03s, 172.66KB read
        Requests/sec:    367.41
        Transfer/sec:     57.05KB
        [run.sh] Speed is 367.41, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-75mbn        1904m        82Mi
        service1-7585bd9d88-7n8mh        609m         17Mi
        service10-8467f679d8-cl6nr       263m         17Mi
        service2-958786d58-8p6sh         480m         18Mi
        service3-6ddd8b8f64-hsrq5        487m         15Mi
        service4-9bb5bd9fd-ph6mp         395m         14Mi
        service5-6c596999df-8mflj        781m         15Mi
        service6-7dcff5bc4-jm5dd         363m         13Mi
        service7-7758b6668-p8pdm         455m         15Mi
        service8-778ccbf6cd-vds4k        264m         15Mi
        service9-54c984fd45-d6f2m        247m         14Mi
        ubuntu-client-76886f6bbd-6tjt7   25m          16Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   785.10ms  235.05ms   1.65s    70.12%
        Req/Sec    80.42     40.38   260.00     62.58%
        Latency Distribution
        50%  773.13ms
        75%  923.20ms
        90%    1.09s
        99%    1.42s
        10000 requests in 40.00s, 1.52MB read
        Requests/sec:    250.00
        Transfer/sec:     38.82KB
        ------------------------------
        stop time: 15.719976
        stop time: 15.823786
        stop time: 15.873420
        stop time: 15.758580
        stop time: 15.894583
        stop time: 15.905113
        stop time: 15.884413
        stop time: 15.855465
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.719976, 15.823786, 15.87342, 15.75858, 15.894583, 15.905113, 15.884413, 15.855465]
    [exp] Throughput: 631.336367998898
[test.py] Baseline throughput: 631.336367998898
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.0', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   973.91ms  230.58ms   1.51s    68.62%
        Req/Sec    70.15     61.31   242.00     81.40%
        Latency Distribution
        50%  948.36ms
        75%    1.12s
        90%    1.29s
        99%    1.47s
        1297 requests in 3.03s, 201.39KB read
        Requests/sec:    428.16
        Transfer/sec:     66.48KB
        [run.sh] Speed is 428.16, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-84w4k        1901m        122Mi
        service1-7585bd9d88-fxtml        596m         17Mi
        service10-8467f679d8-6524n       260m         24Mi
        service2-958786d58-wsmwh         350m         13Mi
        service3-6ddd8b8f64-j5nlt        465m         14Mi
        service4-9bb5bd9fd-97scc         285m         16Mi
        service5-6c596999df-fr4pd        142m         12Mi
        service6-7dcff5bc4-47s4p         278m         17Mi
        service7-7758b6668-r96n6         434m         18Mi
        service8-778ccbf6cd-9g79x        184m         15Mi
        service9-54c984fd45-5dkff        272m         22Mi
        ubuntu-client-76886f6bbd-nzvtx   20m          15Mi
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   815.82ms  225.22ms   1.71s    68.01%
        Req/Sec    79.39     48.42   323.00     65.70%
        Latency Distribution
        50%  812.94ms
        75%  963.01ms
        90%    1.11s
        99%    1.38s
        10000 requests in 35.00s, 1.52MB read
        Requests/sec:    285.71
        Transfer/sec:     44.36KB
        ------------------------------
        stop time: 16.108101
        stop time: 16.106063
        stop time: 16.170058
        stop time: 16.303039
        stop time: 16.291529
        stop time: 16.345602
        stop time: 16.355214
        stop time: 16.361160
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.108101, 16.106063, 16.170058, 16.303039, 16.291529, 16.345602, 16.355214, 16.36116]
    [exp] Throughput: 615.1917007317536
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '482.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5855fbd95f-dl4pm cannot connect to service6
        [run.sh] service0-5855fbd95f-dl4pm cannot connect to service6
        [run.sh] service1-5b879fc485-npngz cannot connect to service6
        [run.sh] service1-5b879fc485-npngz cannot connect to service6
        [run.sh] service10-569896b5fc-cxqwk cannot connect to service6
        [run.sh] service2-6968c4974c-2tjm8 cannot connect to service6
        [run.sh] service3-859ccd7957-w579d cannot connect to service6
        [run.sh] service4-ccd58f5bc-mg7sg cannot connect to service6
        [run.sh] service5-6c596999df-z5472 cannot connect to service6
        [run.sh] service7-66b8b46db9-84l8z cannot connect to service6
        [run.sh] service8-6cc7f76899-l8bc6 cannot connect to service6
        [run.sh] service9-6967974b7d-wg4ds cannot connect to service6
        [run.sh] ubuntu-client-76886f6bbd-qjvf7 cannot connect to service6
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.14s   351.68ms   2.18s    63.05%
        Req/Sec    70.34     46.78   230.00     67.28%
        Latency Distribution
        50%    1.13s
        75%    1.43s
        90%    1.59s
        99%    1.86s
        1188 requests in 3.02s, 184.46KB read
        Requests/sec:    393.12
        Transfer/sec:     61.04KB
        [run.sh] Speed is 393.12, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5855fbd95f-dl4pm        47m          74Mi
        service1-5b879fc485-npngz        1m           17Mi
        service10-569896b5fc-cxqwk       1m           12Mi
        service2-6968c4974c-2tjm8        129m         13Mi
        service3-859ccd7957-w579d        1m           15Mi
        service4-ccd58f5bc-mg7sg         121m         14Mi
        service5-6c596999df-z5472        28m          10Mi
        service6-79bfb7cdd7-s5hc6        7m           13Mi
        service7-66b8b46db9-84l8z        7m           12Mi
        service8-6cc7f76899-l8bc6        76m          11Mi
        service9-6967974b7d-wg4ds        7m           11Mi
        ubuntu-client-76886f6bbd-qjvf7   18m          0Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.03s   285.17ms   2.13s    69.11%
        Req/Sec    64.21     39.82   250.00     70.15%
        Latency Distribution
        50%    1.02s
        75%    1.21s
        90%    1.40s
        99%    1.72s
        10000 requests in 38.00s, 1.52MB read
        Requests/sec:    263.16
        Transfer/sec:     40.86KB
        ------------------------------
        stop time: 20.320508
        stop time: 20.368473
        stop time: 20.642062
        stop time: 20.414607
        stop time: 20.619850
        stop time: 20.546258
        stop time: 20.575903
        stop time: 20.804880
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > curl: (28) Connection timed out after 1002 milliseconds
        > command terminated with exit code 28
    [exp] Times: [20.320508, 20.368473, 20.642062, 20.414607, 20.61985, 20.546258, 20.575903, 20.80488]
    [exp] Throughput: 486.9362876309765
[test.py] Finished running 0th optmization experiment: groundtruth->615.1917007317536, slowdown->486.9362876309765, predicted->636.6581001401275, err->3.4893837779086185
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '9.6e-05', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   974.77ms  231.43ms   1.64s    69.00%
        Req/Sec    75.00     61.95   242.00     62.79%
        Latency Distribution
        50%  974.11ms
        75%    1.15s
        90%    1.27s
        99%    1.54s
        1316 requests in 3.03s, 204.34KB read
        Requests/sec:    434.94
        Transfer/sec:     67.53KB
        [run.sh] Speed is 434.94, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   830.04ms  236.01ms   1.82s    67.58%
        Req/Sec    78.25     44.62   270.00     69.58%
        Latency Distribution
        50%  820.37ms
        75%  990.24ms
        90%    1.14s
        99%    1.39s
        10000 requests in 34.00s, 1.52MB read
        Requests/sec:    294.12
        Transfer/sec:     45.67KB
        ------------------------------
        stop time: 16.502396
        stop time: 16.504452
        stop time: 16.551605
        stop time: 16.688387
        stop time: 16.639811
        stop time: 16.649326
        stop time: 16.434647
        stop time: 16.574045
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-b92v2        640m         74Mi
        service1-7585bd9d88-w6gvh        109m         14Mi
        service10-8467f679d8-nvc4f       76m          13Mi
        service2-958786d58-kq7x2         148m         20Mi
        service3-6ddd8b8f64-vfphm        135m         14Mi
        service4-9bb5bd9fd-4nt2l         1m           14Mi
        service5-6c596999df-7f6n9        57m          12Mi
        service6-7dcff5bc4-qhxzh         1m           16Mi
        service7-7758b6668-md497         125m         12Mi
        service8-778ccbf6cd-2r9c7        7m           12Mi
        service9-54c984fd45-gjngr        32m          13Mi
        ubuntu-client-76886f6bbd-fpv26   13m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.502396, 16.504452, 16.551605, 16.688387, 16.639811, 16.649326, 16.434647, 16.574045]
    [exp] Throughput: 603.5701066181696
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '434.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.19s   291.79ms   1.86s    66.67%
        Req/Sec    58.29     45.72   191.00     65.58%
        Latency Distribution
        50%    1.18s
        75%    1.43s
        90%    1.55s
        99%    1.83s
        996 requests in 3.03s, 154.65KB read
        Requests/sec:    329.12
        Transfer/sec:     51.10KB
        [run.sh] Speed is 329.12, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-68448567db-zxvg2        43m          82Mi
        service1-bb589696-h4rvx          152m         19Mi
        service10-68cd75f9dd-hhw9q       1m           13Mi
        service2-8559cb8cc4-k2s28        128m         13Mi
        service3-65db77dc6-n6dhz         17m          17Mi
        service4-677957646b-97c85        107m         15Mi
        service5-6c596999df-dzwfw        16m          18Mi
        service6-7b58859c4b-hb6m4        102m         16Mi
        service7-6865944b44-k2px8        49m          14Mi
        service8-748dd5dc66-vfqsp        73m          16Mi
        service9-59c994865c-btj46        68m          14Mi
        ubuntu-client-76886f6bbd-6sbxp   6m           11Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   981.67ms  272.63ms   2.18s    69.94%
        Req/Sec    65.94     38.43   210.00     70.13%
        Latency Distribution
        50%  965.77ms
        75%    1.15s
        90%    1.33s
        99%    1.72s
        10000 requests in 45.00s, 1.52MB read
        Requests/sec:    222.22
        Transfer/sec:     34.51KB
        ------------------------------
        stop time: 19.617475
        stop time: 19.828649
        stop time: 19.727126
        stop time: 19.610605
        stop time: 19.372373
        stop time: 19.781577
        stop time: 19.798549
        stop time: 19.790819
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.617475, 19.828649, 19.727126, 19.610605, 19.372373, 19.781577, 19.798549, 19.790819]
    [exp] Throughput: 507.8488902990725
[test.py] Finished running 1th optmization experiment: groundtruth->603.5701066181696, slowdown->507.8488902990725, predicted->651.8332610844063, err->7.9962797920290285
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.000192', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   964.76ms  214.99ms   1.55s    67.67%
        Req/Sec    74.24     63.79   270.00     65.84%
        Latency Distribution
        50%  992.43ms
        75%    1.10s
        90%    1.25s
        99%    1.39s
        1265 requests in 3.03s, 196.42KB read
        Requests/sec:    417.52
        Transfer/sec:     64.83KB
        [run.sh] Speed is 417.52, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d35s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-26nfg        619m         69Mi
        service1-7585bd9d88-96vb5        177m         17Mi
        service10-8467f679d8-7h26z       76m          14Mi
        service2-958786d58-7zfw2         109m         16Mi
        service3-6ddd8b8f64-szn5q        132m         15Mi
        service4-9bb5bd9fd-6qwbl         128m         15Mi
        service5-6c596999df-qwcv4        72m          13Mi
        service6-7dcff5bc4-glpzv         124m         16Mi
        service7-7758b6668-jkssh         120m         14Mi
        service8-778ccbf6cd-c6hh9        85m          13Mi
        service9-54c984fd45-hvls7        84m          15Mi
        ubuntu-client-76886f6bbd-b6brt   9m           0Mi
        Running 35s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   827.31ms  246.48ms   1.74s    65.44%
        Req/Sec    80.91     55.37   320.00     68.29%
        Latency Distribution
        50%  807.99ms
        75%    1.00s
        90%    1.16s
        99%    1.43s
        10000 requests in 35.00s, 1.52MB read
        Requests/sec:    285.71
        Transfer/sec:     44.36KB
        ------------------------------
        stop time: 16.499774
        stop time: 16.518474
        stop time: 16.606999
        stop time: 16.550814
        stop time: 16.597979
        stop time: 16.464384
        stop time: 16.511010
        stop time: 16.602183
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.499774, 16.518474, 16.606999, 16.550814, 16.597979, 16.464384, 16.51101, 16.602183]
    [exp] Throughput: 604.4504919044548
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '386.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.17s   294.45ms   1.93s    69.44%
        Req/Sec    70.44     52.20   202.00     68.92%
        Latency Distribution
        50%    1.20s
        75%    1.38s
        90%    1.51s
        99%    1.86s
        1116 requests in 3.03s, 173.29KB read
        Requests/sec:    368.13
        Transfer/sec:     57.16KB
        [run.sh] Speed is 368.13, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-d5cdf89cd-5nzdp         467m         87Mi
        service1-6b47b7dd68-lwrf2        38m          15Mi
        service10-59c54bf54d-h26hg       47m          15Mi
        service2-77c944cc74-vlhpj        127m         19Mi
        service3-566cc7d5fb-zstgm        70m          17Mi
        service4-6d9745cdd6-wxb7j        114m         16Mi
        service5-6c596999df-pq5l9        175m         18Mi
        service6-74f4c995f8-zdp27        112m         20Mi
        service7-dbccdf688-b4wfn         37m          15Mi
        service8-77785474f4-5dm8w        73m          13Mi
        service9-b6889f4f-z6jpt          41m          11Mi
        ubuntu-client-76886f6bbd-xz5sh   10m          12Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   996.80ms  269.19ms   1.94s    70.57%
        Req/Sec    70.86     47.83   270.00     66.21%
        Latency Distribution
        50%  985.35ms
        75%    1.18s
        90%    1.36s
        99%    1.66s
        10000 requests in 40.00s, 1.52MB read
        Requests/sec:    250.00
        Transfer/sec:     38.82KB
        ------------------------------
        stop time: 19.861513
        stop time: 19.791831
        stop time: 19.787759
        stop time: 19.720725
        stop time: 19.842563
        stop time: 19.913224
        stop time: 19.847887
        stop time: 19.913624
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.861513, 19.791831, 19.787759, 19.720725, 19.842563, 19.913224, 19.847887, 19.913624]
    [exp] Throughput: 504.16209123813803
[test.py] Finished running 2th optmization experiment: groundtruth->604.4504919044548, slowdown->504.16209123813803, predicted->626.3568160923844, err->3.62417178599837
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.000288', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   979.72ms  210.04ms   1.45s    72.59%
        Req/Sec    87.79     78.23   380.00     80.00%
        Latency Distribution
        50%    1.01s
        75%    1.14s
        90%    1.20s
        99%    1.37s
        1346 requests in 3.03s, 209.00KB read
        Requests/sec:    444.23
        Transfer/sec:     68.98KB
        [run.sh] Speed is 444.23, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   789.21ms  228.50ms   1.55s    65.20%
        Req/Sec    83.94     51.39   252.00     61.83%
        Latency Distribution
        50%  766.58ms
        75%  953.10ms
        90%    1.10s
        99%    1.33s
        10000 requests in 33.00s, 1.52MB read
        Requests/sec:    303.03
        Transfer/sec:     47.05KB
        ------------------------------
        stop time: 15.770026
        stop time: 15.632043
        stop time: 15.540678
        stop time: 15.858744
        stop time: 15.682711
        stop time: 15.819998
        stop time: 15.786503
        stop time: 15.723727
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-nrgfb        1139m        90Mi
        service1-7585bd9d88-7zmrl        146m         19Mi
        service10-8467f679d8-2dw4l       120m         16Mi
        service2-958786d58-46j7j         59m          16Mi
        service3-6ddd8b8f64-nsg6l        199m         16Mi
        service4-9bb5bd9fd-9jj75         21m          18Mi
        service5-6c596999df-wvhw4        173m         18Mi
        service6-7dcff5bc4-4xd4f         1m           18Mi
        service7-7758b6668-rg258         152m         18Mi
        service8-778ccbf6cd-46rg4        8m           19Mi
        service9-54c984fd45-tk28l        25m          16Mi
        ubuntu-client-76886f6bbd-9kvlq   17m          14Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.770026, 15.632043, 15.540678, 15.858744, 15.682711, 15.819998, 15.786503, 15.723727]
    [exp] Throughput: 635.8571111437695
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '338.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.18s   210.53ms   1.84s    69.67%
        Req/Sec    67.20     53.52   212.00     61.90%
        Latency Distribution
        50%    1.17s
        75%    1.30s
        90%    1.46s
        99%    1.70s
        1042 requests in 3.02s, 161.79KB read
        Requests/sec:    344.69
        Transfer/sec:     53.52KB
        [run.sh] Speed is 344.69, duration is 43
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d43s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-698cfcf5b7-wvqw8        507m         90Mi
        service1-79dcc6889c-8fbmk        501m         17Mi
        service10-856764ffb5-qv2x7       226m         13Mi
        service2-5f5c6c968c-z2qcs        242m         16Mi
        service3-5885bb9d9-x5drk         381m         18Mi
        service4-54f8c87fc5-59rpz        258m         16Mi
        service5-6c596999df-p8n2d        192m         18Mi
        service6-5c69775f79-cl7s5        257m         19Mi
        service7-7bfd685549-52pvg        353m         19Mi
        service8-6fc8fbb57f-hf6vc        156m         15Mi
        service9-984fdff9d-gxdnz         192m         16Mi
        ubuntu-client-76886f6bbd-crzhj   21m          16Mi
        Running 43s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   981.10ms  269.50ms   2.02s    67.66%
        Req/Sec    69.27     45.03   270.00     69.40%
        Latency Distribution
        50%  969.04ms
        75%    1.16s
        90%    1.33s
        99%    1.64s
        10000 requests in 43.00s, 1.52MB read
        Requests/sec:    232.56
        Transfer/sec:     36.11KB
        ------------------------------
        stop time: 19.534397
        stop time: 19.589978
        stop time: 19.552257
        stop time: 19.652108
        stop time: 19.662556
        stop time: 19.588864
        stop time: 19.567141
        stop time: 19.372350
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.534397, 19.589978, 19.552257, 19.652108, 19.662556, 19.588864, 19.567141, 19.37235]
    [exp] Throughput: 511.1179298502269
[test.py] Finished running 3th optmization experiment: groundtruth->635.8571111437695, slowdown->511.1179298502269, predicted->618.2224896343602, err->-2.7733623168401014
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.000384', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   787.58ms  267.18ms   1.67s    70.02%
        Req/Sec    88.99     47.12   270.00     75.14%
        Latency Distribution
        50%  758.62ms
        75%  940.93ms
        90%    1.15s
        99%    1.54s
        1708 requests in 3.03s, 265.21KB read
        Requests/sec:    563.72
        Transfer/sec:     87.53KB
        [run.sh] Speed is 563.72, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d26s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 26s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   828.80ms  237.08ms   1.59s    67.79%
        Req/Sec    78.15     52.35   292.00     68.60%
        Latency Distribution
        50%  814.47ms
        75%  989.93ms
        90%    1.15s
        99%    1.42s
        10000 requests in 26.00s, 1.52MB read
        Requests/sec:    384.61
        Transfer/sec:     59.72KB
        ------------------------------
        stop time: 16.349242
        stop time: 16.370253
        stop time: 16.408536
        stop time: 16.577785
        stop time: 16.643349
        stop time: 16.605109
        stop time: 16.575077
        stop time: 16.539777
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-8jbnt        611m         92Mi
        service1-7585bd9d88-5pjsl        564m         22Mi
        service10-8467f679d8-xkczm       58m          16Mi
        service2-958786d58-9skkf         269m         17Mi
        service3-6ddd8b8f64-rt6x7        446m         18Mi
        service4-9bb5bd9fd-zcq4t         295m         16Mi
        service5-6c596999df-qfzxh        102m         13Mi
        service6-7dcff5bc4-slwpn         288m         15Mi
        service7-7758b6668-wvfgs         422m         16Mi
        service8-778ccbf6cd-647kt        194m         15Mi
        service9-54c984fd45-ggfsz        224m         14Mi
        ubuntu-client-76886f6bbd-bl9vm   24m          16Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.349242, 16.370253, 16.408536, 16.577785, 16.643349, 16.605109, 16.575077, 16.539777]
    [exp] Throughput: 605.7433800880401
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '290.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.12s   256.94ms   1.85s    69.70%
        Req/Sec    69.53     43.13   180.00     61.87%
        Latency Distribution
        50%    1.12s
        75%    1.31s
        90%    1.43s
        99%    1.79s
        1142 requests in 3.03s, 177.32KB read
        Requests/sec:    377.17
        Transfer/sec:     58.56KB
        [run.sh] Speed is 377.17, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d39s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8588d8fb9d-8kl8q        1634m        174Mi
        service1-6c9c784d96-bsfsv        542m         12Mi
        service10-6689748f9b-68zsx       222m         16Mi
        service2-997c55bc8-grbwg         388m         12Mi
        service3-5696bfff48-5kfm8        346m         13Mi
        service4-757976bc8-sfzsg         365m         11Mi
        service5-6c596999df-sjdvb        627m         13Mi
        service6-69c7cb898b-zsb44        363m         13Mi
        service7-54659d6f96-6dqnt        395m         20Mi
        service8-5dd96874bb-t4m9c        224m         53Mi
        service9-bdb4c5d8f-pjmxn         229m         16Mi
        ubuntu-client-76886f6bbd-h49pf   23m          14Mi
        Running 39s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   928.24ms  256.04ms   1.96s    73.80%
        Req/Sec    72.97     49.04   323.00     70.36%
        Latency Distribution
        50%  871.25ms
        75%    1.10s
        90%    1.29s
        99%    1.59s
        10000 requests in 39.00s, 1.52MB read
        Requests/sec:    256.41
        Transfer/sec:     39.81KB
        ------------------------------
        stop time: 18.371959
        stop time: 19.170643
        stop time: 18.372335
        stop time: 18.469178
        stop time: 19.149906
        stop time: 19.158664
        stop time: 18.428547
        stop time: 18.412230
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.371959, 19.170643, 18.372335, 18.469178, 19.149906, 19.158664, 18.428547, 18.41223]
    [exp] Throughput: 534.9973105016454
[test.py] Finished running 4th optmization experiment: groundtruth->605.7433800880401, slowdown->534.9973105016454, predicted->633.6279233236078, err->4.603359137249648
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00048', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service10 created
        deployment.apps/service10 created
        service/service10 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        configmap/config-service8 created
        deployment.apps/service8 created
        service/service8 created
        configmap/config-service9 created
        deployment.apps/service9 created
        service/service9 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   939.09ms  197.48ms   1.49s    68.01%
        Req/Sec    81.04     65.76   252.00     60.26%
        Latency Distribution
        50%  951.84ms
        75%    1.07s
        90%    1.16s
        99%    1.33s
        1360 requests in 3.03s, 211.17KB read
        Requests/sec:    448.33
        Transfer/sec:     69.61KB
        [run.sh] Speed is 448.33, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   765.67ms  226.81ms   1.61s    75.29%
        Req/Sec    86.15     47.80   272.00     68.59%
        Latency Distribution
        50%  699.38ms
        75%  921.17ms
        90%    1.10s
        99%    1.36s
        10000 requests in 33.00s, 1.52MB read
        Requests/sec:    303.03
        Transfer/sec:     47.05KB
        ------------------------------
        stop time: 15.335245
        stop time: 15.201152
        stop time: 15.198278
        stop time: 15.150307
        stop time: 15.202158
        stop time: 15.221562
        stop time: 15.282675
        stop time: 15.290996
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-r67f8        1903m        184Mi
        service1-7585bd9d88-r4crb        365m         14Mi
        service10-8467f679d8-4bb5t       289m         10Mi
        service2-958786d58-drv2h         465m         14Mi
        service3-6ddd8b8f64-lvz68        452m         55Mi
        service4-9bb5bd9fd-jptzh         391m         10Mi
        service5-6c596999df-lhtss        455m         12Mi
        service6-7dcff5bc4-xxnmx         363m         20Mi
        service7-7758b6668-xvp58         440m         12Mi
        service8-778ccbf6cd-skwq9        251m         11Mi
        service9-54c984fd45-lr94d        198m         12Mi
        ubuntu-client-76886f6bbd-qnkbs   25m          15Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.335245, 15.201152, 15.198278, 15.150307, 15.202158, 15.221562, 15.282675, 15.290996]
    [exp] Throughput: 656.3705483482833
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w10-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00100586', 'PROCESSING_TIME_SERVICE1': '0.00076351', 'PROCESSING_TIME_SERVICE2': '0.00055367', 'PROCESSING_TIME_SERVICE3': '0.00052847', 'PROCESSING_TIME_SERVICE4': '0.00051629', 'PROCESSING_TIME_SERVICE5': '0.00096591', 'PROCESSING_TIME_SERVICE6': '0.00047729', 'PROCESSING_TIME_SERVICE7': '0.00047608', 'PROCESSING_TIME_SERVICE8': '0.00025154', 'PROCESSING_TIME_SERVICE9': '0.00022811', 'PROCESSING_TIME_SERVICE10': '0.00020756', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE8': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE8': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE8': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE9': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE9': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE9': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE10': '242.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE10': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE10': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w10-http-sync 8 512 10000`:
        [run.sh] Running benchmark synthetic with request fanout-w10-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service10" deleted
        deployment.apps "service10" deleted
        service "service10" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        configmap "config-service8" deleted
        deployment.apps "service8" deleted
        service "service8" deleted
        configmap "config-service9" deleted
        deployment.apps "service9" deleted
        service "service9" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
