[config.py] Random numbers for execution time: [673.9599190922808, 749.7098841370384, 823.8400185323862, 910.5644382128783, 997.1484338343456]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service4
request_type                     : dag-cross-http-sync
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 1348
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 2, 'service3': 1, 'service4': 4}
baseline_service_processing_time : {'service0': 3988.59, 'service1': 3642.26, 'service2': 1647.68, 'service3': 2998.84, 'service4': 1347.92}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2}
target_processing_time_range     : [0, 1347.92]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 134, 268, 402, 536, 670, 804, 938, 1072, 1206]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.00134792', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.15s   467.72ms   2.98s    59.18%
        Req/Sec    31.82     18.48    80.00     66.67%
        Latency Distribution
        50%    2.15s
        75%    2.54s
        90%    2.79s
        99%    2.97s
        441 requests in 3.03s, 563.31KB read
        Requests/sec:    145.58
        Transfer/sec:    185.96KB
        [run.sh] Speed is 145.58, duration is 206
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d206s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-zbvcw        1754m        65Mi
        service1-96558989f-p9jsz         1377m        17Mi
        service2-b9b68cb9d-4q7gr         1501m        26Mi
        service3-ddcb6f57c-6vmfp         1207m        20Mi
        service4-b87f5c5bd-wshn4         1932m        25Mi
        ubuntu-client-76886f6bbd-t94c4   18m          18Mi
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.63s   364.69ms   4.82s    75.28%
        Req/Sec    39.61     19.23   150.00     55.30%
        Latency Distribution
        50%    1.55s
        75%    1.79s
        90%    2.13s
        99%    2.79s
        20000 requests in 3.43m, 24.95MB read
        Requests/sec:     97.09
        Transfer/sec:    124.01KB
        ------------------------------
        stop time: 63.374437
        stop time: 63.604097
        stop time: 64.307614
        stop time: 64.707837
        stop time: 64.261663
        stop time: 64.751365
        stop time: 64.991175
        stop time: 64.709329
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [63.374437, 63.604097, 64.307614, 64.707837, 64.261663, 64.751365, 64.991175, 64.709329]
    [exp] Throughput: 310.85615561351904
[test.py] Baseline throughput: 310.85615561351904
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.89s   607.87ms   2.99s    60.26%
        Req/Sec    46.85     27.22   130.00     73.08%
        Latency Distribution
        50%    1.93s
        75%    2.36s
        90%    2.66s
        99%    2.94s
        620 requests in 3.02s, 791.95KB read
        Socket errors: connect 0, read 0, write 0, timeout 1
        Requests/sec:    205.05
        Transfer/sec:    261.91KB
        [run.sh] Speed is 205.05, duration is 146
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d146s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-b4q7d        605m         58Mi
        service1-96558989f-mntkx         457m         14Mi
        service2-b9b68cb9d-k7krp         169m         22Mi
        service3-ddcb6f57c-2hv7f         393m         19Mi
        service4-b87f5c5bd-d4bft         96m          12Mi
        ubuntu-client-76886f6bbd-tddn9   15m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.27s   384.10ms   4.19s    78.62%
        Req/Sec    51.71     30.63   232.00     65.99%
        Latency Distribution
        50%    1.23s
        75%    1.43s
        90%    1.70s
        99%    2.53s
        20000 requests in 2.43m, 24.95MB read
        Requests/sec:    136.99
        Transfer/sec:    174.98KB
        ------------------------------
        stop time: 50.109279
        stop time: 49.483731
        stop time: 49.822358
        stop time: 50.228081
        stop time: 50.184159
        stop time: 50.588215
        stop time: 50.442315
        stop time: 50.624398
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.109279, 49.483731, 49.822358, 50.228081, 50.184159, 50.588215, 50.442315, 50.624398]
    [exp] Throughput: 398.522938492149
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.00134792', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2695.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '269549990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2695.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '269549990', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1347.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '269499990', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2695.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '269549990', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.17s   501.21ms   3.00s    59.79%
        Req/Sec    23.42     29.18   120.00     89.23%
        Latency Distribution
        50%    1.86s
        75%    2.52s
        90%    2.91s
        99%    2.99s
        194 requests in 3.04s, 247.80KB read
        Requests/sec:     63.85
        Transfer/sec:     81.55KB
        [run.sh] Speed is 63.85, duration is 469
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d469s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5ccbd9c7d7-dtrwf        926m         64Mi
        service1-9fd9dd844-gr2qw         771m         21Mi
        service2-7b47fb56fd-xjqpp        764m         25Mi
        service3-95c74f76b-ckzcv         667m         21Mi
        service4-b87f5c5bd-fn47c         1176m        22Mi
        ubuntu-client-76886f6bbd-z8vv9   12m          17Mi
        Running 8m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.76s   356.46ms   5.13s    75.20%
        Req/Sec    30.86     24.67   151.00     73.79%
        Latency Distribution
        50%    2.70s
        75%    2.93s
        90%    3.21s
        99%    3.84s
        20000 requests in 7.82m, 24.95MB read
        Requests/sec:     42.64
        Transfer/sec:     54.47KB
        ------------------------------
        stop time: 108.669454
        stop time: 109.435478
        stop time: 108.634042
        stop time: 109.098888
        stop time: 109.427725
        stop time: 109.436139
        stop time: 109.957901
        stop time: 109.428688
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [108.669454, 109.435478, 108.634042, 109.098888, 109.427725, 109.436139, 109.957901, 109.428688]
    [exp] Throughput: 183.04786513477188
[test.py] Finished running 0th optmization experiment: groundtruth->398.522938492149, slowdown->183.04786513477188, predicted->361.37455724135157, err->-9.321516445540635
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.000134', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.49s   666.25ms   2.99s    61.63%
        Req/Sec    42.98     29.94   181.00     64.24%
        Latency Distribution
        50%    1.44s
        75%    2.00s
        90%    2.44s
        99%    2.86s
        761 requests in 3.02s, 0.95MB read
        Requests/sec:    251.59
        Transfer/sec:    321.36KB
        [run.sh] Speed is 251.59, duration is 119
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d119s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.26s   329.08ms   2.78s    72.43%
        Req/Sec    52.82     30.69   212.00     66.30%
        Latency Distribution
        50%    1.23s
        75%    1.44s
        90%    1.69s
        99%    2.23s
        20000 requests in 1.98m, 24.95MB read
        Requests/sec:    168.07
        Transfer/sec:    214.68KB
        ------------------------------
        stop time: 49.711996
        stop time: 49.757315
        stop time: 49.413749
        stop time: 49.988249
        stop time: 50.174914
        stop time: 50.152724
        stop time: 50.002397
        stop time: 49.895388
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [49.711996, 49.757315, 49.413749, 49.988249, 50.174914, 50.152724, 50.002397, 49.895388]
    [exp] Throughput: 400.90531234918757
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.00134792', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2427.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '242749990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2427.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '242749990', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1213.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '242699990', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2427.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '242749990', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.03s   580.22ms   2.91s    39.33%
        Req/Sec    25.99     23.77   101.00     69.33%
        Latency Distribution
        50%    2.08s
        75%    2.45s
        90%    2.80s
        99%    2.89s
        267 requests in 3.03s, 341.05KB read
        Requests/sec:     88.04
        Transfer/sec:    112.45KB
        [run.sh] Speed is 88.04, duration is 340
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d340s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 6m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.64s   330.08ms   4.35s    73.99%
        Req/Sec    30.97     25.10   170.00     77.52%
        Latency Distribution
        50%    2.60s
        75%    2.77s
        90%    3.08s
        99%    3.59s
        20000 requests in 5.67m, 24.95MB read
        Requests/sec:     58.82
        Transfer/sec:     75.14KB
        ------------------------------
        stop time: 103.607582
        stop time: 104.170184
        stop time: 103.690746
        stop time: 104.168999
        stop time: 104.645276
        stop time: 104.724538
        stop time: 104.657345
        stop time: 105.009558
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [103.607582, 104.170184, 103.690746, 104.168999, 104.645276, 104.724538, 104.657345, 105.009558]
    [exp] Throughput: 191.69155418082468
[test.py] Finished running 1th optmization experiment: groundtruth->400.90531234918757, slowdown->191.69155418082468, predicted->358.567660960149, err->-10.560511443700344
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.000268', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.63s   541.87ms   2.88s    65.99%
        Req/Sec    41.45     25.99   130.00     61.31%
        Latency Distribution
        50%    1.51s
        75%    2.04s
        90%    2.48s
        99%    2.76s
        738 requests in 3.03s, 0.92MB read
        Requests/sec:    243.39
        Transfer/sec:    310.89KB
        [run.sh] Speed is 243.39, duration is 123
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d123s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-5n4lq        196m         68Mi
        service1-96558989f-p9t76         137m         20Mi
        service2-b9b68cb9d-jsv7g         411m         22Mi
        service3-ddcb6f57c-nfll8         92m          19Mi
        service4-b87f5c5bd-bd67j         186m         17Mi
        ubuntu-client-76886f6bbd-2r2nc   7m           13Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.27s   332.67ms   3.17s    70.32%
        Req/Sec    53.20     32.06   210.00     63.02%
        Latency Distribution
        50%    1.23s
        75%    1.46s
        90%    1.70s
        99%    2.24s
        20000 requests in 2.05m, 24.95MB read
        Requests/sec:    162.60
        Transfer/sec:    207.70KB
        ------------------------------
        stop time: 49.861551
        stop time: 49.983857
        stop time: 50.092396
        stop time: 50.463826
        stop time: 49.845953
        stop time: 49.786372
        stop time: 50.372434
        stop time: 50.263169
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [49.861551, 49.983857, 50.092396, 50.463826, 49.845953, 49.786372, 50.372434, 50.263169]
    [exp] Throughput: 399.33156089687253
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-cross-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00398859', 'PROCESSING_TIME_SERVICE1': '0.00364226', 'PROCESSING_TIME_SERVICE2': '0.00164768', 'PROCESSING_TIME_SERVICE3': '0.00299884', 'PROCESSING_TIME_SERVICE4': '0.00134792', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2159.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '215949990', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2159.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '215949990', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1079.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '215899990', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2159.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '215949990', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10'}
    [exp] Executing cmd `bash run.sh synthetic dag-cross-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-cross-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.07s   427.68ms   2.99s    50.99%
        Req/Sec    22.15     26.67   150.00     83.82%
        Latency Distribution
        50%    2.13s
        75%    2.50s
        90%    2.59s
        99%    2.75s
        202 requests in 3.02s, 258.02KB read
        Requests/sec:     66.84
        Transfer/sec:     85.38KB
        [run.sh] Speed is 66.84, duration is 448
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d448s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5c97cfc67c-c589z        85m          64Mi
        service1-59bdc67cc4-9br44        36m          20Mi
        service2-7c49dc6bcf-pj8qz        294m         20Mi
        service3-5d5995bbcb-9s7vb        91m          20Mi
        service4-b87f5c5bd-x2h4f         226m         19Mi
        ubuntu-client-76886f6bbd-q8f9d   9m           9Mi
