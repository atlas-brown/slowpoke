[config.py] Random numbers for execution time: [480.5608941041698, 524.1766662197026, 535.7374274018514, 681.4957821137393, 890.2177615783276, 958.081970781948, 1130.7171321436667]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service4
request_type                     : dag-relay-http-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 21912
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 3, 'service5': 3, 'service6': 3}
baseline_service_processing_time : {'service0': 3392.15, 'service1': 2874.25, 'service2': 2670.65, 'service3': 2044.49, 'service4': 535.74, 'service5': 524.18, 'service6': 480.56}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2}
target_processing_time_range     : [0, 535.74]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 53, 106, 159, 212, 265, 318, 371, 424, 477]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.00053574', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.12s   701.30ms   3.00s    68.48%
        Req/Sec    54.80     43.20   170.00     60.00%
        Latency Distribution
        50%    2.19s
        75%    2.71s
        90%    2.88s
        99%    2.99s
        553 requests in 3.04s, 85.87KB read
        Socket errors: connect 0, read 0, write 0, timeout 1
        Requests/sec:    182.09
        Transfer/sec:     28.27KB
        [run.sh] Speed is 182.09, duration is 164
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d164s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-2d5kq        494m         93Mi
        service1-7585bd9d88-rbk4l        103m         42Mi
        service2-958786d58-25j5m         338m         38Mi
        service3-6ddd8b8f64-rq7cs        213m         54Mi
        service4-6497fcfc69-52qdv        386m         116Mi
        service5-65b54fcdcb-4svrk        226m         27Mi
        service6-7dcff5bc4-cxsg9         212m         31Mi
        ubuntu-client-76886f6bbd-ww5r5   7m           6Mi
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.08s   638.90ms   6.29s    74.69%
        Req/Sec    63.30     46.17   353.00     71.74%
        Latency Distribution
        50%  940.47ms
        75%    1.36s
        90%    1.91s
        99%    3.25s
        20000 requests in 2.73m, 3.03MB read
        Requests/sec:    121.95
        Transfer/sec:     18.94KB
        ------------------------------
        stop time: 42.470093
        stop time: 42.696970
        stop time: 42.457935
        stop time: 42.238695
        stop time: 43.092329
        stop time: 43.112312
        stop time: 42.813699
        stop time: 43.308065
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [42.470093, 42.69697, 42.457935, 42.238695, 43.092329, 43.112312, 42.813699, 43.308065]
    [exp] Throughput: 467.5763586823602
[test.py] Baseline throughput: 467.5763586823602
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.0', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.86s   845.18ms   2.96s    58.61%
        Req/Sec    76.50     47.90   190.00     61.96%
        Latency Distribution
        50%    2.24s
        75%    2.42s
        90%    2.75s
        99%    2.93s
        720 requests in 3.03s, 111.80KB read
        Requests/sec:    237.84
        Transfer/sec:     36.93KB
        [run.sh] Speed is 237.84, duration is 126
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d126s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-tjbt9        1048m        91Mi
        service1-7585bd9d88-j5lq9        50m          47Mi
        service2-958786d58-rzgjj         660m         46Mi
        service3-6ddd8b8f64-mb6rj        997m         32Mi
        service4-6497fcfc69-czqkv        339m         75Mi
        service5-65b54fcdcb-2tvtk        409m         21Mi
        service6-7dcff5bc4-spw6b         58m          20Mi
        ubuntu-client-76886f6bbd-cg4js   19m          18Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.09s   595.71ms   4.26s    72.68%
        Req/Sec    64.93     55.76   404.00     84.32%
        Latency Distribution
        50%  971.52ms
        75%    1.40s
        90%    1.85s
        99%    3.10s
        20000 requests in 2.10m, 3.03MB read
        Requests/sec:    158.73
        Transfer/sec:     24.65KB
        ------------------------------
        stop time: 41.722931
        stop time: 42.320736
        stop time: 42.991026
        stop time: 42.647967
        stop time: 43.232546
        stop time: 43.150401
        stop time: 43.513629
        stop time: 43.113043
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.722931, 42.320736, 42.991026, 42.647967, 43.232546, 43.150401, 43.513629, 43.113043]
    [exp] Throughput: 466.89117264880076
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.00053574', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '803.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '803.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '803.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '803.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '267.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '267.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.91s   537.95ms   2.67s    51.50%
        Req/Sec    60.80     82.63   343.00     90.80%
        Latency Distribution
        50%    2.03s
        75%    2.51s
        90%    2.53s
        99%    2.55s
        602 requests in 3.03s, 93.47KB read
        Requests/sec:    198.61
        Transfer/sec:     30.84KB
        [run.sh] Speed is 198.61, duration is 151
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d151s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-775f8d465b-gbmf7        507m         80Mi
        service1-684cb5d9bb-kl4t7        278m         39Mi
        service2-559ddfcfcb-h9dcj        349m         35Mi
        service3-9746948bb-5v2wr         135m         36Mi
        service4-6497fcfc69-877lw        348m         40Mi
        service5-85f9c8f64b-q9g6d        217m         13Mi
        service6-6584d64548-cs765        194m         13Mi
        ubuntu-client-76886f6bbd-bv9jc   11m          0Mi
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.49s   702.68ms   4.83s    72.74%
        Req/Sec    50.12     42.44   310.00     81.18%
        Latency Distribution
        50%    1.34s
        75%    1.86s
        90%    2.45s
        99%    3.70s
        20000 requests in 2.52m, 3.03MB read
        Requests/sec:    132.45
        Transfer/sec:     20.57KB
        ------------------------------
        stop time: 58.625354
        stop time: 58.292726
        stop time: 59.063172
        stop time: 58.809934
        stop time: 58.314908
        stop time: 59.682803
        stop time: 59.055159
        stop time: 59.042234
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [58.625354, 58.292726, 59.063172, 58.809934, 58.314908, 59.682803, 59.055159, 59.042234]
    [exp] Throughput: 339.78479178062287
[test.py] Finished running 0th optmization experiment: groundtruth->466.89117264880076, slowdown->339.78479178062287, predicted->467.41436800801057, err->0.11205938125614547
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '5.3e-05', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.14s   617.17ms   2.95s    69.73%
        Req/Sec    75.81     62.73   240.00     58.82%
        Latency Distribution
        50%    2.15s
        75%    2.66s
        90%    2.79s
        99%    2.91s
        588 requests in 3.03s, 91.30KB read
        Requests/sec:    194.22
        Transfer/sec:     30.16KB
        [run.sh] Speed is 194.22, duration is 154
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d154s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-xd859        1945m        97Mi
        service1-7585bd9d88-jtl6p        1495m        51Mi
        service2-958786d58-fz8rl         1436m        50Mi
        service3-6ddd8b8f64-gd89g        1137m        39Mi
        service4-6497fcfc69-l9mmj        754m         65Mi
        service5-65b54fcdcb-t98pj        954m         20Mi
        service6-7dcff5bc4-6t297         858m         18Mi
        ubuntu-client-76886f6bbd-vtfjv   18m          23Mi
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.08s   669.44ms   4.73s    73.66%
        Req/Sec    63.98     49.80   350.00     75.66%
        Latency Distribution
        50%  936.72ms
        75%    1.41s
        90%    1.93s
        99%    3.48s
        20000 requests in 2.57m, 3.03MB read
        Requests/sec:    129.87
        Transfer/sec:     20.17KB
        ------------------------------
        stop time: 43.000226
        stop time: 41.800635
        stop time: 42.385935
        stop time: 42.962383
        stop time: 43.130001
        stop time: 42.893992
        stop time: 42.769213
        stop time: 42.331826
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [43.000226, 41.800635, 42.385935, 42.962383, 43.130001, 42.893992, 42.769213, 42.331826]
    [exp] Throughput: 468.8312062349183
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.00053574', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '724.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '724.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '724.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '724.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '241.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '241.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.45s   525.74ms   2.96s    93.91%
        Req/Sec    81.18     57.45   220.00     60.78%
        Latency Distribution
        50%    2.54s
        75%    2.76s
        90%    2.91s
        99%    2.95s
        509 requests in 3.02s, 79.03KB read
        Requests/sec:    168.49
        Transfer/sec:     26.16KB
        [run.sh] Speed is 168.49, duration is 178
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d178s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service2-586f965d69-qd2fs        4m           3Mi
        service4-6497fcfc69-w7rhj        4m           3Mi
        service5-7496f94f89-tc67g        4m           3Mi
        ubuntu-client-76886f6bbd-bmstm   7m           0Mi
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.45s   686.94ms   5.05s    72.10%
        Req/Sec    50.32     43.93   300.00     82.79%
        Latency Distribution
        50%    1.34s
        75%    1.80s
        90%    2.36s
        99%    3.56s
        20000 requests in 2.97m, 3.03MB read
        Requests/sec:    112.36
        Transfer/sec:     17.45KB
        ------------------------------
        stop time: 55.488978
        stop time: 57.194702
        stop time: 56.859950
        stop time: 57.372777
        stop time: 57.735521
        stop time: 57.550163
        stop time: 57.903679
        stop time: 58.307155
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [55.488978, 57.194702, 56.85995, 57.372777, 57.735521, 57.550163, 57.903679, 58.307155]
    [exp] Throughput: 349.03029839309175
[test.py] Finished running 1th optmization experiment: groundtruth->468.8312062349183, slowdown->349.03029839309175, predicted->467.0778362590043, err->-0.3739874719507085
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.000106', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.41s   851.08ms   2.97s    54.03%
        Req/Sec    60.58     60.47   343.00     87.58%
        Latency Distribution
        50%    1.40s
        75%    2.12s
        90%    2.66s
        99%    2.96s
        955 requests in 3.03s, 148.29KB read
        Requests/sec:    315.18
        Transfer/sec:     48.94KB
        [run.sh] Speed is 315.18, duration is 95
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d95s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.05s   724.79ms   6.23s    77.05%
        Req/Sec    65.82     46.59   262.00     74.63%
        Latency Distribution
        50%  905.08ms
        75%    1.31s
        90%    1.96s
        99%    3.71s
        20001 requests in 1.58m, 3.03MB read
        Requests/sec:    210.54
        Transfer/sec:     32.69KB
        ------------------------------
        stop time: 40.226934
        stop time: 40.930280
        stop time: 40.988238
        stop time: 41.843966
        stop time: 41.307440
        stop time: 42.166670
        stop time: 42.372015
        stop time: 42.596767
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [40.226934, 40.93028, 40.988238, 41.843966, 41.30744, 42.16667, 42.372015, 42.596767]
    [exp] Throughput: 481.3009902677631
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.00053574', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '644.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '644.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '644.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '644.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '214.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '214.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.51s   472.72ms   3.00s    94.78%
        Req/Sec    53.15     53.64   210.00     85.25%
        Latency Distribution
        50%    2.68s
        75%    2.75s
        90%    2.82s
        99%    2.99s
        383 requests in 3.02s, 59.47KB read
        Requests/sec:    126.90
        Transfer/sec:     19.70KB
        [run.sh] Speed is 126.90, duration is 236
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d236s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-84774dcdcf-pbgtn        336m         84Mi
        service1-74fbc9dd77-whtdl        308m         41Mi
        service2-d94d9c7c5-5kncv         115m         46Mi
        service3-774d56db8f-c9s48        233m         37Mi
        service4-6497fcfc69-jfqf9        78m          85Mi
        service5-5b6cfd5c96-bvpnb        4m           22Mi
        service6-97c76ddf8-4tvst         167m         18Mi
        ubuntu-client-76886f6bbd-967xf   12m          0Mi
        Running 4m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.39s   947.10ms   6.67s    75.24%
        Req/Sec    50.56     40.81   292.00     83.49%
        Latency Distribution
        50%    1.17s
        75%    1.73s
        90%    2.77s
        99%    4.43s
        20000 requests in 3.93m, 3.03MB read
        Requests/sec:     84.75
        Transfer/sec:     13.16KB
        ------------------------------
        stop time: 55.535215
        stop time: 54.342911
        stop time: 54.806393
        stop time: 55.838759
        stop time: 55.708492
        stop time: 55.046068
        stop time: 55.165860
        stop time: 54.330990
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [55.535215, 54.342911, 54.806393, 55.838759, 55.708492, 55.046068, 55.16586, 54.33099]
    [exp] Throughput: 362.99725087662017
[test.py] Finished running 2th optmization experiment: groundtruth->481.3009902677631, slowdown->362.99725087662017, predicted->473.8815896907629, err->-1.541530295392194
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.000159', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.64s   855.18ms   2.97s    50.47%
        Req/Sec    76.08     50.63   202.00     60.19%
        Latency Distribution
        50%    1.95s
        75%    2.28s
        90%    2.75s
        99%    2.91s
        846 requests in 3.03s, 131.36KB read
        Requests/sec:    279.21
        Transfer/sec:     43.35KB
        [run.sh] Speed is 279.21, duration is 107
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d107s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-5x7k5        493m         93Mi
        service1-7585bd9d88-dm4q4        454m         47Mi
        service2-958786d58-v2df8         197m         40Mi
        service3-6ddd8b8f64-j856q        342m         35Mi
        service4-6497fcfc69-znllx        130m         89Mi
        service5-65b54fcdcb-zcf9q        13m          25Mi
        service6-7dcff5bc4-nhmsh         259m         21Mi
        ubuntu-client-76886f6bbd-qjbrg   12m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.06s   713.18ms   6.17s    76.33%
        Req/Sec    64.33     47.59   320.00     75.26%
        Latency Distribution
        50%  900.04ms
        75%    1.34s
        90%    2.00s
        99%    3.48s
        20000 requests in 1.78m, 3.03MB read
        Requests/sec:    186.92
        Transfer/sec:     29.02KB
        ------------------------------
        stop time: 41.134850
        stop time: 41.557463
        stop time: 40.164043
        stop time: 42.321110
        stop time: 42.384165
        stop time: 42.070363
        stop time: 42.772793
        stop time: 42.892700
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.13485, 41.557463, 40.164043, 42.32111, 42.384165, 42.070363, 42.772793, 42.8927]
    [exp] Throughput: 477.1881872171622
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00339215', 'PROCESSING_TIME_SERVICE1': '0.00287425', 'PROCESSING_TIME_SERVICE2': '0.00267065', 'PROCESSING_TIME_SERVICE3': '0.00204449', 'PROCESSING_TIME_SERVICE4': '0.00053574', 'PROCESSING_TIME_SERVICE5': '0.00052418', 'PROCESSING_TIME_SERVICE6': '0.00048056', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '565.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '565.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '565.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '565.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '188.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '188.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.40s     1.11s    3.00s    43.40%
        Req/Sec    50.99     39.78   191.00     71.26%
        Latency Distribution
        50%    1.96s
        75%    2.46s
        90%    2.73s
        99%    2.97s
        477 requests in 3.02s, 74.07KB read
        Requests/sec:    157.86
        Transfer/sec:     24.51KB
        [run.sh] Speed is 157.86, duration is 190
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d190s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5ccc8d748d-jjrqb        310m         81Mi
        service1-7694dc9746-p8kb6        331m         27Mi
        service2-7ffd87588-8hwm6         311m         40Mi
        service3-85ffbdff8-d7n9k         3m           30Mi
        service4-6497fcfc69-ppmqk        318m         46Mi
        service5-5f468d7b7-s2kdl         198m         16Mi
        service6-7b89d86c9c-kwcsl        190m         17Mi
        ubuntu-client-76886f6bbd-r7gmf   11m          7Mi
