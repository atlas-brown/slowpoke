[config.py] Random numbers for execution time: [459.27147297187145, 748.2010667037661, 765.1713140220329, 816.753817210439, 834.3520644198811, 838.5661220127218, 1192.623441714668]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service5
request_type                     : dag-relay-http-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 2217
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 3, 'service5': 3, 'service6': 3}
baseline_service_processing_time : {'service0': 3577.87, 'service1': 2515.7, 'service2': 2503.06, 'service3': 2450.26, 'service4': 765.17, 'service5': 1496.4, 'service6': 459.27}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2}
target_processing_time_range     : [0, 1496.4]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 149, 298, 447, 596, 745, 894, 1043, 1192, 1341]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.23s   719.57ms   2.97s    84.30%
        Req/Sec    35.00     29.54   131.00     74.16%
        Latency Distribution
        50%    2.50s
        75%    2.71s
        90%    2.87s
        99%    2.96s
        363 requests in 3.03s, 56.36KB read
        Requests/sec:    119.94
        Transfer/sec:     18.62KB
        [run.sh] Speed is 119.94, duration is 250
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d250s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-22vww        1790m        107Mi
        service1-7585bd9d88-47krn        859m         49Mi
        service2-958786d58-wplsh         1229m        53Mi
        service3-6ddd8b8f64-j8xrt        1149m        49Mi
        service4-9bb5bd9fd-lt7kj         1296m        132Mi
        service5-6c596999df-c68vc        1949m        82Mi
        service6-7dcff5bc4-pxcpw         482m         15Mi
        ubuntu-client-76886f6bbd-7s6mg   20m          22Mi
        Running 4m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.27s     1.24s    9.91s    86.25%
        Req/Sec    50.74     31.64   270.00     79.04%
        Latency Distribution
        50%  937.86ms
        75%    1.86s
        90%    2.85s
        99%    5.65s
        20000 requests in 4.17m, 3.03MB read
        Requests/sec:     80.00
        Transfer/sec:     12.42KB
        ------------------------------
        stop time: 50.831412
        stop time: 51.114026
        stop time: 48.855802
        stop time: 49.886983
        stop time: 50.961226
        stop time: 50.703269
        stop time: 50.356500
        stop time: 49.904887
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.831412, 51.114026, 48.855802, 49.886983, 50.961226, 50.703269, 50.3565, 49.904887]
    [exp] Throughput: 397.4028679397608
[test.py] Baseline throughput: 397.4028679397608
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.99s   678.80ms   2.91s    71.87%
        Req/Sec    61.65     41.04   171.00     64.71%
        Latency Distribution
        50%    2.13s
        75%    2.51s
        90%    2.62s
        99%    2.89s
        647 requests in 3.03s, 100.46KB read
        Requests/sec:    213.63
        Transfer/sec:     33.17KB
        [run.sh] Speed is 213.63, duration is 140
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d140s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-fplbp        565m         86Mi
        service1-7585bd9d88-7vnwt        357m         53Mi
        service2-958786d58-rlszx         350m         35Mi
        service3-6ddd8b8f64-4jmq5        179m         31Mi
        service4-9bb5bd9fd-dh82h         433m         63Mi
        service5-6c596999df-n6lhc        63m          16Mi
        service6-7dcff5bc4-6zpzs         219m         15Mi
        ubuntu-client-76886f6bbd-96v6g   11m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.12s   547.40ms   5.19s    74.92%
        Req/Sec    61.78     51.28   300.00     71.51%
        Latency Distribution
        50%    1.05s
        75%    1.38s
        90%    1.77s
        99%    3.02s
        20000 requests in 2.33m, 3.03MB read
        Requests/sec:    142.86
        Transfer/sec:     22.18KB
        ------------------------------
        stop time: 44.118680
        stop time: 42.830546
        stop time: 43.437966
        stop time: 45.019085
        stop time: 45.038223
        stop time: 45.172259
        stop time: 45.036844
        stop time: 45.007332
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [44.11868, 42.830546, 43.437966, 45.019085, 45.038223, 45.172259, 45.036844, 45.007332]
    [exp] Throughput: 449.86666865732667
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '748.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '748.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.60s   135.10ms   2.87s    54.55%
        Req/Sec    10.52      9.24    30.00     44.44%
        Latency Distribution
        50%    2.62s
        75%    2.67s
        90%    2.83s
        99%    2.87s
        55 requests in 3.03s, 8.54KB read
        Requests/sec:     18.16
        Transfer/sec:      2.82KB
        [run.sh] Speed is 18.16, duration is 600
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d600s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-64944b98c9-hvkm6        982m         107Mi
        service1-5b88df8465-jkcp9        657m         51Mi
        service2-746995ccd7-mkj5h        684m         51Mi
        service3-f57d6f457-hc4cd         617m         45Mi
        service4-7699cf47dc-mqzk4        794m         105Mi
        service5-6c596999df-kl2wk        1146m        34Mi
        service6-5945dcff-d74cc          418m         27Mi
        ubuntu-client-76886f6bbd-4kgx6   11m          24Mi
        Running 10m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.45s     1.02s   10.99s    73.24%
        Req/Sec    34.88     35.41   240.00     87.72%
        Latency Distribution
        50%    2.27s
        75%    2.97s
        90%    3.77s
        99%    5.71s
        20000 requests in 10.00m, 3.03MB read
        Requests/sec:     33.33
        Transfer/sec:      5.18KB
        ------------------------------
        stop time: 94.527059
        stop time: 94.271573
        stop time: 95.791014
        stop time: 97.042136
        stop time: 97.880134
        stop time: 97.541798
        stop time: 97.562380
        stop time: 97.892342
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [94.527059, 94.271573, 95.791014, 97.042136, 97.880134, 97.541798, 97.56238, 97.892342]
    [exp] Throughput: 207.11747929701573
[test.py] Finished running 0th optmization experiment: groundtruth->449.86666865732667, slowdown->207.11747929701573, predicted->387.06015705411005, err->-13.961139150555233
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.000149', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.08s   843.83ms   2.99s    72.44%
        Req/Sec    65.63     47.85   210.00     68.48%
        Latency Distribution
        50%    2.37s
        75%    2.74s
        90%    2.89s
        99%    2.97s
        635 requests in 3.02s, 98.60KB read
        Requests/sec:    210.17
        Transfer/sec:     32.63KB
        [run.sh] Speed is 210.17, duration is 142
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d142s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-n2rb7        1887m        117Mi
        service1-7585bd9d88-mndpx        1235m        56Mi
        service2-958786d58-5mqdd         1240m        64Mi
        service3-6ddd8b8f64-gb5tl        1225m        65Mi
        service4-9bb5bd9fd-vmp9s         1568m        125Mi
        service5-6c596999df-2kjrt        382m         39Mi
        service6-7dcff5bc4-cpq7b         793m         41Mi
        ubuntu-client-76886f6bbd-c8pcj   16m          23Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.13s   531.75ms   3.92s    71.93%
        Req/Sec    60.45     47.25   292.00     70.50%
        Latency Distribution
        50%    1.05s
        75%    1.40s
        90%    1.82s
        99%    2.76s
        20000 requests in 2.37m, 3.03MB read
        Requests/sec:    140.84
        Transfer/sec:     21.87KB
        ------------------------------
        stop time: 44.168287
        stop time: 45.205587
        stop time: 45.240054
        stop time: 45.424820
        stop time: 45.422017
        stop time: 45.545194
        stop time: 45.628348
        stop time: 44.894721
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [44.168287, 45.205587, 45.240054, 45.42482, 45.422017, 45.545194, 45.628348, 44.894721]
    [exp] Throughput: 442.56473922752343
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2021.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2021.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '2021.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2021.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '673.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '673.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.56s   719.66ms   2.95s    61.28%
        Req/Sec    17.11     16.15    80.00     85.86%
        Latency Distribution
        50%    1.50s
        75%    2.12s
        90%    2.72s
        99%    2.84s
        235 requests in 3.03s, 36.49KB read
        Requests/sec:     77.57
        Transfer/sec:     12.05KB
        [run.sh] Speed is 77.57, duration is 386
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d386s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8bc994c9-tpjf9          374m         73Mi
        service1-6f666c7b65-tfh6j        67m          28Mi
        service2-7f854fdfbc-sltws        231m         31Mi
        service3-77dd956bbf-qmj94        224m         24Mi
        service4-797cdd857c-7w4g5        194m         30Mi
        service5-6c596999df-gqcdt        368m         13Mi
        service6-5b8c46646f-7lrcg        133m         9Mi
        ubuntu-client-76886f6bbd-fx2vf   5m           0Mi
        Running 6m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.36s   900.64ms   8.48s    72.93%
        Req/Sec    34.90     33.95   282.00     85.31%
        Latency Distribution
        50%    2.23s
        75%    2.83s
        90%    3.50s
        99%    5.10s
        20000 requests in 6.43m, 3.03MB read
        Requests/sec:     51.81
        Transfer/sec:      8.05KB
        ------------------------------
        stop time: 93.031628
        stop time: 91.907947
        stop time: 92.290294
        stop time: 93.217842
        stop time: 94.206514
        stop time: 92.613721
        stop time: 93.158339
        stop time: 93.153267
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [93.031628, 91.907947, 92.290294, 93.217842, 94.206514, 92.613721, 93.158339, 93.153267]
    [exp] Throughput: 215.17536297178867
[test.py] Finished running 1th optmization experiment: groundtruth->442.56473922752343, slowdown->215.17536297178867, predicted->380.76784272399493, err->-13.963357453960784
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.000298', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.39s   768.03ms   2.96s    59.38%
        Req/Sec    63.55     43.59   212.00     71.85%
        Latency Distribution
        50%    1.33s
        75%    2.06s
        90%    2.44s
        99%    2.89s
        997 requests in 3.02s, 154.81KB read
        Requests/sec:    330.33
        Transfer/sec:     51.29KB
        [run.sh] Speed is 330.33, duration is 90
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d90s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-bzwfx        1917m        96Mi
        service1-7585bd9d88-rr6zf        1331m        46Mi
        service2-958786d58-pg6ht         1314m        43Mi
        service3-6ddd8b8f64-mxm6m        1306m        42Mi
        service4-9bb5bd9fd-9mwpb         1696m        105Mi
        service5-6c596999df-48gwq        634m         21Mi
        service6-7dcff5bc4-9b2kj         825m         27Mi
        ubuntu-client-76886f6bbd-cj729   18m          24Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.10s   687.06ms   4.95s    73.25%
        Req/Sec    61.19     47.11   500.00     74.71%
        Latency Distribution
        50%  977.87ms
        75%    1.38s
        90%    2.06s
        99%    3.39s
        20000 requests in 1.50m, 3.03MB read
        Requests/sec:    222.22
        Transfer/sec:     34.51KB
        ------------------------------
        stop time: 42.459499
        stop time: 43.558137
        stop time: 42.925024
        stop time: 43.455125
        stop time: 44.027692
        stop time: 43.543949
        stop time: 44.272452
        stop time: 44.132533
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [42.459499, 43.558137, 42.925024, 43.455125, 44.027692, 43.543949, 44.272452, 44.132533]
    [exp] Throughput: 459.27598281608573
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '1797.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '1797.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '1797.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '1797.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '599.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '599.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.84s    37.92ms   3.00s    94.52%
        Req/Sec    14.18     26.90    90.00     90.91%
        Latency Distribution
        50%    2.83s
        75%    2.86s
        90%    2.86s
        99%    3.00s
        73 requests in 3.03s, 11.33KB read
        Requests/sec:     24.07
        Transfer/sec:      3.74KB
        [run.sh] Speed is 24.07, duration is 600
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d600s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-8465958d7-h9pp6    72m          71Mi
        service1-5cdfcccfb9-bqt4w   4m           19Mi
        service2-6d9c7dc659-c8shs   4m           20Mi
        service3-6c5f4c79fc-z4scx   4m           24Mi
        service4-56bff9c6d7-mxxjn   4m           20Mi
        service5-6c596999df-7ljll   29m          10Mi
        service6-665f8b584c-hlx87   4m           7Mi
