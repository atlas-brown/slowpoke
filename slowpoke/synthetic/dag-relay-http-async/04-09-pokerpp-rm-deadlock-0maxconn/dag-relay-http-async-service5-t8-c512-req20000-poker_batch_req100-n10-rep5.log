[config.py] Random numbers for execution time: [459.27147297187145, 748.2010667037661, 765.1713140220329, 816.753817210439, 834.3520644198811, 838.5661220127218, 1192.623441714668]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service5
request_type                     : dag-relay-http-async
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 2217
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 3, 'service5': 3, 'service6': 3}
baseline_service_processing_time : {'service0': 3577.87, 'service1': 2515.7, 'service2': 2503.06, 'service3': 2450.26, 'service4': 765.17, 'service5': 1496.4, 'service6': 459.27}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2}
target_processing_time_range     : [0, 1496.4]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 149, 298, 447, 596, 745, 894, 1043, 1192, 1341]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.23s   719.57ms   2.97s    84.30%
        Req/Sec    35.00     29.54   131.00     74.16%
        Latency Distribution
        50%    2.50s
        75%    2.71s
        90%    2.87s
        99%    2.96s
        363 requests in 3.03s, 56.36KB read
        Requests/sec:    119.94
        Transfer/sec:     18.62KB
        [run.sh] Speed is 119.94, duration is 250
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d250s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-22vww        1790m        107Mi
        service1-7585bd9d88-47krn        859m         49Mi
        service2-958786d58-wplsh         1229m        53Mi
        service3-6ddd8b8f64-j8xrt        1149m        49Mi
        service4-9bb5bd9fd-lt7kj         1296m        132Mi
        service5-6c596999df-c68vc        1949m        82Mi
        service6-7dcff5bc4-pxcpw         482m         15Mi
        ubuntu-client-76886f6bbd-7s6mg   20m          22Mi
        Running 4m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.27s     1.24s    9.91s    86.25%
        Req/Sec    50.74     31.64   270.00     79.04%
        Latency Distribution
        50%  937.86ms
        75%    1.86s
        90%    2.85s
        99%    5.65s
        20000 requests in 4.17m, 3.03MB read
        Requests/sec:     80.00
        Transfer/sec:     12.42KB
        ------------------------------
        stop time: 50.831412
        stop time: 51.114026
        stop time: 48.855802
        stop time: 49.886983
        stop time: 50.961226
        stop time: 50.703269
        stop time: 50.356500
        stop time: 49.904887
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.831412, 51.114026, 48.855802, 49.886983, 50.961226, 50.703269, 50.3565, 49.904887]
    [exp] Throughput: 397.4028679397608
[test.py] Baseline throughput: 397.4028679397608
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.99s   678.80ms   2.91s    71.87%
        Req/Sec    61.65     41.04   171.00     64.71%
        Latency Distribution
        50%    2.13s
        75%    2.51s
        90%    2.62s
        99%    2.89s
        647 requests in 3.03s, 100.46KB read
        Requests/sec:    213.63
        Transfer/sec:     33.17KB
        [run.sh] Speed is 213.63, duration is 140
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d140s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-fplbp        565m         86Mi
        service1-7585bd9d88-7vnwt        357m         53Mi
        service2-958786d58-rlszx         350m         35Mi
        service3-6ddd8b8f64-4jmq5        179m         31Mi
        service4-9bb5bd9fd-dh82h         433m         63Mi
        service5-6c596999df-n6lhc        63m          16Mi
        service6-7dcff5bc4-6zpzs         219m         15Mi
        ubuntu-client-76886f6bbd-96v6g   11m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.12s   547.40ms   5.19s    74.92%
        Req/Sec    61.78     51.28   300.00     71.51%
        Latency Distribution
        50%    1.05s
        75%    1.38s
        90%    1.77s
        99%    3.02s
        20000 requests in 2.33m, 3.03MB read
        Requests/sec:    142.86
        Transfer/sec:     22.18KB
        ------------------------------
        stop time: 44.118680
        stop time: 42.830546
        stop time: 43.437966
        stop time: 45.019085
        stop time: 45.038223
        stop time: 45.172259
        stop time: 45.036844
        stop time: 45.007332
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [44.11868, 42.830546, 43.437966, 45.019085, 45.038223, 45.172259, 45.036844, 45.007332]
    [exp] Throughput: 449.86666865732667
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00357787', 'PROCESSING_TIME_SERVICE1': '0.0025157', 'PROCESSING_TIME_SERVICE2': '0.00250306', 'PROCESSING_TIME_SERVICE3': '0.00245026', 'PROCESSING_TIME_SERVICE4': '0.00076517', 'PROCESSING_TIME_SERVICE5': '0.0014964', 'PROCESSING_TIME_SERVICE6': '0.00045927', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '2244.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '748.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '748.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-async 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.60s   135.10ms   2.87s    54.55%
        Req/Sec    10.52      9.24    30.00     44.44%
        Latency Distribution
        50%    2.62s
        75%    2.67s
        90%    2.83s
        99%    2.87s
        55 requests in 3.03s, 8.54KB read
        Requests/sec:     18.16
        Transfer/sec:      2.82KB
        [run.sh] Speed is 18.16, duration is 600
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d600s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
