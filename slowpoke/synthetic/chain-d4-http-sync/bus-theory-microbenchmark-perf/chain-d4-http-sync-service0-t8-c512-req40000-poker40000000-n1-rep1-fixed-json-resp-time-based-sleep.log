[config.py] Random numbers for execution time: [395.60913465643097, 538.4926419819171, 620.7982495129224, 698.1320409217916, 823.4080191969051, 972.8167577794558]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d4-http-sync
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 31122
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1}
baseline_service_processing_time : {'service0': 972.82, 'service1': 823.41, 'service2': 698.13, 'service3': 620.8, 'service4': 538.49, 'service5': 395.61}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2}
target_processing_time_range     : [0, 972.82]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d4-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.00097282', 'PROCESSING_TIME_SERVICE1': '0.00082341', 'PROCESSING_TIME_SERVICE2': '0.00069813', 'PROCESSING_TIME_SERVICE3': '0.0006208', 'PROCESSING_TIME_SERVICE4': '0.00053849', 'PROCESSING_TIME_SERVICE5': '0.00039561', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '10'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d4-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5f7bfff576-v7zzl cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   357.27ms  151.10ms   1.14s    83.68%
        Req/Sec   180.82     65.90   410.00     70.18%
        Latency Distribution
        50%  322.82ms
        75%  366.79ms
        90%  510.65ms
        99%    1.03s
        4160 requests in 3.03s, 3.44MB read
        Requests/sec:   1374.50
        Transfer/sec:      1.14MB
        [run.sh] Speed is 1374.50, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-v7zzl        243m         45Mi
        service1-96558989f-7x6l9         541m         18Mi
        service2-b9b68cb9d-7x6j2         507m         16Mi
        service3-ddcb6f57c-6g27k         485m         15Mi
        service4-b87f5c5bd-xr7cq         461m         14Mi
        service5-75886d8875-257bm        281m         10Mi
        ubuntu-client-76886f6bbd-d7gzd   31m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   332.47ms   60.71ms   1.18s    85.01%
        Req/Sec   192.51     46.49   494.00     67.72%
        Latency Distribution
        50%  323.26ms
        75%  353.60ms
        90%  391.95ms
        99%  535.32ms
        40000 requests in 0.97m, 33.07MB read
        Requests/sec:    689.65
        Transfer/sec:    583.92KB
        ------------------------------
        stop time: 25.822489
        stop time: 26.056451
        stop time: 26.080478
        stop time: 26.097573
        stop time: 26.338441
        stop time: 26.299232
        stop time: 26.320331
        stop time: 26.240540
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [25.822489, 26.056451, 26.080478, 26.097573, 26.338441, 26.299232, 26.320331, 26.24054]
    [exp] Throughput: 1529.2307560705622
[test.py] Baseline throughput: 1529.2307560705622
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d4-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00082341', 'PROCESSING_TIME_SERVICE2': '0.00069813', 'PROCESSING_TIME_SERVICE3': '0.0006208', 'PROCESSING_TIME_SERVICE4': '0.00053849', 'PROCESSING_TIME_SERVICE5': '0.00039561', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '10'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d4-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   298.45ms   46.52ms 564.85ms   78.51%
        Req/Sec   207.64     59.66   343.00     72.41%
        Latency Distribution
        50%  291.62ms
        75%  317.25ms
        90%  352.17ms
        99%  465.22ms
        4831 requests in 3.03s, 4.00MB read
        Requests/sec:   1595.59
        Transfer/sec:      1.32MB
        [run.sh] Speed is 1595.59, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-d789x        299m         43Mi
        service1-96558989f-zh6k9         603m         20Mi
        service2-b9b68cb9d-bgc6z         552m         17Mi
        service3-ddcb6f57c-cs6qx         410m         13Mi
        service4-b87f5c5bd-r6cc7         502m         12Mi
        service5-75886d8875-4ln5w        303m         9Mi
        ubuntu-client-76886f6bbd-lx92t   26m          0Mi
        Running 50s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   300.23ms   42.64ms 564.17ms   75.67%
        Req/Sec   212.77     52.41   656.00     70.39%
        Latency Distribution
        50%  295.84ms
        75%  322.90ms
        90%  352.43ms
        99%  421.07ms
        40000 requests in 50.00s, 33.07MB read
        Requests/sec:    800.00
        Transfer/sec:    677.34KB
        ------------------------------
        stop time: 23.413977
        stop time: 23.633013
        stop time: 23.645067
        stop time: 23.555861
        stop time: 23.682192
        stop time: 23.651467
        stop time: 23.635885
        stop time: 23.716176
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [23.413977, 23.633013, 23.645067, 23.555861, 23.682192, 23.651467, 23.635885, 23.716176]
    [exp] Throughput: 1693.7163936895133
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d4-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'PROCESSING_TIME_SERVICE0': '0.00097282', 'PROCESSING_TIME_SERVICE1': '0.00082341', 'PROCESSING_TIME_SERVICE2': '0.00069813', 'PROCESSING_TIME_SERVICE3': '0.0006208', 'PROCESSING_TIME_SERVICE4': '0.00053849', 'PROCESSING_TIME_SERVICE5': '0.00039561', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '10', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '486.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '48600000', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '486.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '48600000', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '486.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '48600000', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '486.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '48600000', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '486.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '48600000'}
    [exp] Executing cmd `bash run.sh synthetic chain-d4-http-sync 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d4-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5f7bfff576-vzmkp cannot connect to service5
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   552.53ms   95.68ms 996.51ms   79.08%
        Req/Sec   111.33     48.88   270.00     68.30%
        Latency Distribution
        50%  544.39ms
        75%  591.17ms
        90%  653.48ms
        99%  886.08ms
        2500 requests in 3.03s, 2.07MB read
        Requests/sec:    825.68
        Transfer/sec:    699.08KB
        [run.sh] Speed is 825.68, duration is 96
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d96s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5f7bfff576-vzmkp        133m         48Mi
        service1-7fc8ccc948-9htj5        453m         19Mi
        service2-5d45f97897-jhrwx        380m         19Mi
        service3-7dbd9575bb-xl7d6        308m         16Mi
        service4-5747574767-bv98j        370m         16Mi
        service5-85d6c9675b-mxs6w        272m         11Mi
        ubuntu-client-76886f6bbd-9kvd6   1m           12Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   548.64ms   68.78ms   1.18s    79.63%
        Req/Sec   116.51     36.39   247.00     66.39%
        Latency Distribution
        50%  541.28ms
        75%  580.90ms
        90%  626.48ms
        99%  728.24ms
        40000 requests in 1.60m, 33.07MB read
        Requests/sec:    416.67
        Transfer/sec:    352.78KB
        ------------------------------
        stop time: 42.578409
        stop time: 42.923138
        stop time: 43.014022
        stop time: 43.007456
        stop time: 43.303789
        stop time: 43.396845
        stop time: 43.394017
        stop time: 43.390489
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [42.578409, 42.923138, 43.014022, 43.007456, 43.303789, 43.396845, 43.394017, 43.390489]
    [exp] Throughput: 927.5142807127477
[test.py] Baseline throughput:  1529.2307560705622
[test.py] Groundtruth:  [1693.7163936895133]
[test.py] Slowdown:  [927.5142807127477]
[test.py] Predicted:  [1689.92991622991]
[test.py] Error percentage:  [-0.22356030051494988]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1529.2307560705622
    Groundtruth: [1693.7163936895133]
    Slowdown:    [927.5142807127477]
    Predicted:   [1689.92991622991]
    Error Perc:  [-0.22356030051494988]
