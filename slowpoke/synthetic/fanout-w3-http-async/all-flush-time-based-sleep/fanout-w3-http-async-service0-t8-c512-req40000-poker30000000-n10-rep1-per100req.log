[config.py] Random numbers for execution time: [266.13634741120245, 341.46867326669883, 1140.7815626331162, 1275.9127585791719]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : fanout-w3-http-async
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 24479
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1}
baseline_service_processing_time : {'service0': 1275.91, 'service1': 1140.78, 'service2': 341.47, 'service3': 266.14}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2}
target_processing_time_range     : [0, 1275.91]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 127, 254, 381, 508, 635, 762, 889, 1016, 1143]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        configmap "config-service1" deleted
        configmap "config-service2" deleted
        configmap "config-service3" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   572.31ms  290.79ms   1.75s    65.80%
        Req/Sec   115.39     71.71   320.00     60.41%
        Latency Distribution
        50%  541.51ms
        75%  763.86ms
        90%  939.52ms
        99%    1.39s
        2304 requests in 3.03s, 357.75KB read
        Requests/sec:    759.45
        Transfer/sec:    117.92KB
        [run.sh] Speed is 759.45, duration is 79
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d79s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-xz5hd         1937m        114Mi
        service1-7585bd9d88-qd5mb        1329m        32Mi
        service2-958786d58-2x5jt         505m         26Mi
        service3-6ddd8b8f64-h9l6b        364m         28Mi
        ubuntu-client-76886f6bbd-9mwxq   37m          20Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.03ms  415.37ms   4.23s    81.02%
        Req/Sec   136.39     76.50   490.00     70.41%
        Latency Distribution
        50%  386.94ms
        75%  636.87ms
        90%    1.02s
        99%    1.96s
        40000 requests in 1.32m, 6.07MB read
        Requests/sec:    506.33
        Transfer/sec:     78.62KB
        ------------------------------
        stop time: 37.243817
        stop time: 37.274260
        stop time: 37.052342
        stop time: 37.748569
        stop time: 38.225683
        stop time: 38.072597
        stop time: 37.922850
        stop time: 38.089308
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.243817, 37.27426, 37.052342, 37.748569, 38.225683, 38.072597, 37.92285, 38.089308]
    [exp] Throughput: 1060.9044490241479
[test.py] Baseline throughput: 1060.9044490241479
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-6nnpd cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   324.97ms  186.92ms   1.13s    68.11%
        Req/Sec   193.10     54.37   340.00     75.66%
        Latency Distribution
        50%  302.28ms
        75%  438.04ms
        90%  578.41ms
        99%  843.68ms
        4431 requests in 3.02s, 688.02KB read
        Requests/sec:   1466.85
        Transfer/sec:    227.76KB
        [run.sh] Speed is 1466.85, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-6nnpd         120m         54Mi
        service1-7585bd9d88-vmpdn        625m         40Mi
        service2-958786d58-qq9rh         247m         16Mi
        service3-6ddd8b8f64-4kdkr        119m         19Mi
        ubuntu-client-76886f6bbd-gl5x6   21m          0Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   387.44ms  457.50ms   3.67s    87.61%
        Req/Sec   197.93     50.32   474.00     72.08%
        Latency Distribution
        50%  232.38ms
        75%  460.47ms
        90%  983.34ms
        99%    2.15s
        40000 requests in 40.00s, 6.07MB read
        Requests/sec:   1000.00
        Transfer/sec:    155.27KB
        ------------------------------
        stop time: 25.577455
        stop time: 25.467667
        stop time: 25.532391
        stop time: 25.026099
        stop time: 25.221094
        stop time: 25.433897
        stop time: 25.583001
        stop time: 25.036904
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [25.577455, 25.467667, 25.532391, 25.026099, 25.221094, 25.433897, 25.583001, 25.036904]
    [exp] Throughput: 1577.2986658596683
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   719.29ms  431.29ms   2.32s    70.98%
        Req/Sec    87.71     54.67   242.00     64.86%
        Latency Distribution
        50%  650.28ms
        75%  972.27ms
        90%    1.33s
        99%    2.03s
        1733 requests in 3.03s, 269.09KB read
        Requests/sec:    572.03
        Transfer/sec:     88.82KB
        [run.sh] Speed is 572.03, duration is 104
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d104s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-lrshj         1300m        90Mi
        service1-86c8565cff-tfjw5        971m         44Mi
        service2-557c654c5c-f82z6        357m         20Mi
        service3-5f9866cbb7-n6l9d        295m         20Mi
        ubuntu-client-76886f6bbd-hdjxb   28m          21Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   648.49ms  510.29ms   4.31s    71.38%
        Req/Sec   104.76     58.82   620.00     65.65%
        Latency Distribution
        50%  569.89ms
        75%  911.33ms
        90%    1.29s
        99%    2.44s
        40000 requests in 1.73m, 6.07MB read
        Requests/sec:    384.61
        Transfer/sec:     59.72KB
        ------------------------------
        stop time: 50.699271
        stop time: 50.760910
        stop time: 50.110979
        stop time: 50.715685
        stop time: 50.292693
        stop time: 49.310937
        stop time: 50.932335
        stop time: 51.114452
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.699271, 50.76091, 50.110979, 50.715685, 50.292693, 49.310937, 50.932335, 51.114452]
    [exp] Throughput: 792.2022306523431
[test.py] Finished running 0th optmization experiment: groundtruth->1577.2986658596683, slowdown->792.2022306523431, predicted->1601.668441999346, err->1.5450324448474406
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000127', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-85sht cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   364.31ms  438.34ms   2.56s    87.58%
        Req/Sec   189.18     68.28   410.00     71.43%
        Latency Distribution
        50%  196.32ms
        75%  488.78ms
        90%  950.11ms
        99%    2.03s
        4291 requests in 3.02s, 666.28KB read
        Requests/sec:   1418.63
        Transfer/sec:    220.28KB
        [run.sh] Speed is 1418.63, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-85sht         1213m        72Mi
        service1-7585bd9d88-97pbj        1276m        50Mi
        service2-958786d58-6gk9r         784m         14Mi
        service3-6ddd8b8f64-p25rz        671m         16Mi
        ubuntu-client-76886f6bbd-m8lk4   36m          21Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   381.39ms  452.62ms   4.60s    87.88%
        Req/Sec   199.55     54.61   767.00     71.73%
        Latency Distribution
        50%  222.86ms
        75%  474.64ms
        90%  952.55ms
        99%    2.17s
        40000 requests in 42.00s, 6.07MB read
        Requests/sec:    952.38
        Transfer/sec:    147.88KB
        ------------------------------
        stop time: 24.801116
        stop time: 24.466693
        stop time: 24.401578
        stop time: 25.441001
        stop time: 25.442554
        stop time: 25.617441
        stop time: 25.463497
        stop time: 25.421859
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [24.801116, 24.466693, 24.401578, 25.441001, 25.442554, 25.617441, 25.463497, 25.421859]
    [exp] Throughput: 1591.5984372870846
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-l5wrc cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   626.17ms  441.29ms   1.80s    60.75%
        Req/Sec    98.94     71.28   282.00     60.39%
        Latency Distribution
        50%  552.62ms
        75%  925.57ms
        90%    1.25s
        99%    1.70s
        2097 requests in 3.02s, 325.61KB read
        Requests/sec:    694.38
        Transfer/sec:    107.82KB
        [run.sh] Speed is 694.38, duration is 86
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d86s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-l5wrc         4m           98Mi
        service1-5db664fd44-tvcz9        3m           29Mi
        service3-85d8dcf9d4-jxg8k        2m           18Mi
        ubuntu-client-76886f6bbd-kcvw9   5m           10Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   627.07ms  531.55ms   4.34s    75.45%
        Req/Sec   108.06     58.92   343.00     65.69%
        Latency Distribution
        50%  529.23ms
        75%  881.65ms
        90%    1.27s
        99%    2.51s
        40000 requests in 1.43m, 6.07MB read
        Requests/sec:    465.12
        Transfer/sec:     72.22KB
        ------------------------------
        stop time: 48.252634
        stop time: 48.875214
        stop time: 48.726560
        stop time: 48.197838
        stop time: 48.033026
        stop time: 47.783795
        stop time: 48.723503
        stop time: 48.310754
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [48.252634, 48.875214, 48.72656, 48.197838, 48.033026, 47.783795, 48.723503, 48.310754]
    [exp] Throughput: 827.0799968624721
[test.py] Finished running 1th optmization experiment: groundtruth->1591.5984372870846, slowdown->827.0799968624721, predicted->1575.7513610897079, err->-0.9956705049540282
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000254', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   434.50ms  569.88ms   2.94s    85.56%
        Req/Sec   186.31     61.67   373.00     72.69%
        Latency Distribution
        50%  137.16ms
        75%  642.79ms
        90%    1.28s
        99%    2.47s
        4100 requests in 3.02s, 636.62KB read
        Requests/sec:   1358.18
        Transfer/sec:    210.89KB
        [run.sh] Speed is 1358.18, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-4qt2j         1375m        91Mi
        service1-7585bd9d88-txb7z        1938m        48Mi
        service2-958786d58-f7fdw         786m         16Mi
        service3-6ddd8b8f64-dvk76        678m         17Mi
        ubuntu-client-76886f6bbd-72bqd   51m          20Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   359.71ms  384.86ms   3.85s    88.91%
        Req/Sec   196.37     52.61   505.00     68.93%
        Latency Distribution
        50%  249.40ms
        75%  477.89ms
        90%  787.49ms
        99%    1.94s
        40000 requests in 44.00s, 6.07MB read
        Requests/sec:    909.09
        Transfer/sec:    141.16KB
        ------------------------------
        stop time: 25.676034
        stop time: 25.881893
        stop time: 25.422603
        stop time: 25.672048
        stop time: 25.793805
        stop time: 25.502987
        stop time: 25.212844
        stop time: 25.548572
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.676034, 25.881893, 25.422603, 25.672048, 25.793805, 25.502987, 25.212844, 25.548572]
    [exp] Throughput: 1563.180945433916
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-4llz6 cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   592.01ms  305.71ms   1.56s    62.66%
        Req/Sec   110.21     67.65   292.00     61.70%
        Latency Distribution
        50%  564.24ms
        75%  833.80ms
        90%  983.34ms
        99%    1.35s
        2164 requests in 3.03s, 336.01KB read
        Requests/sec:    714.94
        Transfer/sec:    111.01KB
        [run.sh] Speed is 714.94, duration is 83
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d83s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   598.65ms  524.64ms   3.81s    79.81%
        Req/Sec   116.05     61.87   410.00     64.86%
        Latency Distribution
        50%  477.20ms
        75%  822.55ms
        90%    1.24s
        99%    2.59s
        40000 requests in 1.38m, 6.07MB read
        Requests/sec:    481.93
        Transfer/sec:     74.83KB
        ------------------------------
        stop time: 45.207022
        stop time: 45.206897
        stop time: 45.590320
        stop time: 45.662517
        stop time: 45.172483
        stop time: 45.960463
        stop time: 45.936447
        stop time: 45.767867
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [45.207022, 45.206897, 45.59032, 45.662517, 45.172483, 45.960463, 45.936447, 45.767867]
    [exp] Throughput: 877.9052793755776
[test.py] Finished running 2th optmization experiment: groundtruth->1563.180945433916, slowdown->877.9052793755776, predicted->1592.052347318001, err->1.8469648039415452
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000381', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   288.76ms  221.46ms   1.48s    74.50%
        Req/Sec   199.17     71.61   393.00     78.70%
        Latency Distribution
        50%  237.39ms
        75%  413.02ms
        90%  547.99ms
        99%    1.10s
        4298 requests in 3.03s, 667.37KB read
        Requests/sec:   1420.60
        Transfer/sec:    220.58KB
        [run.sh] Speed is 1420.60, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-5bjxg         1494m        89Mi
        service1-7585bd9d88-l6k6k        1323m        49Mi
        service2-958786d58-lppx7         773m         17Mi
        service3-6ddd8b8f64-rtlhc        684m         18Mi
        ubuntu-client-76886f6bbd-l9hqw   51m          20Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.07ms  412.65ms   3.75s    87.38%
        Req/Sec   197.79     58.07   550.00     75.01%
        Latency Distribution
        50%  238.63ms
        75%  512.05ms
        90%  897.75ms
        99%    1.89s
        40000 requests in 42.00s, 6.07MB read
        Requests/sec:    952.38
        Transfer/sec:    147.88KB
        ------------------------------
        stop time: 24.953690
        stop time: 25.455441
        stop time: 25.195844
        stop time: 25.762286
        stop time: 25.224498
        stop time: 25.655996
        stop time: 25.362761
        stop time: 25.787077
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.95369, 25.455441, 25.195844, 25.762286, 25.224498, 25.655996, 25.362761, 25.787077]
    [exp] Throughput: 1573.2732884405373
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-2jfsd cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.23ms  362.09ms   2.33s    69.80%
        Req/Sec   116.51     62.74   250.00     61.08%
        Latency Distribution
        50%  578.50ms
        75%  807.33ms
        90%    1.08s
        99%    1.78s
        2201 requests in 3.02s, 341.76KB read
        Requests/sec:    729.05
        Transfer/sec:    113.20KB
        [run.sh] Speed is 729.05, duration is 82
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d82s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-2jfsd         1667m        90Mi
        service1-6f997f76df-vr5wr        1199m        47Mi
        service2-7d955d9cf-28wn2         424m         18Mi
        service3-85bf88cd77-9fsmr        372m         17Mi
        ubuntu-client-76886f6bbd-6rh2p   32m          22Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   550.71ms  407.42ms   3.12s    68.59%
        Req/Sec   119.76     58.59   360.00     64.65%
        Latency Distribution
        50%  498.28ms
        75%  772.29ms
        90%    1.05s
        99%    1.92s
        40000 requests in 1.37m, 6.07MB read
        Requests/sec:    487.80
        Transfer/sec:     75.74KB
        ------------------------------
        stop time: 42.637169
        stop time: 43.145016
        stop time: 43.424623
        stop time: 43.303988
        stop time: 42.698577
        stop time: 42.829078
        stop time: 42.897417
        stop time: 43.428813
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [42.637169, 43.145016, 43.424623, 43.303988, 42.698577, 42.829078, 42.897417, 43.428813]
    [exp] Throughput: 929.2474450944055
[test.py] Finished running 3th optmization experiment: groundtruth->1573.2732884405373, slowdown->929.2474450944055, predicted->1590.622635362371, err->1.102754813757172
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000508', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-zrpjs cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   414.12ms  496.50ms   2.80s    85.68%
        Req/Sec   186.36     60.22   350.00     74.41%
        Latency Distribution
        50%  186.63ms
        75%  588.39ms
        90%    1.15s
        99%    2.07s
        3995 requests in 3.02s, 620.32KB read
        Requests/sec:   1321.49
        Transfer/sec:    205.19KB
        [run.sh] Speed is 1321.49, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
