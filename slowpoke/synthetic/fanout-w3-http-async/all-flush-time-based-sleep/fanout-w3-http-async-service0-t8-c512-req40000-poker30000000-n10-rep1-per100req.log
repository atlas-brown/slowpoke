[config.py] Random numbers for execution time: [266.13634741120245, 341.46867326669883, 1140.7815626331162, 1275.9127585791719]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : fanout-w3-http-async
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 24479
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1}
baseline_service_processing_time : {'service0': 1275.91, 'service1': 1140.78, 'service2': 341.47, 'service3': 266.14}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2}
target_processing_time_range     : [0, 1275.91]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 127, 254, 381, 508, 635, 762, 889, 1016, 1143]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        configmap "config-service1" deleted
        configmap "config-service2" deleted
        configmap "config-service3" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   572.31ms  290.79ms   1.75s    65.80%
        Req/Sec   115.39     71.71   320.00     60.41%
        Latency Distribution
        50%  541.51ms
        75%  763.86ms
        90%  939.52ms
        99%    1.39s
        2304 requests in 3.03s, 357.75KB read
        Requests/sec:    759.45
        Transfer/sec:    117.92KB
        [run.sh] Speed is 759.45, duration is 79
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d79s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-xz5hd         1937m        114Mi
        service1-7585bd9d88-qd5mb        1329m        32Mi
        service2-958786d58-2x5jt         505m         26Mi
        service3-6ddd8b8f64-h9l6b        364m         28Mi
        ubuntu-client-76886f6bbd-9mwxq   37m          20Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.03ms  415.37ms   4.23s    81.02%
        Req/Sec   136.39     76.50   490.00     70.41%
        Latency Distribution
        50%  386.94ms
        75%  636.87ms
        90%    1.02s
        99%    1.96s
        40000 requests in 1.32m, 6.07MB read
        Requests/sec:    506.33
        Transfer/sec:     78.62KB
        ------------------------------
        stop time: 37.243817
        stop time: 37.274260
        stop time: 37.052342
        stop time: 37.748569
        stop time: 38.225683
        stop time: 38.072597
        stop time: 37.922850
        stop time: 38.089308
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.243817, 37.27426, 37.052342, 37.748569, 38.225683, 38.072597, 37.92285, 38.089308]
    [exp] Throughput: 1060.9044490241479
[test.py] Baseline throughput: 1060.9044490241479
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-6nnpd cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   324.97ms  186.92ms   1.13s    68.11%
        Req/Sec   193.10     54.37   340.00     75.66%
        Latency Distribution
        50%  302.28ms
        75%  438.04ms
        90%  578.41ms
        99%  843.68ms
        4431 requests in 3.02s, 688.02KB read
        Requests/sec:   1466.85
        Transfer/sec:    227.76KB
        [run.sh] Speed is 1466.85, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d40s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-6nnpd         120m         54Mi
        service1-7585bd9d88-vmpdn        625m         40Mi
        service2-958786d58-qq9rh         247m         16Mi
        service3-6ddd8b8f64-4kdkr        119m         19Mi
        ubuntu-client-76886f6bbd-gl5x6   21m          0Mi
        Running 40s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   387.44ms  457.50ms   3.67s    87.61%
        Req/Sec   197.93     50.32   474.00     72.08%
        Latency Distribution
        50%  232.38ms
        75%  460.47ms
        90%  983.34ms
        99%    2.15s
        40000 requests in 40.00s, 6.07MB read
        Requests/sec:   1000.00
        Transfer/sec:    155.27KB
        ------------------------------
        stop time: 25.577455
        stop time: 25.467667
        stop time: 25.532391
        stop time: 25.026099
        stop time: 25.221094
        stop time: 25.433897
        stop time: 25.583001
        stop time: 25.036904
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [25.577455, 25.467667, 25.532391, 25.026099, 25.221094, 25.433897, 25.583001, 25.036904]
    [exp] Throughput: 1577.2986658596683
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '637.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   719.29ms  431.29ms   2.32s    70.98%
        Req/Sec    87.71     54.67   242.00     64.86%
        Latency Distribution
        50%  650.28ms
        75%  972.27ms
        90%    1.33s
        99%    2.03s
        1733 requests in 3.03s, 269.09KB read
        Requests/sec:    572.03
        Transfer/sec:     88.82KB
        [run.sh] Speed is 572.03, duration is 104
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d104s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-lrshj         1300m        90Mi
        service1-86c8565cff-tfjw5        971m         44Mi
        service2-557c654c5c-f82z6        357m         20Mi
        service3-5f9866cbb7-n6l9d        295m         20Mi
        ubuntu-client-76886f6bbd-hdjxb   28m          21Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   648.49ms  510.29ms   4.31s    71.38%
        Req/Sec   104.76     58.82   620.00     65.65%
        Latency Distribution
        50%  569.89ms
        75%  911.33ms
        90%    1.29s
        99%    2.44s
        40000 requests in 1.73m, 6.07MB read
        Requests/sec:    384.61
        Transfer/sec:     59.72KB
        ------------------------------
        stop time: 50.699271
        stop time: 50.760910
        stop time: 50.110979
        stop time: 50.715685
        stop time: 50.292693
        stop time: 49.310937
        stop time: 50.932335
        stop time: 51.114452
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.699271, 50.76091, 50.110979, 50.715685, 50.292693, 49.310937, 50.932335, 51.114452]
    [exp] Throughput: 792.2022306523431
[test.py] Finished running 0th optmization experiment: groundtruth->1577.2986658596683, slowdown->792.2022306523431, predicted->1601.668441999346, err->1.5450324448474406
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000127', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-85sht cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   364.31ms  438.34ms   2.56s    87.58%
        Req/Sec   189.18     68.28   410.00     71.43%
        Latency Distribution
        50%  196.32ms
        75%  488.78ms
        90%  950.11ms
        99%    2.03s
        4291 requests in 3.02s, 666.28KB read
        Requests/sec:   1418.63
        Transfer/sec:    220.28KB
        [run.sh] Speed is 1418.63, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-85sht         1213m        72Mi
        service1-7585bd9d88-97pbj        1276m        50Mi
        service2-958786d58-6gk9r         784m         14Mi
        service3-6ddd8b8f64-p25rz        671m         16Mi
        ubuntu-client-76886f6bbd-m8lk4   36m          21Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   381.39ms  452.62ms   4.60s    87.88%
        Req/Sec   199.55     54.61   767.00     71.73%
        Latency Distribution
        50%  222.86ms
        75%  474.64ms
        90%  952.55ms
        99%    2.17s
        40000 requests in 42.00s, 6.07MB read
        Requests/sec:    952.38
        Transfer/sec:    147.88KB
        ------------------------------
        stop time: 24.801116
        stop time: 24.466693
        stop time: 24.401578
        stop time: 25.441001
        stop time: 25.442554
        stop time: 25.617441
        stop time: 25.463497
        stop time: 25.421859
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [24.801116, 24.466693, 24.401578, 25.441001, 25.442554, 25.617441, 25.463497, 25.421859]
    [exp] Throughput: 1591.5984372870846
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '574.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-l5wrc cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   626.17ms  441.29ms   1.80s    60.75%
        Req/Sec    98.94     71.28   282.00     60.39%
        Latency Distribution
        50%  552.62ms
        75%  925.57ms
        90%    1.25s
        99%    1.70s
        2097 requests in 3.02s, 325.61KB read
        Requests/sec:    694.38
        Transfer/sec:    107.82KB
        [run.sh] Speed is 694.38, duration is 86
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d86s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-l5wrc         4m           98Mi
        service1-5db664fd44-tvcz9        3m           29Mi
        service3-85d8dcf9d4-jxg8k        2m           18Mi
        ubuntu-client-76886f6bbd-kcvw9   5m           10Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   627.07ms  531.55ms   4.34s    75.45%
        Req/Sec   108.06     58.92   343.00     65.69%
        Latency Distribution
        50%  529.23ms
        75%  881.65ms
        90%    1.27s
        99%    2.51s
        40000 requests in 1.43m, 6.07MB read
        Requests/sec:    465.12
        Transfer/sec:     72.22KB
        ------------------------------
        stop time: 48.252634
        stop time: 48.875214
        stop time: 48.726560
        stop time: 48.197838
        stop time: 48.033026
        stop time: 47.783795
        stop time: 48.723503
        stop time: 48.310754
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [48.252634, 48.875214, 48.72656, 48.197838, 48.033026, 47.783795, 48.723503, 48.310754]
    [exp] Throughput: 827.0799968624721
[test.py] Finished running 1th optmization experiment: groundtruth->1591.5984372870846, slowdown->827.0799968624721, predicted->1575.7513610897079, err->-0.9956705049540282
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000254', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   434.50ms  569.88ms   2.94s    85.56%
        Req/Sec   186.31     61.67   373.00     72.69%
        Latency Distribution
        50%  137.16ms
        75%  642.79ms
        90%    1.28s
        99%    2.47s
        4100 requests in 3.02s, 636.62KB read
        Requests/sec:   1358.18
        Transfer/sec:    210.89KB
        [run.sh] Speed is 1358.18, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d44s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-4qt2j         1375m        91Mi
        service1-7585bd9d88-txb7z        1938m        48Mi
        service2-958786d58-f7fdw         786m         16Mi
        service3-6ddd8b8f64-dvk76        678m         17Mi
        ubuntu-client-76886f6bbd-72bqd   51m          20Mi
        Running 44s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   359.71ms  384.86ms   3.85s    88.91%
        Req/Sec   196.37     52.61   505.00     68.93%
        Latency Distribution
        50%  249.40ms
        75%  477.89ms
        90%  787.49ms
        99%    1.94s
        40000 requests in 44.00s, 6.07MB read
        Requests/sec:    909.09
        Transfer/sec:    141.16KB
        ------------------------------
        stop time: 25.676034
        stop time: 25.881893
        stop time: 25.422603
        stop time: 25.672048
        stop time: 25.793805
        stop time: 25.502987
        stop time: 25.212844
        stop time: 25.548572
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [25.676034, 25.881893, 25.422603, 25.672048, 25.793805, 25.502987, 25.212844, 25.548572]
    [exp] Throughput: 1563.180945433916
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '510.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-4llz6 cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   592.01ms  305.71ms   1.56s    62.66%
        Req/Sec   110.21     67.65   292.00     61.70%
        Latency Distribution
        50%  564.24ms
        75%  833.80ms
        90%  983.34ms
        99%    1.35s
        2164 requests in 3.03s, 336.01KB read
        Requests/sec:    714.94
        Transfer/sec:    111.01KB
        [run.sh] Speed is 714.94, duration is 83
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d83s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   598.65ms  524.64ms   3.81s    79.81%
        Req/Sec   116.05     61.87   410.00     64.86%
        Latency Distribution
        50%  477.20ms
        75%  822.55ms
        90%    1.24s
        99%    2.59s
        40000 requests in 1.38m, 6.07MB read
        Requests/sec:    481.93
        Transfer/sec:     74.83KB
        ------------------------------
        stop time: 45.207022
        stop time: 45.206897
        stop time: 45.590320
        stop time: 45.662517
        stop time: 45.172483
        stop time: 45.960463
        stop time: 45.936447
        stop time: 45.767867
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [45.207022, 45.206897, 45.59032, 45.662517, 45.172483, 45.960463, 45.936447, 45.767867]
    [exp] Throughput: 877.9052793755776
[test.py] Finished running 2th optmization experiment: groundtruth->1563.180945433916, slowdown->877.9052793755776, predicted->1592.052347318001, err->1.8469648039415452
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000381', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   288.76ms  221.46ms   1.48s    74.50%
        Req/Sec   199.17     71.61   393.00     78.70%
        Latency Distribution
        50%  237.39ms
        75%  413.02ms
        90%  547.99ms
        99%    1.10s
        4298 requests in 3.03s, 667.37KB read
        Requests/sec:   1420.60
        Transfer/sec:    220.58KB
        [run.sh] Speed is 1420.60, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d42s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-5bjxg         1494m        89Mi
        service1-7585bd9d88-l6k6k        1323m        49Mi
        service2-958786d58-lppx7         773m         17Mi
        service3-6ddd8b8f64-rtlhc        684m         18Mi
        ubuntu-client-76886f6bbd-l9hqw   51m          20Mi
        Running 42s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   367.07ms  412.65ms   3.75s    87.38%
        Req/Sec   197.79     58.07   550.00     75.01%
        Latency Distribution
        50%  238.63ms
        75%  512.05ms
        90%  897.75ms
        99%    1.89s
        40000 requests in 42.00s, 6.07MB read
        Requests/sec:    952.38
        Transfer/sec:    147.88KB
        ------------------------------
        stop time: 24.953690
        stop time: 25.455441
        stop time: 25.195844
        stop time: 25.762286
        stop time: 25.224498
        stop time: 25.655996
        stop time: 25.362761
        stop time: 25.787077
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [24.95369, 25.455441, 25.195844, 25.762286, 25.224498, 25.655996, 25.362761, 25.787077]
    [exp] Throughput: 1573.2732884405373
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '447.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-2jfsd cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.23ms  362.09ms   2.33s    69.80%
        Req/Sec   116.51     62.74   250.00     61.08%
        Latency Distribution
        50%  578.50ms
        75%  807.33ms
        90%    1.08s
        99%    1.78s
        2201 requests in 3.02s, 341.76KB read
        Requests/sec:    729.05
        Transfer/sec:    113.20KB
        [run.sh] Speed is 729.05, duration is 82
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d82s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-2jfsd         1667m        90Mi
        service1-6f997f76df-vr5wr        1199m        47Mi
        service2-7d955d9cf-28wn2         424m         18Mi
        service3-85bf88cd77-9fsmr        372m         17Mi
        ubuntu-client-76886f6bbd-6rh2p   32m          22Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   550.71ms  407.42ms   3.12s    68.59%
        Req/Sec   119.76     58.59   360.00     64.65%
        Latency Distribution
        50%  498.28ms
        75%  772.29ms
        90%    1.05s
        99%    1.92s
        40000 requests in 1.37m, 6.07MB read
        Requests/sec:    487.80
        Transfer/sec:     75.74KB
        ------------------------------
        stop time: 42.637169
        stop time: 43.145016
        stop time: 43.424623
        stop time: 43.303988
        stop time: 42.698577
        stop time: 42.829078
        stop time: 42.897417
        stop time: 43.428813
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [42.637169, 43.145016, 43.424623, 43.303988, 42.698577, 42.829078, 42.897417, 43.428813]
    [exp] Throughput: 929.2474450944055
[test.py] Finished running 3th optmization experiment: groundtruth->1573.2732884405373, slowdown->929.2474450944055, predicted->1590.622635362371, err->1.102754813757172
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000508', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-zrpjs cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   414.12ms  496.50ms   2.80s    85.68%
        Req/Sec   186.36     60.22   350.00     74.41%
        Latency Distribution
        50%  186.63ms
        75%  588.39ms
        90%    1.15s
        99%    2.07s
        3995 requests in 3.02s, 620.32KB read
        Requests/sec:   1321.49
        Transfer/sec:    205.19KB
        [run.sh] Speed is 1321.49, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-zrpjs         1286m        90Mi
        service1-7585bd9d88-hx4fx        304m         49Mi
        service2-958786d58-b8f7j         353m         15Mi
        service3-6ddd8b8f64-cvp9l        481m         16Mi
        ubuntu-client-76886f6bbd-xshxm   52m          17Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   378.77ms  444.89ms   3.15s    87.92%
        Req/Sec   196.48     57.04   545.00     76.87%
        Latency Distribution
        50%  218.43ms
        75%  444.53ms
        90%  936.34ms
        99%    2.14s
        40000 requests in 45.00s, 6.07MB read
        Requests/sec:    888.89
        Transfer/sec:    138.02KB
        ------------------------------
        stop time: 26.009605
        stop time: 26.045818
        stop time: 25.798928
        stop time: 25.627091
        stop time: 25.864819
        stop time: 25.151438
        stop time: 25.005053
        stop time: 25.430877
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [26.009605, 26.045818, 25.798928, 25.627091, 25.864819, 25.151438, 25.005053, 25.430877]
    [exp] Throughput: 1561.4811564186957
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '383.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '383.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '383.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   633.86ms  581.93ms   3.00s    86.21%
        Req/Sec   113.79     52.12   290.00     67.50%
        Latency Distribution
        50%  491.49ms
        75%  789.56ms
        90%    1.37s
        99%    2.86s
        2334 requests in 3.03s, 362.41KB read
        Socket errors: connect 0, read 0, write 0, timeout 1
        Requests/sec:    770.14
        Transfer/sec:    119.58KB
        [run.sh] Speed is 770.14, duration is 77
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d77s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-c27mb         1732m        87Mi
        service1-5484f8b65f-fnzc9        1217m        47Mi
        service2-6674bb8dd9-xthwv        452m         17Mi
        service3-bf4ddb8f5-lcnnc         390m         16Mi
        ubuntu-client-76886f6bbd-95zxd   33m          21Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   538.64ms  468.97ms   4.15s    82.06%
        Req/Sec   124.47     54.18   430.00     64.51%
        Latency Distribution
        50%  458.95ms
        75%  730.06ms
        90%    1.03s
        99%    2.47s
        40000 requests in 1.28m, 6.07MB read
        Requests/sec:    519.48
        Transfer/sec:     80.66KB
        ------------------------------
        stop time: 40.349162
        stop time: 40.924603
        stop time: 40.754744
        stop time: 40.019506
        stop time: 40.584320
        stop time: 41.169002
        stop time: 40.617264
        stop time: 41.076515
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [40.349162, 40.924603, 40.754744, 40.019506, 40.58432, 41.169002, 40.617264, 41.076515]
    [exp] Throughput: 983.1176698823341
[test.py] Finished running 4th optmization experiment: groundtruth->1561.4811564186957, slowdown->983.1176698823341, predicted->1579.236857082559, err->1.1371063039010054
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000635', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-ckjkc cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   361.10ms  166.83ms   1.10s    69.84%
        Req/Sec   179.31     84.22   414.00     66.67%
        Latency Distribution
        50%  353.43ms
        75%  452.83ms
        90%  585.91ms
        99%  827.01ms
        3888 requests in 3.04s, 603.70KB read
        Requests/sec:   1280.73
        Transfer/sec:    198.86KB
        [run.sh] Speed is 1280.73, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-ckjkc         1353m        91Mi
        service1-7585bd9d88-d2wtt        241m         49Mi
        service2-958786d58-ktxz6         303m         17Mi
        service3-6ddd8b8f64-9r56d        428m         15Mi
        ubuntu-client-76886f6bbd-bwkhv   44m          17Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   351.66ms  363.68ms   2.75s    87.49%
        Req/Sec   196.47     57.27     1.08k    76.99%
        Latency Distribution
        50%  234.45ms
        75%  474.77ms
        90%  809.05ms
        99%    1.75s
        40000 requests in 46.00s, 6.07MB read
        Requests/sec:    869.56
        Transfer/sec:    135.02KB
        ------------------------------
        stop time: 25.491840
        stop time: 25.737474
        stop time: 25.198729
        stop time: 25.781263
        stop time: 25.354507
        stop time: 25.937101
        stop time: 25.709737
        stop time: 25.724513
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [25.49184, 25.737474, 25.198729, 25.781263, 25.354507, 25.937101, 25.709737, 25.724513]
    [exp] Throughput: 1561.4694606534192
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   548.40ms  415.86ms   2.52s    69.87%
        Req/Sec   119.06     59.78   262.00     62.20%
        Latency Distribution
        50%  468.62ms
        75%  758.02ms
        90%    1.10s
        99%    1.79s
        2519 requests in 3.02s, 391.13KB read
        Requests/sec:    833.14
        Transfer/sec:    129.36KB
        [run.sh] Speed is 833.14, duration is 72
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d72s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-8bs6v         1909m        88Mi
        service1-6869b67dcf-nxb6t        1314m        45Mi
        service2-8944d785c-g2r75         488m         15Mi
        service3-54685cc96c-fw5lz        423m         17Mi
        ubuntu-client-76886f6bbd-xzdw2   36m          19Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   480.44ms  330.46ms   2.56s    68.69%
        Req/Sec   134.01     57.87   480.00     70.46%
        Latency Distribution
        50%  435.58ms
        75%  657.89ms
        90%  912.12ms
        99%    1.56s
        40000 requests in 1.20m, 6.07MB read
        Requests/sec:    555.55
        Transfer/sec:     86.26KB
        ------------------------------
        stop time: 37.245511
        stop time: 37.932726
        stop time: 37.882660
        stop time: 38.039310
        stop time: 38.105954
        stop time: 38.233757
        stop time: 38.291968
        stop time: 38.316273
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [37.245511, 37.932726, 37.88266, 38.03931, 38.105954, 38.233757, 38.291968, 38.316273]
    [exp] Throughput: 1052.4648498200575
[test.py] Finished running 5th optmization experiment: groundtruth->1561.4694606534192, slowdown->1052.4648498200575, predicted->1588.0691619405188, err->1.7035044205071153
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000762', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-bs78v cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   366.93ms  185.76ms   1.16s    69.62%
        Req/Sec   182.91     92.71   450.00     64.56%
        Latency Distribution
        50%  334.56ms
        75%  483.74ms
        90%  632.69ms
        99%    1.03s
        3877 requests in 3.03s, 602.00KB read
        Requests/sec:   1279.02
        Transfer/sec:    198.60KB
        [run.sh] Speed is 1279.02, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-bs78v         5m           82Mi
        service1-7585bd9d88-gkdkb        691m         32Mi
        service2-958786d58-4jtpb         445m         18Mi
        service3-6ddd8b8f64-6zbsx        550m         16Mi
        ubuntu-client-76886f6bbd-nqz24   4m           16Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   339.16ms  233.04ms   2.03s    74.07%
        Req/Sec   190.57     77.07   545.00     68.74%
        Latency Distribution
        50%  283.23ms
        75%  454.93ms
        90%  645.42ms
        99%    1.12s
        40000 requests in 46.00s, 6.07MB read
        Requests/sec:    869.56
        Transfer/sec:    135.02KB
        ------------------------------
        stop time: 26.215880
        stop time: 25.934186
        stop time: 26.473455
        stop time: 26.206383
        stop time: 26.792005
        stop time: 26.524745
        stop time: 26.707920
        stop time: 26.644320
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [26.21588, 25.934186, 26.473455, 26.206383, 26.792005, 26.524745, 26.70792, 26.64432]
    [exp] Throughput: 1513.0102760726495
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '256.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '256.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '256.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-8cfffb9b9-zh9m5 cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   518.88ms  297.38ms   1.55s    66.55%
        Req/Sec   130.26     67.66   300.00     63.24%
        Latency Distribution
        50%  481.37ms
        75%  693.99ms
        90%  908.77ms
        99%    1.38s
        2677 requests in 3.02s, 415.67KB read
        Requests/sec:    885.96
        Transfer/sec:    137.57KB
        [run.sh] Speed is 885.96, duration is 67
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d67s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-zh9m5         1935m        94Mi
        service1-6dc9b6bfbb-nhww2        1344m        33Mi
        service2-67448d5f5b-75h92        500m         24Mi
        service3-86786fc9db-w997l        437m         20Mi
        ubuntu-client-76886f6bbd-nttqd   37m          19Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   478.25ms  323.88ms   2.47s    72.97%
        Req/Sec   136.19     72.80   410.00     66.45%
        Latency Distribution
        50%  398.80ms
        75%  636.63ms
        90%  931.97ms
        99%    1.54s
        40000 requests in 1.12m, 6.07MB read
        Requests/sec:    597.01
        Transfer/sec:     92.70KB
        ------------------------------
        stop time: 37.221050
        stop time: 37.430359
        stop time: 37.194313
        stop time: 37.404669
        stop time: 37.717229
        stop time: 37.641924
        stop time: 37.697613
        stop time: 37.527056
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [37.22105, 37.430359, 37.194313, 37.404669, 37.717229, 37.641924, 37.697613, 37.527056]
    [exp] Throughput: 1067.2564574877251
[test.py] Finished running 6th optmization experiment: groundtruth->1513.0102760726495, slowdown->1067.2564574877251, predicted->1470.5300290664509, err->-2.8076641433305687
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.000889', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   414.00ms  271.84ms   1.50s    69.55%
        Req/Sec   164.54     86.04   444.00     68.27%
        Latency Distribution
        50%  359.48ms
        75%  567.12ms
        90%  790.45ms
        99%    1.31s
        3463 requests in 3.03s, 537.71KB read
        Requests/sec:   1141.27
        Transfer/sec:    177.21KB
        [run.sh] Speed is 1141.27, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d52s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-kvtsp         1626m        83Mi
        service1-7585bd9d88-ntrh9        1689m        33Mi
        service2-958786d58-c6xtz         631m         19Mi
        service3-6ddd8b8f64-f7dc5        388m         23Mi
        ubuntu-client-76886f6bbd-q6jtl   39m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   392.96ms  305.05ms   2.67s    78.69%
        Req/Sec   167.48     74.13   390.00     65.36%
        Latency Distribution
        50%  315.95ms
        75%  522.29ms
        90%  777.57ms
        99%    1.48s
        40000 requests in 0.87m, 6.07MB read
        Requests/sec:    769.23
        Transfer/sec:    119.44KB
        ------------------------------
        stop time: 30.210945
        stop time: 30.137819
        stop time: 30.307369
        stop time: 30.392620
        stop time: 30.180671
        stop time: 30.198563
        stop time: 30.172234
        stop time: 30.104796
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.210945, 30.137819, 30.307369, 30.39262, 30.180671, 30.198563, 30.172234, 30.104796]
    [exp] Throughput: 1323.9278355566778
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00127591', 'PROCESSING_TIME_SERVICE1': '0.00114078', 'PROCESSING_TIME_SERVICE2': '0.00034147', 'PROCESSING_TIME_SERVICE3': '0.00026614', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '193.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '193.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '193.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
