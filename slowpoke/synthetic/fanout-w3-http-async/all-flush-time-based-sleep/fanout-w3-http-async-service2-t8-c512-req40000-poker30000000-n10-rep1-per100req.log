[config.py] Random numbers for execution time: [467.7110783366884, 525.184656690112, 990.1754468108787, 1144.090129435625]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service2
request_type                     : fanout-w3-http-async
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 22197
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1}
baseline_service_processing_time : {'service0': 1144.09, 'service1': 990.18, 'service2': 1050.37, 'service3': 467.71}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2}
target_processing_time_range     : [0, 1050.37]
baseline_throughputs             : []
poker_batch                      : 30000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 105, 210, 315, 420, 525, 630, 735, 840, 945]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-nmf2z cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   504.79ms  260.75ms   1.39s    68.42%
        Req/Sec   144.98     78.75   350.00     63.92%
        Latency Distribution
        50%  461.98ms
        75%  659.25ms
        90%  920.39ms
        99%    1.08s
        2851 requests in 3.02s, 442.68KB read
        Requests/sec:    944.00
        Transfer/sec:    146.58KB
        [run.sh] Speed is 944.00, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-nmf2z        640m         103Mi
        service1-7585bd9d88-6wjp2        3m           27Mi
        service2-84cffc954f-47jkq        3m           29Mi
        service3-6ddd8b8f64-d8dsr        106m         23Mi
        ubuntu-client-76886f6bbd-ggxls   9m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.72ms  257.92ms   2.01s    69.42%
        Req/Sec   142.95     80.42   454.00     66.35%
        Latency Distribution
        50%  423.38ms
        75%  596.89ms
        90%  795.55ms
        99%    1.20s
        40000 requests in 1.05m, 6.07MB read
        Requests/sec:    634.92
        Transfer/sec:     98.59KB
        ------------------------------
        stop time: 35.446028
        stop time: 35.693529
        stop time: 35.444477
        stop time: 36.054460
        stop time: 35.915795
        stop time: 36.027239
        stop time: 35.936888
        stop time: 36.021439
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [35.446028, 35.693529, 35.444477, 36.05446, 35.915795, 36.027239, 35.936888, 36.021439]
    [exp] Throughput: 1116.7730925249473
[test.py] Baseline throughput: 1116.7730925249473
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.0', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   480.28ms  225.44ms   1.29s    75.86%
        Req/Sec   133.91     79.38   360.00     67.31%
        Latency Distribution
        50%  445.54ms
        75%  572.26ms
        90%  784.42ms
        99%    1.22s
        2812 requests in 3.02s, 436.63KB read
        Requests/sec:    931.51
        Transfer/sec:    144.64KB
        [run.sh] Speed is 931.51, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-c6c27        436m         99Mi
        service3-6ddd8b8f64-spvws        3m           28Mi
        ubuntu-client-76886f6bbd-6k74s   5m           3Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.93ms  275.05ms   2.73s    74.77%
        Req/Sec   145.86     89.32   595.00     66.28%
        Latency Distribution
        50%  406.44ms
        75%  576.52ms
        90%  776.20ms
        99%    1.40s
        40000 requests in 1.07m, 6.07MB read
        Requests/sec:    625.00
        Transfer/sec:     97.05KB
        ------------------------------
        stop time: 34.490363
        stop time: 35.251509
        stop time: 35.306238
        stop time: 34.814386
        stop time: 35.168323
        stop time: 35.229080
        stop time: 35.522799
        stop time: 35.531465
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [34.490363, 35.251509, 35.306238, 34.814386, 35.168323, 35.22908, 35.522799, 35.531465]
    [exp] Throughput: 1137.5182699208785
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '525.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '525.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '525.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-55b6d6874d-dj77z cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   806.25ms  269.47ms   1.60s    71.78%
        Req/Sec    97.88     76.25   323.00     62.35%
        Latency Distribution
        50%  796.27ms
        75%  927.42ms
        90%    1.26s
        99%    1.55s
        1722 requests in 3.03s, 267.38KB read
        Requests/sec:    568.50
        Transfer/sec:     88.27KB
        [run.sh] Speed is 568.50, duration is 105
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d105s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   733.26ms  385.72ms   3.50s    72.28%
        Req/Sec    94.23     68.84   404.00     68.35%
        Latency Distribution
        50%  673.16ms
        75%  939.14ms
        90%    1.22s
        99%    2.00s
        40000 requests in 1.75m, 6.07MB read
        Requests/sec:    380.95
        Transfer/sec:     59.15KB
        ------------------------------
        stop time: 57.073516
        stop time: 57.674214
        stop time: 57.630532
        stop time: 57.483854
        stop time: 57.214723
        stop time: 57.481307
        stop time: 57.465693
        stop time: 57.808600
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Times: [57.073516, 57.674214, 57.630532, 57.483854, 57.214723, 57.481307, 57.465693, 57.8086]
    [exp] Throughput: 695.9056666291435
[test.py] Finished running 0th optmization experiment: groundtruth->1137.5182699208785, slowdown->695.9056666291435, predicted->1096.7421176004423, err->-3.584659112620011
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.000105', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-lddvz cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   501.59ms  348.58ms   1.98s    71.58%
        Req/Sec   141.26     82.97   380.00     65.00%
        Latency Distribution
        50%  370.10ms
        75%  752.89ms
        90%  982.53ms
        99%    1.46s
        2857 requests in 3.03s, 443.62KB read
        Requests/sec:    942.91
        Transfer/sec:    146.41KB
        [run.sh] Speed is 942.91, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-lddvz        314m         70Mi
        service1-7585bd9d88-twcvt        381m         28Mi
        service2-84cffc954f-d9btx        95m          22Mi
        service3-6ddd8b8f64-n9wld        213m         21Mi
        ubuntu-client-76886f6bbd-snbwm   18m          0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   462.98ms  227.57ms   1.67s    70.55%
        Req/Sec   142.17     87.45   450.00     62.63%
        Latency Distribution
        50%  429.14ms
        75%  588.10ms
        90%  771.43ms
        99%    1.15s
        40000 requests in 1.05m, 6.07MB read
        Requests/sec:    634.92
        Transfer/sec:     98.59KB
        ------------------------------
        stop time: 36.041225
        stop time: 36.527356
        stop time: 36.248194
        stop time: 36.666893
        stop time: 36.496124
        stop time: 36.575492
        stop time: 36.299275
        stop time: 36.623809
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [36.041225, 36.527356, 36.248194, 36.666893, 36.496124, 36.575492, 36.299275, 36.623809]
    [exp] Throughput: 1097.851625133293
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '472.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '472.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '472.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   809.29ms  260.28ms   1.45s    67.05%
        Req/Sec    85.60     69.52   320.00     71.93%
        Latency Distribution
        50%  793.00ms
        75%  896.65ms
        90%    1.28s
        99%    1.34s
        1672 requests in 3.03s, 259.62KB read
        Requests/sec:    551.66
        Transfer/sec:     85.66KB
        [run.sh] Speed is 551.66, duration is 108
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d108s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6897cd7944-k7l9w        24m          93Mi
        service1-6cc8fb7b8b-2tmv9        177m         24Mi
        service2-84cffc954f-w9h7c        271m         26Mi
        service3-7c4c6ffcd-jl9mz         145m         23Mi
        ubuntu-client-76886f6bbd-vswjf   18m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   695.82ms  322.05ms   2.71s    71.00%
        Req/Sec    98.17     72.32   400.00     68.59%
        Latency Distribution
        50%  651.03ms
        75%  881.17ms
        90%    1.13s
        99%    1.65s
        40000 requests in 1.80m, 6.07MB read
        Requests/sec:    370.37
        Transfer/sec:     57.51KB
        ------------------------------
        stop time: 54.382888
        stop time: 54.213389
        stop time: 54.221625
        stop time: 54.799516
        stop time: 55.014687
        stop time: 55.063359
        stop time: 54.860327
        stop time: 54.676186
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [54.382888, 54.213389, 54.221625, 54.799516, 55.014687, 55.063359, 54.860327, 54.676186]
    [exp] Throughput: 731.8769368051048
[test.py] Finished running 1th optmization experiment: groundtruth->1097.851625133293, slowdown->731.8769368051048, predicted->1118.9876300708165, err->1.9252150703841504
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00021', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-bwhmd cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   529.84ms  241.12ms   1.60s    76.05%
        Req/Sec   123.96     86.89   370.00     68.91%
        Latency Distribution
        50%  503.33ms
        75%  622.74ms
        90%  808.65ms
        99%    1.43s
        2534 requests in 3.03s, 393.46KB read
        Requests/sec:    836.93
        Transfer/sec:    129.95KB
        [run.sh] Speed is 836.93, duration is 71
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d71s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-bwhmd        309m         93Mi
        service1-7585bd9d88-lssq9        50m          33Mi
        service2-84cffc954f-znmjn        75m          27Mi
        service3-6ddd8b8f64-sjjww        284m         23Mi
        ubuntu-client-76886f6bbd-z8s8k   9m           14Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   459.77ms  260.81ms   2.53s    73.53%
        Req/Sec   143.04     85.17   484.00     66.13%
        Latency Distribution
        50%  423.00ms
        75%  584.73ms
        90%  783.42ms
        99%    1.31s
        40000 requests in 1.18m, 6.07MB read
        Requests/sec:    563.38
        Transfer/sec:     87.48KB
        ------------------------------
        stop time: 35.808277
        stop time: 35.613426
        stop time: 35.789427
        stop time: 36.287106
        stop time: 36.089121
        stop time: 36.273116
        stop time: 36.197128
        stop time: 36.206286
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [35.808277, 35.613426, 35.789427, 36.287106, 36.089121, 36.273116, 36.197128, 36.206286]
    [exp] Throughput: 1110.0939605383173
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '420.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '420.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '420.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5446b44db4-442gq cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   694.68ms  336.07ms   1.71s    68.84%
        Req/Sec    87.36     67.00   320.00     63.90%
        Latency Distribution
        50%  620.52ms
        75%  936.96ms
        90%    1.13s
        99%    1.68s
        1871 requests in 3.03s, 290.52KB read
        Requests/sec:    617.16
        Transfer/sec:     95.83KB
        [run.sh] Speed is 617.16, duration is 97
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d97s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5446b44db4-442gq        4m           78Mi
        service1-68c547b758-t9s7m        130m         22Mi
        service2-84cffc954f-pnbzw        258m         19Mi
        ubuntu-client-76886f6bbd-x746g   13m          0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   667.63ms  354.73ms   2.69s    71.87%
        Req/Sec    99.63     70.71   424.00     69.58%
        Latency Distribution
        50%  620.00ms
        75%  855.79ms
        90%    1.13s
        99%    1.76s
        40000 requests in 1.62m, 6.07MB read
        Requests/sec:    412.37
        Transfer/sec:     64.03KB
        ------------------------------
        stop time: 52.070968
        stop time: 52.045582
        stop time: 52.598789
        stop time: 52.762769
        stop time: 52.583517
        stop time: 52.691977
        stop time: 52.271747
        stop time: 52.872223
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [52.070968, 52.045582, 52.598789, 52.762769, 52.583517, 52.691977, 52.271747, 52.872223]
    [exp] Throughput: 762.0906176613947
[test.py] Finished running 2th optmization experiment: groundtruth->1110.0939605383173, slowdown->762.0906176613947, predicted->1121.0826272509707, err->0.9898861811053078
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.000315', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   502.51ms  205.60ms   1.19s    66.98%
        Req/Sec   142.76     88.67   383.00     60.10%
        Latency Distribution
        50%  466.32ms
        75%  630.50ms
        90%  830.17ms
        99%    1.00s
        2877 requests in 3.03s, 446.72KB read
        Requests/sec:    949.96
        Transfer/sec:    147.50KB
        [run.sh] Speed is 949.96, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-tvmth        1933m        104Mi
        service1-7585bd9d88-jl8bg        1202m        34Mi
        service2-84cffc954f-lvzr2        499m         24Mi
        service3-6ddd8b8f64-fv6fk        388m         25Mi
        ubuntu-client-76886f6bbd-vrxxz   36m          17Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   461.38ms  249.21ms   2.18s    73.16%
        Req/Sec   141.99     89.50   540.00     65.57%
        Latency Distribution
        50%  423.89ms
        75%  586.56ms
        90%  776.10ms
        99%    1.32s
        40000 requests in 1.05m, 6.07MB read
        Requests/sec:    634.92
        Transfer/sec:     98.59KB
        ------------------------------
        stop time: 35.721363
        stop time: 35.705422
        stop time: 36.260926
        stop time: 36.332841
        stop time: 36.375737
        stop time: 36.322189
        stop time: 36.356906
        stop time: 36.035879
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.721363, 35.705422, 36.260926, 36.332841, 36.375737, 36.322189, 36.356906, 36.035879]
    [exp] Throughput: 1106.8403101265546
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '367.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '367.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '367.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-6b949bcdc5-g7n22 cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   710.22ms  317.96ms   1.54s    74.61%
        Req/Sec   100.17     72.99   303.00     63.31%
        Latency Distribution
        50%  613.35ms
        75%  882.17ms
        90%    1.28s
        99%    1.44s
        1930 requests in 3.02s, 299.68KB read
        Requests/sec:    639.49
        Transfer/sec:     99.30KB
        [run.sh] Speed is 639.49, duration is 93
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d93s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6b949bcdc5-g7n22        1007m        81Mi
        service1-8694f9c49-v7v49         792m         27Mi
        service2-84cffc954f-zzpt4        932m         22Mi
        service3-5d9bd59dfc-7ftdh        124m         19Mi
        ubuntu-client-76886f6bbd-8d8mm   30m          19Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   635.04ms  363.71ms   3.38s    71.81%
        Req/Sec   106.68     71.90   454.00     65.45%
        Latency Distribution
        50%  571.82ms
        75%  824.63ms
        90%    1.12s
        99%    1.80s
        40000 requests in 1.55m, 6.07MB read
        Requests/sec:    430.11
        Transfer/sec:     66.78KB
        ------------------------------
        stop time: 50.127145
        stop time: 49.885791
        stop time: 49.863232
        stop time: 50.028996
        stop time: 49.238674
        stop time: 49.493477
        stop time: 50.180466
        stop time: 49.955326
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [50.127145, 49.885791, 49.863232, 50.028996, 49.238674, 49.493477, 50.180466, 49.955326]
    [exp] Throughput: 802.4613354882027
[test.py] Finished running 3th optmization experiment: groundtruth->1106.8403101265546, slowdown->802.4613354882027, predicted->1138.3285993033421, err->2.844880954253206
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00042', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   497.19ms  194.76ms   1.05s    70.87%
        Req/Sec   133.89     86.40   360.00     64.85%
        Latency Distribution
        50%  460.42ms
        75%  598.33ms
        90%  762.48ms
        99%    1.02s
        2774 requests in 3.03s, 430.73KB read
        Requests/sec:    915.26
        Transfer/sec:    142.12KB
        [run.sh] Speed is 915.26, duration is 65
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d65s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.09ms  245.57ms   2.40s    72.71%
        Req/Sec   144.52     90.47   464.00     65.70%
        Latency Distribution
        50%  420.77ms
        75%  582.93ms
        90%  751.06ms
        99%    1.29s
        40000 requests in 1.08m, 6.07MB read
        Requests/sec:    615.38
        Transfer/sec:     95.55KB
        ------------------------------
        stop time: 35.300222
        stop time: 35.543052
        stop time: 35.385990
        stop time: 35.676218
        stop time: 35.748265
        stop time: 35.430574
        stop time: 35.687965
        stop time: 35.089804
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [35.300222, 35.543052, 35.38599, 35.676218, 35.748265, 35.430574, 35.687965, 35.089804]
    [exp] Throughput: 1127.3079825488496
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-75695c895c-fs4qb cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   676.65ms  323.32ms   1.84s    68.03%
        Req/Sec    99.31     66.19   313.00     68.59%
        Latency Distribution
        50%  660.37ms
        75%  818.76ms
        90%    1.16s
        99%    1.55s
        1958 requests in 3.03s, 304.03KB read
        Requests/sec:    646.85
        Transfer/sec:    100.44KB
        [run.sh] Speed is 646.85, duration is 92
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d92s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-75695c895c-fs4qb        1461m        113Mi
        service1-5c566b998c-hv6ml        925m         32Mi
        service2-84cffc954f-kb6s6        1024m        30Mi
        service3-7998d6db47-p87x4        510m         25Mi
        ubuntu-client-76886f6bbd-f59s6   28m          19Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   613.68ms  306.84ms   3.13s    72.73%
        Req/Sec   108.50     71.58   410.00     66.64%
        Latency Distribution
        50%  578.65ms
        75%  768.95ms
        90%  990.22ms
        99%    1.63s
        40000 requests in 1.53m, 6.07MB read
        Requests/sec:    434.78
        Transfer/sec:     67.51KB
        ------------------------------
        stop time: 47.913875
        stop time: 47.923705
        stop time: 48.142857
        stop time: 48.175466
        stop time: 48.180160
        stop time: 48.172949
        stop time: 48.415657
        stop time: 48.514499
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [47.913875, 47.923705, 48.142857, 48.175466, 48.18016, 48.172949, 48.415657, 48.514499]
    [exp] Throughput: 830.2218003957502
[test.py] Finished running 4th optmization experiment: groundtruth->1127.3079825488496, slowdown->830.2218003957502, predicted->1124.4642490085598, err->-0.252258795671801
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.000525', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-mmwkd cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   485.99ms  288.90ms   1.61s    65.74%
        Req/Sec   140.26     62.25   310.00     73.79%
        Latency Distribution
        50%  438.23ms
        75%  652.80ms
        90%  898.35ms
        99%    1.26s
        2913 requests in 3.03s, 452.31KB read
        Requests/sec:    962.17
        Transfer/sec:    149.40KB
        [run.sh] Speed is 962.17, duration is 62
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d62s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-mmwkd        96m          75Mi
        service1-7585bd9d88-z8tbj        386m         26Mi
        service2-84cffc954f-s7hlb        230m         24Mi
        service3-6ddd8b8f64-qps2d        217m         20Mi
        ubuntu-client-76886f6bbd-l2p42   5m           6Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   461.10ms  217.96ms   2.14s    70.46%
        Req/Sec   142.70     87.72   474.00     65.00%
        Latency Distribution
        50%  432.49ms
        75%  586.95ms
        90%  737.82ms
        99%    1.12s
        40000 requests in 1.03m, 6.07MB read
        Requests/sec:    645.16
        Transfer/sec:    100.18KB
        ------------------------------
        stop time: 35.920455
        stop time: 36.052691
        stop time: 36.033865
        stop time: 36.269616
        stop time: 36.169192
        stop time: 36.307665
        stop time: 36.335424
        stop time: 36.417208
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [35.920455, 36.052691, 36.033865, 36.269616, 36.169192, 36.307665, 36.335424, 36.417208]
    [exp] Throughput: 1105.3307074175939
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '262.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '262.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '262.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   640.03ms  337.28ms   1.56s    69.82%
        Req/Sec   103.21     69.62   350.00     68.00%
        Latency Distribution
        50%  545.61ms
        75%  821.08ms
        90%    1.16s
        99%    1.52s
        2094 requests in 3.03s, 325.14KB read
        Requests/sec:    692.05
        Transfer/sec:    107.46KB
        [run.sh] Speed is 692.05, duration is 86
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d86s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-6b5f86459f-jr9pq        337m         94Mi
        service1-c4b976757-r7npn         302m         24Mi
        service2-84cffc954f-9dt6m        317m         23Mi
        service3-dfd849d85-62w4p         177m         24Mi
        ubuntu-client-76886f6bbd-wn8bp   8m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   582.07ms  266.20ms   2.68s    71.08%
        Req/Sec   113.78     74.16   414.00     66.71%
        Latency Distribution
        50%  552.64ms
        75%  728.82ms
        90%  934.65ms
        99%    1.37s
        40000 requests in 1.43m, 6.07MB read
        Requests/sec:    465.12
        Transfer/sec:     72.22KB
        ------------------------------
        stop time: 45.234526
        stop time: 45.938068
        stop time: 45.550145
        stop time: 45.861367
        stop time: 45.926950
        stop time: 45.655549
        stop time: 45.789116
        stop time: 46.041989
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [45.234526, 45.938068, 45.550145, 45.861367, 45.92695, 45.655549, 45.789116, 46.041989]
    [exp] Throughput: 874.3224103779229
[test.py] Finished running 5th optmization experiment: groundtruth->1105.3307074175939, slowdown->874.3224103779229, predicted->1134.9992592356396, err->2.6841335013084815
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00063', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-qz8cb cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   410.47ms  300.47ms   1.48s    68.74%
        Req/Sec   157.01     74.43   350.00     69.59%
        Latency Distribution
        50%  328.10ms
        75%  619.25ms
        90%  783.57ms
        99%    1.18s
        3110 requests in 3.03s, 482.90KB read
        Requests/sec:   1025.78
        Transfer/sec:    159.28KB
        [run.sh] Speed is 1025.78, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-qz8cb        1939m        107Mi
        service1-7585bd9d88-c8l8s        1257m        33Mi
        service2-84cffc954f-k5pgv        862m         28Mi
        service3-6ddd8b8f64-tm7sj        693m         28Mi
        ubuntu-client-76886f6bbd-qkvrp   37m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   465.99ms  246.96ms   2.08s    73.80%
        Req/Sec   140.10     83.65   484.00     67.62%
        Latency Distribution
        50%  430.14ms
        75%  576.66ms
        90%  770.46ms
        99%    1.30s
        40000 requests in 0.97m, 6.07MB read
        Requests/sec:    689.65
        Transfer/sec:    107.08KB
        ------------------------------
        stop time: 36.098524
        stop time: 36.271042
        stop time: 36.256647
        stop time: 36.712702
        stop time: 36.244015
        stop time: 36.602593
        stop time: 36.570280
        stop time: 36.712860
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [36.098524, 36.271042, 36.256647, 36.712702, 36.244015, 36.602593, 36.57028, 36.71286]
    [exp] Throughput: 1097.8881801780524
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '210.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '210.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '210.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   622.07ms  316.61ms   1.90s    69.33%
        Req/Sec   109.20     67.92   313.00     63.68%
        Latency Distribution
        50%  529.26ms
        75%  791.51ms
        90%    1.07s
        99%    1.54s
        2229 requests in 3.03s, 346.10KB read
        Requests/sec:    736.65
        Transfer/sec:    114.38KB
        [run.sh] Speed is 736.65, duration is 81
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d81s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-599f7798bf-bxkgk        1580m        103Mi
        service1-8448548f7f-bdkxj        1023m        33Mi
        service2-84cffc954f-qn74s        1075m        29Mi
        service3-6984c589cf-zvh2g        569m         27Mi
        ubuntu-client-76886f6bbd-2rdnq   31m          20Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   552.87ms  312.72ms   2.73s    73.50%
        Req/Sec   119.29     74.81   505.00     66.93%
        Latency Distribution
        50%  513.33ms
        75%  705.11ms
        90%  930.18ms
        99%    1.70s
        40000 requests in 1.35m, 6.07MB read
        Requests/sec:    493.83
        Transfer/sec:     76.68KB
        ------------------------------
        stop time: 42.263752
        stop time: 42.963800
        stop time: 43.054952
        stop time: 43.379623
        stop time: 43.462347
        stop time: 43.590988
        stop time: 43.824810
        stop time: 43.795842
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [42.263752, 42.9638, 43.054952, 43.379623, 43.462347, 43.590988, 43.82481, 43.795842]
    [exp] Throughput: 923.9579329575777
[test.py] Finished running 6th optmization experiment: groundtruth->1097.8881801780524, slowdown->923.9579329575777, predicted->1146.6373030052926, err->4.440263016524522
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.000735', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-7b65886d58-bprzc cannot connect to service2
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   484.21ms  314.96ms   1.61s    68.43%
        Req/Sec   135.97     73.41   360.00     60.87%
        Latency Distribution
        50%  418.34ms
        75%  624.69ms
        90%    1.05s
        99%    1.45s
        2913 requests in 3.03s, 452.31KB read
        Requests/sec:    960.17
        Transfer/sec:    149.09KB
        [run.sh] Speed is 960.17, duration is 62
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d62s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-bprzc        706m         96Mi
        service1-7585bd9d88-hglks        576m         32Mi
        service2-84cffc954f-fd79b        585m         27Mi
        service3-6ddd8b8f64-qxm76        581m         28Mi
        ubuntu-client-76886f6bbd-xt8cn   11m          17Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.62ms  256.14ms   2.42s    72.97%
        Req/Sec   143.86     82.01   515.00     64.36%
        Latency Distribution
        50%  422.18ms
        75%  574.82ms
        90%  779.14ms
        99%    1.32s
        40000 requests in 1.03m, 6.07MB read
        Requests/sec:    645.16
        Transfer/sec:    100.18KB
        ------------------------------
        stop time: 35.603721
        stop time: 35.610126
        stop time: 35.659491
        stop time: 35.607355
        stop time: 36.055899
        stop time: 35.966038
        stop time: 36.177360
        stop time: 36.209975
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [35.603721, 35.610126, 35.659491, 35.607355, 36.055899, 35.966038, 36.17736, 36.209975]
    [exp] Throughput: 1115.4102235677713
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '157.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '157.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '157.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5b5bd6b454-ljkhm cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   577.67ms  244.72ms   1.37s    63.18%
        Req/Sec   122.07     81.82   400.00     63.64%
        Latency Distribution
        50%  545.91ms
        75%  774.85ms
        90%  911.44ms
        99%    1.13s
        2450 requests in 3.02s, 380.42KB read
        Requests/sec:    811.65
        Transfer/sec:    126.03KB
        [run.sh] Speed is 811.65, duration is 73
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d73s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5b5bd6b454-ljkhm        110m         105Mi
        service1-84fbbfb9dd-ww6g5        170m         37Mi
        service2-84cffc954f-vxr98        321m         29Mi
        service3-5c4c9c796-vnvb8         293m         28Mi
        ubuntu-client-76886f6bbd-9vjmf   9m           16Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   529.65ms  266.25ms   2.30s    71.14%
        Req/Sec   123.01     78.55   510.00     65.33%
        Latency Distribution
        50%  494.79ms
        75%  675.89ms
        90%  869.98ms
        99%    1.36s
        40000 requests in 1.22m, 6.07MB read
        Requests/sec:    547.94
        Transfer/sec:     85.08KB
        ------------------------------
        stop time: 40.967346
        stop time: 41.833162
        stop time: 41.549728
        stop time: 41.549609
        stop time: 41.623323
        stop time: 41.773830
        stop time: 41.650561
        stop time: 41.849462
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [40.967346, 41.833162, 41.549728, 41.549609, 41.623323, 41.77383, 41.650561, 41.849462]
    [exp] Throughput: 961.5470686560021
[test.py] Finished running 7th optmization experiment: groundtruth->1115.4102235677713, slowdown->961.5470686560021, predicted->1133.394027291866, err->1.6123040065538778
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00084', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   496.88ms  250.22ms   1.20s    68.52%
        Req/Sec   145.57     84.18   380.00     61.46%
        Latency Distribution
        50%  447.29ms
        75%  634.07ms
        90%  880.08ms
        99%    1.14s
        2881 requests in 3.03s, 447.34KB read
        Requests/sec:    950.27
        Transfer/sec:    147.55KB
        [run.sh] Speed is 950.27, duration is 63
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d63s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-dcpbn        488m         87Mi
        service1-7585bd9d88-88x2g        383m         23Mi
        service2-84cffc954f-rgwcf        332m         23Mi
        service3-6ddd8b8f64-5rblb        218m         21Mi
        ubuntu-client-76886f6bbd-qrxn4   5m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   454.65ms  279.05ms   2.55s    75.29%
        Req/Sec   144.60     80.47   474.00     65.91%
        Latency Distribution
        50%  416.15ms
        75%  568.10ms
        90%  779.04ms
        99%    1.47s
        40000 requests in 1.05m, 6.07MB read
        Requests/sec:    634.92
        Transfer/sec:     98.59KB
        ------------------------------
        stop time: 35.219220
        stop time: 34.685081
        stop time: 35.370652
        stop time: 35.492055
        stop time: 35.685189
        stop time: 35.544483
        stop time: 35.452434
        stop time: 35.622409
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.21922, 34.685081, 35.370652, 35.492055, 35.685189, 35.544483, 35.452434, 35.622409]
    [exp] Throughput: 1130.456347599472
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '105.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '105.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '105.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   568.42ms  255.07ms   1.35s    67.80%
        Req/Sec   123.57     86.01   373.00     67.74%
        Latency Distribution
        50%  522.79ms
        75%  708.04ms
        90%  968.71ms
        99%    1.21s
        2422 requests in 3.03s, 376.07KB read
        Requests/sec:    799.15
        Transfer/sec:    124.09KB
        [run.sh] Speed is 799.15, duration is 75
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d75s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        service0-768756f486-bqf7t   3m           96Mi
        service1-698c8454b8-98mjt   60m          28Mi
        service2-84cffc954f-bdwwb   199m         24Mi
        service3-69959ffc68-gbpnr   193m         24Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   501.17ms  308.83ms   2.52s    72.17%
        Req/Sec   130.71     74.21   460.00     68.74%
        Latency Distribution
        50%  445.46ms
        75%  661.49ms
        90%  912.90ms
        99%    1.45s
        40000 requests in 1.25m, 6.07MB read
        Requests/sec:    533.33
        Transfer/sec:     82.81KB
        ------------------------------
        stop time: 39.356486
        stop time: 38.454499
        stop time: 38.855433
        stop time: 39.560002
        stop time: 39.691418
        stop time: 39.562874
        stop time: 39.527039
        stop time: 39.308730
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [39.356486, 38.454499, 38.855433, 39.560002, 39.691418, 39.562874, 39.527039, 39.30873]
    [exp] Throughput: 1018.0821539548862
[test.py] Finished running 8th optmization experiment: groundtruth->1130.456347599472, slowdown->1018.0821539548862, predicted->1140.180646159684, err->0.8602100011080988
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.000945', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   515.43ms  277.21ms   1.44s    62.16%
        Req/Sec   135.55     89.96   393.00     65.15%
        Latency Distribution
        50%  462.13ms
        75%  711.14ms
        90%  911.74ms
        99%    1.21s
        2716 requests in 3.02s, 421.72KB read
        Requests/sec:    899.70
        Transfer/sec:    139.70KB
        [run.sh] Speed is 899.70, duration is 66
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d66s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   474.44ms  230.13ms   2.05s    72.58%
        Req/Sec   137.62     77.65   490.00     68.40%
        Latency Distribution
        50%  454.66ms
        75%  588.02ms
        90%  756.85ms
        99%    1.18s
        40000 requests in 1.10m, 6.07MB read
        Requests/sec:    606.06
        Transfer/sec:     94.10KB
        ------------------------------
        stop time: 37.068206
        stop time: 37.329705
        stop time: 37.497279
        stop time: 36.935838
        stop time: 37.476180
        stop time: 37.405697
        stop time: 37.295367
        stop time: 36.886468
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [37.068206, 37.329705, 37.497279, 36.935838, 37.47618, 37.405697, 37.295367, 36.886468]
    [exp] Throughput: 1074.2049356091352
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w3-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '30000000', 'PROCESSING_TIME_SERVICE0': '0.00114409', 'PROCESSING_TIME_SERVICE1': '0.00099018', 'PROCESSING_TIME_SERVICE2': '0.00105037', 'PROCESSING_TIME_SERVICE3': '0.00046771', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '52.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '52.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '52.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w3-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request fanout-w3-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] service0-5bdb946d4-46q8k cannot connect to service3
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   521.20ms  236.42ms   1.38s    70.09%
        Req/Sec   127.64     85.61   383.00     65.15%
        Latency Distribution
        50%  482.37ms
        75%  651.83ms
        90%  848.97ms
        99%    1.23s
        2569 requests in 3.02s, 398.90KB read
        Requests/sec:    849.73
        Transfer/sec:    131.94KB
        [run.sh] Speed is 849.73, duration is 70
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d70s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5bdb946d4-46q8k         1856m        109Mi
        service1-7cdcc4f8f4-gtk4b        1184m        31Mi
        service2-84cffc954f-669q7        1259m        30Mi
        service3-5f748bd5bb-h7lf9        675m         26Mi
        ubuntu-client-76886f6bbd-6f4sl   39m          18Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   486.36ms  248.18ms   2.34s    73.99%
        Req/Sec   134.47     75.62   540.00     69.07%
        Latency Distribution
        50%  447.82ms
        75%  603.31ms
        90%  798.30ms
        99%    1.31s
        40000 requests in 1.17m, 6.07MB read
        Requests/sec:    571.43
        Transfer/sec:     88.73KB
        ------------------------------
        stop time: 38.205829
        stop time: 38.133583
        stop time: 38.032680
        stop time: 38.177206
        stop time: 38.145045
        stop time: 38.130357
        stop time: 38.415929
        stop time: 38.245826
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [38.205829, 38.133583, 38.03268, 38.177206, 38.145045, 38.130357, 38.415929, 38.245826]
    [exp] Throughput: 1047.5096187161555
[test.py] Finished running 9th optmization experiment: groundtruth->1074.2049356091352, slowdown->1047.5096187161555, predicted->1108.6964049878104, err->3.2108835321182543
[test.py] Baseline throughput:  1116.7730925249473
[test.py] Groundtruth:  [1137.5182699208785, 1097.851625133293, 1110.0939605383173, 1106.8403101265546, 1127.3079825488496, 1105.3307074175939, 1097.8881801780524, 1115.4102235677713, 1130.456347599472, 1074.2049356091352]
[test.py] Slowdown:  [695.9056666291435, 731.8769368051048, 762.0906176613947, 802.4613354882027, 830.2218003957502, 874.3224103779229, 923.9579329575777, 961.5470686560021, 1018.0821539548862, 1047.5096187161555]
[test.py] Predicted:  [1096.7421176004423, 1118.9876300708165, 1121.0826272509707, 1138.3285993033421, 1124.4642490085598, 1134.9992592356396, 1146.6373030052926, 1133.394027291866, 1140.180646159684, 1108.6964049878104]
[test.py] Error percentage:  [-3.584659112620011, 1.9252150703841504, 0.9898861811053078, 2.844880954253206, -0.252258795671801, 2.6841335013084815, 4.440263016524522, 1.6123040065538778, 0.8602100011080988, 3.2108835321182543]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1116.7730925249473
    Groundtruth: [1137.5182699208785, 1097.851625133293, 1110.0939605383173, 1106.8403101265546, 1127.3079825488496, 1105.3307074175939, 1097.8881801780524, 1115.4102235677713, 1130.456347599472, 1074.2049356091352]
    Slowdown:    [695.9056666291435, 731.8769368051048, 762.0906176613947, 802.4613354882027, 830.2218003957502, 874.3224103779229, 923.9579329575777, 961.5470686560021, 1018.0821539548862, 1047.5096187161555]
    Predicted:   [1096.7421176004423, 1118.9876300708165, 1121.0826272509707, 1138.3285993033421, 1124.4642490085598, 1134.9992592356396, 1146.6373030052926, 1133.394027291866, 1140.180646159684, 1108.6964049878104]
    Error Perc:  [-3.584659112620011, 1.9252150703841504, 0.9898861811053078, 2.844880954253206, -0.252258795671801, 2.6841335013084815, 4.440263016524522, 1.6123040065538778, 0.8602100011080988, 3.2108835321182543]
