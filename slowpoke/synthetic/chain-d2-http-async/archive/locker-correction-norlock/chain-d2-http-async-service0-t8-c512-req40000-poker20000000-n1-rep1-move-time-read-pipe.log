[config.py] Random numbers for execution time: [669.4660165566322, 717.7372714491929, 783.2481898256435]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service0
request_type                     : chain-d2-http-async
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 40000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 2
random_seed                      : 13976
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1}
baseline_service_processing_time : {'service0': 783.25, 'service1': 717.74, 'service2': 669.47}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2}
target_processing_time_range     : [0, 783.25]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00078325', 'PROCESSING_TIME_SERVICE1': '0.00071774', 'PROCESSING_TIME_SERVICE2': '0.00066947', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   322.28ms  177.05ms   1.28s    88.79%
        Req/Sec   204.83     60.08   330.00     71.12%
        Latency Distribution
        50%  275.92ms
        75%  336.43ms
        90%  470.49ms
        99%    1.14s
        4755 requests in 3.03s, 2.85MB read
        Requests/sec:   1568.37
        Transfer/sec:      0.94MB
        [run.sh] Speed is 1568.37, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d38s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-jbgbp         1935m        57Mi
        service1-66b495577c-dmgnb        1758m        20Mi
        service2-6946b86bcb-tzlks        911m         13Mi
        ubuntu-client-76886f6bbd-kmkx4   34m          13Mi
        Running 38s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   276.36ms   84.53ms   1.51s    89.20%
        Req/Sec   232.63     54.82   585.00     71.84%
        Latency Distribution
        50%  264.09ms
        75%  295.73ms
        90%  341.15ms
        99%  563.30ms
        40000 requests in 38.00s, 23.99MB read
        Requests/sec:   1052.63
        Transfer/sec:    646.58KB
        ------------------------------
        stop time: 21.438515
        stop time: 21.306407
        stop time: 21.343538
        stop time: 21.743024
        stop time: 21.873826
        stop time: 21.741483
        stop time: 21.789236
        stop time: 21.741217
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.438515, 21.306407, 21.343538, 21.743024, 21.873826, 21.741483, 21.789236, 21.741217]
    [exp] Throughput: 1849.954299769578
[test.py] Baseline throughput: 1849.954299769578
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00071774', 'PROCESSING_TIME_SERVICE2': '0.00066947', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   251.33ms   44.23ms 507.03ms   76.44%
        Req/Sec   250.06     58.02   383.00     69.40%
        Latency Distribution
        50%  243.40ms
        75%  273.74ms
        90%  309.01ms
        99%  390.79ms
        5869 requests in 3.02s, 3.52MB read
        Requests/sec:   1940.40
        Transfer/sec:      1.16MB
        [run.sh] Speed is 1940.40, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 30s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   245.11ms   39.69ms 632.65ms   79.22%
        Req/Sec   260.57     44.85   480.00     70.35%
        Latency Distribution
        50%  237.80ms
        75%  261.76ms
        90%  293.46ms
        99%  377.49ms
        40000 requests in 30.00s, 23.99MB read
        Requests/sec:   1333.33
        Transfer/sec:    819.01KB
        ------------------------------
        stop time: 19.183124
        stop time: 19.252897
        stop time: 19.246085
        stop time: 19.235264
        stop time: 19.366492
        stop time: 19.329895
        stop time: 19.419104
        stop time: 19.358163
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service2-6946b86bcb-msfh8        493m         12Mi
        ubuntu-client-76886f6bbd-bslds   25m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.183124, 19.252897, 19.246085, 19.235264, 19.366492, 19.329895, 19.419104, 19.358163]
    [exp] Throughput: 2072.6593535644924
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload synthetic/chain-d2-http-async request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00078325', 'PROCESSING_TIME_SERVICE1': '0.00071774', 'PROCESSING_TIME_SERVICE2': '0.00066947', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '391.5', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '391.5'}
    [exp] Executing cmd `bash run.sh synthetic chain-d2-http-async 8 512 40000`:
        [run.sh] Running benchmark synthetic with request chain-d2-http-async, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.40ms   90.75ms 864.43ms   78.03%
        Req/Sec   136.50     52.26   300.00     70.48%
        Latency Distribution
        50%  428.79ms
        75%  491.93ms
        90%  587.12ms
        99%  744.01ms
        3099 requests in 3.03s, 1.86MB read
        Requests/sec:   1024.01
        Transfer/sec:    629.00KB
        [run.sh] Speed is 1024.01, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d58s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7c9cf5646-vjd2r         1218m        56Mi
        service1-5dd94b9c5c-fjs4m        1089m        20Mi
        service2-786849dcb-qnmxq         891m         15Mi
        ubuntu-client-76886f6bbd-9b4jm   42m          13Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   439.20ms   69.30ms 925.60ms   77.83%
        Req/Sec   145.38     38.50   303.00     71.10%
        Latency Distribution
        50%  420.59ms
        75%  470.65ms
        90%  533.15ms
        99%  653.21ms
        40000 requests in 0.97m, 23.99MB read
        Requests/sec:    689.65
        Transfer/sec:    423.62KB
        ------------------------------
        stop time: 34.554394
        stop time: 34.551811
        stop time: 34.774116
        stop time: 34.543331
        stop time: 34.459039
        stop time: 34.441566
        stop time: 34.617674
        stop time: 34.521649
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [34.554394, 34.551811, 34.774116, 34.543331, 34.459039, 34.441566, 34.617674, 34.521649]
    [exp] Throughput: 1157.4761492996656
[test.py] Baseline throughput:  1849.954299769578
[test.py] Groundtruth:  [2072.6593535644924]
[test.py] Slowdown:  [1157.4761492996656]
[test.py] Predicted:  [2117.19214272945]
[test.py] Error percentage:  [2.1485821627355985]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1849.954299769578
    Groundtruth: [2072.6593535644924]
    Slowdown:    [1157.4761492996656]
    Predicted:   [2117.19214272945]
    Error Perc:  [2.1485821627355985]
