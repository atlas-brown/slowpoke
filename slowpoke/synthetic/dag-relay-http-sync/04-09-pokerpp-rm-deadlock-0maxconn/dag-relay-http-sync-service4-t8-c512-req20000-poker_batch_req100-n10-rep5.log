[config.py] Random numbers for execution time: [329.41041469791776, 384.1121210424576, 435.18460182783167, 492.4902407546066, 572.5993968796442, 634.5773065984943, 1178.7664414664146]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 512
target_service                   : service4
request_type                     : dag-relay-http-sync
repetitions                      : 5
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 4121
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 3, 'service5': 3, 'service6': 3}
baseline_service_processing_time : {'service0': 3536.3, 'service1': 1903.73, 'service2': 1717.8, 'service3': 1477.47, 'service4': 435.18, 'service5': 384.11, 'service6': 329.41}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2}
target_processing_time_range     : [0, 435.18]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 43, 86, 129, 172, 215, 258, 301, 344, 387]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '0.00043518', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.93s   807.60ms   3.00s    62.09%
        Req/Sec    54.88     41.77   170.00     55.56%
        Latency Distribution
        50%    2.08s
        75%    2.61s
        90%    2.93s
        99%    2.99s
        554 requests in 3.03s, 86.02KB read
        Requests/sec:    182.62
        Transfer/sec:     28.36KB
        [run.sh] Speed is 182.62, duration is 164
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d164s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 3m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.07s   786.01ms   5.39s    74.01%
        Req/Sec    61.62     39.74   250.00     67.01%
        Latency Distribution
        50%  857.92ms
        75%    1.42s
        90%    2.29s
        99%    3.45s
        20000 requests in 2.73m, 3.03MB read
        Requests/sec:    121.95
        Transfer/sec:     18.94KB
        ------------------------------
        stop time: 41.583001
        stop time: 41.431605
        stop time: 43.112230
        stop time: 42.429079
        stop time: 42.479861
        stop time: 42.809352
        stop time: 43.116793
        stop time: 42.395893
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [41.583001, 41.431605, 43.11223, 42.429079, 42.479861, 42.809352, 43.116793, 42.395893]
    [exp] Throughput: 471.4787560483284
[test.py] Baseline throughput: 471.4787560483284
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '0.0', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.28s   506.09ms   2.81s    71.17%
        Req/Sec    71.03     56.79   240.00     65.22%
        Latency Distribution
        50%    1.20s
        75%    1.60s
        90%    1.86s
        99%    2.71s
        1037 requests in 3.03s, 161.02KB read
        Requests/sec:    342.21
        Transfer/sec:     53.14KB
        [run.sh] Speed is 342.21, duration is 87
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d87s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-tkrxg        4m           17Mi
        service1-7585bd9d88-rrqw2        4m           3Mi
        service4-6497fcfc69-cdkk2        4m           3Mi
        service5-65b54fcdcb-287j2        4m           3Mi
        service6-7dcff5bc4-x242j         4m           3Mi
        ubuntu-client-76886f6bbd-swsd9   7m           6Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.08s   757.38ms   7.24s    78.63%
        Req/Sec    65.26     42.96   272.00     65.15%
        Latency Distribution
        50%  904.13ms
        75%    1.41s
        90%    2.05s
        99%    3.98s
        20000 requests in 1.45m, 3.03MB read
        Requests/sec:    229.88
        Transfer/sec:     35.69KB
        ------------------------------
        stop time: 41.341310
        stop time: 41.257786
        stop time: 42.106868
        stop time: 42.936875
        stop time: 42.135243
        stop time: 42.865376
        stop time: 42.407862
        stop time: 43.126218
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.34131, 41.257786, 42.106868, 42.936875, 42.135243, 42.865376, 42.407862, 43.126218]
    [exp] Throughput: 473.12426764429284
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '0.00043518', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '652.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '652.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '652.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '652.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '217.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '217.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.68s   620.52ms   3.00s    63.32%
        Req/Sec    44.99     30.77   140.00     64.14%
        Latency Distribution
        50%    1.77s
        75%    2.10s
        90%    2.52s
        99%    2.82s
        698 requests in 3.03s, 108.38KB read
        Requests/sec:    230.36
        Transfer/sec:     35.77KB
        [run.sh] Speed is 230.36, duration is 130
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d130s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-5cdf658fd4-zz8cs        1516m        81Mi
        service1-6f7c7bbb74-g5xlv        810m         34Mi
        service2-7978d5b66d-k5tww        449m         38Mi
        service3-58f859586b-knrf5        445m         22Mi
        service4-6497fcfc69-j59xq        359m         34Mi
        service5-55574798df-l64cw        489m         12Mi
        service6-6df4c67f9f-qbpxq        205m         11Mi
        ubuntu-client-76886f6bbd-8brmz   16m          20Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.41s   838.24ms   6.33s    77.37%
        Req/Sec    49.94     36.25   242.00     69.72%
        Latency Distribution
        50%    1.27s
        75%    1.72s
        90%    2.37s
        99%    4.41s
        20000 requests in 2.17m, 3.03MB read
        Requests/sec:    153.85
        Transfer/sec:     23.89KB
        ------------------------------
        stop time: 55.630091
        stop time: 55.140241
        stop time: 55.127739
        stop time: 55.802122
        stop time: 56.155240
        stop time: 55.512502
        stop time: 55.974846
        stop time: 55.807086
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [55.630091, 55.140241, 55.127739, 55.802122, 56.15524, 55.512502, 55.974846, 55.807086]
    [exp] Throughput: 359.4295132070656
[test.py] Finished running 0th optmization experiment: groundtruth->473.12426764429284, slowdown->359.4295132070656, predicted->469.6121781497161, err->-0.7423186115697668
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '4.3e-05', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.36s   677.63ms   2.63s    59.63%
        Req/Sec    66.24     48.50   212.00     66.43%
        Latency Distribution
        50%    1.22s
        75%    1.90s
        90%    2.24s
        99%    2.61s
        981 requests in 3.03s, 152.32KB read
        Requests/sec:    323.86
        Transfer/sec:     50.29KB
        [run.sh] Speed is 323.86, duration is 92
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d92s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-jtslm        658m         66Mi
        service1-7585bd9d88-h8l8n        190m         44Mi
        service2-958786d58-898th         312m         30Mi
        service3-6ddd8b8f64-tpq7n        270m         20Mi
        service4-6497fcfc69-6pnxv        223m         46Mi
        service5-65b54fcdcb-lvpn4        229m         13Mi
        service6-7dcff5bc4-wr4vt         179m         15Mi
        ubuntu-client-76886f6bbd-jtvgp   8m           0Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.05s   690.57ms   4.89s    77.45%
        Req/Sec    65.02     46.10   303.00     73.11%
        Latency Distribution
        50%  942.36ms
        75%    1.35s
        90%    1.80s
        99%    3.82s
        20000 requests in 1.53m, 3.03MB read
        Requests/sec:    217.39
        Transfer/sec:     33.76KB
        ------------------------------
        stop time: 41.026219
        stop time: 40.400823
        stop time: 40.348414
        stop time: 41.935015
        stop time: 41.851619
        stop time: 42.183944
        stop time: 42.850315
        stop time: 42.866620
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.026219, 40.400823, 40.348414, 41.935015, 41.851619, 42.183944, 42.850315, 42.86662]
    [exp] Throughput: 479.81339721113085
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '0.00043518', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '588.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '588.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '588.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '588.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '196.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '196.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.70s   622.13ms   2.92s    60.34%
        Req/Sec    52.73     36.57   151.00     66.39%
        Latency Distribution
        50%    1.71s
        75%    2.15s
        90%    2.52s
        99%    2.89s
        711 requests in 3.03s, 110.40KB read
        Requests/sec:    234.91
        Transfer/sec:     36.48KB
        [run.sh] Speed is 234.91, duration is 127
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d127s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-56ff975745-4vw5x        1537m        78Mi
        service1-865f7c8499-kcqgt        826m         30Mi
        service2-c687b8c7c-fd67x         757m         28Mi
        service3-7c7bc4d56c-x9wdb        651m         28Mi
        service4-6497fcfc69-l9gj5        902m         32Mi
        service5-7df5c9cbd4-5mfrr        575m         12Mi
        service6-76df67556b-lxqkr        517m         11Mi
        ubuntu-client-76886f6bbd-cw88d   17m          23Mi
        Running 2m test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.35s   883.26ms   7.56s    72.05%
        Req/Sec    51.08     34.93   220.00     69.02%
        Latency Distribution
        50%    1.16s
        75%    1.78s
        90%    2.57s
        99%    4.23s
        20000 requests in 2.12m, 3.03MB read
        Requests/sec:    157.48
        Transfer/sec:     24.45KB
        ------------------------------
        stop time: 52.210404
        stop time: 53.025533
        stop time: 53.578485
        stop time: 54.567611
        stop time: 54.272708
        stop time: 54.394949
        stop time: 54.751677
        stop time: 53.492328
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [52.210404, 53.025533, 53.578485, 54.567611, 54.272708, 54.394949, 54.751677, 53.492328]
    [exp] Throughput: 371.8390528590013
[test.py] Finished running 1th optmization experiment: groundtruth->479.81339721113085, slowdown->371.8390528590013, predicted->475.94896750233823, err->-0.8054026276161188
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/dag-relay-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0035363', 'PROCESSING_TIME_SERVICE1': '0.00190373', 'PROCESSING_TIME_SERVICE2': '0.0017178', 'PROCESSING_TIME_SERVICE3': '0.00147747', 'PROCESSING_TIME_SERVICE4': '8.6e-05', 'PROCESSING_TIME_SERVICE5': '0.00038411', 'PROCESSING_TIME_SERVICE6': '0.00032941', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false'}
    [exp] Executing cmd `bash run.sh synthetic dag-relay-http-sync 8 512 20000`:
        [run.sh] Running benchmark synthetic with request dag-relay-http-sync, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.26s   384.45ms   2.32s    76.33%
        Req/Sec    67.09     49.48   190.00     61.90%
        Latency Distribution
        50%    1.24s
        75%    1.46s
        90%    1.58s
        99%    2.26s
        976 requests in 3.02s, 151.55KB read
        Requests/sec:    323.45
        Transfer/sec:     50.22KB
        [run.sh] Speed is 323.45, duration is 92
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d92s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-7b65886d58-7fwqd        395m         85Mi
        service1-7585bd9d88-bh629        100m         39Mi
        service2-958786d58-g597c         271m         30Mi
        service3-6ddd8b8f64-n8lxt        290m         23Mi
        service4-6497fcfc69-7km6l        36m          31Mi
        service5-65b54fcdcb-tttjb        349m         12Mi
        service6-7dcff5bc4-5h4w2         9m           12Mi
        ubuntu-client-76886f6bbd-7l4j8   19m          16Mi
