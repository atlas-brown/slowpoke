[config.py] Random numbers for execution time: [270.67383591435816, 422.4904670936999, 478.4923740627711, 702.4764520887513, 827.0622829647525, 1035.5288881175516, 1065.5800257594587, 1218.740352242821]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 128
target_service                   : service0
request_type                     : fanout-w7-http-sync
repetitions                      : 3
target_num_exp                   : 1
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 25948
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1, 'service6': 1, 'service7': 1}
baseline_service_processing_time : {'service0': 1218.74, 'service1': 1065.58, 'service2': 1035.53, 'service3': 827.06, 'service4': 702.48, 'service5': 478.49, 'service6': 422.49, 'service7': 270.67}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2, 'service7': 2}
target_processing_time_range     : [0, 1218.74]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   137.27ms   63.50ms 442.06ms   70.61%
        Req/Sec   120.58     34.65   260.00     75.66%
        Latency Distribution
        50%  127.23ms
        75%  171.89ms
        90%  221.76ms
        99%  340.49ms
        2787 requests in 3.09s, 432.75KB read
        Requests/sec:    901.42
        Transfer/sec:    139.97KB
        [run.sh] Speed is 901.42, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   131.61ms   54.62ms 427.02ms   70.16%
        Req/Sec   121.67     29.32   373.00     68.09%
        Latency Distribution
        50%  124.66ms
        75%  162.79ms
        90%  203.54ms
        99%  295.65ms
        20000 requests in 33.00s, 3.03MB read
        Requests/sec:    606.06
        Transfer/sec:     94.10KB
        ------------------------------
        stop time: 20.553803
        stop time: 20.711508
        stop time: 20.541010
        stop time: 20.556703
        stop time: 20.677651
        stop time: 20.634757
        stop time: 20.726296
        stop time: 20.548643
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-shmjc         879m         38Mi
        service1-7585bd9d88-52czp        616m         13Mi
        service2-958786d58-qbc7l         461m         10Mi
        service3-6ddd8b8f64-kwgmw        309m         10Mi
        service4-9bb5bd9fd-wm975         292m         10Mi
        service5-65b54fcdcb-9jq9n        209m         10Mi
        service6-7dcff5bc4-p5b74         164m         10Mi
        service7-7758b6668-qkhdn         123m         11Mi
        ubuntu-client-76886f6bbd-dcrdz   19m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.553803, 20.711508, 20.54101, 20.556703, 20.677651, 20.634757, 20.726296, 20.548643]
    [exp] Throughput: 969.9887246691916
[test.py] Baseline throughput: 969.9887246691916
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    90.82ms   81.62ms 640.97ms   85.87%
        Req/Sec   207.42     50.58   580.00     73.39%
        Latency Distribution
        50%   58.48ms
        75%  119.80ms
        90%  201.71ms
        99%  398.45ms
        4908 requests in 3.09s, 762.08KB read
        Requests/sec:   1585.80
        Transfer/sec:    246.23KB
        [run.sh] Speed is 1585.80, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d18s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 18s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    81.59ms   68.07ms 551.27ms   83.69%
        Req/Sec   207.22     46.29   353.00     70.36%
        Latency Distribution
        50%   55.54ms
        75%  106.10ms
        90%  179.23ms
        99%  318.31ms
        20000 requests in 18.00s, 3.03MB read
        Requests/sec:   1111.10
        Transfer/sec:    172.52KB
        ------------------------------
        stop time: 12.181449
        stop time: 11.986801
        stop time: 12.237343
        stop time: 12.130791
        stop time: 11.906254
        stop time: 12.181979
        stop time: 12.111530
        stop time: 12.222436
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-vmp55         1m           40Mi
        service1-7585bd9d88-8dqxr        1m           18Mi
        service2-958786d58-xznmv         13m          15Mi
        service3-6ddd8b8f64-w5xlk        134m         12Mi
        service4-9bb5bd9fd-ns8px         86m          13Mi
        service5-65b54fcdcb-x6hg6        76m          11Mi
        service6-7dcff5bc4-t5pm8         119m         10Mi
        service7-7758b6668-nshn4         88m          9Mi
        ubuntu-client-76886f6bbd-zkfr9   1m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.181449, 11.986801, 12.237343, 12.130791, 11.906254, 12.181979, 12.11153, 12.222436]
    [exp] Throughput: 1650.1891328176691
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   187.75ms   70.15ms 501.03ms   72.19%
        Req/Sec    85.57     30.40   160.00     67.11%
        Latency Distribution
        50%  179.08ms
        75%  233.63ms
        90%  274.46ms
        99%  389.79ms
        2003 requests in 3.10s, 311.01KB read
        Requests/sec:    646.65
        Transfer/sec:    100.41KB
        [run.sh] Speed is 646.65, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-57p9m         5m           3Mi
        service1-7c4bc4bcb5-wqhrk        5m           3Mi
        service2-5c679f8bf5-frts4        5m           3Mi
        service3-cbb98fd5c-8q9ms         5m           3Mi
        service4-644cf677d7-9nvvw        5m           3Mi
        service5-7584c84b9-mgqj8         5m           3Mi
        service6-f9777d9b7-7ftzk         1m           3Mi
        service7-5475f7b45c-s7cf2        1m           3Mi
        ubuntu-client-76886f6bbd-gf5fw   0m           0Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.26ms   66.16ms 585.08ms   70.89%
        Req/Sec    88.72     28.90   190.00     69.94%
        Latency Distribution
        50%  169.79ms
        75%  225.16ms
        90%  269.12ms
        99%  357.16ms
        20000 requests in 46.00s, 3.03MB read
        Requests/sec:    434.78
        Transfer/sec:     67.51KB
        ------------------------------
        stop time: 28.103701
        stop time: 28.290006
        stop time: 28.388726
        stop time: 28.393550
        stop time: 28.287103
        stop time: 28.221754
        stop time: 28.060836
        stop time: 28.201906
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.103701, 28.290006, 28.388726, 28.39355, 28.287103, 28.221754, 28.060836, 28.201906]
    [exp] Throughput: 708.1288437952834
[test.py] Finished running 0th optmization experiment: groundtruth->1650.1891328176691, slowdown->708.1288437952834, predicted->1245.636554612264, err->-24.515527957370477
[test.py] Baseline throughput:  969.9887246691916
[test.py] Groundtruth:  [1650.1891328176691]
[test.py] Slowdown:  [708.1288437952834]
[test.py] Predicted:  [1245.636554612264]
[test.py] Error percentage:  [-24.515527957370477]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   135.63ms   55.88ms 366.98ms   68.55%
        Req/Sec   120.43     35.79   280.00     74.67%
        Latency Distribution
        50%  129.21ms
        75%  168.86ms
        90%  209.94ms
        99%  304.74ms
        2797 requests in 3.10s, 434.30KB read
        Requests/sec:    902.33
        Transfer/sec:    140.11KB
        [run.sh] Speed is 902.33, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d33s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 33s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   131.08ms   58.45ms 523.92ms   71.79%
        Req/Sec   122.14     32.10   252.00     67.60%
        Latency Distribution
        50%  121.62ms
        75%  162.56ms
        90%  207.01ms
        99%  314.44ms
        20000 requests in 33.00s, 3.03MB read
        Requests/sec:    606.06
        Transfer/sec:     94.10KB
        ------------------------------
        stop time: 20.472307
        stop time: 20.639887
        stop time: 20.608003
        stop time: 20.305310
        stop time: 20.439094
        stop time: 20.585498
        stop time: 20.625785
        stop time: 20.511297
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-ffbbn         1m           33Mi
        service1-7585bd9d88-bcrmw        1m           12Mi
        service2-958786d58-6z6l7         5m           9Mi
        service3-6ddd8b8f64-p7z2f        5m           9Mi
        service4-9bb5bd9fd-zk5wm         5m           8Mi
        service5-65b54fcdcb-szlrh        5m           10Mi
        service6-7dcff5bc4-6dcmw         5m           8Mi
        service7-7758b6668-jn8bj         5m           9Mi
        ubuntu-client-76886f6bbd-7k59n   9m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.472307, 20.639887, 20.608003, 20.30531, 20.439094, 20.585498, 20.625785, 20.511297]
    [exp] Throughput: 974.4975157348002
[test.py] Baseline throughput: 974.4975157348002
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    86.61ms   69.21ms 523.87ms   81.26%
        Req/Sec   207.80     49.19   390.00     74.47%
        Latency Distribution
        50%   60.31ms
        75%  117.54ms
        90%  185.54ms
        99%  326.80ms
        4954 requests in 3.10s, 769.22KB read
        Requests/sec:   1600.19
        Transfer/sec:    248.47KB
        [run.sh] Speed is 1600.19, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d18s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 18s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    82.12ms   72.02ms 659.92ms   83.95%
        Req/Sec   206.84     49.73   410.00     71.27%
        Latency Distribution
        50%   52.71ms
        75%  110.33ms
        90%  188.06ms
        99%  337.71ms
        20000 requests in 18.00s, 3.03MB read
        Requests/sec:   1111.10
        Transfer/sec:    172.52KB
        ------------------------------
        stop time: 12.144581
        stop time: 12.024179
        stop time: 12.007649
        stop time: 11.973417
        stop time: 12.074919
        stop time: 12.168205
        stop time: 12.217756
        stop time: 12.189775
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-4wmtx         627m         40Mi
        service1-7585bd9d88-j2gvw        834m         17Mi
        service2-958786d58-rd726         573m         15Mi
        service3-6ddd8b8f64-29ch4        360m         11Mi
        service4-9bb5bd9fd-t2qns         335m         12Mi
        service5-65b54fcdcb-xr4ts        253m         8Mi
        service6-7dcff5bc4-zzx9j         174m         9Mi
        service7-7758b6668-lb7ds         128m         10Mi
        ubuntu-client-76886f6bbd-bcjf8   16m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.144581, 12.024179, 12.007649, 11.973417, 12.074919, 12.168205, 12.217756, 12.189775]
    [exp] Throughput: 1652.884348787482
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   187.53ms   72.51ms 441.45ms   70.89%
        Req/Sec    86.09     30.30   171.00     69.60%
        Latency Distribution
        50%  176.57ms
        75%  235.84ms
        90%  286.19ms
        99%  384.07ms
        2002 requests in 3.09s, 310.86KB read
        Requests/sec:    647.65
        Transfer/sec:    100.56KB
        [run.sh] Speed is 647.65, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d46s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-tzk7g         1426m        38Mi
        service1-7c4bc4bcb5-64w88        840m         13Mi
        service2-5c679f8bf5-n7fct        816m         13Mi
        service3-cbb98fd5c-v654k         670m         11Mi
        service4-644cf677d7-zk698        588m         11Mi
        service5-7584c84b9-j6sn9         434m         10Mi
        service6-f9777d9b7-8lqwl         398m         10Mi
        service7-5475f7b45c-xmfd9        293m         12Mi
        ubuntu-client-76886f6bbd-xmv4c   26m          7Mi
        Running 46s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.86ms   65.72ms 526.58ms   70.77%
        Req/Sec    88.35     28.38   180.00     71.11%
        Latency Distribution
        50%  170.83ms
        75%  224.73ms
        90%  269.36ms
        99%  359.60ms
        20000 requests in 46.00s, 3.03MB read
        Requests/sec:    434.78
        Transfer/sec:     67.51KB
        ------------------------------
        stop time: 28.310551
        stop time: 28.459085
        stop time: 28.350633
        stop time: 28.482515
        stop time: 28.213897
        stop time: 28.123775
        stop time: 28.318725
        stop time: 28.347932
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.310551, 28.459085, 28.350633, 28.482515, 28.213897, 28.123775, 28.318725, 28.347932]
    [exp] Throughput: 706.0678629271447
[test.py] Finished running 0th optmization experiment: groundtruth->1652.884348787482, slowdown->706.0678629271447, predicted->1239.273382104782, err->-25.023587826100197
[test.py] Baseline throughput:  974.4975157348002
[test.py] Groundtruth:  [1652.884348787482]
[test.py] Slowdown:  [706.0678629271447]
[test.py] Predicted:  [1239.273382104782]
[test.py] Error percentage:  [-25.023587826100197]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   143.41ms   64.89ms 494.04ms   71.13%
        Req/Sec   114.84     36.59   242.00     79.57%
        Latency Distribution
        50%  134.10ms
        75%  180.96ms
        90%  226.74ms
        99%  343.74ms
        2677 requests in 3.10s, 415.67KB read
        Requests/sec:    864.89
        Transfer/sec:    134.30KB
        [run.sh] Speed is 864.89, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d34s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 34s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   130.85ms   57.32ms 504.50ms   70.53%
        Req/Sec   122.21     30.25   240.00     71.37%
        Latency Distribution
        50%  122.82ms
        75%  162.96ms
        90%  206.64ms
        99%  302.32ms
        20000 requests in 34.00s, 3.03MB read
        Requests/sec:    588.23
        Transfer/sec:     91.34KB
        ------------------------------
        stop time: 20.252840
        stop time: 20.445628
        stop time: 20.491074
        stop time: 20.400170
        stop time: 20.603401
        stop time: 20.527289
        stop time: 20.574897
        stop time: 20.619020
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-7rgzb         354m         38Mi
        service1-7585bd9d88-w8kps        170m         12Mi
        service2-958786d58-tmqct         306m         12Mi
        service3-6ddd8b8f64-k7k4k        332m         10Mi
        service4-9bb5bd9fd-9mz7c         277m         10Mi
        service5-65b54fcdcb-zxsh8        211m         12Mi
        service6-7dcff5bc4-qm877         231m         12Mi
        service7-7758b6668-6cjr8         179m         9Mi
        ubuntu-client-76886f6bbd-pvzn6   13m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.25284, 20.445628, 20.491074, 20.40017, 20.603401, 20.527289, 20.574897, 20.61902]
    [exp] Throughput: 976.1197250863727
[test.py] Baseline throughput: 976.1197250863727
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    92.70ms   84.29ms 607.11ms   86.10%
        Req/Sec   201.83     50.41   323.00     73.31%
        Latency Distribution
        50%   58.69ms
        75%  127.13ms
        90%  201.32ms
        99%  402.14ms
        4840 requests in 3.10s, 751.52KB read
        Requests/sec:   1561.37
        Transfer/sec:    242.44KB
        [run.sh] Speed is 1561.37, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d19s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 19s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    81.07ms   69.16ms 648.65ms   85.18%
        Req/Sec   207.74     46.56   430.00     69.38%
        Latency Distribution
        50%   55.76ms
        75%  101.96ms
        90%  174.99ms
        99%  342.12ms
        20000 requests in 19.00s, 3.03MB read
        Requests/sec:   1052.62
        Transfer/sec:    163.44KB
        ------------------------------
        stop time: 12.032037
        stop time: 11.980174
        stop time: 12.031994
        stop time: 11.859848
        stop time: 12.175530
        stop time: 12.119924
        stop time: 12.056010
        stop time: 12.135560
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-4c8mp         1m           32Mi
        service1-7585bd9d88-cqc9q        37m          13Mi
        service2-958786d58-lkgnj         5m           9Mi
        service3-6ddd8b8f64-xr28j        5m           8Mi
        service4-9bb5bd9fd-kvkwz         5m           8Mi
        service5-65b54fcdcb-fgz8x        5m           8Mi
        service6-7dcff5bc4-kwlj9         5m           8Mi
        service7-7758b6668-65wn5         5m           9Mi
        ubuntu-client-76886f6bbd-c9gsb   9m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.032037, 11.980174, 12.031994, 11.859848, 12.17553, 12.119924, 12.05601, 12.13556]
    [exp] Throughput: 1659.9046818410382
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 128 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 128, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c128 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   185.15ms   71.27ms 540.84ms   71.04%
        Req/Sec    87.14     31.69   170.00     64.47%
        Latency Distribution
        50%  174.11ms
        75%  233.60ms
        90%  277.89ms
        99%  377.26ms
        2043 requests in 3.09s, 317.22KB read
        Requests/sec:    660.37
        Transfer/sec:    102.54KB
        [run.sh] Speed is 660.37, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c128 -d45s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-28fvj         636m         39Mi
        service1-7c4bc4bcb5-r96l2        261m         14Mi
        service2-5c679f8bf5-6r8n4        286m         12Mi
        service3-cbb98fd5c-m8xms         185m         11Mi
        service4-644cf677d7-q6dd6        169m         12Mi
        service5-7584c84b9-4k6hs         118m         9Mi
        service6-f9777d9b7-5fgg6         79m          9Mi
        service7-5475f7b45c-dpwtl        53m          11Mi
        ubuntu-client-76886f6bbd-82h4k   7m           6Mi
        Running 45s test @ http://service0:80/endpoint1
        8 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.19ms   65.78ms 504.53ms   71.22%
        Req/Sec    89.17     29.17   191.00     60.79%
        Latency Distribution
        50%  168.69ms
        75%  222.55ms
        90%  267.42ms
        99%  359.87ms
        20000 requests in 45.00s, 3.03MB read
        Requests/sec:    444.44
        Transfer/sec:     69.01KB
        ------------------------------
        stop time: 28.128787
        stop time: 28.202342
        stop time: 28.155838
        stop time: 28.156225
        stop time: 27.968960
        stop time: 27.989200
        stop time: 27.988287
        stop time: 27.993412
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.128787, 28.202342, 28.155838, 28.156225, 27.96896, 27.9892, 27.988287, 27.993412]
    [exp] Throughput: 712.4313223440889
[test.py] Finished running 0th optmization experiment: groundtruth->1659.9046818410382, slowdown->712.4313223440889, predicted->1259.011264932473, err->-24.151592636266624
[test.py] Baseline throughput:  976.1197250863727
[test.py] Groundtruth:  [1659.9046818410382]
[test.py] Slowdown:  [712.4313223440889]
[test.py] Predicted:  [1259.011264932473]
[test.py] Error percentage:  [-24.151592636266624]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 969.9887246691916
    Groundtruth: [1650.1891328176691]
    Slowdown:    [708.1288437952834]
    Predicted:   [1245.636554612264]
    Error Perc:  [-24.515527957370477]
[test.py] Result for the experiment 1: 
    Baseline throughput: 974.4975157348002
    Groundtruth: [1652.884348787482]
    Slowdown:    [706.0678629271447]
    Predicted:   [1239.273382104782]
    Error Perc:  [-25.023587826100197]
[test.py] Result for the experiment 2: 
    Baseline throughput: 976.1197250863727
    Groundtruth: [1659.9046818410382]
    Slowdown:    [712.4313223440889]
    Predicted:   [1259.011264932473]
    Error Perc:  [-24.151592636266624]
