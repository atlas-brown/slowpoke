[config.py] Random numbers for execution time: [270.67383591435816, 422.4904670936999, 478.4923740627711, 702.4764520887513, 827.0622829647525, 1035.5288881175516, 1065.5800257594587, 1218.740352242821]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 1024
target_service                   : service0
request_type                     : fanout-w7-http-sync
repetitions                      : 3
target_num_exp                   : 1
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 25948
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1, 'service6': 1, 'service7': 1}
baseline_service_processing_time : {'service0': 1218.74, 'service1': 1065.58, 'service2': 1035.53, 'service3': 827.06, 'service4': 702.48, 'service5': 478.49, 'service6': 422.49, 'service7': 270.67}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2, 'service7': 2}
target_processing_time_range     : [0, 1218.74]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.78s   576.53ms   3.00s    60.14%
        Req/Sec    78.20     54.96   240.00     67.72%
        Latency Distribution
        50%    1.82s
        75%    2.10s
        90%    2.68s
        99%    2.94s
        1297 requests in 3.04s, 201.39KB read
        Requests/sec:    427.29
        Transfer/sec:     66.35KB
        [run.sh] Speed is 427.29, duration is 70
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d70s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-dxknw         441m         132Mi
        service1-7585bd9d88-2g52d        277m         28Mi
        service2-958786d58-42lkq         288m         27Mi
        service3-6ddd8b8f64-9jwmm        232m         20Mi
        service4-9bb5bd9fd-q4scx         203m         20Mi
        service5-65b54fcdcb-zwg6r        153m         18Mi
        service6-7dcff5bc4-msknn         109m         22Mi
        service7-7758b6668-scfdm         65m          18Mi
        ubuntu-client-76886f6bbd-rdlfx   10m          19Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.40s   421.65ms   3.10s    68.74%
        Req/Sec    94.10     51.16   290.00     66.56%
        Latency Distribution
        50%    1.39s
        75%    1.67s
        90%    1.93s
        99%    2.43s
        20000 requests in 1.17m, 3.03MB read
        Requests/sec:    285.71
        Transfer/sec:     44.36KB
        ------------------------------
        stop time: 27.708814
        stop time: 28.162859
        stop time: 27.845552
        stop time: 28.408180
        stop time: 27.691653
        stop time: 27.908012
        stop time: 28.037589
        stop time: 28.431040
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.708814, 28.162859, 27.845552, 28.40818, 27.691653, 27.908012, 28.037589, 28.43104]
    [exp] Throughput: 713.6685853066726
[test.py] Baseline throughput: 713.6685853066726
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   812.81ms  425.43ms   2.63s    76.67%
        Req/Sec   149.48     75.19   404.00     68.52%
        Latency Distribution
        50%  699.62ms
        75%    1.00s
        90%    1.40s
        99%    2.14s
        3257 requests in 3.03s, 505.73KB read
        Requests/sec:   1074.20
        Transfer/sec:    166.80KB
        [run.sh] Speed is 1074.20, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 27s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   721.00ms  596.74ms   4.31s    84.70%
        Req/Sec   184.55     85.17   484.00     67.47%
        Latency Distribution
        50%  608.83ms
        75%  836.02ms
        90%    1.21s
        99%    3.41s
        20000 requests in 27.00s, 3.03MB read
        Requests/sec:    740.74
        Transfer/sec:    115.02KB
        ------------------------------
        stop time: 13.087757
        stop time: 13.035309
        stop time: 14.739903
        stop time: 13.451828
        stop time: 14.868701
        stop time: 14.776826
        stop time: 14.963050
        stop time: 14.759196
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-wdqch         5m           3Mi
        service1-7585bd9d88-hmfln        5m           3Mi
        service2-958786d58-n5hbx         4m           3Mi
        service7-7758b6668-hv8sf         5m           3Mi
        ubuntu-client-76886f6bbd-9jg4n   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.087757, 13.035309, 14.739903, 13.451828, 14.868701, 14.776826, 14.96305, 14.759196]
    [exp] Throughput: 1407.4277173712733
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.62s   580.20ms   2.97s    65.31%
        Req/Sec    85.96     44.00   242.00     66.89%
        Latency Distribution
        50%    1.57s
        75%    2.05s
        90%    2.41s
        99%    2.93s
        1352 requests in 3.03s, 209.93KB read
        Requests/sec:    446.66
        Transfer/sec:     69.35KB
        [run.sh] Speed is 446.66, duration is 67
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d67s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-pk8fm         655m         115Mi
        service1-7c4bc4bcb5-tlc8l        292m         28Mi
        service2-5c679f8bf5-7glxl        283m         21Mi
        service3-cbb98fd5c-qdq8m         231m         19Mi
        service4-644cf677d7-vxtzf        203m         18Mi
        service5-7584c84b9-gnjdr         150m         14Mi
        service6-f9777d9b7-kj5wb         135m         15Mi
        service7-5475f7b45c-w4p55        104m         14Mi
        ubuntu-client-76886f6bbd-2zstb   19m          11Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.39s   353.86ms   3.20s    69.03%
        Req/Sec    94.27     54.08   353.00     64.26%
        Latency Distribution
        50%    1.37s
        75%    1.61s
        90%    1.85s
        99%    2.30s
        20000 requests in 1.12m, 3.03MB read
        Requests/sec:    298.51
        Transfer/sec:     46.35KB
        ------------------------------
        stop time: 27.585475
        stop time: 27.648516
        stop time: 27.733581
        stop time: 27.804343
        stop time: 27.855079
        stop time: 27.916715
        stop time: 27.923381
        stop time: 28.008630
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.585475, 27.648516, 27.733581, 27.804343, 27.855079, 27.916715, 27.923381, 28.00863]
    [exp] Throughput: 719.1796030596057
[test.py] Finished running 0th optmization experiment: groundtruth->1407.4277173712733, slowdown->719.1796030596057, predicted->1280.2404803718327, err->-9.036857483309682
[test.py] Baseline throughput:  713.6685853066726
[test.py] Groundtruth:  [1407.4277173712733]
[test.py] Slowdown:  [719.1796030596057]
[test.py] Predicted:  [1280.2404803718327]
[test.py] Error percentage:  [-9.036857483309682]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.68s   609.39ms   2.95s    64.78%
        Req/Sec    83.63     54.61   242.00     74.55%
        Latency Distribution
        50%    1.65s
        75%    2.09s
        90%    2.57s
        99%    2.85s
        1411 requests in 3.04s, 219.09KB read
        Requests/sec:    464.55
        Transfer/sec:     72.13KB
        [run.sh] Speed is 464.55, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-69whv         5m           3Mi
        service1-7585bd9d88-p6lmp        5m           3Mi
        service2-958786d58-8t89l         5m           3Mi
        service3-6ddd8b8f64-pxtcd        4m           3Mi
        service4-9bb5bd9fd-bfvrl         5m           3Mi
        ubuntu-client-76886f6bbd-xpttp   0m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.43s   424.28ms   2.91s    68.23%
        Req/Sec    92.08     56.16   340.00     68.91%
        Latency Distribution
        50%    1.42s
        75%    1.71s
        90%    1.97s
        99%    2.51s
        20001 requests in 1.07m, 3.03MB read
        Requests/sec:    312.51
        Transfer/sec:     48.53KB
        ------------------------------
        stop time: 28.297425
        stop time: 28.131135
        stop time: 28.494396
        stop time: 28.477264
        stop time: 28.547725
        stop time: 28.651369
        stop time: 28.468394
        stop time: 28.590855
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [28.297425, 28.131135, 28.494396, 28.477264, 28.547725, 28.651369, 28.468394, 28.590855]
    [exp] Throughput: 702.8068608163885
[test.py] Baseline throughput: 702.8068608163885
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.91ms  472.28ms   2.99s    87.26%
        Req/Sec   209.13     95.02   414.00     66.67%
        Latency Distribution
        50%  311.24ms
        75%  613.30ms
        90%    1.17s
        99%    2.24s
        4497 requests in 3.03s, 698.26KB read
        Requests/sec:   1483.49
        Transfer/sec:    230.35KB
        [run.sh] Speed is 1483.49, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   721.45ms  265.23ms   2.29s    69.33%
        Req/Sec   173.50     74.05   480.00     68.52%
        Latency Distribution
        50%  703.87ms
        75%  885.49ms
        90%    1.06s
        99%    1.44s
        20000 requests in 20.00s, 3.03MB read
        Requests/sec:    999.99
        Transfer/sec:    155.27KB
        ------------------------------
        stop time: 14.313229
        stop time: 14.464879
        stop time: 14.649606
        stop time: 14.513896
        stop time: 14.661245
        stop time: 14.587097
        stop time: 14.625216
        stop time: 14.691223
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.313229, 14.464879, 14.649606, 14.513896, 14.661245, 14.587097, 14.625216, 14.691223]
    [exp] Throughput: 1373.3152201066805
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.60s   537.88ms   2.99s    64.93%
        Req/Sec    77.74     39.60   190.00     66.25%
        Latency Distribution
        50%    1.55s
        75%    1.99s
        90%    2.37s
        99%    2.90s
        1326 requests in 3.03s, 205.89KB read
        Requests/sec:    437.35
        Transfer/sec:     67.91KB
        [run.sh] Speed is 437.35, duration is 68
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d68s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-8fjt5         414m         124Mi
        service1-7c4bc4bcb5-82qbj        56m          31Mi
        service2-5c679f8bf5-hbsf5        2m           25Mi
        service3-cbb98fd5c-829rq         5m           23Mi
        service4-644cf677d7-r77tf        5m           17Mi
        service5-7584c84b9-fmrbr         5m           14Mi
        service6-f9777d9b7-xjqmh         5m           12Mi
        service7-5475f7b45c-wfht5        5m           14Mi
        ubuntu-client-76886f6bbd-xwcst   9m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.37s   374.94ms   3.53s    69.75%
        Req/Sec    95.16     53.04   333.00     65.70%
        Latency Distribution
        50%    1.36s
        75%    1.61s
        90%    1.85s
        99%    2.39s
        20000 requests in 1.13m, 3.03MB read
        Requests/sec:    294.12
        Transfer/sec:     45.67KB
        ------------------------------
        stop time: 27.488130
        stop time: 27.272649
        stop time: 27.604390
        stop time: 27.674298
        stop time: 27.674002
        stop time: 27.642896
        stop time: 27.673634
        stop time: 27.347544
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.48813, 27.272649, 27.60439, 27.674298, 27.674002, 27.642896, 27.673634, 27.347544]
    [exp] Throughput: 726.0267893993173
[test.py] Finished running 0th optmization experiment: groundtruth->1373.3152201066805, slowdown->726.0267893993173, predicted->1302.1008917739068, err->-5.185577738462818
[test.py] Baseline throughput:  702.8068608163885
[test.py] Groundtruth:  [1373.3152201066805]
[test.py] Slowdown:  [726.0267893993173]
[test.py] Predicted:  [1302.1008917739068]
[test.py] Error percentage:  [-5.185577738462818]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.65s   645.49ms   2.99s    62.91%
        Req/Sec    89.29     53.66   230.00     66.67%
        Latency Distribution
        50%    1.55s
        75%    2.19s
        90%    2.58s
        99%    2.84s
        1534 requests in 3.04s, 238.19KB read
        Requests/sec:    505.38
        Transfer/sec:     78.47KB
        [run.sh] Speed is 505.38, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d59s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.43s   425.44ms   3.10s    69.40%
        Req/Sec    92.65     53.83   360.00     71.73%
        Latency Distribution
        50%    1.42s
        75%    1.70s
        90%    1.98s
        99%    2.55s
        20000 requests in 0.98m, 3.03MB read
        Requests/sec:    338.98
        Transfer/sec:     52.63KB
        ------------------------------
        stop time: 28.569593
        stop time: 28.486749
        stop time: 28.495318
        stop time: 28.640527
        stop time: 28.591463
        stop time: 28.616622
        stop time: 28.503915
        stop time: 28.714671
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [28.569593, 28.486749, 28.495318, 28.640527, 28.591463, 28.616622, 28.503915, 28.714671]
    [exp] Throughput: 699.8547775092113
[test.py] Baseline throughput: 699.8547775092113
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.93ms  451.78ms   2.90s    84.06%
        Req/Sec   209.12     80.03   440.00     71.36%
        Latency Distribution
        50%  308.80ms
        75%  605.91ms
        90%    1.21s
        99%    1.95s
        4498 requests in 3.03s, 698.42KB read
        Requests/sec:   1482.68
        Transfer/sec:    230.22KB
        [run.sh] Speed is 1482.68, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 20s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   721.33ms  251.23ms   2.25s    69.14%
        Req/Sec   174.87     69.97   380.00     67.02%
        Latency Distribution
        50%  704.18ms
        75%  874.53ms
        90%    1.05s
        99%    1.40s
        20000 requests in 20.00s, 3.03MB read
        Requests/sec:    999.99
        Transfer/sec:    155.27KB
        ------------------------------
        stop time: 14.418928
        stop time: 14.551095
        stop time: 14.279008
        stop time: 14.556392
        stop time: 14.522902
        stop time: 14.644679
        stop time: 14.616727
        stop time: 14.656533
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-crrd9         1646m        133Mi
        service1-7585bd9d88-t9mn4        5m           31Mi
        service2-958786d58-2kr8m         193m         25Mi
        service3-6ddd8b8f64-9hjrr        401m         22Mi
        service4-9bb5bd9fd-5p885         373m         19Mi
        service5-65b54fcdcb-mszrp        350m         18Mi
        service6-7dcff5bc4-p2vrt         383m         18Mi
        service7-7758b6668-lkp8z         337m         17Mi
        ubuntu-client-76886f6bbd-8x9sj   14m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.418928, 14.551095, 14.279008, 14.556392, 14.522902, 14.644679, 14.616727, 14.656533]
    [exp] Throughput: 1376.3883198861345
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 1024 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.23s   687.28ms   2.98s    60.95%
        Req/Sec    84.82     44.28   191.00     63.75%
        Latency Distribution
        50%    1.16s
        75%    1.68s
        90%    2.30s
        99%    2.77s
        1411 requests in 3.03s, 219.09KB read
        Requests/sec:    465.00
        Transfer/sec:     72.20KB
        [run.sh] Speed is 465.00, duration is 64
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d64s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service1-7c4bc4bcb5-m8h86        5m           3Mi
        service2-5c679f8bf5-nvm27        5m           3Mi
        service3-cbb98fd5c-mt8rc         5m           3Mi
        service4-644cf677d7-t454z        5m           3Mi
        service5-7584c84b9-fmdjf         4m           3Mi
        service6-f9777d9b7-rxdn5         1m           3Mi
        ubuntu-client-76886f6bbd-5695s   0m           0Mi
        Running 1m test @ http://service0:80/endpoint1
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.39s   493.60ms   5.62s    75.26%
        Req/Sec    93.29     49.50   300.00     67.59%
        Latency Distribution
        50%    1.35s
        75%    1.63s
        90%    1.94s
        99%    3.11s
        20000 requests in 1.07m, 3.03MB read
        Requests/sec:    312.50
        Transfer/sec:     48.52KB
        ------------------------------
        stop time: 27.713844
        stop time: 27.861379
        stop time: 27.775887
        stop time: 27.911010
        stop time: 27.867766
        stop time: 27.514613
        stop time: 28.068522
        stop time: 28.084515
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [27.713844, 27.861379, 27.775887, 27.91101, 27.867766, 27.514613, 28.068522, 28.084515]
    [exp] Throughput: 718.1407966738016
[test.py] Finished running 0th optmization experiment: groundtruth->1376.3883198861345, slowdown->718.1407966738016, predicted->1276.9523132374236, err->-7.224415174994872
[test.py] Baseline throughput:  699.8547775092113
[test.py] Groundtruth:  [1376.3883198861345]
[test.py] Slowdown:  [718.1407966738016]
[test.py] Predicted:  [1276.9523132374236]
[test.py] Error percentage:  [-7.224415174994872]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 713.6685853066726
    Groundtruth: [1407.4277173712733]
    Slowdown:    [719.1796030596057]
    Predicted:   [1280.2404803718327]
    Error Perc:  [-9.036857483309682]
[test.py] Result for the experiment 1: 
    Baseline throughput: 702.8068608163885
    Groundtruth: [1373.3152201066805]
    Slowdown:    [726.0267893993173]
    Predicted:   [1302.1008917739068]
    Error Perc:  [-5.185577738462818]
[test.py] Result for the experiment 2: 
    Baseline throughput: 699.8547775092113
    Groundtruth: [1376.3883198861345]
    Slowdown:    [718.1407966738016]
    Predicted:   [1276.9523132374236]
    Error Perc:  [-7.224415174994872]
