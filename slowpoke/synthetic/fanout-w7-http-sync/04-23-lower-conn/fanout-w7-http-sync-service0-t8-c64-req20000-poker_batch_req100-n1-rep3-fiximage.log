[config.py] Random numbers for execution time: [270.67383591435816, 422.4904670936999, 478.4923740627711, 702.4764520887513, 827.0622829647525, 1035.5288881175516, 1065.5800257594587, 1218.740352242821]
benchmark                        : synthetic
num_threads                      : 8
num_conns                        : 64
target_service                   : service0
request_type                     : fanout-w7-http-sync
repetitions                      : 3
target_num_exp                   : 1
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 2
random_seed                      : 25948
request_ratio                    : {'service0': 1, 'service1': 1, 'service2': 1, 'service3': 1, 'service4': 1, 'service5': 1, 'service6': 1, 'service7': 1}
baseline_service_processing_time : {'service0': 1218.74, 'service1': 1065.58, 'service2': 1035.53, 'service3': 827.06, 'service4': 702.48, 'service5': 478.49, 'service6': 422.49, 'service7': 270.67}
cpu_quota                        : {'service0': 2, 'service1': 2, 'service2': 2, 'service3': 2, 'service4': 2, 'service5': 2, 'service6': 2, 'service7': 2}
target_processing_time_range     : [0, 1218.74]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    67.26ms   29.09ms 201.41ms   73.46%
        Req/Sec   122.33     32.14   380.00     86.75%
        Latency Distribution
        50%   63.26ms
        75%   81.98ms
        90%  103.69ms
        99%  172.39ms
        2885 requests in 3.10s, 447.96KB read
        Requests/sec:    930.77
        Transfer/sec:    144.52KB
        [run.sh] Speed is 930.77, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d32s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 32s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    65.58ms   24.82ms 208.26ms   70.75%
        Req/Sec   122.14     20.64   250.00     70.84%
        Latency Distribution
        50%   62.40ms
        75%   79.43ms
        90%   98.03ms
        99%  139.52ms
        20000 requests in 32.00s, 3.03MB read
        Requests/sec:    625.00
        Transfer/sec:     97.05KB
        ------------------------------
        stop time: 20.293949
        stop time: 20.614344
        stop time: 20.504579
        stop time: 20.416932
        stop time: 20.540971
        stop time: 20.580562
        stop time: 20.597762
        stop time: 20.571530
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-tzd7j         1922m        25Mi
        service1-7585bd9d88-zffcm        1182m        11Mi
        service2-958786d58-lfwvp         1147m        10Mi
        service3-6ddd8b8f64-sv7s9        948m         9Mi
        service4-9bb5bd9fd-dzmtz         828m         9Mi
        service5-65b54fcdcb-nfqpc        612m         9Mi
        service6-7dcff5bc4-sr679         558m         9Mi
        service7-7758b6668-7qhhh         418m         9Mi
        ubuntu-client-76886f6bbd-97zgf   27m          5Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.293949, 20.614344, 20.504579, 20.416932, 20.540971, 20.580562, 20.597762, 20.57153]
    [exp] Throughput: 974.8926809194719
[test.py] Baseline throughput: 974.8926809194719
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    40.09ms   22.66ms 216.33ms   77.38%
        Req/Sec   209.95     40.54   520.00     86.75%
        Latency Distribution
        50%   34.83ms
        75%   48.61ms
        90%   68.26ms
        99%  121.99ms
        4985 requests in 3.10s, 774.04KB read
        Requests/sec:   1608.02
        Transfer/sec:    249.68KB
        [run.sh] Speed is 1608.02, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d18s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 18s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    39.92ms   23.47ms 247.17ms   78.86%
        Req/Sec   203.74     35.46   340.00     70.89%
        Latency Distribution
        50%   34.33ms
        75%   48.48ms
        90%   69.41ms
        99%  125.05ms
        20000 requests in 18.00s, 3.03MB read
        Requests/sec:   1111.10
        Transfer/sec:    172.52KB
        ------------------------------
        stop time: 12.329062
        stop time: 12.291726
        stop time: 12.325620
        stop time: 12.304255
        stop time: 12.150463
        stop time: 12.325072
        stop time: 12.356600
        stop time: 12.304591
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [12.329062, 12.291726, 12.32562, 12.304255, 12.150463, 12.325072, 12.3566, 12.304591]
    [exp] Throughput: 1626.2246780428331
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    98.03ms   44.69ms 277.39ms   64.10%
        Req/Sec    82.31     32.37   232.00     76.60%
        Latency Distribution
        50%  103.17ms
        75%  127.74ms
        90%  150.43ms
        99%  223.23ms
        1958 requests in 3.10s, 304.03KB read
        Requests/sec:    631.70
        Transfer/sec:     98.09KB
        [run.sh] Speed is 631.70, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-2trfv         422m         25Mi
        service1-7c4bc4bcb5-67vs6        246m         9Mi
        service2-5c679f8bf5-hxsnv        223m         9Mi
        service3-cbb98fd5c-5455d         147m         8Mi
        service4-644cf677d7-fr8d6        142m         8Mi
        service5-7584c84b9-r59cv         109m         9Mi
        service6-f9777d9b7-4zxjd         84m          8Mi
        service7-5475f7b45c-wnwzw        70m          9Mi
        ubuntu-client-76886f6bbd-gm4wv   9m           0Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    96.12ms   40.60ms 297.33ms   63.17%
        Req/Sec    83.22     27.19   170.00     68.83%
        Latency Distribution
        50%  103.33ms
        75%  125.23ms
        90%  143.30ms
        99%  198.10ms
        20000 requests in 47.00s, 3.03MB read
        Requests/sec:    425.53
        Transfer/sec:     66.07KB
        ------------------------------
        stop time: 29.978762
        stop time: 30.192473
        stop time: 29.918566
        stop time: 29.966134
        stop time: 30.186593
        stop time: 30.137922
        stop time: 30.117183
        stop time: 30.140276
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.978762, 30.192473, 29.918566, 29.966134, 30.186593, 30.137922, 30.117183, 30.140276]
    [exp] Throughput: 664.8993945505069
[test.py] Finished running 0th optmization experiment: groundtruth->1626.2246780428331, slowdown->664.8993945505069, predicted->1117.796863740052, err->-31.264303215142185
[test.py] Baseline throughput:  974.8926809194719
[test.py] Groundtruth:  [1626.2246780428331]
[test.py] Slowdown:  [664.8993945505069]
[test.py] Predicted:  [1117.796863740052]
[test.py] Error percentage:  [-31.264303215142185]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    67.39ms   27.46ms 188.46ms   74.13%
        Req/Sec   121.75     23.33   171.00     78.02%
        Latency Distribution
        50%   63.08ms
        75%   80.90ms
        90%  100.89ms
        99%  161.00ms
        2851 requests in 3.01s, 442.68KB read
        Requests/sec:    947.98
        Transfer/sec:    147.20KB
        [run.sh] Speed is 947.98, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d31s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 31s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    65.05ms   24.31ms 216.39ms   70.36%
        Req/Sec   123.15     20.35   272.00     71.47%
        Latency Distribution
        50%   62.14ms
        75%   78.84ms
        90%   97.14ms
        99%  135.81ms
        20000 requests in 31.00s, 3.03MB read
        Requests/sec:    645.16
        Transfer/sec:    100.18KB
        ------------------------------
        stop time: 20.395082
        stop time: 20.202814
        stop time: 20.338571
        stop time: 20.352285
        stop time: 20.358684
        stop time: 20.268460
        stop time: 20.420556
        stop time: 20.437478
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-79rtr         586m         22Mi
        service1-7585bd9d88-wzjj7        3m           9Mi
        service2-958786d58-g9tlq         345m         8Mi
        service3-6ddd8b8f64-rhmrl        284m         9Mi
        service4-9bb5bd9fd-6tvbp         249m         8Mi
        service5-65b54fcdcb-grckv        185m         8Mi
        service6-7dcff5bc4-68nbt         169m         8Mi
        service7-7758b6668-b5srm         128m         9Mi
        ubuntu-client-76886f6bbd-s7whc   10m          0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.395082, 20.202814, 20.338571, 20.352285, 20.358684, 20.26846, 20.420556, 20.437478]
    [exp] Throughput: 982.9583889754335
[test.py] Baseline throughput: 982.9583889754335
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    40.68ms   23.27ms 168.58ms   76.51%
        Req/Sec   206.32     47.16   646.00     86.32%
        Latency Distribution
        50%   35.06ms
        75%   49.88ms
        90%   71.87ms
        99%  120.17ms
        4889 requests in 3.10s, 759.13KB read
        Requests/sec:   1577.25
        Transfer/sec:    244.91KB
        [run.sh] Speed is 1577.25, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d19s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 19s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    39.89ms   23.57ms 266.84ms   78.44%
        Req/Sec   203.07     35.38   343.00     72.38%
        Latency Distribution
        50%   34.09ms
        75%   48.32ms
        90%   70.36ms
        99%  123.58ms
        20000 requests in 19.00s, 3.03MB read
        Requests/sec:   1052.62
        Transfer/sec:    163.44KB
        ------------------------------
        stop time: 12.275289
        stop time: 12.255322
        stop time: 12.385936
        stop time: 12.317097
        stop time: 12.257386
        stop time: 12.446648
        stop time: 12.402418
        stop time: 12.286494
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-6dk6q         330m         29Mi
        service1-7585bd9d88-bg5tz        562m         12Mi
        service2-958786d58-ktg6b         308m         12Mi
        service3-6ddd8b8f64-54fdf        1524m        11Mi
        service4-9bb5bd9fd-5k4x4         1355m        11Mi
        service5-65b54fcdcb-gfwtc        1025m        11Mi
        service6-7dcff5bc4-8bnst         940m         9Mi
        service7-7758b6668-cbqvz         703m         9Mi
        ubuntu-client-76886f6bbd-vv872   23m          5Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.275289, 12.255322, 12.385936, 12.317097, 12.257386, 12.446648, 12.402418, 12.286494]
    [exp] Throughput: 1622.2805634869867
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    97.68ms   42.45ms 256.11ms   63.21%
        Req/Sec    82.80     27.57   160.00     66.09%
        Latency Distribution
        50%  104.05ms
        75%  126.60ms
        90%  147.56ms
        99%  202.45ms
        1957 requests in 3.10s, 303.87KB read
        Requests/sec:    631.60
        Transfer/sec:     98.07KB
        [run.sh] Speed is 631.60, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-qgzbm         1341m        28Mi
        service1-7c4bc4bcb5-j887j        809m         11Mi
        service2-5c679f8bf5-8c5dw        791m         11Mi
        service3-cbb98fd5c-xxkcg         651m         10Mi
        service4-644cf677d7-dphpn        571m         9Mi
        service5-7584c84b9-tw9kg         421m         9Mi
        service6-f9777d9b7-7k29q         382m         10Mi
        service7-5475f7b45c-gbr2f        287m         10Mi
        ubuntu-client-76886f6bbd-btxbf   25m          5Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    95.59ms   40.18ms 285.13ms   62.76%
        Req/Sec    83.72     26.96   190.00     68.59%
        Latency Distribution
        50%  102.03ms
        75%  124.79ms
        90%  142.99ms
        99%  184.66ms
        20000 requests in 47.00s, 3.03MB read
        Requests/sec:    425.53
        Transfer/sec:     66.07KB
        ------------------------------
        stop time: 29.945405
        stop time: 29.782092
        stop time: 29.924564
        stop time: 29.919145
        stop time: 29.902547
        stop time: 29.953022
        stop time: 29.953455
        stop time: 29.922578
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.945405, 29.782092, 29.924564, 29.919145, 29.902547, 29.953022, 29.953455, 29.922578]
    [exp] Throughput: 668.6089533892975
[test.py] Finished running 0th optmization experiment: groundtruth->1622.2805634869867, slowdown->668.6089533892975, predicted->1128.3210791082272, err->-30.448462214022072
[test.py] Baseline throughput:  982.9583889754335
[test.py] Groundtruth:  [1622.2805634869867]
[test.py] Slowdown:  [668.6089533892975]
[test.py] Predicted:  [1128.3210791082272]
[test.py] Error percentage:  [-30.448462214022072]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    66.89ms   30.19ms 251.17ms   77.01%
        Req/Sec   123.94     34.97   404.00     90.60%
        Latency Distribution
        50%   62.35ms
        75%   80.82ms
        90%  100.52ms
        99%  181.74ms
        2918 requests in 3.10s, 453.09KB read
        Requests/sec:    941.31
        Transfer/sec:    146.16KB
        [run.sh] Speed is 941.31, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d31s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 31s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    65.08ms   24.10ms 221.10ms   69.91%
        Req/Sec   123.08     19.40   181.00     71.35%
        Latency Distribution
        50%   62.12ms
        75%   79.26ms
        90%   97.00ms
        99%  133.98ms
        20000 requests in 31.00s, 3.03MB read
        Requests/sec:    645.16
        Transfer/sec:    100.18KB
        ------------------------------
        stop time: 20.324343
        stop time: 20.393951
        stop time: 20.396399
        stop time: 20.331534
        stop time: 20.261295
        stop time: 20.380387
        stop time: 20.372897
        stop time: 20.404712
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [20.324343, 20.393951, 20.396399, 20.331534, 20.261295, 20.380387, 20.372897, 20.404712]
    [exp] Throughput: 982.4056188492889
[test.py] Baseline throughput: 982.4056188492889
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.0', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    40.60ms   22.93ms 216.96ms   77.23%
        Req/Sec   207.49     43.63   520.00     81.62%
        Latency Distribution
        50%   35.73ms
        75%   49.56ms
        90%   70.10ms
        99%  124.20ms
        4925 requests in 3.10s, 764.72KB read
        Requests/sec:   1588.89
        Transfer/sec:    246.71KB
        [run.sh] Speed is 1588.89, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d18s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        Running 18s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    39.16ms   22.40ms 229.78ms   78.44%
        Req/Sec   207.03     32.65   310.00     65.94%
        Latency Distribution
        50%   34.23ms
        75%   47.32ms
        90%   66.35ms
        99%  120.55ms
        20000 requests in 18.00s, 3.03MB read
        Requests/sec:   1111.10
        Transfer/sec:    172.52KB
        ------------------------------
        stop time: 11.911948
        stop time: 12.185379
        stop time: 12.112846
        stop time: 12.118268
        stop time: 12.160029
        stop time: 12.147438
        stop time: 11.971773
        stop time: 12.049779
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-6ffxj         5m           24Mi
        service1-7585bd9d88-tg96l        5m           12Mi
        service2-958786d58-h4jgd         5m           11Mi
        service3-6ddd8b8f64-ltrtf        5m           9Mi
        service4-9bb5bd9fd-g8mdd         5m           8Mi
        service5-65b54fcdcb-mbmcf        5m           8Mi
        service6-7dcff5bc4-4hx2v         5m           8Mi
        service7-7758b6668-w5gx7         5m           9Mi
        ubuntu-client-76886f6bbd-dmhmf   9m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.911948, 12.185379, 12.112846, 12.118268, 12.160029, 12.147438, 11.971773, 12.049779]
    [exp] Throughput: 1655.3300697121567
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload synthetic/fanout-w7-http-sync request with the following configuration: {'CLIENT_CPU_QUOTA': '2', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'PROCESSING_TIME_SERVICE0': '0.00121874', 'PROCESSING_TIME_SERVICE1': '0.00106558', 'PROCESSING_TIME_SERVICE2': '0.00103553', 'PROCESSING_TIME_SERVICE3': '0.00082706', 'PROCESSING_TIME_SERVICE4': '0.00070248', 'PROCESSING_TIME_SERVICE5': '0.00047849', 'PROCESSING_TIME_SERVICE6': '0.00042249', 'PROCESSING_TIME_SERVICE7': '0.00027067', 'SLOWPOKE_DELAY_MICROS_SERVICE0': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE0': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE0': 'true', 'SLOWPOKE_DELAY_MICROS_SERVICE1': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE1': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE1': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE2': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE2': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE2': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE3': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE3': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE3': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE4': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE4': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE4': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE5': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE5': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE5': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE6': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE6': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE6': 'false', 'SLOWPOKE_DELAY_MICROS_SERVICE7': '609.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SERVICE7': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SERVICE7': 'false'}
    [exp] Executing cmd `bash run.sh synthetic fanout-w7-http-sync 8 64 20000`:
        [run.sh] Running benchmark synthetic with request fanout-w7-http-sync, thread 8, conn 64, duration 60
        [run.sh] Deleting all services
        configmap "config-service0" deleted
        deployment.apps "service0" deleted
        service "service0" deleted
        configmap "config-service1" deleted
        deployment.apps "service1" deleted
        service "service1" deleted
        configmap "config-service2" deleted
        deployment.apps "service2" deleted
        service "service2" deleted
        configmap "config-service3" deleted
        deployment.apps "service3" deleted
        service "service3" deleted
        configmap "config-service4" deleted
        deployment.apps "service4" deleted
        service "service4" deleted
        configmap "config-service5" deleted
        deployment.apps "service5" deleted
        service "service5" deleted
        configmap "config-service6" deleted
        deployment.apps "service6" deleted
        service "service6" deleted
        configmap "config-service7" deleted
        deployment.apps "service7" deleted
        service "service7" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        configmap/config-service0 created
        deployment.apps/service0 created
        service/service0 created
        configmap/config-service1 created
        deployment.apps/service1 created
        service/service1 created
        configmap/config-service2 created
        deployment.apps/service2 created
        service/service2 created
        configmap/config-service3 created
        deployment.apps/service3 created
        service/service3 created
        configmap/config-service4 created
        deployment.apps/service4 created
        service/service4 created
        configmap/config-service5 created
        deployment.apps/service5 created
        service/service5 created
        configmap/config-service6 created
        deployment.apps/service6 created
        service/service6 created
        configmap/config-service7 created
        deployment.apps/service7 created
        service/service7 created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c64 --timeout 3s -d3s -L http://service0:80/endpoint1
        Running 3s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    96.86ms   42.20ms 250.56ms   63.01%
        Req/Sec    82.87     38.13   470.00     79.83%
        Latency Distribution
        50%  102.74ms
        75%  125.97ms
        90%  148.10ms
        99%  189.53ms
        1957 requests in 3.10s, 303.87KB read
        Requests/sec:    631.24
        Transfer/sec:     98.02KB
        [run.sh] Speed is 631.24, duration is 47
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c64 -d47s -L -s /wrk/fix_req_n.lua http://service0:80/endpoint1
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        service0-8cfffb9b9-x2knb         14m          27Mi
        service1-7c4bc4bcb5-k7j9w        71m          11Mi
        service2-5c679f8bf5-tjktb        15m          9Mi
        service3-cbb98fd5c-8mpkz         62m          9Mi
        service4-644cf677d7-r4ng7        39m          9Mi
        service5-7584c84b9-j8ph8         35m          9Mi
        service6-f9777d9b7-nxddr         50m          9Mi
        service7-5475f7b45c-7zfz8        33m          9Mi
        ubuntu-client-76886f6bbd-fjqpc   4m           4Mi
        Running 47s test @ http://service0:80/endpoint1
        8 threads and 64 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    96.01ms   40.60ms 309.12ms   63.29%
        Req/Sec    83.33     27.70   171.00     70.62%
        Latency Distribution
        50%  103.03ms
        75%  125.08ms
        90%  143.37ms
        99%  191.54ms
        20000 requests in 47.00s, 3.03MB read
        Requests/sec:    425.53
        Transfer/sec:     66.07KB
        ------------------------------
        stop time: 29.813878
        stop time: 30.179353
        stop time: 30.159842
        stop time: 29.816424
        stop time: 30.023216
        stop time: 30.205389
        stop time: 29.990112
        stop time: 30.182962
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.813878, 30.179353, 30.159842, 29.816424, 30.023216, 30.205389, 29.990112, 30.182962]
    [exp] Throughput: 665.6372143388774
[test.py] Finished running 0th optmization experiment: groundtruth->1655.3300697121567, slowdown->665.6372143388774, predicted->1119.8837202335608, err->-32.34680256679588
[test.py] Baseline throughput:  982.4056188492889
[test.py] Groundtruth:  [1655.3300697121567]
[test.py] Slowdown:  [665.6372143388774]
[test.py] Predicted:  [1119.8837202335608]
[test.py] Error percentage:  [-32.34680256679588]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 974.8926809194719
    Groundtruth: [1626.2246780428331]
    Slowdown:    [664.8993945505069]
    Predicted:   [1117.796863740052]
    Error Perc:  [-31.264303215142185]
[test.py] Result for the experiment 1: 
    Baseline throughput: 982.9583889754335
    Groundtruth: [1622.2805634869867]
    Slowdown:    [668.6089533892975]
    Predicted:   [1128.3210791082272]
    Error Perc:  [-30.448462214022072]
[test.py] Result for the experiment 2: 
    Baseline throughput: 982.4056188492889
    Groundtruth: [1655.3300697121567]
    Slowdown:    [665.6372143388774]
    Predicted:   [1119.8837202335608]
    Error Perc:  [-32.34680256679588]
