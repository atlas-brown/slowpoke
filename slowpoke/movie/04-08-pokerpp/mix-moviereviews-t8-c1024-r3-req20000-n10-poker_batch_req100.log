benchmark                        : movie
num_threads                      : 8
num_conns                        : 1024
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4xmh6:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:34:30.797504Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   409.35ms  199.96ms   1.06s    70.39%
        Req/Sec   187.31     93.24   470.00     66.37%
        Latency Distribution
        50%  433.98ms
        75%  549.62ms
        90%  655.80ms
        99%  812.48ms
        4259 requests in 3.03s, 324.42KB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1405.90
        Transfer/sec:    107.09KB
        [run.sh] Speed is 1405.90, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   633.58ms  221.76ms   1.54s    84.64%
        Req/Sec   197.96     62.15   555.00     72.19%
        Latency Distribution
        50%  690.79ms
        75%  739.60ms
        90%  792.36ms
        99%  945.47ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.546207
        stop time: 12.774027
        stop time: 12.584912
        stop time: 12.735643
        stop time: 12.851844
        stop time: 12.819796
        stop time: 13.005964
        stop time: 13.108916
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-qbsqb        1m           105Mi
        composereview-77946fb6bc-r2lmf   1m           3Mi
        frontend-69b9fdb4c6-cf5bs        1m           3Mi
        movieid-5bb8fb5475-pr746         6m           169Mi
        movieinfo-6c5f868dc9-vs75f       7m           176Mi
        moviereviews-7c945848cf-mw2jm    7m           3Mi
        page-c8c664d8-d8dqr              7m           3Mi
        plot-7954886fb-xb95r             7m           253Mi
        reviewstorage-864bd74b5-jh245    7m           3Mi
        ubuntu-client-76886f6bbd-4xmh6   8m           0Mi
        uniqueid-d47d645ff-zzsdp         1m           3Mi
        user-7cbdb6d567-kvzm9            7m           4Mi
        userreviews-54c668998f-t4cj9     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.546207, 12.774027, 12.584912, 12.735643, 12.851844, 12.819796, 13.005964, 13.108916]
    [exp] Throughput: 1562.0834088299634
[test.py] Baseline throughput: 1562.0834088299634
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-2ds4w:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:36:18.942308Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   475.15ms  301.33ms   1.60s    70.61%
        Req/Sec   189.56     97.49   610.00     72.84%
        Latency Distribution
        50%  427.82ms
        75%  665.18ms
        90%  866.35ms
        99%    1.34s
        4399 requests in 3.03s, 335.08KB read
        Requests/sec:   1452.25
        Transfer/sec:    110.62KB
        [run.sh] Speed is 1452.25, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   552.57ms  228.57ms   1.22s    77.61%
        Req/Sec   218.75     80.78   730.00     70.94%
        Latency Distribution
        50%  604.89ms
        75%  693.10ms
        90%  774.34ms
        99%  931.59ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.913407
        stop time: 11.020951
        stop time: 11.257067
        stop time: 11.574288
        stop time: 11.649289
        stop time: 11.629981
        stop time: 11.936057
        stop time: 11.920523
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-mgrh4        0m           156Mi
        composereview-77946fb6bc-blqm9   1m           12Mi
        frontend-69b9fdb4c6-4hd59        26m          12Mi
        movieid-5bb8fb5475-4c276         0m           187Mi
        movieinfo-6c5f868dc9-cjvkw       0m           194Mi
        moviereviews-576c9f7998-qjfwj    89m          19Mi
        page-c8c664d8-jgd2c              527m         94Mi
        plot-7954886fb-sctw9             1m           299Mi
        reviewstorage-864bd74b5-slcg7    1m           12Mi
        ubuntu-client-76886f6bbd-2ds4w   3m           61Mi
        uniqueid-d47d645ff-69pb6         7m           7Mi
        user-7cbdb6d567-x7wgx            17m          7Mi
        userreviews-54c668998f-tztw8     11m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.913407, 11.020951, 11.257067, 11.574288, 11.649289, 11.629981, 11.936057, 11.920523]
    [exp] Throughput: 1740.9932407787232
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-2fh5d:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:38:08.301468Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   797.43ms  451.02ms   1.98s    63.07%
        Req/Sec   100.84     65.90   280.00     65.13%
        Latency Distribution
        50%  771.86ms
        75%    1.14s
        90%    1.41s
        99%    1.91s
        2150 requests in 3.03s, 163.77KB read
        Requests/sec:    710.28
        Transfer/sec:     54.10KB
        [run.sh] Speed is 710.28, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d42s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-77dcb4fbbb-nrhd5        61m          151Mi
        composereview-59d898df89-mp4xf   27m          12Mi
        frontend-7fc5c8db46-h7nn2        12m          13Mi
        movieid-6b645b64f7-r9bzt         5m           172Mi
        movieinfo-75cd7b4cd4-xh6bs       30m          191Mi
        moviereviews-7c945848cf-87txd    49m          21Mi
        page-94db5f979-2lchg             80m          91Mi
        plot-cf58b89dc-dk6xc             59m          290Mi
        reviewstorage-7864fcfcb8-4l6th   39m          13Mi
        ubuntu-client-76886f6bbd-2fh5d   175m         85Mi
        uniqueid-5d89464895-9svqv        8m           7Mi
        user-84cb5b9fff-d29pw            3m           7Mi
        userreviews-7d6cfc64c7-hj95d     2m           7Mi
        Running 42s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.04s   376.78ms   2.10s    83.54%
        Req/Sec   121.50     60.57   393.00     65.60%
        Latency Distribution
        50%    1.13s
        75%    1.24s
        90%    1.36s
        99%    1.64s
        20000 requests in 42.00s, 1.49MB read
        Requests/sec:    476.19
        Transfer/sec:     36.27KB
        ------------------------------
        stop time: 20.799696
        stop time: 20.842981
        stop time: 21.057750
        stop time: 21.144270
        stop time: 21.144528
        stop time: 21.330552
        stop time: 21.032452
        stop time: 21.084221
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.799696, 20.842981, 21.05775, 21.14427, 21.144528, 21.330552, 21.032452, 21.084221]
    [exp] Throughput: 949.9131571580856
[test.py] Finished running 0th optmization experiment: groundtruth->1740.9932407787232, slowdown->949.9131571580856, predicted->1666.1590801890693, err->-4.298360202488874
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7s69n:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:40:09.365473Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   401.95ms  218.86ms   1.08s    65.85%
        Req/Sec   196.56    106.06   545.00     68.38%
        Latency Distribution
        50%  411.80ms
        75%  565.72ms
        90%  670.57ms
        99%  851.87ms
        4597 requests in 3.03s, 350.16KB read
        Requests/sec:   1518.23
        Transfer/sec:    115.65KB
        [run.sh] Speed is 1518.23, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   557.59ms  224.04ms   1.32s    78.60%
        Req/Sec   217.89     76.40   737.00     72.02%
        Latency Distribution
        50%  599.23ms
        75%  690.54ms
        90%  777.64ms
        99%  943.73ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.841009
        stop time: 11.230044
        stop time: 11.411547
        stop time: 11.690727
        stop time: 11.701226
        stop time: 11.859273
        stop time: 12.040470
        stop time: 11.764674
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-q57n4        130m         152Mi
        composereview-77946fb6bc-gpt49   44m          12Mi
        frontend-69b9fdb4c6-5gq65        32m          12Mi
        movieid-5bb8fb5475-s84r5         9m           172Mi
        movieinfo-6c5f868dc9-jstk7       66m          195Mi
        moviereviews-79f4fbf6c-rgswn     28m          19Mi
        page-c8c664d8-9lz79              635m         82Mi
        plot-7954886fb-nqgqj             101m         298Mi
        reviewstorage-864bd74b5-kfz6g    72m          12Mi
        ubuntu-client-76886f6bbd-7s69n   293m         67Mi
        uniqueid-d47d645ff-vk2fz         12m          7Mi
        user-7cbdb6d567-gwv76            17m          7Mi
        userreviews-54c668998f-jbqkv     12m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.841009, 11.230044, 11.411547, 11.690727, 11.701226, 11.859273, 12.04047, 11.764674]
    [exp] Throughput: 1729.0013061524244
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-psxv4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:41:57.410506Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   713.67ms  432.90ms   1.94s    69.73%
        Req/Sec   102.29     71.29   410.00     71.14%
        Latency Distribution
        50%  619.92ms
        75%    1.03s
        90%    1.33s
        99%    1.88s
        2250 requests in 3.03s, 171.39KB read
        Requests/sec:    741.74
        Transfer/sec:     56.50KB
        [run.sh] Speed is 741.74, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d40s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5b9c9fd788-hxtxk        207m         62Mi
        composereview-5c75d8bd89-ls86l   66m          14Mi
        frontend-568568858-77ljq         143m         13Mi
        movieid-7b9bbdbf7c-l7mjn         18m          174Mi
        movieinfo-5b6d77cdd6-4sz9t       143m         218Mi
        moviereviews-7c945848cf-v2kwq    230m         24Mi
        page-7585b788cc-49qb5            365m         106Mi
        plot-6899667989-z98wg            134m         156Mi
        reviewstorage-6754b5bbd6-jbkfh   90m          15Mi
        ubuntu-client-76886f6bbd-psxv4   371m         102Mi
        uniqueid-756c5ddb99-k7tk6        12m          8Mi
        user-fb956797-4n6v9              10m          8Mi
        userreviews-7cd4bc866f-69dmq     7m           8Mi
        Running 40s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   969.45ms  362.45ms   2.15s    81.81%
        Req/Sec   126.23     59.98   323.00     66.10%
        Latency Distribution
        50%    1.06s
        75%    1.18s
        90%    1.29s
        99%    1.49s
        20000 requests in 40.00s, 1.49MB read
        Requests/sec:    500.00
        Transfer/sec:     38.09KB
        ------------------------------
        stop time: 19.677279
        stop time: 19.508205
        stop time: 19.580988
        stop time: 19.991892
        stop time: 20.170625
        stop time: 20.459110
        stop time: 20.070312
        stop time: 20.459136
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.677279, 19.508205, 19.580988, 19.991892, 20.170625, 20.45911, 20.070312, 20.459136]
    [exp] Throughput: 1000.5155969532224
[test.py] Finished running 1th optmization experiment: groundtruth->1729.0013061524244, slowdown->1000.5155969532224, predicted->1688.635403433524, err->-2.3346369129545215
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5fwfz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:43:56.198469Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   432.35ms  257.63ms   1.44s    69.77%
        Req/Sec   197.70    106.47   616.00     69.26%
        Latency Distribution
        50%  434.98ms
        75%  588.78ms
        90%  756.99ms
        99%    1.14s
        4578 requests in 3.03s, 348.71KB read
        Requests/sec:   1512.73
        Transfer/sec:    115.23KB
        [run.sh] Speed is 1512.73, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   579.86ms  237.71ms   1.50s    79.16%
        Req/Sec   217.85     74.03   650.00     70.49%
        Latency Distribution
        50%  618.50ms
        75%  717.68ms
        90%  811.83ms
        99%    1.03s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.361817
        stop time: 11.886928
        stop time: 11.642988
        stop time: 11.849851
        stop time: 11.702692
        stop time: 11.612333
        stop time: 11.828211
        stop time: 11.768821
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-hkxlb        370m         62Mi
        composereview-77946fb6bc-d777l   118m         13Mi
        frontend-69b9fdb4c6-hlhm5        217m         13Mi
        movieid-5bb8fb5475-f5twf         29m          176Mi
        movieinfo-6c5f868dc9-8lrch       206m         240Mi
        moviereviews-6984997fc6-kwvqp    331m         21Mi
        page-c8c664d8-4mwk8              998m         75Mi
        plot-7954886fb-6s9n7             280m         147Mi
        reviewstorage-864bd74b5-hlbvh    214m         15Mi
        ubuntu-client-76886f6bbd-5fwfz   759m         98Mi
        uniqueid-d47d645ff-vjrxx         23m          8Mi
        user-7cbdb6d567-4wsf9            25m          9Mi
        userreviews-54c668998f-bprng     16m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.361817, 11.886928, 11.642988, 11.849851, 11.702692, 11.612333, 11.828211, 11.768821]
    [exp] Throughput: 1708.4226335631733
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zm4xg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:45:45.501365Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   835.60ms  384.52ms   1.80s    70.61%
        Req/Sec   117.26     65.29   340.00     65.84%
        Latency Distribution
        50%  889.47ms
        75%    1.11s
        90%    1.28s
        99%    1.54s
        2521 requests in 3.03s, 192.03KB read
        Requests/sec:    831.86
        Transfer/sec:     63.36KB
        [run.sh] Speed is 831.86, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d36s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-f44494697-6s7gv         166m         59Mi
        composereview-569976df86-rjh82   58m          14Mi
        frontend-779c8f89cc-n69vt        152m         14Mi
        movieid-7b95656cc8-lvjf6         13m          176Mi
        movieinfo-78c5c84d59-86ts7       87m          215Mi
        moviereviews-7c945848cf-6qkzb    1323m        24Mi
        page-857f965b44-pjxkg            1193m        93Mi
        plot-856748f7dd-d5mdl            158m         146Mi
        reviewstorage-856754557d-ms6fj   97m          16Mi
        ubuntu-client-76886f6bbd-zm4xg   534m         99Mi
        uniqueid-5bc74dc9db-6t27w        23m          8Mi
        user-5b5ddf4fc4-6nl8l            32m          8Mi
        userreviews-84cfdcddfb-p5sfw     23m          8Mi
        Running 36s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   947.64ms  353.65ms   2.11s    82.51%
        Req/Sec   135.15     63.71   444.00     64.67%
        Latency Distribution
        50%    1.02s
        75%    1.13s
        90%    1.25s
        99%    1.64s
        20000 requests in 36.00s, 1.49MB read
        Requests/sec:    555.55
        Transfer/sec:     42.32KB
        ------------------------------
        stop time: 18.531861
        stop time: 18.864017
        stop time: 18.858072
        stop time: 19.092413
        stop time: 19.194869
        stop time: 19.047751
        stop time: 19.235498
        stop time: 19.133857
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.531861, 18.864017, 18.858072, 19.092413, 19.194869, 19.047751, 19.235498, 19.133857]
    [exp] Throughput: 1052.9201760550975
[test.py] Finished running 2th optmization experiment: groundtruth->1708.4226335631733, slowdown->1052.9201760550975, predicted->1701.5380094904924, err->-0.4029813195767614
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zh94l:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:47:41.283554Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   351.99ms  189.21ms 953.27ms   69.82%
        Req/Sec   194.27    123.26   660.00     72.29%
        Latency Distribution
        50%  347.51ms
        75%  468.50ms
        90%  593.11ms
        99%  842.73ms
        4496 requests in 3.03s, 342.47KB read
        Requests/sec:   1482.24
        Transfer/sec:    112.91KB
        [run.sh] Speed is 1482.24, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   554.58ms  225.36ms   1.26s    77.74%
        Req/Sec   221.02     81.11     0.99k    75.31%
        Latency Distribution
        50%  597.89ms
        75%  690.28ms
        90%  779.35ms
        99%  938.76ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.927911
        stop time: 11.124083
        stop time: 11.112964
        stop time: 11.443305
        stop time: 11.502200
        stop time: 11.884001
        stop time: 11.288140
        stop time: 11.884605
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-gq46g        0m           63Mi
        composereview-77946fb6bc-fvhmd   1m           13Mi
        frontend-69b9fdb4c6-r96x2        62m          12Mi
        movieid-5bb8fb5475-r7s75         0m           177Mi
        movieinfo-6c5f868dc9-5r77g       0m           209Mi
        moviereviews-7987d4bb45-r6gz8    149m         19Mi
        page-c8c664d8-bzjxb              36m          71Mi
        plot-7954886fb-5pklh             1m           146Mi
        reviewstorage-864bd74b5-zldcn    1m           14Mi
        ubuntu-client-76886f6bbd-zh94l   4m           70Mi
        uniqueid-d47d645ff-j78rx         1m           7Mi
        user-7cbdb6d567-gwmp8            5m           8Mi
        userreviews-54c668998f-kk8dp     4m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.927911, 11.124083, 11.112964, 11.443305, 11.5022, 11.884001, 11.28814, 11.884605]
    [exp] Throughput: 1755.0169820379165
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-c6jz9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:49:29.499459Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   782.21ms  336.01ms   1.58s    72.81%
        Req/Sec   117.77     77.92   393.00     63.26%
        Latency Distribution
        50%  856.56ms
        75%    1.02s
        90%    1.14s
        99%    1.40s
        2582 requests in 3.04s, 196.68KB read
        Requests/sec:    850.71
        Transfer/sec:     64.80KB
        [run.sh] Speed is 850.71, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6989c48fdf-jkfq8        1m           104Mi
        composereview-7dd85898f5-7h8pv   1m           3Mi
        frontend-74bff5f744-nkkxg        7m           3Mi
        movieid-64d65fb6c-xqf7k          1m           185Mi
        movieinfo-7498d9d9f9-sdzvz       1m           177Mi
        moviereviews-7c945848cf-872d9    7m           3Mi
        page-84db6f6cc6-mvcmm            7m           3Mi
        plot-68b8cd76f6-lckvg            7m           255Mi
        reviewstorage-5456d6f67d-rqh65   7m           3Mi
        ubuntu-client-76886f6bbd-c6jz9   14m          0Mi
        uniqueid-fd89696b5-twdjh         7m           3Mi
        user-7747bd845f-4xh86            1m           4Mi
        userreviews-64597bd76c-f7qtx     1m           3Mi
        Running 35s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   891.50ms  325.57ms   1.79s    82.61%
        Req/Sec   140.10     64.92   590.00     69.81%
        Latency Distribution
        50%  965.13ms
        75%    1.07s
        90%    1.17s
        99%    1.38s
        20000 requests in 35.00s, 1.49MB read
        Requests/sec:    571.43
        Transfer/sec:     43.53KB
        ------------------------------
        stop time: 17.786261
        stop time: 18.106801
        stop time: 17.760681
        stop time: 18.005589
        stop time: 18.060676
        stop time: 18.370676
        stop time: 18.374864
        stop time: 18.524980
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.786261, 18.106801, 17.760681, 18.005589, 18.060676, 18.370676, 18.374864, 18.52498]
    [exp] Throughput: 1103.5203623784305
[test.py] Finished running 3th optmization experiment: groundtruth->1755.0169820379165, slowdown->1103.5203623784305, predicted->1696.6139328342533, err->-3.327776870617277
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-n7w9j:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:51:24.490600Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   365.92ms  193.87ms 931.45ms   68.36%
        Req/Sec   207.08    123.62   595.00     68.00%
        Latency Distribution
        50%  379.42ms
        75%  507.66ms
        90%  598.38ms
        99%  778.70ms
        4693 requests in 3.03s, 357.47KB read
        Requests/sec:   1549.67
        Transfer/sec:    118.04KB
        [run.sh] Speed is 1549.67, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   561.77ms  229.77ms   1.52s    79.25%
        Req/Sec   218.68     69.44   494.00     71.63%
        Latency Distribution
        50%  600.41ms
        75%  687.48ms
        90%  782.85ms
        99%    1.03s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.063490
        stop time: 11.434580
        stop time: 11.520142
        stop time: 11.353106
        stop time: 11.669920
        stop time: 11.755607
        stop time: 11.614771
        stop time: 11.784953
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-hfdwz        1m           104Mi
        composereview-77946fb6bc-bw4v7   1m           3Mi
        frontend-69b9fdb4c6-txzmj        1m           3Mi
        movieid-5bb8fb5475-trblq         1m           168Mi
        movieinfo-6c5f868dc9-684vs       5m           176Mi
        moviereviews-5b578584cd-xgqhw    1m           3Mi
        page-c8c664d8-wfq67              1m           3Mi
        plot-7954886fb-mhr4j             1m           252Mi
        reviewstorage-864bd74b5-fhq6g    1m           3Mi
        ubuntu-client-76886f6bbd-n7w9j   11m          2Mi
        uniqueid-d47d645ff-d42lm         7m           3Mi
        user-7cbdb6d567-8wh2l            7m           4Mi
        userreviews-54c668998f-9gmxw     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.06349, 11.43458, 11.520142, 11.353106, 11.66992, 11.755607, 11.614771, 11.784953]
    [exp] Throughput: 1735.4224971213407
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-nxrwx:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:53:12.593421Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   665.96ms  396.38ms   1.95s    71.94%
        Req/Sec   124.35     74.71   363.00     68.64%
        Latency Distribution
        50%  595.23ms
        75%  923.16ms
        90%    1.19s
        99%    1.86s
        2787 requests in 3.03s, 212.29KB read
        Requests/sec:    920.01
        Transfer/sec:     70.08KB
        [run.sh] Speed is 920.01, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-584fb6cff6-wgtsh        17m          147Mi
        composereview-7f569fb98-4zczf    32m          12Mi
        frontend-849d7c857-8fhwt         51m          12Mi
        movieid-77b899dd5d-45p72         3m           171Mi
        movieinfo-5756b74d98-9dvms       21m          191Mi
        moviereviews-7c945848cf-n2mr9    468m         21Mi
        page-5b5b9b9765-sjb5k            439m         90Mi
        plot-7fc6797d45-k8rrx            69m          286Mi
        reviewstorage-5974f5cf64-klsgh   2m           12Mi
        ubuntu-client-76886f6bbd-nxrwx   207m         60Mi
        uniqueid-6557f8486-c8vkb         9m           7Mi
        user-65bdb79bbf-8ft44            12m          8Mi
        userreviews-6b454947cb-dp4hh     9m           6Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   825.19ms  311.14ms   1.82s    80.95%
        Req/Sec   146.86     62.29   484.00     66.84%
        Latency Distribution
        50%  896.49ms
        75%    1.00s
        90%    1.10s
        99%    1.30s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 16.877832
        stop time: 16.753115
        stop time: 16.925380
        stop time: 17.253657
        stop time: 16.910748
        stop time: 17.397078
        stop time: 17.562200
        stop time: 17.245591
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.877832, 16.753115, 16.92538, 17.253657, 16.910748, 17.397078, 17.5622, 17.245591]
    [exp] Throughput: 1168.5177850707405
[test.py] Finished running 4th optmization experiment: groundtruth->1735.4224971213407, slowdown->1168.5177850707405, predicted->1711.5726540246278, err->-1.3742960654407905
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-88lm9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:55:04.290433Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.13ms  286.72ms   1.76s    74.20%
        Req/Sec   199.66     92.91   464.00     69.40%
        Latency Distribution
        50%  458.27ms
        75%  609.13ms
        90%  762.08ms
        99%    1.53s
        4644 requests in 3.03s, 353.74KB read
        Requests/sec:   1530.98
        Transfer/sec:    116.62KB
        [run.sh] Speed is 1530.98, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   560.77ms  226.72ms   1.40s    79.10%
        Req/Sec   220.20     74.26   626.00     72.46%
        Latency Distribution
        50%  597.04ms
        75%  687.60ms
        90%  783.33ms
        99%    1.01s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.926730
        stop time: 11.221244
        stop time: 11.569971
        stop time: 11.637393
        stop time: 11.486691
        stop time: 11.696964
        stop time: 11.801947
        stop time: 11.779187
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-7gnzh        129m         61Mi
        composereview-77946fb6bc-h5qf8   45m          13Mi
        frontend-69b9fdb4c6-ppnw2        37m          13Mi
        movieid-5bb8fb5475-jbmbf         11m          174Mi
        movieinfo-6c5f868dc9-g8x4d       68m          215Mi
        moviereviews-7999658c67-s5gc6    34m          22Mi
        page-c8c664d8-jbw77              250m         90Mi
        plot-7954886fb-qk4cn             151m         321Mi
        reviewstorage-864bd74b5-rbv6k    74m          13Mi
        ubuntu-client-76886f6bbd-88lm9   262m         99Mi
        uniqueid-d47d645ff-tx7rl         8m           7Mi
        user-7cbdb6d567-zf2wq            1m           8Mi
        userreviews-54c668998f-xlw7d     1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.92673, 11.221244, 11.569971, 11.637393, 11.486691, 11.696964, 11.801947, 11.779187]
    [exp] Throughput: 1736.8625642472248
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tqgv7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:56:52.429532Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   706.57ms  297.06ms   1.54s    77.15%
        Req/Sec   149.47     71.85   333.00     64.95%
        Latency Distribution
        50%  762.52ms
        75%  897.60ms
        90%    1.00s
        99%    1.25s
        3287 requests in 3.03s, 250.38KB read
        Requests/sec:   1083.99
        Transfer/sec:     82.57KB
        [run.sh] Speed is 1083.99, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.22s     1.22s    6.01s    87.57%
        Req/Sec   162.31     71.97   490.00     68.47%
        Latency Distribution
        50%  862.32ms
        75%  986.34ms
        90%    2.87s
        99%    5.66s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 20.227937
        stop time: 20.307997
        stop time: 20.222078
        stop time: 20.295092
        stop time: 20.502788
        stop time: 20.490768
        stop time: 20.554661
        stop time: 20.589598
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6cf8b4d4cd-qsjtz        131m         62Mi
        composereview-68df5c8b69-k5sx5   29m          13Mi
        frontend-799c846966-jlpbq        99m          14Mi
        movieid-8548d5974f-84hnn         11m          177Mi
        movieinfo-7d69884888-qjdkk       85m          214Mi
        moviereviews-7c945848cf-kzdgj    1159m        24Mi
        page-695b455467-hlj9g            1169m        113Mi
        plot-d96fc88c-thkrk              68m          317Mi
        reviewstorage-5f7f65d55d-w926p   47m          15Mi
        ubuntu-client-76886f6bbd-tqgv7   664m         104Mi
        uniqueid-695fb7f99f-bndf6        24m          8Mi
        user-76f986b775-t9b87            27m          8Mi
        userreviews-758d866f69-8bvtc     20m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.227937, 20.307997, 20.222078, 20.295092, 20.502788, 20.490768, 20.554661, 20.589598]
    [exp] Throughput: 980.4467122340308
[test.py] Finished running 5th optmization experiment: groundtruth->1736.8625642472248, slowdown->980.4467122340308, predicted->1259.9683484182776, err->-27.45722232983001
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qv76m:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T19:58:41.608556Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   483.57ms  240.44ms   1.21s    69.28%
        Req/Sec   204.10     98.77   540.00     67.56%
        Latency Distribution
        50%  505.09ms
        75%  663.26ms
        90%  772.33ms
        99%  963.64ms
        4648 requests in 3.03s, 354.05KB read
        Requests/sec:   1535.22
        Transfer/sec:    116.94KB
        [run.sh] Speed is 1535.22, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   574.96ms  226.38ms   1.38s    79.56%
        Req/Sec   218.33     70.61   500.00     70.02%
        Latency Distribution
        50%  612.09ms
        75%  704.26ms
        90%  796.85ms
        99%  988.42ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.483903
        stop time: 11.524795
        stop time: 11.652243
        stop time: 11.589929
        stop time: 11.637951
        stop time: 11.706069
        stop time: 11.580278
        stop time: 11.595882
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-s6tqv        63m          61Mi
        composereview-77946fb6bc-5cssl   32m          12Mi
        frontend-69b9fdb4c6-4g4h8        1m           13Mi
        movieid-5bb8fb5475-dlhk2         5m           176Mi
        movieinfo-6c5f868dc9-rxx6f       20m          218Mi
        moviereviews-547d54f4b8-j5422    1m           22Mi
        page-c8c664d8-x7nqm              1m           77Mi
        plot-7954886fb-4tjb7             91m          145Mi
        reviewstorage-864bd74b5-n8f69    55m          16Mi
        ubuntu-client-76886f6bbd-qv76m   5m           72Mi
        uniqueid-d47d645ff-rjm8k         1m           8Mi
        user-7cbdb6d567-nsbwb            1m           9Mi
        userreviews-54c668998f-lf6d5     1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.483903, 11.524795, 11.652243, 11.589929, 11.637951, 11.706069, 11.580278, 11.595882]
    [exp] Throughput: 1724.675963029415
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4f6z9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:00:29.748717Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   594.16ms  416.50ms   1.97s    68.53%
        Req/Sec   137.25     78.30   444.00     68.97%
        Latency Distribution
        50%  476.42ms
        75%  896.79ms
        90%    1.21s
        99%    1.64s
        3194 requests in 3.02s, 243.29KB read
        Requests/sec:   1056.85
        Transfer/sec:     80.50KB
        [run.sh] Speed is 1056.85, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   732.19ms  276.67ms   1.42s    81.19%
        Req/Sec   168.34     64.96   520.00     71.10%
        Latency Distribution
        50%  802.64ms
        75%  892.99ms
        90%  974.87ms
        99%    1.13s
        20000 requests in 28.00s, 1.49MB read
        Requests/sec:    714.28
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 14.495897
        stop time: 14.757292
        stop time: 14.763154
        stop time: 14.796972
        stop time: 15.158729
        stop time: 15.507112
        stop time: 15.516702
        stop time: 15.498556
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-79cd56f655-zg5dh        1m           104Mi
        composereview-856b94748b-5x7hh   5m           3Mi
        frontend-9b9bd8bb9-5mdbv         1m           3Mi
        movieid-6cbbcc5978-jfncd         7m           169Mi
        movieinfo-6c45df58b9-zwpvq       7m           176Mi
        moviereviews-7c945848cf-f692g    6m           3Mi
        page-66f8cc7bd6-sllts            6m           3Mi
        plot-9c577d4fd-kbv9z             7m           253Mi
        reviewstorage-77c45c4566-2b24l   7m           3Mi
        ubuntu-client-76886f6bbd-4f6z9   14m          0Mi
        uniqueid-5ccb4f955d-7plx4        7m           3Mi
        user-57786cf964-b7hdt            7m           4Mi
        userreviews-67bfb48488-9hzfg     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.495897, 14.757292, 14.763154, 14.796972, 15.158729, 15.507112, 15.516702, 15.498556]
    [exp] Throughput: 1327.8623853882557
[test.py] Finished running 6th optmization experiment: groundtruth->1724.675963029415, slowdown->1327.8623853882557, predicted->1748.0314803329115, err->1.3541974147115883
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vwddw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:02:17.882214Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   534.21ms  236.92ms   1.27s    73.33%
        Req/Sec   202.97     84.98   454.00     67.27%
        Latency Distribution
        50%  578.24ms
        75%  698.89ms
        90%  802.02ms
        99%  938.30ms
        4529 requests in 3.04s, 344.98KB read
        Requests/sec:   1489.24
        Transfer/sec:    113.44KB
        [run.sh] Speed is 1489.24, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   565.29ms  224.53ms   1.36s    79.42%
        Req/Sec   219.18     66.29   484.00     68.17%
        Latency Distribution
        50%  609.31ms
        75%  695.37ms
        90%  778.75ms
        99%  947.10ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.494150
        stop time: 11.565348
        stop time: 11.683100
        stop time: 11.529539
        stop time: 11.529288
        stop time: 11.629012
        stop time: 11.679035
        stop time: 11.638467
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-svxgm        1m           154Mi
        composereview-77946fb6bc-vzpjz   1m           14Mi
        frontend-69b9fdb4c6-hz8km        17m          13Mi
        movieid-5bb8fb5475-k2jn8         1m           187Mi
        movieinfo-6c5f868dc9-wr45j       1m           194Mi
        moviereviews-79c4f996cc-ppzdp    289m         21Mi
        page-c8c664d8-bcpv2              606m         93Mi
        plot-7954886fb-tvp5h             1m           285Mi
        reviewstorage-864bd74b5-p6scx    1m           13Mi
        ubuntu-client-76886f6bbd-vwddw   289m         69Mi
        uniqueid-d47d645ff-8dlw9         12m          8Mi
        user-7cbdb6d567-hdlz4            11m          7Mi
        userreviews-54c668998f-gg48j     7m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.49415, 11.565348, 11.6831, 11.529539, 11.529288, 11.629012, 11.679035, 11.638467]
    [exp] Throughput: 1725.105719060776
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-6l8st:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:04:07.184286Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   561.97ms  355.94ms   1.94s    75.88%
        Req/Sec   151.88     82.24   380.00     71.56%
        Latency Distribution
        50%  532.29ms
        75%  760.59ms
        90%  926.50ms
        99%    1.72s
        3491 requests in 3.04s, 265.92KB read
        Requests/sec:   1149.26
        Transfer/sec:     87.54KB
        [run.sh] Speed is 1149.26, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   701.53ms  275.06ms   1.95s    80.23%
        Req/Sec   175.16     61.94   454.00     68.69%
        Latency Distribution
        50%  763.98ms
        75%  852.92ms
        90%  945.43ms
        99%    1.21s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.019733
        stop time: 14.028961
        stop time: 14.013891
        stop time: 14.350815
        stop time: 14.573977
        stop time: 14.545303
        stop time: 14.903517
        stop time: 14.908768
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7cb64bc57f-zvckr        107m         152Mi
        composereview-69787ffbdc-vcpbz   37m          14Mi
        frontend-59995dfbc6-5k98q        27m          14Mi
        movieid-84fc46956c-rlnlt         9m           172Mi
        movieinfo-7494bd5fc-5hg46        54m          201Mi
        moviereviews-7c945848cf-9thzm    41m          20Mi
        page-698599b4cd-nh9rv            267m         87Mi
        plot-7996d4694b-vqpgq            83m          310Mi
        reviewstorage-649875d4f4-54wxk   60m          13Mi
        ubuntu-client-76886f6bbd-6l8st   138m         96Mi
        uniqueid-66598b7d57-stjrw        11m          7Mi
        user-5496c9c6c-sgk99             1m           8Mi
        userreviews-5db86b8b7f-xdhnq     1m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.019733, 14.028961, 14.013891, 14.350815, 14.573977, 14.545303, 14.903517, 14.908768]
    [exp] Throughput: 1387.1433399802065
[test.py] Finished running 7th optmization experiment: groundtruth->1725.105719060776, slowdown->1387.1433399802065, predicted->1708.9853493302655, err->-0.9344569177642684
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zt4z4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:05:55.237777Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   513.82ms  226.38ms   1.30s    75.82%
        Req/Sec   198.16     81.14   410.00     71.18%
        Latency Distribution
        50%  545.46ms
        75%  659.57ms
        90%  750.32ms
        99%  998.62ms
        4561 requests in 3.04s, 347.42KB read
        Requests/sec:   1502.48
        Transfer/sec:    114.45KB
        [run.sh] Speed is 1502.48, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   576.41ms  220.28ms   1.31s    81.24%
        Req/Sec   217.13     68.56   710.00     73.80%
        Latency Distribution
        50%  622.81ms
        75%  698.07ms
        90%  772.83ms
        99%  941.73ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.449127
        stop time: 11.480379
        stop time: 11.585914
        stop time: 11.741077
        stop time: 11.700340
        stop time: 11.675366
        stop time: 11.759498
        stop time: 11.840418
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-vl8lm        371m         61Mi
        composereview-77946fb6bc-p6sww   103m         14Mi
        frontend-69b9fdb4c6-jrw2d        238m         13Mi
        movieid-5bb8fb5475-zt2wc         27m          177Mi
        movieinfo-6c5f868dc9-5cch8       209m         239Mi
        moviereviews-8779d6c4b-n4brb     1620m        24Mi
        page-c8c664d8-92shb              845m         99Mi
        plot-7954886fb-46m8d             232m         145Mi
        reviewstorage-864bd74b5-7tngc    174m         15Mi
        ubuntu-client-76886f6bbd-zt4z4   686m         97Mi
        uniqueid-d47d645ff-9kflm         17m          8Mi
        user-7cbdb6d567-thgx4            47m          9Mi
        userreviews-54c668998f-tjssf     31m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.449127, 11.480379, 11.585914, 11.741077, 11.70034, 11.675366, 11.759498, 11.840418]
    [exp] Throughput: 1716.1467712645256
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vt5xb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:07:44.424410Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   403.11ms  215.54ms   1.02s    69.14%
        Req/Sec   176.53     89.94   490.00     67.24%
        Latency Distribution
        50%  401.94ms
        75%  559.72ms
        90%  691.69ms
        99%  876.75ms
        4103 requests in 3.03s, 312.53KB read
        Requests/sec:   1352.93
        Transfer/sec:    103.06KB
        [run.sh] Speed is 1352.93, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   676.47ms  247.17ms   1.47s    82.69%
        Req/Sec   184.95     54.86   424.00     66.85%
        Latency Distribution
        50%  727.42ms
        75%  804.90ms
        90%  883.79ms
        99%    1.09s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 13.175685
        stop time: 13.759658
        stop time: 13.723943
        stop time: 13.659382
        stop time: 13.761361
        stop time: 13.882397
        stop time: 13.855151
        stop time: 13.693992
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7f4849cb66-pfmht        127m         61Mi
        composereview-5677885566-r2wrk   47m          13Mi
        frontend-745dcd6f4f-v85m7        26m          13Mi
        movieid-8dd4b5c4-lzn67           9m           176Mi
        movieinfo-5bdfcd4c96-glv8z       59m          218Mi
        moviereviews-7c945848cf-x8pbh    1m           23Mi
        page-67dff8d45f-tw5g5            1321m        106Mi
        plot-758866c95f-pcn2z            128m         146Mi
        reviewstorage-5c4f9bd4b6-cwq4m   87m          16Mi
        ubuntu-client-76886f6bbd-vt5xb   655m         70Mi
        uniqueid-85d5c7cd48-cm54l        22m          8Mi
        user-74b49c6877-lpsjx            2m           8Mi
        userreviews-f5b8bc978-pgkr5      1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.175685, 13.759658, 13.723943, 13.659382, 13.761361, 13.882397, 13.855151, 13.693992]
    [exp] Throughput: 1461.0328521546433
[test.py] Finished running 8th optmization experiment: groundtruth->1716.1467712645256, slowdown->1461.0328521546433, predicted->1683.6765672985207, err->-1.8920412000705236
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qpt8j:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:09:32.743850Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   553.73ms  227.62ms   1.09s    77.96%
        Req/Sec   187.49     82.89   393.00     68.40%
        Latency Distribution
        50%  606.26ms
        75%  702.09ms
        90%  779.22ms
        99%  929.40ms
        4347 requests in 3.04s, 331.12KB read
        Requests/sec:   1431.74
        Transfer/sec:    109.06KB
        [run.sh] Speed is 1431.74, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   575.81ms  224.30ms   1.26s    80.76%
        Req/Sec   211.80     66.43   540.00     72.90%
        Latency Distribution
        50%  639.54ms
        75%  705.82ms
        90%  772.54ms
        99%  910.79ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.277117
        stop time: 11.230439
        stop time: 11.817303
        stop time: 11.897313
        stop time: 12.150594
        stop time: 12.239730
        stop time: 12.372463
        stop time: 12.367042
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-rsjth        1m           105Mi
        composereview-77946fb6bc-vvvfm   5m           3Mi
        frontend-69b9fdb4c6-8788t        1m           3Mi
        movieid-5bb8fb5475-nptwz         6m           170Mi
        movieinfo-6c5f868dc9-jxc8j       7m           177Mi
        moviereviews-564874684c-tt9w8    6m           3Mi
        page-c8c664d8-kl5jd              4m           3Mi
        plot-7954886fb-zbkg9             7m           256Mi
        reviewstorage-864bd74b5-h9mdq    7m           3Mi
        uniqueid-d47d645ff-zqfwj         1m           3Mi
        user-7cbdb6d567-4p7vr            7m           4Mi
        userreviews-54c668998f-25rfq     4m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.277117, 11.230439, 11.817303, 11.897313, 12.150594, 12.23973, 12.372463, 12.367042]
    [exp] Throughput: 1677.9931026303268
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mjvgm:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:11:21.027702Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   522.03ms  308.14ms   1.56s    68.32%
        Req/Sec   170.11     73.62   350.00     72.29%
        Latency Distribution
        50%  488.10ms
        75%  776.45ms
        90%  911.17ms
        99%    1.20s
        3936 requests in 3.03s, 299.81KB read
        Requests/sec:   1299.03
        Transfer/sec:     98.95KB
        [run.sh] Speed is 1299.03, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   622.26ms  234.06ms   1.35s    81.83%
        Req/Sec   196.22     68.11   640.00     74.51%
        Latency Distribution
        50%  688.57ms
        75%  754.87ms
        90%  818.39ms
        99%  949.76ms
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.276290
        stop time: 12.508451
        stop time: 12.551796
        stop time: 12.822788
        stop time: 12.834839
        stop time: 13.388002
        stop time: 13.543830
        stop time: 13.291388
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d6cbb775d-trnbj        1m           134Mi
        composereview-6f9bcc87df-vhff5   1m           13Mi
        frontend-66c96c8cc4-x68vl        10m          13Mi
        movieid-8484cd7fdf-rjxcb         1m           173Mi
        movieinfo-68989748d8-dc8l4       1m           194Mi
        moviereviews-7c945848cf-x6b2v    1m           20Mi
        page-55c547cfd5-lsfcx            1m           79Mi
        plot-789df7547-2nvrc             1m           274Mi
        reviewstorage-6d495857fb-47z2r   1m           12Mi
        ubuntu-client-76886f6bbd-mjvgm   15m          76Mi
        uniqueid-7f7ddd4585-462rz        7m           6Mi
        user-7675998b75-sswc5            9m           7Mi
        userreviews-7cf49c487f-m8rzn     6m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.27629, 12.508451, 12.551796, 12.822788, 12.834839, 13.388002, 13.54383, 13.291388]
    [exp] Throughput: 1550.126478694713
[test.py] Finished running 9th optmization experiment: groundtruth->1677.9931026303268, slowdown->1550.126478694713, predicted->1667.0719112043732, err->-0.6508484098554473
[test.py] Baseline throughput:  1562.0834088299634
[test.py] Groundtruth:  [1740.9932407787232, 1729.0013061524244, 1708.4226335631733, 1755.0169820379165, 1735.4224971213407, 1736.8625642472248, 1724.675963029415, 1725.105719060776, 1716.1467712645256, 1677.9931026303268]
[test.py] Slowdown:  [949.9131571580856, 1000.5155969532224, 1052.9201760550975, 1103.5203623784305, 1168.5177850707405, 980.4467122340308, 1327.8623853882557, 1387.1433399802065, 1461.0328521546433, 1550.126478694713]
[test.py] Predicted:  [1666.1590801890693, 1688.635403433524, 1701.5380094904924, 1696.6139328342533, 1711.5726540246278, 1259.9683484182776, 1748.0314803329115, 1708.9853493302655, 1683.6765672985207, 1667.0719112043732]
[test.py] Error percentage:  [-4.298360202488874, -2.3346369129545215, -0.4029813195767614, -3.327776870617277, -1.3742960654407905, -27.45722232983001, 1.3541974147115883, -0.9344569177642684, -1.8920412000705236, -0.6508484098554473]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-49q6l:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:13:10.176275Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.96ms  247.14ms   1.19s    66.58%
        Req/Sec   181.58     80.02   400.00     68.30%
        Latency Distribution
        50%  459.52ms
        75%  638.41ms
        90%  761.88ms
        99%  968.71ms
        4162 requests in 3.03s, 317.03KB read
        Requests/sec:   1374.39
        Transfer/sec:    104.69KB
        [run.sh] Speed is 1374.39, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   630.63ms  219.58ms   1.40s    85.10%
        Req/Sec   199.37     62.19   610.00     74.60%
        Latency Distribution
        50%  687.54ms
        75%  729.76ms
        90%  779.10ms
        99%  951.46ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.583843
        stop time: 12.795341
        stop time: 12.682614
        stop time: 12.623528
        stop time: 12.812108
        stop time: 12.514394
        stop time: 12.739384
        stop time: 12.689163
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-nkxhm        127m         155Mi
        composereview-77946fb6bc-ccsdg   42m          13Mi
        frontend-69b9fdb4c6-q5z49        32m          12Mi
        movieid-5bb8fb5475-77mt6         10m          171Mi
        movieinfo-6c5f868dc9-v9h9f       91m          194Mi
        moviereviews-7c945848cf-hnzh5    624m         22Mi
        page-c8c664d8-5fsz4              601m         95Mi
        plot-7954886fb-vj9vj             94m          288Mi
        reviewstorage-864bd74b5-tpbrk    69m          13Mi
        ubuntu-client-76886f6bbd-49q6l   268m         63Mi
        uniqueid-d47d645ff-sl2qx         12m          7Mi
        user-7cbdb6d567-5ct4f            14m          7Mi
        userreviews-54c668998f-cmjzs     9m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.583843, 12.795341, 12.682614, 12.623528, 12.812108, 12.514394, 12.739384, 12.689163]
    [exp] Throughput: 1577.2812354055275
[test.py] Baseline throughput: 1577.2812354055275
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-547df5c749-l9kzq cannot connect to movieid
        [run.sh] castinfo-547df5c749-l9kzq cannot connect to movieid
        [run.sh] castinfo-547df5c749-l9kzq cannot connect to movieid
        [run.sh] composereview-77946fb6bc-p9nrp cannot connect to movieid
        [run.sh] composereview-77946fb6bc-p9nrp cannot connect to movieid
        [run.sh] frontend-69b9fdb4c6-c5vrk cannot connect to movieid
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xqw8s:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:15:12.095658Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   413.53ms  219.66ms   1.16s    68.05%
        Req/Sec   196.46     95.32   490.00     67.24%
        Latency Distribution
        50%  412.12ms
        75%  576.17ms
        90%  692.78ms
        99%  893.88ms
        4564 requests in 3.03s, 347.65KB read
        Requests/sec:   1505.33
        Transfer/sec:    114.66KB
        [run.sh] Speed is 1505.33, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   573.15ms  232.01ms   1.39s    78.57%
        Req/Sec   218.44     70.01   650.00     71.48%
        Latency Distribution
        50%  611.21ms
        75%  706.64ms
        90%  806.45ms
        99%  996.55ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.350108
        stop time: 11.645739
        stop time: 11.475294
        stop time: 11.557942
        stop time: 11.647263
        stop time: 11.755426
        stop time: 11.635500
        stop time: 11.596535
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-l9kzq        131m         152Mi
        composereview-77946fb6bc-p9nrp   43m          13Mi
        frontend-69b9fdb4c6-c5vrk        64m          12Mi
        movieid-5bb8fb5475-xt25x         10m          174Mi
        movieinfo-6c5f868dc9-lkvtz       77m          195Mi
        moviereviews-576c9f7998-dlcdr    110m         19Mi
        page-c8c664d8-4dgwz              640m         77Mi
        plot-7954886fb-b2cn9             103m         297Mi
        reviewstorage-864bd74b5-62crf    71m          11Mi
        ubuntu-client-76886f6bbd-xqw8s   218m         62Mi
        uniqueid-d47d645ff-z7224         12m          8Mi
        user-7cbdb6d567-sc8tz            8m           8Mi
        userreviews-54c668998f-6mbk4     6m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [11.350108, 11.645739, 11.475294, 11.557942, 11.647263, 11.755426, 11.6355, 11.596535]
    [exp] Throughput: 1726.6719896366874
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fb9k4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:17:01.217441Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   724.31ms  417.68ms   1.95s    66.99%
        Req/Sec   104.76     67.41   300.00     63.50%
        Latency Distribution
        50%  721.62ms
        75%    1.00s
        90%    1.24s
        99%    1.75s
        2269 requests in 3.03s, 172.83KB read
        Requests/sec:    748.81
        Transfer/sec:     57.04KB
        [run.sh] Speed is 748.81, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d40s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-77dcb4fbbb-qxfsv        148m         62Mi
        composereview-59d898df89-f9jwx   38m          13Mi
        frontend-7fc5c8db46-fjrtd        16m          13Mi
        movieid-6b645b64f7-rxlnh         11m          187Mi
        movieinfo-75cd7b4cd4-kcsj6       86m          212Mi
        moviereviews-7c945848cf-qhmqh    34m          23Mi
        page-94db5f979-xg6wr             269m         104Mi
        plot-cf58b89dc-8s562             86m          318Mi
        reviewstorage-7864fcfcb8-j8kb7   57m          15Mi
        ubuntu-client-76886f6bbd-fb9k4   39m          100Mi
        uniqueid-5d89464895-lk757        5m           8Mi
        user-84cb5b9fff-khzxn            2m           7Mi
        userreviews-7d6cfc64c7-xrlcd     2m           8Mi
        Running 40s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.03s   363.64ms   2.07s    83.58%
        Req/Sec   122.95     63.12   480.00     69.57%
        Latency Distribution
        50%    1.11s
        75%    1.22s
        90%    1.34s
        99%    1.55s
        20000 requests in 40.00s, 1.49MB read
        Requests/sec:    500.00
        Transfer/sec:     38.09KB
        ------------------------------
        stop time: 20.269822
        stop time: 20.795250
        stop time: 20.650797
        stop time: 20.938278
        stop time: 20.929830
        stop time: 21.028845
        stop time: 21.188764
        stop time: 20.938040
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.269822, 20.79525, 20.650797, 20.938278, 20.92983, 21.028845, 21.188764, 20.93804]
    [exp] Throughput: 959.5799381246064
[test.py] Finished running 0th optmization experiment: groundtruth->1726.6719896366874, slowdown->959.5799381246064, predicted->1696.1294621478764, err->-1.7688667953221076
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-lbgqg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:19:01.262472Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   374.81ms  188.97ms 929.78ms   68.88%
        Req/Sec   202.55    103.11   555.00     69.40%
        Latency Distribution
        50%  392.06ms
        75%  503.49ms
        90%  604.48ms
        99%  766.95ms
        4707 requests in 3.03s, 358.54KB read
        Requests/sec:   1552.91
        Transfer/sec:    118.29KB
        [run.sh] Speed is 1552.91, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   539.81ms  232.77ms   1.34s    75.33%
        Req/Sec   221.02     80.13   630.00     73.09%
        Latency Distribution
        50%  586.79ms
        75%  684.14ms
        90%  776.99ms
        99%  963.39ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.719251
        stop time: 11.079054
        stop time: 11.180174
        stop time: 11.484347
        stop time: 11.658186
        stop time: 11.954971
        stop time: 11.707316
        stop time: 11.811205
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-q64w2        284m         61Mi
        composereview-77946fb6bc-gzn8q   77m          13Mi
        frontend-69b9fdb4c6-ncdsb        9m           13Mi
        movieid-5bb8fb5475-zhrk2         20m          175Mi
        movieinfo-6c5f868dc9-qjmlf       179m         218Mi
        moviereviews-79f4fbf6c-l2vkt     71m          21Mi
        page-c8c664d8-jbchf              631m         88Mi
        plot-7954886fb-52dbk             163m         147Mi
        reviewstorage-864bd74b5-25jdh    129m         14Mi
        ubuntu-client-76886f6bbd-lbgqg   63m          100Mi
        uniqueid-d47d645ff-p8wjh         10m          8Mi
        user-7cbdb6d567-7svbx            2m           8Mi
        userreviews-54c668998f-t4srz     1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.719251, 11.079054, 11.180174, 11.484347, 11.658186, 11.954971, 11.707316, 11.811205]
    [exp] Throughput: 1746.8297006117307
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8mjs7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:20:50.504330Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   751.46ms  458.20ms   1.93s    64.75%
        Req/Sec   104.54     62.33   300.00     63.84%
        Latency Distribution
        50%  742.24ms
        75%    1.09s
        90%    1.39s
        99%    1.75s
        2423 requests in 3.03s, 184.56KB read
        Requests/sec:    799.07
        Transfer/sec:     60.87KB
        [run.sh] Speed is 799.07, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d37s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5b9c9fd788-7jsh2        233m         58Mi
        composereview-5c75d8bd89-r8qvv   77m          14Mi
        frontend-568568858-fg98h         133m         13Mi
        movieid-7b9bbdbf7c-6pc2h         19m          176Mi
        movieinfo-5b6d77cdd6-kc47n       132m         209Mi
        moviereviews-7c945848cf-ch6vw    1254m        23Mi
        page-7585b788cc-xm9bb            1122m        105Mi
        plot-6899667989-7cl5b            179m         147Mi
        reviewstorage-6754b5bbd6-8vzk6   114m         16Mi
        ubuntu-client-76886f6bbd-8mjs7   526m         107Mi
        uniqueid-756c5ddb99-6gl2m        22m          8Mi
        user-fb956797-cc7f7              30m          8Mi
        userreviews-7cd4bc866f-h7pbq     22m          9Mi
        Running 37s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   994.11ms  360.92ms   2.04s    82.65%
        Req/Sec   128.40     61.17   484.00     67.44%
        Latency Distribution
        50%    1.07s
        75%    1.18s
        90%    1.31s
        99%    1.58s
        20000 requests in 37.00s, 1.49MB read
        Requests/sec:    540.54
        Transfer/sec:     41.17KB
        ------------------------------
        stop time: 19.546346
        stop time: 19.750253
        stop time: 19.766590
        stop time: 20.141285
        stop time: 20.218880
        stop time: 20.076705
        stop time: 20.103242
        stop time: 20.145851
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.546346, 19.750253, 19.76659, 20.141285, 20.21888, 20.076705, 20.103242, 20.145851]
    [exp] Throughput: 1001.5702618565387
[test.py] Finished running 1th optmization experiment: groundtruth->1746.8297006117307, slowdown->1001.5702618565387, predicted->1691.6418502157364, err->-3.159314864904561
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wb6t4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:22:46.357504Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   397.12ms  228.34ms   1.15s    66.36%
        Req/Sec   197.20    108.70   696.00     72.17%
        Latency Distribution
        50%  381.04ms
        75%  571.75ms
        90%  693.97ms
        99%  913.39ms
        4542 requests in 3.03s, 345.97KB read
        Requests/sec:   1500.89
        Transfer/sec:    114.33KB
        [run.sh] Speed is 1500.89, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   569.14ms  221.74ms   1.33s    81.02%
        Req/Sec   221.30     73.10   626.00     74.33%
        Latency Distribution
        50%  611.28ms
        75%  692.00ms
        90%  775.00ms
        99%  977.08ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.305715
        stop time: 11.542758
        stop time: 11.441629
        stop time: 11.539801
        stop time: 11.626383
        stop time: 11.698054
        stop time: 11.723399
        stop time: 11.652866
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-pp82p        346m         61Mi
        composereview-77946fb6bc-kjxbm   1m           13Mi
        frontend-69b9fdb4c6-4b9mk        139m         12Mi
        movieid-5bb8fb5475-74qjk         24m          176Mi
        movieinfo-6c5f868dc9-gpw2z       184m         216Mi
        moviereviews-6984997fc6-m2klw    355m         19Mi
        page-c8c664d8-jnlls              414m         56Mi
        plot-7954886fb-228cz             3m           146Mi
        reviewstorage-864bd74b5-kn6l2    1m           13Mi
        ubuntu-client-76886f6bbd-wb6t4   468m         73Mi
        uniqueid-d47d645ff-7nwnr         10m          8Mi
        user-7cbdb6d567-dqrvz            25m          8Mi
        userreviews-54c668998f-sqd2h     17m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.305715, 11.542758, 11.441629, 11.539801, 11.626383, 11.698054, 11.723399, 11.652866]
    [exp] Throughput: 1729.1576122300291
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7pm7r:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:24:35.682857Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   710.21ms  453.68ms   1.98s    67.91%
        Req/Sec   113.04     74.39   353.00     67.14%
        Latency Distribution
        50%  671.98ms
        75%  980.68ms
        90%    1.28s
        99%    1.87s
        2546 requests in 3.03s, 193.93KB read
        Requests/sec:    840.90
        Transfer/sec:     64.05KB
        [run.sh] Speed is 840.90, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composereview-569976df86-h7jvr   1m           3Mi
        moviereviews-7c945848cf-qswfx    7m           3Mi
        page-857f965b44-2wrpc            7m           3Mi
        plot-856748f7dd-n8zgg            7m           254Mi
        reviewstorage-856754557d-r4bz4   7m           3Mi
        uniqueid-5bc74dc9db-th6q5        1m           3Mi
        Running 35s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   923.93ms  342.80ms   1.93s    82.03%
        Req/Sec   135.04     62.32   400.00     65.49%
        Latency Distribution
        50%    1.00s
        75%    1.11s
        90%    1.22s
        99%    1.45s
        20000 requests in 35.00s, 1.49MB read
        Requests/sec:    571.43
        Transfer/sec:     43.53KB
        ------------------------------
        stop time: 18.175389
        stop time: 18.626586
        stop time: 18.605217
        stop time: 18.683334
        stop time: 18.947325
        stop time: 19.464730
        stop time: 19.132856
        stop time: 19.248856
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.175389, 18.626586, 18.605217, 18.683334, 18.947325, 19.46473, 19.132856, 19.248856]
    [exp] Throughput: 1060.415214988614
[test.py] Finished running 2th optmization experiment: groundtruth->1729.1576122300291, slowdown->1060.415214988614, predicted->1721.1976189647025, err->-0.46033937039787254
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-756tv:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:26:29.459294Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   415.94ms  224.47ms   1.10s    68.40%
        Req/Sec   195.29     91.56   505.00     70.69%
        Latency Distribution
        50%  435.65ms
        75%  576.21ms
        90%  690.96ms
        99%  917.29ms
        4541 requests in 3.03s, 345.90KB read
        Requests/sec:   1497.16
        Transfer/sec:    114.04KB
        [run.sh] Speed is 1497.16, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   557.32ms  225.48ms   1.30s    78.57%
        Req/Sec   222.46     79.48   720.00     73.85%
        Latency Distribution
        50%  601.19ms
        75%  691.32ms
        90%  776.49ms
        99%  941.74ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.950960
        stop time: 11.178447
        stop time: 11.232575
        stop time: 11.298949
        stop time: 11.364122
        stop time: 11.721776
        stop time: 11.397550
        stop time: 11.672224
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-94qdc        1m           105Mi
        composereview-77946fb6bc-ntbvt   7m           3Mi
        frontend-69b9fdb4c6-frrpj        2m           3Mi
        movieid-5bb8fb5475-4fmb9         7m           169Mi
        movieinfo-6c5f868dc9-mwrfp       7m           176Mi
        moviereviews-7987d4bb45-kg892    7m           3Mi
        page-c8c664d8-6ks7s              5m           3Mi
        plot-7954886fb-94s8s             2m           254Mi
        reviewstorage-864bd74b5-rwlcv    3m           3Mi
        ubuntu-client-76886f6bbd-756tv   14m          0Mi
        uniqueid-d47d645ff-z7qvv         7m           3Mi
        user-7cbdb6d567-ql94z            1m           4Mi
        userreviews-54c668998f-jxstx     1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.95096, 11.178447, 11.232575, 11.298949, 11.364122, 11.721776, 11.39755, 11.672224]
    [exp] Throughput: 1761.7923894378653
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tsxbj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:28:18.675429Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   640.02ms  364.58ms   1.82s    65.77%
        Req/Sec   115.23     69.88   330.00     68.69%
        Latency Distribution
        50%  646.17ms
        75%  915.32ms
        90%    1.11s
        99%    1.44s
        2565 requests in 3.03s, 195.38KB read
        Requests/sec:    847.26
        Transfer/sec:     64.54KB
        [run.sh] Speed is 847.26, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6989c48fdf-ctj74        1m           144Mi
        composereview-7dd85898f5-7sndl   1m           11Mi
        frontend-74bff5f744-5fk2j        1m           12Mi
        movieid-64d65fb6c-sk6l2          1m           171Mi
        movieinfo-7498d9d9f9-h5wc2       1m           192Mi
        moviereviews-7c945848cf-pzt57    23m          21Mi
        page-84db6f6cc6-4whcl            314m         89Mi
        plot-68b8cd76f6-fz4tt            1m           291Mi
        reviewstorage-5456d6f67d-l9m5p   1m           13Mi
        ubuntu-client-76886f6bbd-tsxbj   2m           57Mi
        uniqueid-fd89696b5-m2hcs         5m           7Mi
        user-7747bd845f-4d8xs            0m           7Mi
        userreviews-64597bd76c-hldcg     5m           7Mi
        Running 35s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   876.24ms  332.81ms   1.92s    81.06%
        Req/Sec   141.79     64.44   464.00     69.32%
        Latency Distribution
        50%  950.75ms
        75%    1.07s
        90%    1.17s
        99%    1.41s
        20000 requests in 35.00s, 1.49MB read
        Requests/sec:    571.43
        Transfer/sec:     43.53KB
        ------------------------------
        stop time: 17.263816
        stop time: 17.270244
        stop time: 17.655478
        stop time: 18.133831
        stop time: 17.868029
        stop time: 18.311098
        stop time: 18.370478
        stop time: 18.343366
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.263816, 17.270244, 17.655478, 18.133831, 17.868029, 18.311098, 18.370478, 18.343366]
    [exp] Throughput: 1117.1909574005313
[test.py] Finished running 3th optmization experiment: groundtruth->1761.7923894378653, slowdown->1117.1909574005313, predicted->1729.1446783647268, err->-1.8530963846174493
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qnfth:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:30:12.735687Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   472.29ms  247.06ms   1.31s    70.66%
        Req/Sec   205.60    101.69   460.00     65.18%
        Latency Distribution
        50%  490.96ms
        75%  649.48ms
        90%  755.70ms
        99%    1.04s
        4703 requests in 3.03s, 358.24KB read
        Requests/sec:   1551.13
        Transfer/sec:    118.15KB
        [run.sh] Speed is 1551.13, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   560.87ms  231.65ms   1.37s    77.25%
        Req/Sec   219.58     76.85   550.00     68.36%
        Latency Distribution
        50%  597.29ms
        75%  694.95ms
        90%  802.32ms
        99%  974.02ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.025360
        stop time: 11.260281
        stop time: 11.458218
        stop time: 11.761024
        stop time: 11.667053
        stop time: 11.364713
        stop time: 11.789123
        stop time: 11.715048
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-zhk95        88m          152Mi
        composereview-77946fb6bc-vgfgv   27m          13Mi
        frontend-69b9fdb4c6-szdjv        82m          13Mi
        movieid-5bb8fb5475-rg42f         8m           172Mi
        movieinfo-6c5f868dc9-v7lx4       63m          195Mi
        moviereviews-5b578584cd-h9t56    367m         21Mi
        page-c8c664d8-jfz65              649m         74Mi
        plot-7954886fb-8f52j             33m          289Mi
        reviewstorage-864bd74b5-95st5    31m          12Mi
        ubuntu-client-76886f6bbd-qnfth   301m         63Mi
        uniqueid-d47d645ff-sl8gg         12m          8Mi
        user-7cbdb6d567-74c45            18m          7Mi
        userreviews-54c668998f-4zr2q     11m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.02536, 11.260281, 11.458218, 11.761024, 11.667053, 11.364713, 11.789123, 11.715048]
    [exp] Throughput: 1738.359132393649
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mr2sx:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:32:01.876702Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   625.86ms  361.52ms   1.73s    65.31%
        Req/Sec   125.03     69.99   310.00     65.60%
        Latency Distribution
        50%  626.05ms
        75%  905.90ms
        90%    1.10s
        99%    1.50s
        2831 requests in 3.03s, 215.64KB read
        Requests/sec:    934.81
        Transfer/sec:     71.21KB
        [run.sh] Speed is 934.81, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-584fb6cff6-bbgbf        12m          61Mi
        composereview-7f569fb98-zzzr4    3m           13Mi
        frontend-849d7c857-pdtrw         50m          14Mi
        movieid-77b899dd5d-vnfzf         2m           173Mi
        movieinfo-5756b74d98-2wwd9       19m          206Mi
        moviereviews-7c945848cf-875t7    691m         22Mi
        page-5b5b9b9765-tjnt8            332m         110Mi
        plot-7fc6797d45-tttrm            21m          158Mi
        reviewstorage-5974f5cf64-dl942   10m          14Mi
        ubuntu-client-76886f6bbd-mr2sx   176m         101Mi
        uniqueid-6557f8486-t4qz8         16m          7Mi
        user-65bdb79bbf-4znx6            13m          8Mi
        userreviews-6b454947cb-dfrqs     9m           8Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   851.38ms  317.13ms   1.68s    82.51%
        Req/Sec   148.08     63.16   450.00     69.64%
        Latency Distribution
        50%  921.95ms
        75%    1.02s
        90%    1.12s
        99%    1.35s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 16.801028
        stop time: 17.013720
        stop time: 17.159774
        stop time: 17.234428
        stop time: 17.302341
        stop time: 17.299899
        stop time: 17.128449
        stop time: 17.308955
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.801028, 17.01372, 17.159774, 17.234428, 17.302341, 17.299899, 17.128449, 17.308955]
    [exp] Throughput: 1165.7678620736908
[test.py] Finished running 4th optmization experiment: groundtruth->1738.359132393649, slowdown->1165.7678620736908, predicted->1705.6792551718042, err->-1.8799266856236903
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kjxss:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:33:52.881712Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   490.96ms  231.61ms   1.34s    73.94%
        Req/Sec   200.60     89.57   610.00     71.49%
        Latency Distribution
        50%  522.90ms
        75%  628.28ms
        90%  745.77ms
        99%    1.00s
        4628 requests in 3.03s, 352.52KB read
        Requests/sec:   1526.26
        Transfer/sec:    116.26KB
        [run.sh] Speed is 1526.26, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   558.80ms  230.84ms   1.39s    78.60%
        Req/Sec   223.53     78.36   626.00     69.57%
        Latency Distribution
        50%  598.29ms
        75%  692.57ms
        90%  784.56ms
        99%  998.80ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.980520
        stop time: 11.222088
        stop time: 11.373867
        stop time: 11.375731
        stop time: 11.533024
        stop time: 11.493864
        stop time: 11.631272
        stop time: 11.479242
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-4hzz6        402m         61Mi
        composereview-77946fb6bc-nw5fn   115m         13Mi
        frontend-69b9fdb4c6-bcvx2        219m         13Mi
        movieid-5bb8fb5475-mgttc         47m          189Mi
        movieinfo-6c5f868dc9-s5l4g       229m         217Mi
        moviereviews-7999658c67-wpn9c    886m         21Mi
        page-c8c664d8-4w8t8              1382m        75Mi
        plot-7954886fb-tcj6p             272m         146Mi
        reviewstorage-864bd74b5-c5n75    201m         15Mi
        ubuntu-client-76886f6bbd-kjxss   848m         96Mi
        uniqueid-d47d645ff-88fll         21m          8Mi
        user-7cbdb6d567-5hhzk            43m          8Mi
        userreviews-54c668998f-d7q9t     28m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.98052, 11.222088, 11.373867, 11.375731, 11.533024, 11.493864, 11.631272, 11.479242]
    [exp] Throughput: 1756.5121149714466
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-sw4hv:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:35:41.216494Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   523.98ms  293.58ms   1.56s    68.31%
        Req/Sec   130.35     84.50   410.00     69.96%
        Latency Distribution
        50%  523.79ms
        75%  733.55ms
        90%  891.77ms
        99%    1.28s
        2966 requests in 3.03s, 225.93KB read
        Requests/sec:    979.78
        Transfer/sec:     74.63KB
        [run.sh] Speed is 979.78, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6cf8b4d4cd-7cnsl        122m         59Mi
        composereview-68df5c8b69-ntsjc   47m          14Mi
        frontend-799c846966-kgw4l        26m          13Mi
        movieid-8548d5974f-68s6k         11m          188Mi
        movieinfo-7d69884888-r5d98       55m          218Mi
        moviereviews-7c945848cf-vbh65    0m           23Mi
        page-695b455467-kz866            937m         87Mi
        plot-d96fc88c-w4njp              117m         154Mi
        reviewstorage-5f7f65d55d-5s8l7   78m          15Mi
        ubuntu-client-76886f6bbd-sw4hv   154m         95Mi
        uniqueid-695fb7f99f-56r5l        0m           8Mi
        user-76f986b775-w2g22            5m           8Mi
        userreviews-758d866f69-vhfhw     4m           9Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   783.51ms  298.02ms   1.92s    81.88%
        Req/Sec   157.99     61.53   480.00     67.46%
        Latency Distribution
        50%  854.94ms
        75%  945.96ms
        90%    1.04s
        99%    1.26s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 15.376254
        stop time: 15.738100
        stop time: 15.687599
        stop time: 16.030053
        stop time: 16.403844
        stop time: 16.385724
        stop time: 16.387600
        stop time: 16.528856
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.376254, 15.7381, 15.687599, 16.030053, 16.403844, 16.385724, 16.3876, 16.528856]
    [exp] Throughput: 1244.7677936249686
[test.py] Finished running 5th optmization experiment: groundtruth->1756.5121149714466, slowdown->1244.7677936249686, predicted->1732.8314428615793, err->-1.34816446229022
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tq8w6:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:37:30.035613Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   431.00ms  221.28ms   1.23s    68.00%
        Req/Sec   192.53     93.67   510.00     70.13%
        Latency Distribution
        50%  456.36ms
        75%  600.55ms
        90%  704.48ms
        99%  852.63ms
        4469 requests in 3.03s, 340.41KB read
        Requests/sec:   1475.24
        Transfer/sec:    112.37KB
        [run.sh] Speed is 1475.24, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   574.25ms  225.63ms   1.24s    79.06%
        Req/Sec   217.49     70.18   520.00     72.30%
        Latency Distribution
        50%  609.88ms
        75%  705.50ms
        90%  803.66ms
        99%  977.16ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.367649
        stop time: 11.607094
        stop time: 11.483024
        stop time: 11.670393
        stop time: 11.875988
        stop time: 11.699482
        stop time: 11.914205
        stop time: 11.883674
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-mxh4b        1m           105Mi
        composereview-77946fb6bc-dgzkd   1m           3Mi
        frontend-69b9fdb4c6-9kk87        1m           3Mi
        movieid-5bb8fb5475-s6nwz         7m           169Mi
        movieinfo-6c5f868dc9-7p856       7m           176Mi
        moviereviews-547d54f4b8-fck85    1m           3Mi
        page-c8c664d8-dsbnj              7m           3Mi
        plot-7954886fb-zg4w2             7m           254Mi
        reviewstorage-864bd74b5-tqwcs    7m           3Mi
        ubuntu-client-76886f6bbd-tq8w6   14m          0Mi
        uniqueid-d47d645ff-f8csg         1m           3Mi
        user-7cbdb6d567-qj9kb            7m           4Mi
        userreviews-54c668998f-lxt4g     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.367649, 11.607094, 11.483024, 11.670393, 11.875988, 11.699482, 11.914205, 11.883674]
    [exp] Throughput: 1711.2023293656148
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pn2wz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:39:18.312445Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   594.63ms  399.80ms   1.86s    69.00%
        Req/Sec   143.92     82.49   390.00     61.75%
        Latency Distribution
        50%  480.97ms
        75%  899.37ms
        90%    1.15s
        99%    1.59s
        3197 requests in 3.03s, 243.52KB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1053.63
        Transfer/sec:     80.26KB
        [run.sh] Speed is 1053.63, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   737.79ms  279.37ms   1.65s    80.32%
        Req/Sec   165.42     64.99   440.00     69.73%
        Latency Distribution
        50%  808.00ms
        75%  895.20ms
        90%  985.49ms
        99%    1.17s
        20000 requests in 28.00s, 1.49MB read
        Requests/sec:    714.28
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 14.743657
        stop time: 14.701245
        stop time: 15.072500
        stop time: 15.445596
        stop time: 15.501886
        stop time: 15.626735
        stop time: 15.599784
        stop time: 15.452756
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-79cd56f655-jkjd6        0m           150Mi
        composereview-856b94748b-msvqm   1m           13Mi
        frontend-9b9bd8bb9-fkpmq         46m          13Mi
        movieid-6cbbcc5978-8f4zs         0m           172Mi
        movieinfo-6c45df58b9-95q97       1m           194Mi
        moviereviews-7c945848cf-q9v84    1m           22Mi
        page-66f8cc7bd6-5l6tv            1m           95Mi
        plot-9c577d4fd-lvtq5             1m           287Mi
        reviewstorage-77c45c4566-cm9k7   1m           12Mi
        ubuntu-client-76886f6bbd-pn2wz   71m          61Mi
        uniqueid-5ccb4f955d-pcbwx        7m           8Mi
        user-57786cf964-r45c7            13m          8Mi
        userreviews-67bfb48488-hdr24     8m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.743657, 14.701245, 15.0725, 15.445596, 15.501886, 15.626735, 15.599784, 15.452756]
    [exp] Throughput: 1309.927558631764
[test.py] Finished running 6th optmization experiment: groundtruth->1711.2023293656148, slowdown->1309.927558631764, predicted->1717.0831366701711, err->0.3436652231964012
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-875w6:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:41:07.708642Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   402.90ms  215.27ms   1.11s    67.98%
        Req/Sec   198.21     99.37   460.00     66.38%
        Latency Distribution
        50%  417.40ms
        75%  564.85ms
        90%  672.94ms
        99%  843.32ms
        4607 requests in 3.03s, 350.92KB read
        Requests/sec:   1520.09
        Transfer/sec:    115.79KB
        [run.sh] Speed is 1520.09, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   565.39ms  223.36ms   1.17s    80.07%
        Req/Sec   218.25     74.87   520.00     69.91%
        Latency Distribution
        50%  612.83ms
        75%  699.49ms
        90%  771.68ms
        99%  915.68ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.159692
        stop time: 11.331803
        stop time: 11.789634
        stop time: 11.255090
        stop time: 11.600963
        stop time: 11.970672
        stop time: 11.482061
        stop time: 11.817657
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-tsfqt        99m          148Mi
        composereview-77946fb6bc-sf9fq   45m          13Mi
        frontend-69b9fdb4c6-6nt9m        1m           13Mi
        movieid-5bb8fb5475-d7vqp         9m           188Mi
        movieinfo-6c5f868dc9-5gxk2       41m          204Mi
        moviereviews-79c4f996cc-vbs66    516m         21Mi
        page-c8c664d8-9tfbh              627m         90Mi
        plot-7954886fb-hxs76             100m         315Mi
        reviewstorage-864bd74b5-jnmz4    73m          13Mi
        ubuntu-client-76886f6bbd-875w6   109m         93Mi
        uniqueid-d47d645ff-2nk8k         14m          8Mi
        user-7cbdb6d567-xn8ch            3m           8Mi
        userreviews-54c668998f-258pz     2m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.159692, 11.331803, 11.789634, 11.25509, 11.600963, 11.970672, 11.482061, 11.817657]
    [exp] Throughput: 1731.4598418406665
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-ww7rj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:42:55.890614Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   611.94ms  288.53ms   1.48s    73.07%
        Req/Sec   157.46     86.45   474.00     65.93%
        Latency Distribution
        50%  639.17ms
        75%  806.64ms
        90%  943.17ms
        99%    1.24s
        3598 requests in 3.03s, 274.07KB read
        Requests/sec:   1189.25
        Transfer/sec:     90.59KB
        [run.sh] Speed is 1189.25, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   699.14ms  262.94ms   1.40s    81.88%
        Req/Sec   175.66     60.46   450.00     68.93%
        Latency Distribution
        50%  763.92ms
        75%  848.12ms
        90%  927.98ms
        99%    1.09s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 13.820113
        stop time: 13.886867
        stop time: 13.977652
        stop time: 14.336410
        stop time: 14.720668
        stop time: 14.703018
        stop time: 14.718563
        stop time: 14.720830
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7cb64bc57f-zhqmn        320m         62Mi
        composereview-69787ffbdc-pf27m   94m          14Mi
        frontend-59995dfbc6-5tdm9        178m         14Mi
        movieid-84fc46956c-m6wjd         25m          176Mi
        movieinfo-7494bd5fc-t7665        180m         233Mi
        moviereviews-7c945848cf-rnxdr    827m         24Mi
        page-698599b4cd-5btxp            1196m        106Mi
        plot-7996d4694b-rrt5z            214m         146Mi
        reviewstorage-649875d4f4-8r57w   153m         15Mi
        ubuntu-client-76886f6bbd-ww7rj   716m         105Mi
        uniqueid-66598b7d57-5jdvx        16m          8Mi
        user-5496c9c6c-xdv9p             43m          8Mi
        userreviews-5db86b8b7f-tpgr7     30m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.820113, 13.886867, 13.977652, 14.33641, 14.720668, 14.703018, 14.718563, 14.72083]
    [exp] Throughput: 1392.7077006577786
[test.py] Finished running 7th optmization experiment: groundtruth->1731.4598418406665, slowdown->1392.7077006577786, predicted->1717.439182271324, err->-0.8097594429009453
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-snqjl:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:44:44.180348Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   434.92ms  265.55ms   1.37s    67.25%
        Req/Sec   196.32     82.81   505.00     71.11%
        Latency Distribution
        50%  411.38ms
        75%  641.10ms
        90%  789.30ms
        99%    1.08s
        4501 requests in 3.03s, 342.85KB read
        Requests/sec:   1485.33
        Transfer/sec:    113.14KB
        [run.sh] Speed is 1485.33, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   584.30ms  224.53ms   1.24s    81.41%
        Req/Sec   216.62     69.68   570.00     71.91%
        Latency Distribution
        50%  628.57ms
        75%  706.99ms
        90%  784.99ms
        99%  968.42ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.498816
        stop time: 11.826502
        stop time: 11.951025
        stop time: 11.782067
        stop time: 11.648682
        stop time: 11.776491
        stop time: 11.779818
        stop time: 11.866774
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-4zzfv        1m           58Mi
        composereview-77946fb6bc-clw52   9m           13Mi
        frontend-69b9fdb4c6-m62wp        1m           13Mi
        movieid-5bb8fb5475-8ns44         1m           177Mi
        movieinfo-6c5f868dc9-fj2zn       1m           217Mi
        moviereviews-8779d6c4b-tlr8l     811m         23Mi
        page-c8c664d8-m95zq              333m         98Mi
        plot-7954886fb-6hf6t             32m          145Mi
        reviewstorage-864bd74b5-xjl5d    17m          15Mi
        ubuntu-client-76886f6bbd-snqjl   5m           72Mi
        uniqueid-d47d645ff-nlhwz         14m          7Mi
        user-7cbdb6d567-t2sf5            1m           9Mi
        userreviews-54c668998f-7czbf     1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.498816, 11.826502, 11.951025, 11.782067, 11.648682, 11.776491, 11.779818, 11.866774]
    [exp] Throughput: 1699.7737441792708
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wb746:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:46:33.561499Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   528.35ms  329.60ms   1.72s    69.57%
        Req/Sec   164.31     85.47   434.00     64.22%
        Latency Distribution
        50%  483.62ms
        75%  778.58ms
        90%  929.69ms
        99%    1.33s
        3818 requests in 3.03s, 290.82KB read
        Requests/sec:   1260.86
        Transfer/sec:     96.04KB
        [run.sh] Speed is 1260.86, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   662.86ms  247.14ms   1.62s    82.82%
        Req/Sec   186.72     63.60   490.00     69.88%
        Latency Distribution
        50%  722.20ms
        75%  798.04ms
        90%  871.98ms
        99%    1.03s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.883522
        stop time: 13.187322
        stop time: 13.482739
        stop time: 13.764168
        stop time: 13.544349
        stop time: 13.692569
        stop time: 13.979572
        stop time: 13.909120
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7f4849cb66-zs2d7        1m           105Mi
        composereview-5677885566-wbj28   1m           3Mi
        frontend-745dcd6f4f-7h9hs        1m           3Mi
        movieid-8dd4b5c4-bpdll           7m           186Mi
        movieinfo-5bdfcd4c96-qwhg2       7m           176Mi
        page-67dff8d45f-q826q            7m           3Mi
        plot-758866c95f-zt98k            7m           254Mi
        reviewstorage-5c4f9bd4b6-cthgp   7m           3Mi
        ubuntu-client-76886f6bbd-wb746   14m          0Mi
        uniqueid-85d5c7cd48-zztm7        1m           3Mi
        user-74b49c6877-ldl8z            7m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.883522, 13.187322, 13.482739, 13.764168, 13.544349, 13.692569, 13.979572, 13.90912]
    [exp] Throughput: 1475.424576705991
[test.py] Finished running 8th optmization experiment: groundtruth->1699.7737441792708, slowdown->1475.424576705991, predicted->1702.8174785868528, err->0.1790670327745065
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jmbng:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:48:23.078189Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.96ms  222.01ms   1.03s    76.77%
        Req/Sec   193.54     85.73   490.00     69.64%
        Latency Distribution
        50%  595.39ms
        75%  692.55ms
        90%  787.96ms
        99%  911.97ms
        4383 requests in 3.04s, 333.86KB read
        Requests/sec:   1442.49
        Transfer/sec:    109.88KB
        [run.sh] Speed is 1442.49, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   583.45ms  218.33ms   1.19s    81.53%
        Req/Sec   208.46     72.51   535.00     71.07%
        Latency Distribution
        50%  640.92ms
        75%  708.69ms
        90%  772.17ms
        99%  904.42ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.566006
        stop time: 11.660885
        stop time: 11.818949
        stop time: 12.133714
        stop time: 12.193991
        stop time: 12.660973
        stop time: 12.552490
        stop time: 12.607299
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-qfzc5        1m           105Mi
        composereview-77946fb6bc-qksjm   1m           3Mi
        frontend-69b9fdb4c6-g8fqn        1m           3Mi
        movieid-5bb8fb5475-g9j95         1m           170Mi
        movieinfo-6c5f868dc9-9lclf       1m           176Mi
        moviereviews-564874684c-kgh8k    1m           3Mi
        page-c8c664d8-7r4x2              1m           3Mi
        plot-7954886fb-m4hsl             1m           253Mi
        reviewstorage-864bd74b5-99wt5    1m           3Mi
        ubuntu-client-76886f6bbd-jmbng   2m           2Mi
        uniqueid-d47d645ff-h9jnc         7m           3Mi
        user-7cbdb6d567-pdmkt            7m           4Mi
        userreviews-54c668998f-7glb8     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.566006, 11.660885, 11.818949, 12.133714, 12.193991, 12.660973, 12.55249, 12.607299]
    [exp] Throughput: 1646.186952081463
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-w2b72:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:50:11.211387Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   529.41ms  269.83ms   1.39s    72.43%
        Req/Sec   178.44     74.40   360.00     67.41%
        Latency Distribution
        50%  538.07ms
        75%  713.30ms
        90%  851.41ms
        99%    1.14s
        4073 requests in 3.03s, 310.25KB read
        Requests/sec:   1343.54
        Transfer/sec:    102.34KB
        [run.sh] Speed is 1343.54, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   634.79ms  225.78ms   1.16s    83.78%
        Req/Sec   195.09     64.53   620.00     71.35%
        Latency Distribution
        50%  689.04ms
        75%  748.49ms
        90%  811.16ms
        99%  945.62ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.475077
        stop time: 12.749136
        stop time: 12.872219
        stop time: 13.159477
        stop time: 12.865009
        stop time: 12.969203
        stop time: 13.056892
        stop time: 13.074075
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d6cbb775d-lghmp        118m         139Mi
        composereview-6f9bcc87df-9sxhx   43m          13Mi
        frontend-66c96c8cc4-l49l7        61m          12Mi
        movieid-8484cd7fdf-b7xg5         10m          187Mi
        movieinfo-68989748d8-srfnx       53m          191Mi
        moviereviews-7c945848cf-fkpzr    613m         22Mi
        page-55c547cfd5-6ngms            581m         100Mi
        plot-789df7547-wzhfm             96m          297Mi
        reviewstorage-6d495857fb-t75q6   69m          13Mi
        ubuntu-client-76886f6bbd-w2b72   234m         61Mi
        uniqueid-7f7ddd4585-jwdq9        12m          7Mi
        user-7675998b75-jskzf            16m          7Mi
        userreviews-7cf49c487f-s8p95     10m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.475077, 12.749136, 12.872219, 13.159477, 12.865009, 12.969203, 13.056892, 13.074075]
    [exp] Throughput: 1550.0708537387243
[test.py] Finished running 9th optmization experiment: groundtruth->1646.186952081463, slowdown->1550.0708537387243, predicted->1667.007576856483, err->1.2647788726969345
[test.py] Baseline throughput:  1577.2812354055275
[test.py] Groundtruth:  [1726.6719896366874, 1746.8297006117307, 1729.1576122300291, 1761.7923894378653, 1738.359132393649, 1756.5121149714466, 1711.2023293656148, 1731.4598418406665, 1699.7737441792708, 1646.186952081463]
[test.py] Slowdown:  [959.5799381246064, 1001.5702618565387, 1060.415214988614, 1117.1909574005313, 1165.7678620736908, 1244.7677936249686, 1309.927558631764, 1392.7077006577786, 1475.424576705991, 1550.0708537387243]
[test.py] Predicted:  [1696.1294621478764, 1691.6418502157364, 1721.1976189647025, 1729.1446783647268, 1705.6792551718042, 1732.8314428615793, 1717.0831366701711, 1717.439182271324, 1702.8174785868528, 1667.007576856483]
[test.py] Error percentage:  [-1.7688667953221076, -3.159314864904561, -0.46033937039787254, -1.8530963846174493, -1.8799266856236903, -1.34816446229022, 0.3436652231964012, -0.8097594429009453, 0.1790670327745065, 1.2647788726969345]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-6s4h4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:51:59.240534Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   569.45ms  230.79ms   1.06s    77.05%
        Req/Sec   180.93     66.15   323.00     72.17%
        Latency Distribution
        50%  612.82ms
        75%  721.39ms
        90%  802.26ms
        99%  949.36ms
        4188 requests in 3.04s, 319.01KB read
        Requests/sec:   1379.81
        Transfer/sec:    105.10KB
        [run.sh] Speed is 1379.81, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   634.88ms  215.29ms   1.12s    85.52%
        Req/Sec   197.22     65.41   520.00     73.08%
        Latency Distribution
        50%  693.52ms
        75%  733.62ms
        90%  780.23ms
        99%  907.01ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.545466
        stop time: 12.547810
        stop time: 12.800011
        stop time: 12.750369
        stop time: 12.843952
        stop time: 13.029550
        stop time: 12.951817
        stop time: 12.975684
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-x54mn        354m         58Mi
        composereview-77946fb6bc-6ffjf   96m          14Mi
        frontend-69b9fdb4c6-tbgnb        43m          13Mi
        movieid-5bb8fb5475-8sj6z         25m          188Mi
        movieinfo-6c5f868dc9-52snm       218m         215Mi
        moviereviews-7c945848cf-jvpth    931m         24Mi
        page-c8c664d8-n9bwk              1379m        114Mi
        plot-7954886fb-cb44v             233m         144Mi
        reviewstorage-864bd74b5-tztt5    173m         15Mi
        ubuntu-client-76886f6bbd-6s4h4   765m         103Mi
        uniqueid-d47d645ff-m2qgn         15m          8Mi
        user-7cbdb6d567-qzfn7            11m          8Mi
        userreviews-54c668998f-6zvfc     7m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.545466, 12.54781, 12.800011, 12.750369, 12.843952, 13.02955, 12.951817, 12.975684]
    [exp] Throughput: 1561.8188548023768
[test.py] Baseline throughput: 1561.8188548023768
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-284qc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:53:48.492326Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   425.92ms  229.86ms   1.14s    66.96%
        Req/Sec   187.97     96.00   494.00     70.69%
        Latency Distribution
        50%  418.25ms
        75%  612.51ms
        90%  720.55ms
        99%  866.03ms
        4367 requests in 3.03s, 332.64KB read
        Requests/sec:   1441.60
        Transfer/sec:    109.81KB
        [run.sh] Speed is 1441.60, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   564.68ms  227.54ms   1.27s    78.77%
        Req/Sec   223.33     78.42   660.00     70.66%
        Latency Distribution
        50%  604.53ms
        75%  697.29ms
        90%  789.79ms
        99%  958.71ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.352300
        stop time: 11.113336
        stop time: 11.249472
        stop time: 11.376109
        stop time: 11.303624
        stop time: 11.451534
        stop time: 11.606805
        stop time: 11.509258
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-sptm8        391m         61Mi
        composereview-77946fb6bc-ztkm2   24m          12Mi
        frontend-69b9fdb4c6-fp2vc        183m         13Mi
        movieid-5bb8fb5475-62vmh         4m           176Mi
        movieinfo-6c5f868dc9-bqvcb       215m         217Mi
        moviereviews-576c9f7998-jrcf9    261m         17Mi
        page-c8c664d8-pj45q              444m         69Mi
        plot-7954886fb-bgn8n             68m          147Mi
        reviewstorage-864bd74b5-6zjrd    39m          12Mi
        ubuntu-client-76886f6bbd-284qc   99m          75Mi
        uniqueid-d47d645ff-f7jp8         19m          8Mi
        user-7cbdb6d567-kpch4            43m          8Mi
        userreviews-54c668998f-qxf4x     27m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.3523, 11.113336, 11.249472, 11.376109, 11.303624, 11.451534, 11.606805, 11.509258]
    [exp] Throughput: 1758.9678060300012
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7cpq8:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:55:36.484471Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   716.65ms  412.94ms   1.93s    65.08%
        Req/Sec    98.02     71.68   363.00     66.34%
        Latency Distribution
        50%  698.02ms
        75%    1.00s
        90%    1.26s
        99%    1.63s
        2142 requests in 3.03s, 163.16KB read
        Requests/sec:    707.05
        Transfer/sec:     53.86KB
        [run.sh] Speed is 707.05, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d42s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composereview-59d898df89-67xlv   3m           3Mi
        movieid-6b645b64f7-txnrr         7m           168Mi
        moviereviews-7c945848cf-6bdrm    7m           3Mi
        page-94db5f979-p6jg6             7m           3Mi
        plot-cf58b89dc-bbkl6             7m           253Mi
        reviewstorage-7864fcfcb8-kp8vs   7m           3Mi
        ubuntu-client-76886f6bbd-7cpq8   14m          0Mi
        uniqueid-5d89464895-x2gd7        1m           3Mi
        Running 42s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.03s   375.88ms   2.12s    82.61%
        Req/Sec   121.53     57.85   434.00     64.98%
        Latency Distribution
        50%    1.11s
        75%    1.23s
        90%    1.35s
        99%    1.63s
        20000 requests in 42.00s, 1.49MB read
        Requests/sec:    476.19
        Transfer/sec:     36.27KB
        ------------------------------
        stop time: 20.215558
        stop time: 20.512463
        stop time: 21.014296
        stop time: 20.773014
        stop time: 21.231447
        stop time: 20.953473
        stop time: 21.227177
        stop time: 21.278382
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.215558, 20.512463, 21.014296, 20.773014, 21.231447, 20.953473, 21.227177, 21.278382]
    [exp] Throughput: 956.9045477546504
[test.py] Finished running 0th optmization experiment: groundtruth->1758.9678060300012, slowdown->956.9045477546504, predicted->1687.7885333992388, err->-4.0466501084755135
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-nk8zl:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:57:37.293275Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.41ms  255.20ms   1.21s    65.22%
        Req/Sec   196.50     98.66   550.00     68.53%
        Latency Distribution
        50%  465.64ms
        75%  650.44ms
        90%  779.50ms
        99%  973.79ms
        4571 requests in 3.03s, 348.18KB read
        Requests/sec:   1506.88
        Transfer/sec:    114.78KB
        [run.sh] Speed is 1506.88, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   562.40ms  229.07ms   1.35s    78.67%
        Req/Sec   220.77     72.05   595.00     75.33%
        Latency Distribution
        50%  604.28ms
        75%  695.38ms
        90%  787.22ms
        99%  965.64ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.074316
        stop time: 11.088715
        stop time: 11.358019
        stop time: 11.630794
        stop time: 11.640159
        stop time: 11.627494
        stop time: 11.503558
        stop time: 11.581196
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composereview-77946fb6bc-b45z2   3m           3Mi
        moviereviews-79f4fbf6c-h6ptt     7m           3Mi
        page-c8c664d8-rx4m2              7m           3Mi
        plot-7954886fb-mv9k6             7m           278Mi
        uniqueid-d47d645ff-4zdgx         1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.074316, 11.088715, 11.358019, 11.630794, 11.640159, 11.627494, 11.503558, 11.581196]
    [exp] Throughput: 1748.55264374548
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zf56r:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T20:59:26.513311Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   755.96ms  461.52ms   1.97s    64.31%
        Req/Sec   108.91     66.33   333.00     66.03%
        Latency Distribution
        50%  705.02ms
        75%    1.11s
        90%    1.41s
        99%    1.84s
        2376 requests in 3.03s, 180.98KB read
        Requests/sec:    784.78
        Transfer/sec:     59.78KB
        [run.sh] Speed is 784.78, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d38s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5b9c9fd788-zls2w        1m           104Mi
        composereview-5c75d8bd89-pqh8x   1m           3Mi
        frontend-568568858-bfgtb         1m           3Mi
        movieid-7b9bbdbf7c-2k45h         6m           169Mi
        movieinfo-5b6d77cdd6-6qfr2       7m           178Mi
        moviereviews-7c945848cf-2z6gz    1m           3Mi
        page-7585b788cc-76mld            7m           3Mi
        plot-6899667989-7dkqt            7m           254Mi
        reviewstorage-6754b5bbd6-8p58h   7m           3Mi
        ubuntu-client-76886f6bbd-zf56r   14m          2Mi
        uniqueid-756c5ddb99-8dbvt        7m           3Mi
        user-fb956797-dtr9x              7m           4Mi
        userreviews-7cd4bc866f-ts7md     6m           3Mi
        Running 38s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   972.31ms  355.77ms   2.02s    82.12%
        Req/Sec   128.12     63.07   370.00     67.16%
        Latency Distribution
        50%    1.05s
        75%    1.17s
        90%    1.28s
        99%    1.52s
        20000 requests in 38.00s, 1.49MB read
        Requests/sec:    526.31
        Transfer/sec:     40.09KB
        ------------------------------
        stop time: 19.277032
        stop time: 19.560135
        stop time: 19.836485
        stop time: 19.617653
        stop time: 19.995247
        stop time: 20.213554
        stop time: 20.236299
        stop time: 20.314882
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.277032, 19.560135, 19.836485, 19.617653, 19.995247, 20.213554, 20.236299, 20.314882]
    [exp] Throughput: 1005.9648244154101
[test.py] Finished running 1th optmization experiment: groundtruth->1748.55264374548, slowdown->1005.9648244154101, predicted->1704.2161710676278, err->-2.535609827730523
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jjdc7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:01:23.303539Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   410.92ms  218.52ms   1.07s    66.12%
        Req/Sec   195.46    118.08   545.00     66.81%
        Latency Distribution
        50%  423.06ms
        75%  574.42ms
        90%  694.79ms
        99%  828.08ms
        4542 requests in 3.02s, 345.97KB read
        Requests/sec:   1502.83
        Transfer/sec:    114.47KB
        [run.sh] Speed is 1502.83, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   552.54ms  234.36ms   1.26s    76.52%
        Req/Sec   220.24     82.43   660.00     73.06%
        Latency Distribution
        50%  597.57ms
        75%  693.13ms
        90%  788.30ms
        99%  987.38ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.004063
        stop time: 10.998935
        stop time: 11.179759
        stop time: 11.310490
        stop time: 11.582169
        stop time: 11.811789
        stop time: 11.918849
        stop time: 11.917133
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-x98lv        1m           105Mi
        composereview-77946fb6bc-72zww   1m           3Mi
        frontend-69b9fdb4c6-h5xlg        1m           3Mi
        movieid-5bb8fb5475-mx877         1m           168Mi
        movieinfo-6c5f868dc9-xsg9c       1m           176Mi
        moviereviews-6984997fc6-lr24s    1m           3Mi
        page-c8c664d8-jmc8z              7m           3Mi
        plot-7954886fb-92fzj             7m           252Mi
        reviewstorage-864bd74b5-ldfj8    7m           3Mi
        ubuntu-client-76886f6bbd-jjdc7   14m          2Mi
        uniqueid-d47d645ff-fh9fw         3m           3Mi
        user-7cbdb6d567-555jw            7m           4Mi
        userreviews-54c668998f-4t4xl     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.004063, 10.998935, 11.179759, 11.31049, 11.582169, 11.811789, 11.918849, 11.917133]
    [exp] Throughput: 1744.3789867441044
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pcms5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:03:12.488391Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   691.24ms  420.47ms   1.98s    68.15%
        Req/Sec   113.80     68.82   400.00     70.67%
        Latency Distribution
        50%  676.48ms
        75%    1.00s
        90%    1.23s
        99%    1.78s
        2493 requests in 3.04s, 189.90KB read
        Requests/sec:    821.24
        Transfer/sec:     62.56KB
        [run.sh] Speed is 821.24, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d36s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-f44494697-nl27l         68m          144Mi
        composereview-569976df86-xrc5r   22m          13Mi
        frontend-779c8f89cc-lnrn6        54m          13Mi
        movieid-7b95656cc8-hfdf5         6m           186Mi
        movieinfo-78c5c84d59-dxwl6       62m          194Mi
        moviereviews-7c945848cf-mkp84    432m         20Mi
        page-857f965b44-7gvvn            226m         85Mi
        plot-856748f7dd-hxc6g            32m          283Mi
        reviewstorage-856754557d-slkf7   26m          13Mi
        ubuntu-client-76886f6bbd-pcms5   113m         59Mi
        uniqueid-5bc74dc9db-spzbs        10m          8Mi
        user-5b5ddf4fc4-tvc6b            12m          7Mi
        userreviews-84cfdcddfb-b9zxn     9m           7Mi
        Running 36s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   935.77ms  343.46ms   2.19s    82.55%
        Req/Sec   133.27     61.79   434.00     65.50%
        Latency Distribution
        50%    1.02s
        75%    1.13s
        90%    1.23s
        99%    1.45s
        20000 requests in 36.00s, 1.49MB read
        Requests/sec:    555.55
        Transfer/sec:     42.32KB
        ------------------------------
        stop time: 18.550812
        stop time: 18.858151
        stop time: 18.860728
        stop time: 18.699798
        stop time: 19.231816
        stop time: 19.433494
        stop time: 19.482762
        stop time: 19.247537
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.550812, 18.858151, 18.860728, 18.699798, 19.231816, 19.433494, 19.482762, 19.247537]
    [exp] Throughput: 1050.1092579614265
[test.py] Finished running 2th optmization experiment: groundtruth->1744.3789867441044, slowdown->1050.1092579614265, predicted->1694.2093089774833, err->-2.8760767096984576
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pfjgn:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:05:08.286696Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   451.48ms  255.99ms   1.37s    69.49%
        Req/Sec   201.90     99.95   500.00     70.56%
        Latency Distribution
        50%  439.50ms
        75%  626.34ms
        90%  768.95ms
        99%    1.15s
        4697 requests in 3.03s, 357.78KB read
        Requests/sec:   1548.67
        Transfer/sec:    117.96KB
        [run.sh] Speed is 1548.67, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   569.05ms  227.55ms   1.30s    79.38%
        Req/Sec   222.76     72.52   535.00     70.07%
        Latency Distribution
        50%  609.32ms
        75%  698.89ms
        90%  792.42ms
        99%  968.29ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.379200
        stop time: 11.332827
        stop time: 11.323267
        stop time: 11.424165
        stop time: 11.413618
        stop time: 11.679719
        stop time: 11.648611
        stop time: 11.489066
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-8bxfx        130m         152Mi
        composereview-77946fb6bc-p8t8n   49m          13Mi
        frontend-69b9fdb4c6-n4dd2        84m          13Mi
        movieid-5bb8fb5475-spgtf         11m          173Mi
        movieinfo-6c5f868dc9-kvbdn       71m          193Mi
        moviereviews-7987d4bb45-d49n9    41m          20Mi
        page-c8c664d8-xct7n              643m         96Mi
        plot-7954886fb-fgq8r             99m          290Mi
        reviewstorage-864bd74b5-zlhmc    74m          12Mi
        ubuntu-client-76886f6bbd-pfjgn   299m         97Mi
        uniqueid-d47d645ff-wfqqs         2m           7Mi
        user-7cbdb6d567-clxtj            18m          8Mi
        userreviews-54c668998f-5sb7m     12m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.3792, 11.332827, 11.323267, 11.424165, 11.413618, 11.679719, 11.648611, 11.489066]
    [exp] Throughput: 1745.0013590834023
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-b7xxg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:06:56.616497Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   783.13ms  356.34ms   1.64s    72.71%
        Req/Sec   125.62     70.94   373.00     64.76%
        Latency Distribution
        50%  847.38ms
        75%    1.02s
        90%    1.16s
        99%    1.39s
        2741 requests in 3.04s, 208.79KB read
        Requests/sec:    902.34
        Transfer/sec:     68.73KB
        [run.sh] Speed is 902.34, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6989c48fdf-jtb7h        179m         62Mi
        composereview-7dd85898f5-ffbk7   46m          14Mi
        frontend-74bff5f744-4rwj8        118m         14Mi
        movieid-64d65fb6c-sw2cv          12m          187Mi
        movieinfo-7498d9d9f9-ms8v5       104m         218Mi
        moviereviews-7c945848cf-whwjk    322m         24Mi
        page-84db6f6cc6-n6rbk            724m         108Mi
        plot-68b8cd76f6-649tf            106m         157Mi
        reviewstorage-5456d6f67d-fl7kl   72m          15Mi
        ubuntu-client-76886f6bbd-b7xxg   296m         101Mi
        uniqueid-fd89696b5-5s5rr         25m          7Mi
        user-7747bd845f-zrsxl            29m          8Mi
        userreviews-64597bd76c-2ntzg     21m          8Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   901.45ms  332.25ms   1.89s    82.24%
        Req/Sec   140.39     58.27   410.00     66.97%
        Latency Distribution
        50%  966.07ms
        75%    1.08s
        90%    1.19s
        99%    1.48s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 17.751981
        stop time: 17.995204
        stop time: 18.139335
        stop time: 18.256172
        stop time: 18.093213
        stop time: 18.344415
        stop time: 18.452083
        stop time: 18.283916
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.751981, 17.995204, 18.139335, 18.256172, 18.093213, 18.344415, 18.452083, 18.283916]
    [exp] Throughput: 1101.046331898897
[test.py] Finished running 3th optmization experiment: groundtruth->1745.0013590834023, slowdown->1101.046331898897, predicted->1690.772930023706, err->-3.107643944081561
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xhsp9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:08:49.433416Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   503.38ms  229.13ms   1.27s    73.07%
        Req/Sec   204.30     95.95   560.00     71.88%
        Latency Distribution
        50%  530.04ms
        75%  648.23ms
        90%  762.72ms
        99%  982.28ms
        4616 requests in 3.03s, 351.61KB read
        Requests/sec:   1523.50
        Transfer/sec:    116.05KB
        [run.sh] Speed is 1523.50, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   547.57ms  228.81ms   1.56s    77.75%
        Req/Sec   222.60     76.44   848.00     73.77%
        Latency Distribution
        50%  589.27ms
        75%  685.64ms
        90%  775.43ms
        99%  978.06ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.881641
        stop time: 11.190117
        stop time: 11.106388
        stop time: 11.105502
        stop time: 11.266341
        stop time: 11.588619
        stop time: 11.572240
        stop time: 11.772156
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-m2tv5        281m         62Mi
        composereview-77946fb6bc-pwp6t   96m          15Mi
        frontend-69b9fdb4c6-r8hqp        97m          14Mi
        movieid-5bb8fb5475-8jwzc         22m          177Mi
        movieinfo-6c5f868dc9-mshrr       140m         238Mi
        moviereviews-5b578584cd-r5j46    1124m        20Mi
        page-c8c664d8-2ktzh              1468m        88Mi
        plot-7954886fb-tv5q6             253m         147Mi
        reviewstorage-864bd74b5-hfdw9    175m         14Mi
        ubuntu-client-76886f6bbd-xhsp9   793m         75Mi
        uniqueid-d47d645ff-9p9l7         7m           8Mi
        user-7cbdb6d567-9vnb4            24m          8Mi
        userreviews-54c668998f-2kkgv     15m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.881641, 11.190117, 11.106388, 11.105502, 11.266341, 11.588619, 11.57224, 11.772156]
    [exp] Throughput: 1768.2878875241588
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qgkjw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:10:37.701359Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   654.07ms  409.30ms   1.94s    70.08%
        Req/Sec   124.84     74.53   404.00     60.81%
        Latency Distribution
        50%  609.56ms
        75%  898.73ms
        90%    1.20s
        99%    1.76s
        2871 requests in 3.03s, 218.69KB read
        Requests/sec:    946.63
        Transfer/sec:     72.11KB
        [run.sh] Speed is 946.63, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        castinfo-584fb6cff6-tr4tl      10m          105Mi
        frontend-849d7c857-rxljt       7m           3Mi
        movieinfo-5756b74d98-htjgf     91m          186Mi
        uniqueid-6557f8486-x7hk6       1m           3Mi
        user-65bdb79bbf-zfjhn          1m           4Mi
        userreviews-6b454947cb-tsbkc   1m           3Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   862.54ms  317.10ms   1.99s    81.83%
        Req/Sec   145.22     59.23   333.00     68.61%
        Latency Distribution
        50%  924.25ms
        75%    1.04s
        90%    1.15s
        99%    1.36s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 17.389290
        stop time: 17.397135
        stop time: 17.412813
        stop time: 17.396735
        stop time: 17.504493
        stop time: 17.499351
        stop time: 17.475044
        stop time: 17.290176
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.38929, 17.397135, 17.412813, 17.396735, 17.504493, 17.499351, 17.475044, 17.290176]
    [exp] Throughput: 1148.0641303169893
[test.py] Finished running 4th optmization experiment: groundtruth->1768.2878875241588, slowdown->1148.0641303169893, predicted->1668.0442882364916, err->-5.6689637470752405
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xz865:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:12:28.586662Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   497.06ms  244.43ms   1.32s    71.56%
        Req/Sec   196.63     91.65   626.00     73.80%
        Latency Distribution
        50%  513.81ms
        75%  646.87ms
        90%  804.24ms
        99%    1.02s
        4529 requests in 3.03s, 344.98KB read
        Requests/sec:   1496.91
        Transfer/sec:    114.02KB
        [run.sh] Speed is 1496.91, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   563.64ms  229.13ms   1.31s    79.18%
        Req/Sec   221.55     72.75   757.00     73.03%
        Latency Distribution
        50%  605.42ms
        75%  694.13ms
        90%  785.92ms
        99%  985.48ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.163131
        stop time: 11.406847
        stop time: 11.340874
        stop time: 11.264771
        stop time: 11.517015
        stop time: 11.728377
        stop time: 11.587233
        stop time: 11.684840
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-hnpg4        1m           104Mi
        composereview-77946fb6bc-6g92r   1m           3Mi
        frontend-69b9fdb4c6-tfrzf        1m           3Mi
        movieid-5bb8fb5475-4pqcv         1m           168Mi
        movieinfo-6c5f868dc9-n68vn       1m           176Mi
        moviereviews-7999658c67-kqczg    7m           3Mi
        page-c8c664d8-vwl58              7m           3Mi
        plot-7954886fb-mw4z5             7m           259Mi
        reviewstorage-864bd74b5-qqhlg    7m           3Mi
        ubuntu-client-76886f6bbd-xz865   14m          0Mi
        uniqueid-d47d645ff-bx9qd         1m           3Mi
        user-7cbdb6d567-6kw5l            7m           4Mi
        userreviews-54c668998f-s8z6b     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.163131, 11.406847, 11.340874, 11.264771, 11.517015, 11.728377, 11.587233, 11.68484]
    [exp] Throughput: 1744.9515932978506
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-g6797:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:14:16.973802Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   702.57ms  319.54ms   1.68s    75.64%
        Req/Sec   140.24     77.80   383.00     69.01%
        Latency Distribution
        50%  759.63ms
        75%  907.60ms
        90%    1.05s
        99%    1.39s
        3136 requests in 3.04s, 238.88KB read
        Requests/sec:   1030.58
        Transfer/sec:     78.50KB
        [run.sh] Speed is 1030.58, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   809.08ms  299.64ms   1.75s    82.48%
        Req/Sec   157.43     64.10   434.00     69.91%
        Latency Distribution
        50%  872.41ms
        75%  966.86ms
        90%    1.07s
        99%    1.31s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.006181
        stop time: 16.108166
        stop time: 16.356834
        stop time: 16.050844
        stop time: 16.464471
        stop time: 16.327530
        stop time: 16.321821
        stop time: 16.382000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6cf8b4d4cd-xctnw        56m          150Mi
        composereview-68df5c8b69-p2rjk   11m          13Mi
        frontend-799c846966-bv47b        53m          12Mi
        movieid-8548d5974f-l9qhw         4m           171Mi
        movieinfo-7d69884888-hl78z       40m          191Mi
        moviereviews-7c945848cf-dksbj    1m           21Mi
        page-695b455467-wmwvj            205m         95Mi
        plot-d96fc88c-q9hc7              16m          292Mi
        reviewstorage-5f7f65d55d-sxkk8   18m          14Mi
        ubuntu-client-76886f6bbd-g6797   3m           59Mi
        uniqueid-695fb7f99f-hzg7h        2m           7Mi
        user-76f986b775-llq5l            13m          7Mi
        userreviews-758d866f69-g99px     9m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.006181, 16.108166, 16.356834, 16.050844, 16.464471, 16.32753, 16.321821, 16.382]
    [exp] Throughput: 1230.6002882819619
[test.py] Finished running 5th optmization experiment: groundtruth->1744.9515932978506, slowdown->1230.6002882819619, predicted->1705.4979240680125, err->-2.261017977884027
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tw2fb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:16:05.276822Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   466.86ms  298.02ms   1.72s    72.52%
        Req/Sec   191.76     86.72   440.00     69.03%
        Latency Distribution
        50%  425.11ms
        75%  670.96ms
        90%  807.03ms
        99%    1.45s
        4428 requests in 3.03s, 337.29KB read
        Requests/sec:   1461.24
        Transfer/sec:    111.31KB
        [run.sh] Speed is 1461.24, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   581.38ms  232.83ms   1.24s    78.97%
        Req/Sec   215.89     74.59   626.00     73.10%
        Latency Distribution
        50%  620.92ms
        75%  714.69ms
        90%  812.40ms
        99%  990.84ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.512862
        stop time: 11.734815
        stop time: 11.695258
        stop time: 11.732456
        stop time: 11.797322
        stop time: 11.905807
        stop time: 11.964303
        stop time: 11.897703
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-gwkwq        46m          62Mi
        composereview-77946fb6bc-fgvtn   2m           13Mi
        frontend-69b9fdb4c6-7dkpt        75m          13Mi
        movieid-5bb8fb5475-296bt         1m           173Mi
        movieinfo-6c5f868dc9-vjnsx       34m          214Mi
        moviereviews-547d54f4b8-72zk6    375m         22Mi
        page-c8c664d8-sxclv              136m         98Mi
        plot-7954886fb-9lrj7             11m          314Mi
        reviewstorage-864bd74b5-kwdfx    3m           14Mi
        ubuntu-client-76886f6bbd-tw2fb   134m         99Mi
        uniqueid-d47d645ff-45nkm         12m          7Mi
        user-7cbdb6d567-7bgd2            16m          8Mi
        userreviews-54c668998f-jcspg     11m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.512862, 11.734815, 11.695258, 11.732456, 11.797322, 11.905807, 11.964303, 11.897703]
    [exp] Throughput: 1697.7833931020293
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xgq9b:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:17:53.708224Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   564.06ms  326.86ms   1.46s    67.13%
        Req/Sec   138.00     73.85   373.00     65.52%
        Latency Distribution
        50%  547.48ms
        75%  822.20ms
        90%  983.24ms
        99%    1.32s
        3210 requests in 3.03s, 244.51KB read
        Requests/sec:   1060.06
        Transfer/sec:     80.75KB
        [run.sh] Speed is 1060.06, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   739.36ms  288.95ms   1.71s    77.95%
        Req/Sec   163.54     65.03   470.00     69.24%
        Latency Distribution
        50%  807.73ms
        75%  910.38ms
        90%    1.01s
        99%    1.22s
        20000 requests in 28.00s, 1.49MB read
        Requests/sec:    714.28
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 14.706067
        stop time: 15.085688
        stop time: 15.035724
        stop time: 15.216637
        stop time: 15.891799
        stop time: 15.692310
        stop time: 15.651314
        stop time: 15.873577
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-79cd56f655-kff9v        304m         61Mi
        composereview-856b94748b-c2fwf   93m          13Mi
        frontend-9b9bd8bb9-9wwhw         160m         13Mi
        movieid-6cbbcc5978-n74xf         23m          188Mi
        movieinfo-6c45df58b9-8xp4n       184m         215Mi
        moviereviews-7c945848cf-zt6xp    1490m        23Mi
        page-66f8cc7bd6-vn74t            1465m        104Mi
        plot-9c577d4fd-82djn             235m         146Mi
        reviewstorage-77c45c4566-rz7mh   156m         15Mi
        ubuntu-client-76886f6bbd-xgq9b   669m         100Mi
        uniqueid-5ccb4f955d-gf92j        20m          8Mi
        user-57786cf964-s9gqz            38m          8Mi
        userreviews-67bfb48488-nwssm     27m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.706067, 15.085688, 15.035724, 15.216637, 15.891799, 15.69231, 15.651314, 15.873577]
    [exp] Throughput: 1299.1957101597006
[test.py] Finished running 6th optmization experiment: groundtruth->1697.7833931020293, slowdown->1299.1957101597006, predicted->1698.689902358936, err->0.05339369324672295
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tnfgc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:19:42.887660Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   465.16ms  285.00ms   1.67s    69.66%
        Req/Sec   197.45     86.31   480.00     66.38%
        Latency Distribution
        50%  452.09ms
        75%  660.40ms
        90%  804.74ms
        99%    1.28s
        4589 requests in 3.03s, 349.55KB read
        Requests/sec:   1516.16
        Transfer/sec:    115.49KB
        [run.sh] Speed is 1516.16, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   552.71ms  227.30ms   1.36s    77.64%
        Req/Sec   219.93     73.77   585.00     72.31%
        Latency Distribution
        50%  600.29ms
        75%  690.00ms
        90%  775.63ms
        99%  960.80ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.699660
        stop time: 10.940315
        stop time: 11.403740
        stop time: 11.668137
        stop time: 11.504687
        stop time: 11.688906
        stop time: 11.914372
        stop time: 11.898503
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-d8nb5        1m           62Mi
        composereview-77946fb6bc-9r7xd   1m           12Mi
        frontend-69b9fdb4c6-n5wm2        112m         13Mi
        movieid-5bb8fb5475-q8mfw         1m           177Mi
        movieinfo-6c5f868dc9-826c4       1m           210Mi
        moviereviews-79c4f996cc-w7jf7    138m         22Mi
        page-c8c664d8-s6nhh              1m           79Mi
        plot-7954886fb-jx7sd             1m           146Mi
        reviewstorage-864bd74b5-nc8rz    1m           16Mi
        ubuntu-client-76886f6bbd-tnfgc   50m          71Mi
        uniqueid-d47d645ff-mn2fv         8m           8Mi
        user-7cbdb6d567-mdrqd            26m          9Mi
        userreviews-54c668998f-n4lrz     17m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.69966, 10.940315, 11.40374, 11.668137, 11.504687, 11.688906, 11.914372, 11.898503]
    [exp] Throughput: 1744.4715515940543
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tgp6r:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:21:31.254126Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   570.95ms  351.53ms   1.82s    70.44%
        Req/Sec   151.92     73.02   404.00     70.54%
        Latency Distribution
        50%  539.64ms
        75%  809.60ms
        90%    1.02s
        99%    1.48s
        3441 requests in 3.03s, 262.11KB read
        Requests/sec:   1135.66
        Transfer/sec:     86.51KB
        [run.sh] Speed is 1135.66, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   712.75ms  266.75ms   1.44s    81.92%
        Req/Sec   175.87     61.95   444.00     68.61%
        Latency Distribution
        50%  770.33ms
        75%  859.26ms
        90%  947.61ms
        99%    1.13s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.260350
        stop time: 14.205708
        stop time: 14.427581
        stop time: 14.274311
        stop time: 14.405526
        stop time: 14.570025
        stop time: 14.479691
        stop time: 14.601465
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7cb64bc57f-cvd2x        1m           105Mi
        composereview-69787ffbdc-tndw5   1m           3Mi
        frontend-59995dfbc6-nmp9b        7m           3Mi
        movieid-84fc46956c-42zmr         1m           170Mi
        movieinfo-7494bd5fc-2dknt        1m           176Mi
        moviereviews-7c945848cf-zldsz    7m           3Mi
        page-698599b4cd-s5ns2            7m           3Mi
        plot-7996d4694b-hndpq            7m           252Mi
        reviewstorage-649875d4f4-dzpgj   7m           3Mi
        ubuntu-client-76886f6bbd-tgp6r   14m          0Mi
        uniqueid-66598b7d57-kwkhz        1m           3Mi
        user-5496c9c6c-s49vv             1m           4Mi
        userreviews-5db86b8b7f-vrtjk     1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.26035, 14.205708, 14.427581, 14.274311, 14.405526, 14.570025, 14.479691, 14.601465]
    [exp] Throughput: 1388.5916796437068
[test.py] Finished running 7th optmization experiment: groundtruth->1744.4715515940543, slowdown->1388.5916796437068, predicted->1711.1842704149055, err->-1.9081584419494642
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-txdmt:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:23:19.291307Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   507.09ms  219.16ms   1.19s    74.81%
        Req/Sec   194.08     87.17   535.00     70.13%
        Latency Distribution
        50%  538.04ms
        75%  641.50ms
        90%  743.66ms
        99%  920.31ms
        4494 requests in 3.04s, 342.32KB read
        Requests/sec:   1478.27
        Transfer/sec:    112.60KB
        [run.sh] Speed is 1478.27, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   581.17ms  213.71ms   1.16s    82.14%
        Req/Sec   216.95     72.97   660.00     72.58%
        Latency Distribution
        50%  624.76ms
        75%  698.91ms
        90%  771.48ms
        99%  909.22ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.497180
        stop time: 11.609642
        stop time: 11.807524
        stop time: 11.958457
        stop time: 11.611507
        stop time: 11.627254
        stop time: 11.974183
        stop time: 11.876099
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-qvpf4        110m         155Mi
        composereview-77946fb6bc-d7dzh   26m          14Mi
        frontend-69b9fdb4c6-ckqfm        1m           13Mi
        movieid-5bb8fb5475-8qcf9         7m           172Mi
        movieinfo-6c5f868dc9-5ggx7       63m          196Mi
        moviereviews-8779d6c4b-fsrs2     0m           21Mi
        page-c8c664d8-ntg9w              504m         99Mi
        plot-7954886fb-xv6rw             41m          285Mi
        reviewstorage-864bd74b5-m2gsm    40m          12Mi
        ubuntu-client-76886f6bbd-txdmt   3m           66Mi
        uniqueid-d47d645ff-p86tv         1m           8Mi
        user-7cbdb6d567-xx4rl            7m           7Mi
        userreviews-54c668998f-v6vj5     6m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.49718, 11.609642, 11.807524, 11.958457, 11.611507, 11.627254, 11.974183, 11.876099]
    [exp] Throughput: 1702.8188228656127
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-dfs87:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:25:08.511406Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   471.61ms  266.06ms   1.23s    67.63%
        Req/Sec   170.96     80.55   480.00     66.82%
        Latency Distribution
        50%  428.24ms
        75%  699.27ms
        90%  811.73ms
        99%    1.02s
        3893 requests in 3.03s, 296.54KB read
        Requests/sec:   1283.76
        Transfer/sec:     97.79KB
        [run.sh] Speed is 1283.76, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   668.08ms  246.16ms   1.26s    82.90%
        Req/Sec   184.11     60.63   720.00     73.43%
        Latency Distribution
        50%  727.01ms
        75%  802.22ms
        90%  874.48ms
        99%    1.03s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 13.240234
        stop time: 13.520505
        stop time: 13.487888
        stop time: 13.661160
        stop time: 13.767318
        stop time: 14.146257
        stop time: 14.093920
        stop time: 13.853260
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7f4849cb66-rgjqv        27m          157Mi
        composereview-5677885566-qn7zq   6m           11Mi
        frontend-745dcd6f4f-qxzpv        63m          13Mi
        movieid-8dd4b5c4-88lc4           1m           186Mi
        movieinfo-5bdfcd4c96-5f9tm       62m          197Mi
        moviereviews-7c945848cf-d4fsg    479m         21Mi
        page-67dff8d45f-6scng            551m         85Mi
        plot-758866c95f-plk2d            16m          304Mi
        reviewstorage-5c4f9bd4b6-zpmq4   6m           13Mi
        ubuntu-client-76886f6bbd-dfs87   237m         84Mi
        uniqueid-85d5c7cd48-svcwg        11m          7Mi
        user-74b49c6877-m2xrk            14m          8Mi
        userreviews-f5b8bc978-vmv99      10m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.240234, 13.520505, 13.487888, 13.66116, 13.767318, 14.146257, 14.09392, 13.85326]
    [exp] Throughput: 1457.585952340474
[test.py] Finished running 8th optmization experiment: groundtruth->1702.8188228656127, slowdown->1457.585952340474, predicted->1679.1007368386413, err->-1.392871966675648
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-w4jbd:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:26:56.914697Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   521.45ms  215.94ms 987.58ms   76.24%
        Req/Sec   193.54     75.92   410.00     68.58%
        Latency Distribution
        50%  553.96ms
        75%  665.04ms
        90%  751.72ms
        99%  885.55ms
        4419 requests in 3.03s, 336.60KB read
        Requests/sec:   1457.31
        Transfer/sec:    111.01KB
        [run.sh] Speed is 1457.31, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.87ms  217.40ms   1.20s    84.07%
        Req/Sec   208.76     70.21   505.00     73.88%
        Latency Distribution
        50%  654.35ms
        75%  714.97ms
        90%  777.38ms
        99%  913.21ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.971221
        stop time: 12.154247
        stop time: 12.048887
        stop time: 12.036126
        stop time: 12.226648
        stop time: 12.297028
        stop time: 12.408783
        stop time: 12.238926
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-ckmjh        124m         60Mi
        composereview-77946fb6bc-s7v8x   119m         13Mi
        frontend-69b9fdb4c6-tmrc7        113m         13Mi
        movieid-5bb8fb5475-ds84n         29m          178Mi
        movieinfo-6c5f868dc9-vqq69       77m          218Mi
        moviereviews-564874684c-ksm8x    1753m        24Mi
        page-c8c664d8-tdrx4              607m         109Mi
        plot-7954886fb-2k2w7             301m         145Mi
        reviewstorage-864bd74b5-2xkt5    211m         15Mi
        ubuntu-client-76886f6bbd-w4jbd   754m         98Mi
        uniqueid-d47d645ff-z7rd9         24m          8Mi
        user-7cbdb6d567-j7789            24m          8Mi
        userreviews-54c668998f-t9ps7     16m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.971221, 12.154247, 12.048887, 12.036126, 12.226648, 12.297028, 12.408783, 12.238926]
    [exp] Throughput: 1643.0163702141424
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-89b62:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-08T21:28:45.095332Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   529.47ms  324.34ms   1.70s    70.74%
        Req/Sec   170.23     78.87   393.00     67.41%
        Latency Distribution
        50%  484.49ms
        75%  752.90ms
        90%  938.95ms
        99%    1.33s
        3907 requests in 3.03s, 297.60KB read
        Requests/sec:   1291.38
        Transfer/sec:     98.37KB
        [run.sh] Speed is 1291.38, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   625.86ms  221.30ms   1.22s    84.50%
        Req/Sec   195.07     65.24   510.00     74.95%
        Latency Distribution
        50%  687.04ms
        75%  739.81ms
        90%  797.15ms
        99%  940.26ms
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.245282
        stop time: 12.700594
        stop time: 12.662947
        stop time: 12.840428
        stop time: 13.138867
        stop time: 12.667754
        stop time: 13.386636
        stop time: 13.396085
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d6cbb775d-gppq2        288m         60Mi
        composereview-6f9bcc87df-2lnjf   1m           13Mi
        frontend-66c96c8cc4-8dvg7        107m         12Mi
        movieid-8484cd7fdf-ld7gp         1m           176Mi
        movieinfo-68989748d8-46tp5       153m         217Mi
        moviereviews-7c945848cf-qf4pb    224m         23Mi
        page-55c547cfd5-m7xtk            1318m        111Mi
        plot-789df7547-v6w8q             249m         147Mi
        reviewstorage-6d495857fb-8ltft   179m         16Mi
        ubuntu-client-76886f6bbd-89b62   169m         72Mi
        uniqueid-7f7ddd4585-jpmhs        10m          8Mi
        user-7675998b75-dbdqb            27m          7Mi
        userreviews-7cf49c487f-l9b85     19m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.245282, 12.700594, 12.662947, 12.840428, 13.138867, 12.667754, 13.386636, 13.396085]
    [exp] Throughput: 1552.8162345927997
[test.py] Finished running 9th optmization experiment: groundtruth->1643.0163702141424, slowdown->1552.8162345927997, predicted->1670.1832272077622, err->1.6534745171211558
[test.py] Baseline throughput:  1561.8188548023768
[test.py] Groundtruth:  [1758.9678060300012, 1748.55264374548, 1744.3789867441044, 1745.0013590834023, 1768.2878875241588, 1744.9515932978506, 1697.7833931020293, 1744.4715515940543, 1702.8188228656127, 1643.0163702141424]
[test.py] Slowdown:  [956.9045477546504, 1005.9648244154101, 1050.1092579614265, 1101.046331898897, 1148.0641303169893, 1230.6002882819619, 1299.1957101597006, 1388.5916796437068, 1457.585952340474, 1552.8162345927997]
[test.py] Predicted:  [1687.7885333992388, 1704.2161710676278, 1694.2093089774833, 1690.772930023706, 1668.0442882364916, 1705.4979240680125, 1698.689902358936, 1711.1842704149055, 1679.1007368386413, 1670.1832272077622]
[test.py] Error percentage:  [-4.0466501084755135, -2.535609827730523, -2.8760767096984576, -3.107643944081561, -5.6689637470752405, -2.261017977884027, 0.05339369324672295, -1.9081584419494642, -1.392871966675648, 1.6534745171211558]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1562.0834088299634
    Groundtruth: [1740.9932407787232, 1729.0013061524244, 1708.4226335631733, 1755.0169820379165, 1735.4224971213407, 1736.8625642472248, 1724.675963029415, 1725.105719060776, 1716.1467712645256, 1677.9931026303268]
    Slowdown:    [949.9131571580856, 1000.5155969532224, 1052.9201760550975, 1103.5203623784305, 1168.5177850707405, 980.4467122340308, 1327.8623853882557, 1387.1433399802065, 1461.0328521546433, 1550.126478694713]
    Predicted:   [1666.1590801890693, 1688.635403433524, 1701.5380094904924, 1696.6139328342533, 1711.5726540246278, 1259.9683484182776, 1748.0314803329115, 1708.9853493302655, 1683.6765672985207, 1667.0719112043732]
    Error Perc:  [-4.298360202488874, -2.3346369129545215, -0.4029813195767614, -3.327776870617277, -1.3742960654407905, -27.45722232983001, 1.3541974147115883, -0.9344569177642684, -1.8920412000705236, -0.6508484098554473]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1577.2812354055275
    Groundtruth: [1726.6719896366874, 1746.8297006117307, 1729.1576122300291, 1761.7923894378653, 1738.359132393649, 1756.5121149714466, 1711.2023293656148, 1731.4598418406665, 1699.7737441792708, 1646.186952081463]
    Slowdown:    [959.5799381246064, 1001.5702618565387, 1060.415214988614, 1117.1909574005313, 1165.7678620736908, 1244.7677936249686, 1309.927558631764, 1392.7077006577786, 1475.424576705991, 1550.0708537387243]
    Predicted:   [1696.1294621478764, 1691.6418502157364, 1721.1976189647025, 1729.1446783647268, 1705.6792551718042, 1732.8314428615793, 1717.0831366701711, 1717.439182271324, 1702.8174785868528, 1667.007576856483]
    Error Perc:  [-1.7688667953221076, -3.159314864904561, -0.46033937039787254, -1.8530963846174493, -1.8799266856236903, -1.34816446229022, 0.3436652231964012, -0.8097594429009453, 0.1790670327745065, 1.2647788726969345]
[test.py] Result for the experiment 2: 
    Baseline throughput: 1561.8188548023768
    Groundtruth: [1758.9678060300012, 1748.55264374548, 1744.3789867441044, 1745.0013590834023, 1768.2878875241588, 1744.9515932978506, 1697.7833931020293, 1744.4715515940543, 1702.8188228656127, 1643.0163702141424]
    Slowdown:    [956.9045477546504, 1005.9648244154101, 1050.1092579614265, 1101.046331898897, 1148.0641303169893, 1230.6002882819619, 1299.1957101597006, 1388.5916796437068, 1457.585952340474, 1552.8162345927997]
    Predicted:   [1687.7885333992388, 1704.2161710676278, 1694.2093089774833, 1690.772930023706, 1668.0442882364916, 1705.4979240680125, 1698.689902358936, 1711.1842704149055, 1679.1007368386413, 1670.1832272077622]
    Error Perc:  [-4.0466501084755135, -2.535609827730523, -2.8760767096984576, -3.107643944081561, -5.6689637470752405, -2.261017977884027, 0.05339369324672295, -1.9081584419494642, -1.392871966675648, 1.6534745171211558]
