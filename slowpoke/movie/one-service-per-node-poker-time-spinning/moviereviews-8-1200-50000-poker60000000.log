benchmark                        : movie
num_threads                      : 8
num_conns                        : 1200
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 2
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 60000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-z29sf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-26T03:43:03.406953Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1200 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   681.08ms  282.16ms   1.38s    76.80%
        Req/Sec   176.28     80.37   410.00     67.54%
        Latency Distribution
        50%  731.59ms
        75%  863.74ms
        90%  965.68ms
        99%    1.19s
        4031 requests in 3.05s, 307.05KB read
        Requests/sec:   1321.99
        Transfer/sec:    100.70KB
        [run.sh] Speed is 1321.99, duration is 56
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 10s -t8 -c1200 -d56s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6dbbbc7798-mxbsw        248m         55Mi
        composereview-66f87f9c6-rkkbg    30m          12Mi
        frontend-746fc9dd67-m5cg8        69m          12Mi
        movieid-74fb965d-4bv8d           7m           187Mi
        movieinfo-6dd448b9c4-cp945       28m          234Mi
        moviereviews-6f989f6b9f-ndqml    940m         23Mi
        page-574bf9bfc-bkcbx             153m         120Mi
        plot-5db67bf687-999mt            99m          143Mi
        reviewstorage-846567f494-tqp5d   58m          13Mi
        ubuntu-client-76886f6bbd-z29sf   87m          119Mi
        uniqueid-545b5476f8-sg62c        6m           8Mi
        user-54c559d799-9khc4            48m          8Mi
        userreviews-8685c67996-8cv8p     2m           7Mi
        Running 1m test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   759.50ms  270.64ms   1.59s    84.78%
        Req/Sec   193.93     60.42   510.00     68.91%
        Latency Distribution
        50%  827.20ms
        75%  898.54ms
        90%  969.70ms
        99%    1.13s
        50000 requests in 0.93m, 3.72MB read
        Requests/sec:    892.85
        Transfer/sec:     68.01KB
        ------------------------------
        stop time: 32.024326
        stop time: 31.982255
        stop time: 32.149074
        stop time: 32.506216
        stop time: 32.665425
        stop time: 32.678343
        stop time: 32.780194
        stop time: 32.595147
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [32.024326, 31.982255, 32.149074, 32.506216, 32.665425, 32.678343, 32.780194, 32.595147]
    [exp] Throughput: 1542.1331201694127
[test.py] Baseline throughput: 1542.1331201694127
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kwr58:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-26T03:45:19.039951Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1200 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   532.15ms  279.11ms   1.34s    67.38%
        Req/Sec   182.60     85.44   565.00     69.57%
        Latency Distribution
        50%  528.99ms
        75%  757.01ms
        90%  871.66ms
        99%    1.11s
        4234 requests in 3.03s, 322.51KB read
        Requests/sec:   1398.06
        Transfer/sec:    106.49KB
        [run.sh] Speed is 1398.06, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 10s -t8 -c1200 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6dbbbc7798-g2jtp        147m         60Mi
        composereview-66f87f9c6-gmdb6    18m          13Mi
        frontend-746fc9dd67-8r66j        46m          11Mi
        movieid-74fb965d-x8zzd           4m           173Mi
        movieinfo-6dd448b9c4-5q4fh       1m           198Mi
        moviereviews-644c8fdd4-zj6bs     162m         13Mi
        page-574bf9bfc-5jhnz             0m           80Mi
        plot-5db67bf687-vd6sr            45m          319Mi
        reviewstorage-846567f494-mclkt   23m          8Mi
        ubuntu-client-76886f6bbd-kwr58   3m           79Mi
        uniqueid-545b5476f8-r8b2p        0m           6Mi
        user-54c559d799-lb4vw            2m           8Mi
        userreviews-8685c67996-zfn4g     4m           7Mi
        Running 1m test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   727.56ms  281.03ms   1.87s    80.79%
        Req/Sec   202.63     65.67   585.00     67.11%
        Latency Distribution
        50%  778.40ms
        75%  880.81ms
        90%  988.05ms
        99%    1.21s
        50000 requests in 0.88m, 3.72MB read
        Requests/sec:    943.39
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 30.657549
        stop time: 30.653271
        stop time: 30.974864
        stop time: 31.177122
        stop time: 31.400161
        stop time: 31.128667
        stop time: 31.300332
        stop time: 31.296797
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.657549, 30.653271, 30.974864, 31.177122, 31.400161, 31.128667, 31.300332, 31.296797]
    [exp] Throughput: 1609.0831909405333
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mcfnw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-26T03:47:31.511038Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1200 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   626.10ms  273.56ms   1.33s    76.56%
        Req/Sec   198.06     82.86   420.00     68.81%
        Latency Distribution
        50%  681.84ms
        75%  798.45ms
        90%  905.68ms
        99%    1.12s
        4425 requests in 3.03s, 337.06KB read
        Requests/sec:   1460.15
        Transfer/sec:    111.22KB
        [run.sh] Speed is 1460.15, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 10s -t8 -c1200 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6dbbbc7798-ljdqp        1m           122Mi
        composereview-66f87f9c6-7xmbp    1m           2Mi
        frontend-746fc9dd67-9nvnb        1m           3Mi
        movieid-74fb965d-6bzwz           1m           185Mi
        movieinfo-6dd448b9c4-t94lv       6m           186Mi
        moviereviews-5665c64f7c-kdx44    1m           2Mi
        page-574bf9bfc-k2tgk             8m           2Mi
        plot-5db67bf687-2j9dv            8m           277Mi
        reviewstorage-846567f494-dm7qf   7m           2Mi
        ubuntu-client-76886f6bbd-mcfnw   13m          2Mi
        uniqueid-545b5476f8-2kxnf        7m           2Mi
        user-54c559d799-dkzg9            1m           3Mi
        userreviews-8685c67996-2wn7k     1m           3Mi
        Running 1m test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   730.14ms  284.31ms   1.71s    80.18%
        Req/Sec   201.95     66.99   626.00     69.26%
        Latency Distribution
        50%  778.76ms
        75%  882.38ms
        90%  997.24ms
        99%    1.23s
        50000 requests in 0.85m, 3.72MB read
        Requests/sec:    980.39
        Transfer/sec:     74.68KB
        ------------------------------
        stop time: 30.360460
        stop time: 31.079616
        stop time: 31.016814
        stop time: 31.402055
        stop time: 31.252729
        stop time: 31.191160
        stop time: 31.617693
        stop time: 31.654946
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.36046, 31.079616, 31.016814, 31.402055, 31.252729, 31.19116, 31.617693, 31.654946]
    [exp] Throughput: 1602.7215943611575
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5pkwj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-26T03:49:42.151809Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1200 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   750.52ms  317.44ms   1.78s    73.71%
        Req/Sec    98.71     63.42   310.00     71.23%
        Latency Distribution
        50%  727.00ms
        75%  941.48ms
        90%    1.14s
        99%    1.62s
        2172 requests in 3.03s, 165.45KB read
        Requests/sec:    716.22
        Transfer/sec:     54.56KB
        [run.sh] Speed is 716.22, duration is 104
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 10s -t8 -c1200 -d104s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                            CPU(cores)   MEMORY(bytes)
        castinfo-7f5564df7f-tnwsr       6m           104Mi
        frontend-59fb5f4859-2jrl4       7m           2Mi
        moviereviews-6f989f6b9f-dvzz8   7m           2Mi
        Running 2m test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.22s   374.36ms   2.30s    83.54%
        Req/Sec   121.25     52.27   320.00     70.11%
        Latency Distribution
        50%    1.31s
        75%    1.43s
        90%    1.54s
        99%    1.77s
        50000 requests in 1.73m, 3.72MB read
        Requests/sec:    480.77
        Transfer/sec:     36.62KB
        ------------------------------
        stop time: 51.362364
        stop time: 52.027632
        stop time: 51.776532
        stop time: 51.676331
        stop time: 52.035612
        stop time: 52.253834
        stop time: 52.430793
        stop time: 52.432285
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [51.362364, 52.027632, 51.776532, 51.676331, 52.035612, 52.253834, 52.430793, 52.432285]
    [exp] Throughput: 961.5491333469921
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-g479v:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-26T03:52:46.597687Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1200 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   753.32ms  389.65ms   1.96s    71.20%
        Req/Sec   133.67     77.78   363.00     68.54%
        Latency Distribution
        50%  666.13ms
        75%    1.04s
        90%    1.29s
        99%    1.79s
        2927 requests in 3.03s, 222.96KB read
        Requests/sec:    965.40
        Transfer/sec:     73.54KB
        [run.sh] Speed is 965.40, duration is 77
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 10s -t8 -c1200 -d77s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-68ccbdb7c9-2v5xr        324m         61Mi
        composereview-bb9fc575b-vkzpq    86m          13Mi
        frontend-764c7696d7-rtdt5        155m         14Mi
        movieid-f545f9854-6mrcr          19m          181Mi
        movieinfo-86f6cf7c47-74g7c       144m         246Mi
        moviereviews-6f989f6b9f-f77rg    1453m        24Mi
        page-66464688c6-zxmt9            1384m        119Mi
        plot-59d75d9f6b-zzd9l            212m         147Mi
        reviewstorage-b95c85d8c-h25pq    172m         18Mi
        ubuntu-client-76886f6bbd-g479v   583m         121Mi
        uniqueid-6f84559588-r6gl9        27m          8Mi
        user-6b55c7f445-xb4jv            36m          8Mi
        userreviews-54cc66759d-xqqw8     19m          9Mi
        Running 1m test @ http://localhost:3000
        8 threads and 1200 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.01s   320.45ms   1.88s    83.92%
        Req/Sec   145.73     68.63   404.00     66.87%
        Latency Distribution
        50%    1.09s
        75%    1.19s
        90%    1.28s
        99%    1.45s
        50000 requests in 1.28m, 3.72MB read
        Requests/sec:    649.35
        Transfer/sec:     49.46KB
        ------------------------------
        stop time: 42.527232
        stop time: 42.774198
        stop time: 42.999906
        stop time: 43.176929
        stop time: 43.555123
        stop time: 43.333052
        stop time: 43.743545
        stop time: 43.613004
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [42.527232, 42.774198, 42.999906, 43.176929, 43.555123, 43.333052, 43.743545, 43.613004]
    [exp] Throughput: 1156.9956662615803
[test.py] Baseline throughput:  1542.1331201694127
[test.py] Groundtruth:  [1609.0831909405333, 1602.7215943611575]
[test.py] Slowdown:  [961.5491333469921, 1156.9956662615803]
[test.py] Predicted:  [1702.2915669273473, 1567.3122371673164]
[test.py] Error percentage:  [5.792638721950246, -2.2093267675697086]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 1200 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1200, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
