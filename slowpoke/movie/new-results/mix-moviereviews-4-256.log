benchmark                        : movie
num_threads                      : 4
num_conns                        : 256
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 10
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vr42j:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:05:39.287656Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.92ms   68.42ms 532.14ms   77.45%
        Req/Sec   390.38     94.26   550.00     87.07%
        Latency Distribution
        50%  160.42ms
        75%  192.67ms
        90%  250.11ms
        99%  357.09ms
        4527 requests in 3.03s, 344.83KB read
        Requests/sec:   1493.57
        Transfer/sec:    113.77KB
        [run.sh] Speed is 1493.57, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-pldb8        0m           50Mi
        composereview-8b78db69d-w7zbw    0m           2Mi
        frontend-7fff75777f-vwq2c        0m           2Mi
        movieid-bb46c45b9-qxqvs          0m           9Mi
        movieinfo-bc5c9b877-g56x5        0m           14Mi
        moviereviews-7b8b6fd77b-pdx8l    0m           2Mi
        page-75dd88f547-gf7kf            0m           2Mi
        plot-847cf65c5f-wsz4m            0m           93Mi
        reviewstorage-6589cd676-qxllk    0m           2Mi
        ubuntu-client-76886f6bbd-vr42j   0m           0Mi
        uniqueid-fc8c7bbbb-gfvrd         0m           2Mi
        user-65648944f4-jgqb6            0m           3Mi
        userreviews-55455b5bdc-55t6h     0m           2Mi
        Running 50s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   157.21ms   59.59ms 527.95ms   79.68%
        Req/Sec   407.72     58.92   590.00     78.86%
        Latency Distribution
        50%  156.71ms
        75%  181.00ms
        90%  218.37ms
        99%  337.53ms
        50000 requests in 50.00s, 3.72MB read
        Requests/sec:   1000.00
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 30.851351
        stop time: 30.773398
        stop time: 30.773199
        stop time: 30.885117
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.851351, 30.773398, 30.773199, 30.885117]
    [exp] Throughput: 1622.2828334126834
[test.py] Baseline throughput: 1622.2828334126834
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8qjp5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:09:43.638588Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   163.41ms   84.14ms 466.27ms   70.12%
        Req/Sec   387.08    151.20   660.00     64.41%
        Latency Distribution
        50%  172.59ms
        75%  217.75ms
        90%  264.74ms
        99%  355.26ms
        4579 requests in 3.04s, 348.79KB read
        Requests/sec:   1506.56
        Transfer/sec:    114.76KB
        [run.sh] Speed is 1506.56, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d49s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-kfkzq        284m         73Mi
        composereview-8b78db69d-896cd    64m          9Mi
        frontend-7fff75777f-mvntz        180m         10Mi
        movieid-bb46c45b9-dr5jw          19m          10Mi
        movieinfo-bc5c9b877-x7srr        132m         18Mi
        moviereviews-676d849c7f-qd4jg    289m         15Mi
        page-75dd88f547-l8wvk            1768m        40Mi
        plot-847cf65c5f-jdgzm            176m         133Mi
        reviewstorage-6589cd676-c2kbz    126m         15Mi
        ubuntu-client-76886f6bbd-8qjp5   757m         39Mi
        uniqueid-fc8c7bbbb-8vffb         25m          7Mi
        user-65648944f4-7rxc7            28m          8Mi
        userreviews-55455b5bdc-f5p27     19m          7Mi
        Running 49s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.20ms  158.26ms   1.97s    85.99%
        Req/Sec   409.10    135.49   780.00     69.72%
        Latency Distribution
        50%  145.44ms
        75%  192.00ms
        90%  256.63ms
        99%    1.04s
        49232 requests in 49.06s, 3.66MB read
        Socket errors: connect 0, read 0, write 0, timeout 1006
        Requests/sec:   1003.55
        Transfer/sec:     76.44KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-9ztx9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:13:42.180622Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.67ms   85.91ms 454.28ms   68.93%
        Req/Sec   355.85    159.87   660.00     60.68%
        Latency Distribution
        50%  184.87ms
        75%  240.60ms
        90%  278.87ms
        99%  344.33ms
        4187 requests in 3.03s, 318.93KB read
        Requests/sec:   1379.75
        Transfer/sec:    105.10KB
        [run.sh] Speed is 1379.75, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d54s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-khs5j        258m         64Mi
        composereview-8b78db69d-vtqbb    74m          10Mi
        frontend-7fff75777f-n7h7h        146m         10Mi
        movieid-bb46c45b9-m6t4q          15m          11Mi
        movieinfo-bc5c9b877-xgx6h        149m         18Mi
        moviereviews-676d849c7f-fl524    421m         16Mi
        page-75dd88f547-6wf8z            1275m        35Mi
        plot-847cf65c5f-cj6mr            177m         133Mi
        reviewstorage-6589cd676-j7hs2    110m         15Mi
        ubuntu-client-76886f6bbd-9ztx9   629m         38Mi
        uniqueid-fc8c7bbbb-fj27m         18m          7Mi
        user-65648944f4-f72gc            30m          7Mi
        userreviews-55455b5bdc-6w7lq     15m          7Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   155.04ms   97.11ms   1.76s    79.06%
        Req/Sec   395.96    146.46   727.00     70.50%
        Latency Distribution
        50%  144.67ms
        75%  193.84ms
        90%  249.74ms
        99%  458.92ms
        48463 requests in 0.90m, 3.60MB read
        Socket errors: connect 0, read 0, write 0, timeout 1515
        Requests/sec:    896.18
        Transfer/sec:     68.26KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-b7zzd:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:17:42.121903Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.31ms   81.31ms 422.77ms   70.36%
        Req/Sec   386.98    145.53   690.00     64.66%
        Latency Distribution
        50%  168.73ms
        75%  219.84ms
        90%  267.41ms
        99%  343.35ms
        4511 requests in 3.03s, 343.61KB read
        Requests/sec:   1487.37
        Transfer/sec:    113.30KB
        [run.sh] Speed is 1487.37, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-v9jlv        181m         67Mi
        composereview-8b78db69d-m5nms    24m          10Mi
        frontend-7fff75777f-848wx        129m         10Mi
        movieid-bb46c45b9-pz5k5          14m          10Mi
        movieinfo-bc5c9b877-76j7m        62m          21Mi
        moviereviews-676d849c7f-2pjp7    388m         13Mi
        page-75dd88f547-28k4q            1167m        40Mi
        plot-847cf65c5f-vhht8            105m         133Mi
        reviewstorage-6589cd676-r2bcs    176m         12Mi
        ubuntu-client-76886f6bbd-b7zzd   588m         39Mi
        uniqueid-fc8c7bbbb-68kc4         16m          7Mi
        user-65648944f4-978c9            10m          7Mi
        userreviews-55455b5bdc-x6l8q     13m          7Mi
        Running 50s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   180.19ms  201.38ms   1.82s    96.26%
        Req/Sec   403.79    133.42   740.00     70.46%
        Latency Distribution
        50%  142.99ms
        75%  195.58ms
        90%  263.25ms
        99%    1.38s
        47638 requests in 50.07s, 3.54MB read
        Socket errors: connect 0, read 0, write 0, timeout 1282
        Requests/sec:    951.43
        Transfer/sec:     72.47KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8gfds:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:21:44.020574Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.16ms   80.90ms 418.23ms   70.05%
        Req/Sec   378.53    147.24   696.00     74.14%
        Latency Distribution
        50%  173.02ms
        75%  221.58ms
        90%  260.64ms
        99%  337.49ms
        4395 requests in 3.03s, 334.78KB read
        Requests/sec:   1451.89
        Transfer/sec:    110.59KB
        [run.sh] Speed is 1451.89, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-lwsc4        209m         68Mi
        composereview-8b78db69d-hxr56    96m          11Mi
        frontend-7fff75777f-gqjxh        155m         10Mi
        movieid-bb46c45b9-bfg96          15m          11Mi
        movieinfo-bc5c9b877-89d2s        82m          20Mi
        moviereviews-676d849c7f-g4zg2    424m         16Mi
        page-75dd88f547-nf54n            1202m        34Mi
        plot-847cf65c5f-zf27n            128m         134Mi
        reviewstorage-6589cd676-m9g26    192m         14Mi
        ubuntu-client-76886f6bbd-8gfds   680m         39Mi
        uniqueid-fc8c7bbbb-8ngrc         19m          7Mi
        user-65648944f4-bjm6t            42m          7Mi
        userreviews-55455b5bdc-qc2zs     16m          8Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.16ms  135.13ms   1.55s    83.76%
        Req/Sec   389.62    147.22   760.00     70.77%
        Latency Distribution
        50%  152.12ms
        75%  204.49ms
        90%  265.86ms
        99%  825.33ms
        43634 requests in 0.85m, 3.25MB read
        Socket errors: connect 0, read 0, write 0, timeout 1510
        Requests/sec:    854.52
        Transfer/sec:     65.09KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-r5xmp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:25:42.519620Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   162.61ms   79.42ms 465.70ms   70.53%
        Req/Sec   391.73    129.53   690.00     69.83%
        Latency Distribution
        50%  166.67ms
        75%  219.66ms
        90%  260.05ms
        99%  329.78ms
        4574 requests in 3.03s, 348.41KB read
        Requests/sec:   1509.86
        Transfer/sec:    115.01KB
        [run.sh] Speed is 1509.86, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d49s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-gqw99        225m         68Mi
        composereview-8b78db69d-bwqjl    103m         10Mi
        frontend-7fff75777f-5xg62        191m         10Mi
        movieid-bb46c45b9-gtw9p          17m          11Mi
        movieinfo-bc5c9b877-ktw5v        235m         20Mi
        moviereviews-676d849c7f-4zjg6    485m         14Mi
        page-75dd88f547-m2dq7            1292m        35Mi
        plot-847cf65c5f-htpq2            149m         133Mi
        reviewstorage-6589cd676-lcl4p    205m         14Mi
        ubuntu-client-76886f6bbd-r5xmp   853m         38Mi
        uniqueid-fc8c7bbbb-vtz4v         24m          7Mi
        user-65648944f4-jt7k8            44m          7Mi
        userreviews-55455b5bdc-mrnff     16m          7Mi
        Running 49s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   156.82ms  115.31ms   1.23s    82.72%
        Req/Sec   412.50    133.28   838.00     73.46%
        Latency Distribution
        50%  142.40ms
        75%  188.82ms
        90%  248.80ms
        99%  717.87ms
        49638 requests in 49.06s, 3.69MB read
        Socket errors: connect 0, read 0, write 0, timeout 994
        Requests/sec:   1011.69
        Transfer/sec:     77.06KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rzbts:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:29:40.932014Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.20ms   83.56ms 442.86ms   69.78%
        Req/Sec   381.93    149.23   700.00     72.03%
        Latency Distribution
        50%  173.54ms
        75%  222.74ms
        90%  263.44ms
        99%  349.26ms
        4500 requests in 3.03s, 342.77KB read
        Requests/sec:   1485.74
        Transfer/sec:    113.17KB
        [run.sh] Speed is 1485.74, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-5g2nw        63m          68Mi
        composereview-8b78db69d-6g2hq    71m          9Mi
        frontend-7fff75777f-5tvw6        78m          8Mi
        movieid-bb46c45b9-2jcs5          3m           11Mi
        movieinfo-bc5c9b877-xwb5t        169m         19Mi
        moviereviews-676d849c7f-gfdhn    242m         14Mi
        page-75dd88f547-gd5x9            260m         38Mi
        plot-847cf65c5f-sg5z9            224m         134Mi
        reviewstorage-6589cd676-l94jv    117m         13Mi
        ubuntu-client-76886f6bbd-rzbts   424m         37Mi
        uniqueid-fc8c7bbbb-9pxd7         9m           7Mi
        user-65648944f4-hf9jg            29m          7Mi
        userreviews-55455b5bdc-b4dqq     4m           7Mi
        Running 50s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   155.01ms   84.91ms   1.22s    77.25%
        Req/Sec   400.68    131.97   737.00     73.10%
        Latency Distribution
        50%  150.25ms
        75%  194.28ms
        90%  245.25ms
        99%  347.74ms
        44666 requests in 50.06s, 3.32MB read
        Socket errors: connect 0, read 0, write 0, timeout 1273
        Requests/sec:    892.25
        Transfer/sec:     67.96KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zdbmf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:33:39.114149Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.14ms   82.75ms 484.76ms   70.81%
        Req/Sec   388.11    137.66   717.00     67.24%
        Latency Distribution
        50%  168.71ms
        75%  222.30ms
        90%  267.29ms
        99%  349.07ms
        4503 requests in 3.03s, 343.00KB read
        Requests/sec:   1485.12
        Transfer/sec:    113.12KB
        [run.sh] Speed is 1485.12, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-5xcv8        58m          47Mi
        composereview-8b78db69d-trpgw    0m           2Mi
        frontend-7fff75777f-p2x72        0m           2Mi
        movieid-bb46c45b9-gvdlc          1m           9Mi
        movieinfo-bc5c9b877-sfx9c        0m           13Mi
        moviereviews-676d849c7f-cd6m5    0m           2Mi
        page-75dd88f547-gglbm            1m           2Mi
        plot-847cf65c5f-k7zbh            0m           89Mi
        reviewstorage-6589cd676-7hhs4    0m           2Mi
        ubuntu-client-76886f6bbd-zdbmf   0m           0Mi
        uniqueid-fc8c7bbbb-42lwp         0m           2Mi
        user-65648944f4-6wl82            0m           3Mi
        userreviews-55455b5bdc-6ppkp     0m           2Mi
        Running 50s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.14ms  168.38ms   1.82s    95.51%
        Req/Sec   406.52    144.37   777.00     70.60%
        Latency Distribution
        50%  140.55ms
        75%  193.49ms
        90%  260.36ms
        99%    1.13s
        50000 requests in 50.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 1276
        Requests/sec:   1000.00
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 48.355656
        stop time: 48.664957
        stop time: 48.609054
        stop time: 48.593887
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [48.355656, 48.664957, 48.609054, 48.593887]
    [exp] Throughput: 1029.741222838503
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5d6qz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:37:37.029918Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   161.81ms   79.18ms 405.86ms   68.97%
        Req/Sec   393.81    137.17   650.00     64.66%
        Latency Distribution
        50%  166.47ms
        75%  216.85ms
        90%  259.54ms
        99%  329.03ms
        4583 requests in 3.03s, 349.10KB read
        Requests/sec:   1514.09
        Transfer/sec:    115.33KB
        [run.sh] Speed is 1514.09, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d49s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-vfrm7        0m           49Mi
        composereview-8b78db69d-pjrws    0m           2Mi
        frontend-7fff75777f-wqxql        1m           2Mi
        movieid-bb46c45b9-27km2          0m           9Mi
        movieinfo-bc5c9b877-9t2jn        0m           14Mi
        moviereviews-6c866d8d-f6rr2      1m           2Mi
        page-75dd88f547-rz89n            0m           2Mi
        plot-847cf65c5f-rcjqv            0m           90Mi
        reviewstorage-6589cd676-rc52w    0m           2Mi
        ubuntu-client-76886f6bbd-5d6qz   0m           0Mi
        uniqueid-fc8c7bbbb-z25qz         1m           2Mi
        user-65648944f4-6qnbt            0m           3Mi
        userreviews-55455b5bdc-wfmcv     0m           2Mi
        Running 49s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   150.20ms   95.13ms   1.23s    80.20%
        Req/Sec   413.38    132.17   790.00     76.34%
        Latency Distribution
        50%  140.70ms
        75%  185.63ms
        90%  239.05ms
        99%  373.98ms
        48927 requests in 49.07s, 3.64MB read
        Socket errors: connect 0, read 0, write 0, timeout 1124
        Requests/sec:    997.15
        Transfer/sec:     75.95KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-bmh2m:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:41:36.160861Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   167.76ms   82.82ms 412.73ms   69.41%
        Req/Sec   375.15    166.52   680.00     61.54%
        Latency Distribution
        50%  176.10ms
        75%  230.37ms
        90%  266.11ms
        99%  328.85ms
        4388 requests in 3.04s, 334.24KB read
        Requests/sec:   1445.02
        Transfer/sec:    110.07KB
        [run.sh] Speed is 1445.02, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-stjb8        1m           49Mi
        composereview-8b78db69d-vmjdb    1m           2Mi
        frontend-7fff75777f-lthcn        1m           2Mi
        movieid-bb46c45b9-wm95m          0m           9Mi
        movieinfo-bc5c9b877-dx6vd        1m           13Mi
        moviereviews-6c866d8d-7flgl      1m           2Mi
        page-75dd88f547-6pkkg            0m           2Mi
        plot-847cf65c5f-pr6tp            1m           95Mi
        reviewstorage-6589cd676-xkqnc    1m           2Mi
        ubuntu-client-76886f6bbd-bmh2m   0m           0Mi
        uniqueid-fc8c7bbbb-djvwk         1m           2Mi
        user-65648944f4-v4scf            1m           3Mi
        userreviews-55455b5bdc-hrx8g     0m           2Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   154.99ms  114.21ms   1.93s    82.96%
        Req/Sec   409.67    128.90   767.00     71.98%
        Latency Distribution
        50%  143.28ms
        75%  186.70ms
        90%  246.07ms
        99%  385.74ms
        48826 requests in 0.85m, 3.63MB read
        Socket errors: connect 0, read 0, write 0, timeout 1258
        Requests/sec:    956.17
        Transfer/sec:     72.83KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rcp5g:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:45:35.678580Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   165.03ms   82.00ms 430.08ms   70.33%
        Req/Sec   380.87    140.87   700.00     69.49%
        Latency Distribution
        50%  167.17ms
        75%  221.91ms
        90%  267.10ms
        99%  344.51ms
        4480 requests in 3.03s, 341.25KB read
        Requests/sec:   1477.25
        Transfer/sec:    112.52KB
        [run.sh] Speed is 1477.25, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-fxql9        1m           51Mi
        composereview-8b78db69d-2h9hb    1m           2Mi
        frontend-7fff75777f-9r6m9        1m           2Mi
        movieid-bb46c45b9-cvxqv          0m           9Mi
        movieinfo-bc5c9b877-gk8rt        1m           13Mi
        moviereviews-6c866d8d-jkm5l      1m           2Mi
        page-75dd88f547-kmm9h            0m           2Mi
        plot-847cf65c5f-bdmqm            0m           92Mi
        reviewstorage-6589cd676-wr28t    1m           2Mi
        ubuntu-client-76886f6bbd-rcp5g   0m           0Mi
        uniqueid-fc8c7bbbb-csbn9         1m           2Mi
        user-65648944f4-ktsq2            1m           3Mi
        userreviews-55455b5bdc-28sqr     0m           2Mi
        Running 50s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   150.36ms   97.51ms   1.26s    79.69%
        Req/Sec   416.19    137.49   720.00     72.69%
        Latency Distribution
        50%  142.69ms
        75%  185.29ms
        90%  241.37ms
        99%  425.61ms
        49801 requests in 50.06s, 3.70MB read
        Socket errors: connect 0, read 0, write 0, timeout 1526
        Requests/sec:    994.80
        Transfer/sec:     75.78KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tzltj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:49:35.501717Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.86ms   81.87ms 409.35ms   69.90%
        Req/Sec   369.78    171.44   747.00     65.52%
        Latency Distribution
        50%  181.79ms
        75%  232.25ms
        90%  269.61ms
        99%  326.91ms
        4298 requests in 3.04s, 327.39KB read
        Requests/sec:   1412.60
        Transfer/sec:    107.60KB
        [run.sh] Speed is 1412.60, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-jx652        1m           47Mi
        composereview-8b78db69d-ct7bq    1m           2Mi
        frontend-7fff75777f-np7zp        1m           2Mi
        movieid-bb46c45b9-hnbs7          0m           9Mi
        movieinfo-bc5c9b877-mkg6p        1m           14Mi
        moviereviews-6c866d8d-5r2rp      1m           2Mi
        page-75dd88f547-xnnn7            1m           2Mi
        plot-847cf65c5f-k2mt9            1m           93Mi
        reviewstorage-6589cd676-tws24    1m           2Mi
        ubuntu-client-76886f6bbd-tzltj   0m           0Mi
        uniqueid-fc8c7bbbb-525n5         0m           2Mi
        user-65648944f4-7vt2m            1m           3Mi
        userreviews-55455b5bdc-kpz2d     0m           2Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   156.86ms   85.18ms   1.23s    76.06%
        Req/Sec   396.45    135.68   740.00     70.13%
        Latency Distribution
        50%  153.40ms
        75%  199.88ms
        90%  250.26ms
        99%  367.79ms
        44074 requests in 0.88m, 3.28MB read
        Socket errors: connect 0, read 6, write 0, timeout 1021
        Requests/sec:    830.56
        Transfer/sec:     63.27KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-65bvj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:53:37.048777Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.89ms   82.95ms 469.29ms   72.43%
        Req/Sec   368.35    151.20   696.00     66.10%
        Latency Distribution
        50%  178.60ms
        75%  227.14ms
        90%  273.99ms
        99%  356.98ms
        4366 requests in 3.03s, 332.57KB read
        Requests/sec:   1440.84
        Transfer/sec:    109.75KB
        [run.sh] Speed is 1440.84, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-cg8t2        1m           48Mi
        composereview-8b78db69d-nwpgq    1m           2Mi
        frontend-7fff75777f-xkszr        0m           2Mi
        movieid-bb46c45b9-z2fq2          0m           9Mi
        movieinfo-bc5c9b877-mh4qm        1m           13Mi
        moviereviews-6c866d8d-84njm      0m           2Mi
        page-75dd88f547-sghpx            0m           2Mi
        plot-847cf65c5f-6f62t            0m           89Mi
        reviewstorage-6589cd676-nf6kk    1m           2Mi
        ubuntu-client-76886f6bbd-65bvj   0m           0Mi
        uniqueid-fc8c7bbbb-xrjbp         0m           2Mi
        user-65648944f4-9m87w            1m           3Mi
        userreviews-55455b5bdc-nfl6h     0m           2Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   160.36ms   89.08ms   1.27s    79.77%
        Req/Sec   389.36    140.00   787.00     69.89%
        Latency Distribution
        50%  153.79ms
        75%  215.04ms
        90%  244.00ms
        99%  342.71ms
        47537 requests in 0.87m, 3.54MB read
        Socket errors: connect 0, read 0, write 0, timeout 1017
        Requests/sec:    913.06
        Transfer/sec:     69.55KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fbw8h:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T22:57:40.141600Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   168.14ms   81.43ms 455.17ms   70.39%
        Req/Sec   377.86    155.81   696.00     65.25%
        Latency Distribution
        50%  174.44ms
        75%  227.33ms
        90%  266.36ms
        99%  335.18ms
        4449 requests in 3.05s, 338.89KB read
        Requests/sec:   1460.16
        Transfer/sec:    111.22KB
        [run.sh] Speed is 1460.16, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-27jb8        118m         68Mi
        composereview-8b78db69d-6z8lb    40m          10Mi
        frontend-7fff75777f-zhs6j        104m         10Mi
        movieid-bb46c45b9-bqvjb          9m           10Mi
        movieinfo-bc5c9b877-sx67w        75m          19Mi
        moviereviews-6c866d8d-7jr98      335m         15Mi
        page-75dd88f547-z9fjx            568m         36Mi
        plot-847cf65c5f-kq6tb            78m          134Mi
        reviewstorage-6589cd676-zz66z    102m         14Mi
        ubuntu-client-76886f6bbd-fbw8h   313m         37Mi
        uniqueid-fc8c7bbbb-5pwss         13m          7Mi
        user-65648944f4-9rrmb            17m          7Mi
        userreviews-55455b5bdc-dv4rp     9m           7Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   159.19ms  104.06ms   1.95s    80.25%
        Req/Sec   397.53    143.95   737.00     68.94%
        Latency Distribution
        50%  147.86ms
        75%  199.09ms
        90%  254.90ms
        99%  497.38ms
        42988 requests in 0.85m, 3.20MB read
        Socket errors: connect 0, read 0, write 0, timeout 1283
        Requests/sec:    841.75
        Transfer/sec:     64.12KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wx8jv:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T23:01:37.314533Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.81ms   82.41ms 427.91ms   69.46%
        Req/Sec   370.18    169.69   720.00     65.81%
        Latency Distribution
        50%  182.46ms
        75%  230.93ms
        90%  269.77ms
        99%  331.10ms
        4328 requests in 3.02s, 329.67KB read
        Requests/sec:   1430.81
        Transfer/sec:    108.99KB
        [run.sh] Speed is 1430.81, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-wwndp        1m           49Mi
        composereview-8b78db69d-q84qf    1m           2Mi
        frontend-7fff75777f-kw7qx        0m           2Mi
        movieid-bb46c45b9-zs2s7          0m           9Mi
        movieinfo-bc5c9b877-gwxgt        1m           13Mi
        moviereviews-6c866d8d-rnrfz      0m           2Mi
        page-75dd88f547-rdq7x            0m           2Mi
        plot-847cf65c5f-v2bj2            1m           91Mi
        reviewstorage-6589cd676-k59lh    0m           2Mi
        ubuntu-client-76886f6bbd-wx8jv   0m           0Mi
        uniqueid-fc8c7bbbb-sd68c         0m           2Mi
        user-65648944f4-4g48j            1m           3Mi
        userreviews-55455b5bdc-ksx9r     0m           2Mi
        Running 1m test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   162.50ms  119.07ms   1.31s    82.60%
        Req/Sec   394.62    146.61   787.00     69.91%
        Latency Distribution
        50%  147.69ms
        75%  201.16ms
        90%  257.92ms
        99%  643.05ms
        45029 requests in 0.87m, 3.35MB read
        Socket errors: connect 0, read 0, write 0, timeout 1288
        Requests/sec:    864.86
        Transfer/sec:     65.88KB
        ------------------------------
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
    [exp] Error running bash run.sh movie mix 4 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 4 256 50000`:
        [run.sh] Running benchmark movie with request mix, thread 4, conn 256, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rwl98:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-21T23:05:37.589648Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c256 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   173.75ms   79.73ms 409.74ms   70.13%
        Req/Sec   360.36    153.14   636.00     56.78%
        Latency Distribution
        50%  186.54ms
        75%  229.27ms
        90%  265.13ms
        99%  335.44ms
        4263 requests in 3.03s, 324.72KB read
        Requests/sec:   1405.89
        Transfer/sec:    107.09KB
        [run.sh] Speed is 1405.89, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-nx5vb        1m           48Mi
        composereview-8b78db69d-c5npr    0m           2Mi
        frontend-7fff75777f-6wlbv        0m           2Mi
        movieid-bb46c45b9-h56cs          1m           9Mi
        movieinfo-bc5c9b877-4lhhk        0m           14Mi
        moviereviews-6c866d8d-5kp72      0m           2Mi
        page-75dd88f547-t82sx            1m           2Mi
        plot-847cf65c5f-mbpwt            1m           93Mi
        reviewstorage-6589cd676-4gp5q    0m           2Mi
        ubuntu-client-76886f6bbd-rwl98   0m           0Mi
        uniqueid-fc8c7bbbb-8nsql         0m           2Mi
        user-65648944f4-5mnjj            0m           3Mi
        userreviews-55455b5bdc-tjlmw     0m           2Mi
