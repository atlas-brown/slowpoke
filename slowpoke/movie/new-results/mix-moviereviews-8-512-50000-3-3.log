benchmark                        : movie
num_threads                      : 8
num_conns                        : 512
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 3
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 333, 666]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qw2mn:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:29:27.977649Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   298.87ms  112.77ms 720.61ms   79.82%
        Req/Sec   194.22     62.34   323.00     70.26%
        Latency Distribution
        50%  311.01ms
        75%  350.67ms
        90%  406.22ms
        99%  561.64ms
        4509 requests in 3.03s, 343.46KB read
        Requests/sec:   1487.81
        Transfer/sec:    113.33KB
        [run.sh] Speed is 1487.81, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-jshjd        1m           58Mi
        composereview-8b78db69d-bgq8l    1m           13Mi
        frontend-7fff75777f-bm7bb        1m           13Mi
        movieid-bb46c45b9-h426c          1m           19Mi
        movieinfo-bc5c9b877-58kh5        1m           23Mi
        moviereviews-7b8b6fd77b-gfr9s    1m           14Mi
        page-75dd88f547-9dxtq            1m           14Mi
        plot-847cf65c5f-cj45n            1m           96Mi
        reviewstorage-6589cd676-5lm9h    1m           13Mi
        ubuntu-client-76886f6bbd-qw2mn   0m           14Mi
        uniqueid-fc8c7bbbb-bxbqw         1m           13Mi
        user-65648944f4-mxmb9            1m           15Mi
        userreviews-55455b5bdc-lckh7     1m           14Mi
        Running 50s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   314.96ms  102.79ms 708.32ms   82.86%
        Req/Sec   203.15     43.88   340.00     70.22%
        Latency Distribution
        50%  332.48ms
        75%  360.40ms
        90%  398.80ms
        99%  514.70ms
        50000 requests in 50.00s, 3.72MB read
        Requests/sec:   1000.00
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 30.857663
        stop time: 30.874525
        stop time: 31.097821
        stop time: 30.813711
        stop time: 30.962235
        stop time: 30.887544
        stop time: 30.998522
        stop time: 31.040372
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.857663, 30.874525, 31.097821, 30.813711, 30.962235, 30.887544, 30.998522, 31.040372]
    [exp] Throughput: 1615.9501193041835
[test.py] Baseline throughput: 1615.9501193041835
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-96qgz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:33:23.504860Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   271.13ms  130.19ms 708.67ms   70.56%
        Req/Sec   210.46    101.56   580.00     68.83%
        Latency Distribution
        50%  283.01ms
        75%  355.89ms
        90%  426.30ms
        99%  566.47ms
        4864 requests in 3.02s, 370.50KB read
        Requests/sec:   1611.13
        Transfer/sec:    122.72KB
        [run.sh] Speed is 1611.13, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d46s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-rwpqx        1m           48Mi
        composereview-8b78db69d-44xvf    0m           2Mi
        frontend-7fff75777f-8wxcw        1m           2Mi
        movieid-bb46c45b9-gc6pt          1m           9Mi
        movieinfo-bc5c9b877-85n48        1m           14Mi
        moviereviews-676d849c7f-4m8w8    1m           2Mi
        page-75dd88f547-7w4gv            1m           2Mi
        plot-847cf65c5f-gpjkp            1m           88Mi
        reviewstorage-6589cd676-zhcr5    1m           2Mi
        ubuntu-client-76886f6bbd-96qgz   0m           2Mi
        uniqueid-fc8c7bbbb-t2xk7         1m           2Mi
        user-65648944f4-cf6pf            1m           3Mi
        userreviews-55455b5bdc-g72hj     1m           2Mi
        Running 46s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   295.88ms  138.26ms   1.41s    73.56%
        Req/Sec   215.83     70.65   474.00     68.21%
        Latency Distribution
        50%  301.68ms
        75%  381.17ms
        90%  458.46ms
        99%  599.29ms
        50002 requests in 46.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 2
        Requests/sec:   1087.00
        Transfer/sec:     82.80KB
        ------------------------------
        stop time: 29.095527
        stop time: 28.816556
        stop time: 29.131975
        stop time: 29.182084
        stop time: 29.048684
        stop time: 29.153564
        stop time: 29.287100
        stop time: 29.082198
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.095527, 28.816556, 29.131975, 29.182084, 29.048684, 29.153564, 29.2871, 29.082198]
    [exp] Throughput: 1718.2301226290529
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '333', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5z482:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:37:15.200236Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   281.78ms  137.10ms 806.77ms   71.82%
        Req/Sec   198.13    112.41   595.00     71.12%
        Latency Distribution
        50%  295.42ms
        75%  369.00ms
        90%  442.15ms
        99%  570.22ms
        4608 requests in 3.02s, 351.00KB read
        Requests/sec:   1527.79
        Transfer/sec:    116.37KB
        [run.sh] Speed is 1527.79, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d49s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-xhdbd        121m         66Mi
        composereview-8b78db69d-hrkgt    40m          11Mi
        frontend-7fff75777f-mcbfj        37m          10Mi
        movieid-bb46c45b9-9zjv8          7m           10Mi
        movieinfo-bc5c9b877-wtlbd        64m          20Mi
        moviereviews-86644f4656-vgthv    232m         18Mi
        page-75dd88f547-7jcsp            538m         40Mi
        plot-847cf65c5f-n59nr            45m          110Mi
        reviewstorage-6589cd676-kfdt7    36m          10Mi
        ubuntu-client-76886f6bbd-5z482   3m           39Mi
        uniqueid-fc8c7bbbb-w765l         10m          6Mi
        user-65648944f4-zkkhw            8m           7Mi
        userreviews-55455b5bdc-b8p4d     9m           6Mi
        Running 49s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.34ms  139.28ms   1.48s    73.73%
        Req/Sec   210.09     80.00   500.00     68.25%
        Latency Distribution
        50%  309.38ms
        75%  388.69ms
        90%  464.85ms
        99%  600.72ms
        50000 requests in 49.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 510
        Requests/sec:   1020.40
        Transfer/sec:     77.73KB
        ------------------------------
        stop time: 33.196267
        stop time: 33.077808
        stop time: 33.414354
        stop time: 33.292297
        stop time: 33.189430
        stop time: 33.374315
        stop time: 33.386994
        stop time: 33.338480
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [33.196267, 33.077808, 33.414354, 33.292297, 33.18943, 33.374315, 33.386994, 33.33848]
    [exp] Throughput: 1502.2348842262313
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '666', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fsvqj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:41:09.358334Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   489.41ms  262.67ms   1.37s    68.93%
        Req/Sec   118.27     68.90   410.00     70.83%
        Latency Distribution
        50%  486.98ms
        75%  645.86ms
        90%  830.92ms
        99%    1.11s
        2615 requests in 3.02s, 199.19KB read
        Requests/sec:    865.36
        Transfer/sec:     65.92KB
        [run.sh] Speed is 865.36, duration is 86
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d86s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-5j7mr        28m          64Mi
        composereview-8b78db69d-m5glb    12m          11Mi
        frontend-7fff75777f-vbp65        45m          11Mi
        movieid-bb46c45b9-wqz7z          7m           11Mi
        movieinfo-bc5c9b877-w8s5t        45m          20Mi
        moviereviews-7fd9bfb849-6z9dx    291m         18Mi
        page-75dd88f547-tkcnv            63m          45Mi
        plot-847cf65c5f-9qvd4            50m          103Mi
        reviewstorage-6589cd676-jrs5p    41m          10Mi
        ubuntu-client-76886f6bbd-fsvqj   167m         42Mi
        uniqueid-fc8c7bbbb-cm7ps         7m           6Mi
        user-65648944f4-ns9pw            12m          7Mi
        userreviews-55455b5bdc-jvsnn     7m           5Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   429.94ms  233.31ms   1.61s    70.85%
        Req/Sec   148.87     65.92   434.00     65.91%
        Latency Distribution
        50%  427.73ms
        75%  571.51ms
        90%  720.30ms
        99%    1.03s
        50000 requests in 1.43m, 3.72MB read
        Requests/sec:    581.39
        Transfer/sec:     44.29KB
        ------------------------------
        stop time: 42.149632
        stop time: 41.991376
        stop time: 42.162302
        stop time: 42.428166
        stop time: 42.418087
        stop time: 42.163803
        stop time: 42.104900
        stop time: 42.296880
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [42.149632, 41.991376, 42.162302, 42.428166, 42.418087, 42.163803, 42.1049, 42.29688]
    [exp] Throughput: 1184.4301469380944
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '1000', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '9020', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '9020', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '9020', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '1000', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '1000', 'SLOWPOKE_DELAY_MICROS_PLOT': '1000', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '900', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '9020', 'SLOWPOKE_DELAY_MICROS_USER': '4510', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '9020'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-f76p2:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:46:05.601114Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   471.97ms  180.87ms   1.32s    69.59%
        Req/Sec   121.24     53.63   272.00     69.12%
        Latency Distribution
        50%  484.90ms
        75%  592.92ms
        90%  688.76ms
        99%  875.52ms
        2656 requests in 3.03s, 202.31KB read
        Requests/sec:    877.32
        Transfer/sec:     66.83KB
        [run.sh] Speed is 877.32, duration is 85
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d85s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56c9fdcfd9-b25qc        353m         68Mi
        composereview-8456bcfc85-n8jnn   329m         11Mi
        frontend-bf4d9d86d-nnmtr         61m          14Mi
        movieid-6777496b7b-jj6zk         310m         11Mi
        movieinfo-7bcb85b744-sxh9r       324m         23Mi
        moviereviews-7b8b6fd77b-p7mqv    397m         17Mi
        page-54cbfd5798-bpx96            622m         49Mi
        plot-8595f8f7b8-8fz2d            78m          109Mi
        reviewstorage-76677fb679-m7xx6   62m          11Mi
        ubuntu-client-76886f6bbd-f76p2   172m         56Mi
        uniqueid-897d4c4df-lhsjx         312m         7Mi
        user-5c8ccf7bbb-lgztv            86m          8Mi
        userreviews-748fc9b4f6-gxj9d     313m         7Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   510.40ms  197.71ms   1.71s    74.98%
        Req/Sec   125.38     47.18   323.00     71.05%
        Latency Distribution
        50%  519.65ms
        75%  618.68ms
        90%  731.50ms
        99%    1.02s
        50000 requests in 1.42m, 3.72MB read
        Requests/sec:    588.23
        Transfer/sec:     44.81KB
        ------------------------------
        stop time: 49.993781
        stop time: 50.337758
        stop time: 50.321211
        stop time: 50.152385
        stop time: 49.856085
        stop time: 49.999217
        stop time: 50.222481
        stop time: 50.292643
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [49.993781, 50.337758, 50.321211, 50.152385, 49.856085, 49.999217, 50.222481, 50.292643]
    [exp] Throughput: 997.0697093385506
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '667', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '6016', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '6016', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '6016', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '667', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '667', 'SLOWPOKE_DELAY_MICROS_PLOT': '667', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '600', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '6016', 'SLOWPOKE_DELAY_MICROS_USER': '3008', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '6016'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-7dc47db6c5-wpcxz cannot connect to userreviews
        [run.sh] castinfo-7dc47db6c5-wpcxz cannot connect to userreviews
        [run.sh] composereview-6598bc696c-nwnbl cannot connect to userreviews
        [run.sh] frontend-b8554f46-z7fv5 cannot connect to userreviews
        [run.sh] movieid-6fd9879b78-cng6j cannot connect to userreviews
        [run.sh] movieinfo-5d68bd746d-qzgb9 cannot connect to userreviews
        [run.sh] moviereviews-7b8b6fd77b-7jh52 cannot connect to userreviews
        [run.sh] page-86bf5b4bb-7svpd cannot connect to userreviews
        [run.sh] plot-74d6f494fd-g98w7 cannot connect to userreviews
        [run.sh] reviewstorage-64dd78fb8b-cphx9 cannot connect to userreviews
        [run.sh] ubuntu-client-76886f6bbd-zflsk cannot connect to userreviews
        [run.sh] uniqueid-b49d9f9c5-ns95p cannot connect to userreviews
        [run.sh] user-7fbbcbc985-d9mxp cannot connect to userreviews
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zflsk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:52:47.519168Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   409.42ms  179.01ms   1.04s    69.38%
        Req/Sec   138.41     64.89   330.00     67.41%
        Latency Distribution
        50%  412.90ms
        75%  527.99ms
        90%  629.05ms
        99%  817.31ms
        3118 requests in 3.02s, 237.50KB read
        Requests/sec:   1032.02
        Transfer/sec:     78.61KB
        [run.sh] Speed is 1032.02, duration is 72
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d72s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7dc47db6c5-wpcxz        958m         72Mi
        composereview-6598bc696c-nwnbl   768m         11Mi
        frontend-b8554f46-z7fv5          813m         13Mi
        movieid-6fd9879b78-cng6j         707m         13Mi
        movieinfo-5d68bd746d-qzgb9       863m         23Mi
        moviereviews-7b8b6fd77b-7jh52    1409m        18Mi
        page-86bf5b4bb-7svpd             1911m        59Mi
        plot-74d6f494fd-g98w7            858m         137Mi
        reviewstorage-64dd78fb8b-cphx9   854m         12Mi
        ubuntu-client-76886f6bbd-zflsk   589m         63Mi
        uniqueid-b49d9f9c5-ns95p         711m         8Mi
        user-7fbbcbc985-d9mxp            729m         9Mi
        userreviews-896574cd-f5rlm       713m         8Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   435.46ms  192.66ms   1.58s    72.92%
        Req/Sec   146.85     54.38   350.00     66.26%
        Latency Distribution
        50%  437.29ms
        75%  549.21ms
        90%  666.65ms
        99%  937.31ms
        50000 requests in 1.20m, 3.72MB read
        Requests/sec:    694.44
        Transfer/sec:     52.90KB
        ------------------------------
        stop time: 42.116882
        stop time: 42.842981
        stop time: 42.900991
        stop time: 42.827297
        stop time: 43.139908
        stop time: 42.997710
        stop time: 43.276075
        stop time: 42.976960
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > curl: (28) Connection timed out after 1002 milliseconds
        > command terminated with exit code 28
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [42.116882, 42.842981, 42.900991, 42.827297, 43.139908, 42.99771, 43.276075, 42.97696]
    [exp] Throughput: 1165.9128903807184
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '334', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3012', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3012', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3012', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '334', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '334', 'SLOWPOKE_DELAY_MICROS_PLOT': '334', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '300', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3012', 'SLOWPOKE_DELAY_MICROS_USER': '1506', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3012'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-scgsl:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T16:57:12.626573Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   332.62ms  144.09ms 922.30ms   72.14%
        Req/Sec   174.16     64.71   383.00     73.18%
        Latency Distribution
        50%  337.54ms
        75%  426.51ms
        90%  509.52ms
        99%  677.92ms
        3891 requests in 3.02s, 296.38KB read
        Requests/sec:   1286.83
        Transfer/sec:     98.02KB
        [run.sh] Speed is 1286.83, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d58s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-b6bb65f9b-p9grw         228m         65Mi
        composereview-7df87d95cd-cs48g   146m         10Mi
        frontend-7f99c66495-k58cx        40m          12Mi
        movieid-687f7bd475-x6962         78m          10Mi
        movieinfo-8447879b47-kl2lj       151m         21Mi
        moviereviews-7b8b6fd77b-7v66g    258m         18Mi
        page-599ff9b897-6276d            603m         52Mi
        plot-7f67644f97-kls97            34m          107Mi
        reviewstorage-7fc9c755b9-4ttn6   19m          10Mi
        ubuntu-client-76886f6bbd-scgsl   233m         47Mi
        uniqueid-79d5b76f6d-2sgfx        89m          7Mi
        user-667449bf6-z85n8             27m          8Mi
        userreviews-95fdf5fc-hvbls       58m          7Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   362.66ms  149.22ms   1.15s    73.97%
        Req/Sec   175.98     51.64   363.00     67.01%
        Latency Distribution
        50%  369.58ms
        75%  451.83ms
        90%  538.92ms
        99%  708.55ms
        50000 requests in 0.97m, 3.72MB read
        Requests/sec:    862.07
        Transfer/sec:     65.67KB
        ------------------------------
        stop time: 35.495454
        stop time: 35.885124
        stop time: 35.693249
        stop time: 35.634762
        stop time: 35.460547
        stop time: 35.983704
        stop time: 35.706942
        stop time: 35.756677
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [35.495454, 35.885124, 35.693249, 35.634762, 35.460547, 35.983704, 35.706942, 35.756677]
    [exp] Throughput: 1400.4795150828477
[test.py] Baseline throughput:  1615.9501193041835
[test.py] Groundtruth:  [1718.2301226290529, 1502.2348842262313, 1184.4301469380944]
[test.py] Slowdown:  [997.0697093385506, 1165.9128903807184, 1400.4795150828477]
[test.py] Predicted:  [1816.8806779138208, 1799.0481953016872, 1776.5425393295284]
[test.py] Error percentage:  [5.741405297552541, 19.758116003832384, 49.99133076122061]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 333, 666]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing movies file: ./data/movies_1_500.json... DONE!
        Parsing cast file: ./data/casts_1_500.json... DONE!
        Producing analysis file: ./data/analysis.txt... DONE!
        Populating everything...
        Pending cast: 42666
        DONE!
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wg7p9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-03-22T17:01:16.301548Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   297.93ms  119.46ms 662.47ms   75.52%
        Req/Sec   192.89     72.61   410.00     72.69%
        Latency Distribution
        50%  311.41ms
        75%  375.55ms
        90%  428.19ms
        99%  530.60ms
        4441 requests in 3.03s, 338.28KB read
        Requests/sec:   1467.83
        Transfer/sec:    111.81KB
        [run.sh] Speed is 1467.83, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t8 -c512 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57474b6574-w6fcw        40m          66Mi
        composereview-8b78db69d-5858k    7m           11Mi
        frontend-7fff75777f-dfg4x        0m           11Mi
        movieid-bb46c45b9-jtsnv          0m           10Mi
        movieinfo-bc5c9b877-hk6bx        0m           20Mi
        moviereviews-7b8b6fd77b-8bs2k    0m           20Mi
        page-75dd88f547-tpfwp            233m         55Mi
        plot-847cf65c5f-s459t            0m           125Mi
        reviewstorage-6589cd676-pgwjj    0m           11Mi
        ubuntu-client-76886f6bbd-wg7p9   188m         43Mi
        uniqueid-fc8c7bbbb-wpgzt         0m           6Mi
        user-65648944f4-bl7m7            0m           6Mi
        userreviews-55455b5bdc-m8hv4     0m           6Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   315.84ms  103.06ms 671.94ms   83.11%
        Req/Sec   202.39     43.96   390.00     70.75%
        Latency Distribution
        50%  332.70ms
        75%  361.48ms
        90%  398.78ms
        99%  520.84ms
        50001 requests in 0.85m, 3.72MB read
        Requests/sec:    980.41
        Transfer/sec:     74.68KB
        ------------------------------
        stop time: 30.931910
        stop time: 31.045966
        stop time: 31.081075
        stop time: 30.924311
        stop time: 31.106567
        stop time: 31.025494
        stop time: 31.018452
        stop time: 31.034469
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [30.93191, 31.045966, 31.081075, 30.924311, 31.106567, 31.025494, 31.018452, 31.034469]
    [exp] Throughput: 1611.8097688598707
[test.py] Baseline throughput: 1611.8097688598707
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'SLOWPOKE_DELAY_MICROS_CASTINFO': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0', 'SLOWPOKE_DELAY_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
