benchmark                        : movie
num_threads                      : 8
num_conns                        : 800
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 35000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '35000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 800 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-5d456db778-ksbkq cannot connect to plot
        [run.sh] castinfo-5d456db778-ksbkq cannot connect to plot
        [run.sh] composereview-549b484d9b-spjl2 cannot connect to plot
        [run.sh] frontend-b46cc77bc-g85rl cannot connect to plot
        [run.sh] movieid-59f64b95f8-hfv8p cannot connect to plot
        [run.sh] movieinfo-55db8bbbb6-srqm6 cannot connect to plot
        [run.sh] moviereviews-5f77d4dcd7-p55n4 cannot connect to plot
        [run.sh] page-556c5b55df-f4wc8 cannot connect to plot
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mbwmt:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T18:52:30.276643Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   466.74ms  190.31ms   1.02s    76.08%
        Req/Sec   185.32     74.62   545.00     73.57%
        Latency Distribution
        50%  499.50ms
        75%  584.60ms
        90%  665.45ms
        99%  786.27ms
        4248 requests in 3.03s, 323.58KB read
        Requests/sec:   1403.38
        Transfer/sec:    106.90KB
        [run.sh] Speed is 1403.38, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d456db778-ksbkq        365m         57Mi
        composereview-549b484d9b-spjl2   83m          12Mi
        frontend-b46cc77bc-g85rl         103m         12Mi
        movieid-59f64b95f8-hfv8p         14m          176Mi
        movieinfo-55db8bbbb6-srqm6       111m         206Mi
        moviereviews-5f77d4dcd7-p55n4    488m         23Mi
        page-556c5b55df-f4wc8            377m         90Mi
        plot-8699454947-ljqbq            189m         142Mi
        reviewstorage-65bdf5c4b6-j24qf   7m           13Mi
        ubuntu-client-76886f6bbd-mbwmt   37m          82Mi
        uniqueid-54f6f9fb46-5qqhh        15m          7Mi
        user-65947c95dc-hccbq            27m          8Mi
        userreviews-785ddd59d4-cvwds     12m          7Mi
        Running 1m test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   500.81ms  174.15ms   1.13s    83.97%
        Req/Sec   198.44     49.76   470.00     70.40%
        Latency Distribution
        50%  540.98ms
        75%  582.79ms
        90%  634.44ms
        99%  768.43ms
        50000 requests in 0.88m, 3.72MB read
        Requests/sec:    943.39
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 31.357085
        stop time: 31.588109
        stop time: 31.712746
        stop time: 31.448047
        stop time: 31.878686
        stop time: 31.700365
        stop time: 31.957026
        stop time: 32.169339
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [31.357085, 31.588109, 31.712746, 31.448047, 31.878686, 31.700365, 31.957026, 32.169339]
    [exp] Throughput: 1575.9733222072769
[test.py] Baseline throughput: 1575.9733222072769
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '35000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 800 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pdf9z:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T18:54:42.705056Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   408.09ms  195.70ms   1.18s    74.04%
        Req/Sec   199.93     79.74   444.00     69.40%
        Latency Distribution
        50%  426.40ms
        75%  521.61ms
        90%  621.69ms
        99%  895.99ms
        4657 requests in 3.03s, 354.73KB read
        Requests/sec:   1537.54
        Transfer/sec:    117.12KB
        [run.sh] Speed is 1537.54, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d48s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d456db778-px9c2        143m         62Mi
        composereview-549b484d9b-k2gzt   42m          12Mi
        frontend-b46cc77bc-dg2zj         68m          11Mi
        movieid-59f64b95f8-fbw5k         9m           171Mi
        movieinfo-55db8bbbb6-lwzqs       64m          196Mi
        moviereviews-76479f5cd4-58wl7    163m         16Mi
        page-556c5b55df-vrgtb            621m         69Mi
        plot-8699454947-6fk8c            105m         147Mi
        reviewstorage-65bdf5c4b6-sw8h2   41m          9Mi
        ubuntu-client-76886f6bbd-pdf9z   151m         55Mi
        uniqueid-54f6f9fb46-2sltr        10m          7Mi
        user-65947c95dc-pbhrc            15m          8Mi
        userreviews-785ddd59d4-cbzz5     9m           7Mi
        Running 48s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   463.87ms  199.37ms   1.33s    76.18%
        Req/Sec   213.80     69.98   510.00     69.02%
        Latency Distribution
        50%  483.25ms
        75%  584.53ms
        90%  683.58ms
        99%  871.68ms
        50000 requests in 48.00s, 3.72MB read
        Requests/sec:   1041.66
        Transfer/sec:     79.35KB
        ------------------------------
        stop time: 29.365947
        stop time: 29.065037
        stop time: 29.413902
        stop time: 29.397920
        stop time: 29.387697
        stop time: 29.596183
        stop time: 29.698130
        stop time: 29.538426
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.365947, 29.065037, 29.413902, 29.39792, 29.387697, 29.596183, 29.69813, 29.538426]
    [exp] Throughput: 1698.7789542114604
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '35000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 800 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-cw67v:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T18:56:51.128971Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.75ms  212.91ms   1.38s    72.90%
        Req/Sec   188.18     75.79   410.00     69.64%
        Latency Distribution
        50%  459.63ms
        75%  596.31ms
        90%  708.43ms
        99%  949.69ms
        4291 requests in 3.03s, 326.85KB read
        Requests/sec:   1417.45
        Transfer/sec:    107.97KB
        [run.sh] Speed is 1417.45, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d456db778-zn54c        1m           164Mi
        composereview-549b484d9b-swxj4   18m          12Mi
        frontend-b46cc77bc-2tdfw         1m           10Mi
        movieid-59f64b95f8-vzhwp         0m           171Mi
        movieinfo-55db8bbbb6-qp959       1m           190Mi
        moviereviews-76f8bbc64f-bntzr    1m           17Mi
        page-556c5b55df-qcvmd            1m           79Mi
        plot-8699454947-qbc9x            0m           313Mi
        reviewstorage-65bdf5c4b6-zp46k   1m           9Mi
        ubuntu-client-76886f6bbd-cw67v   15m          72Mi
        uniqueid-54f6f9fb46-lsxxj        1m           6Mi
        user-65947c95dc-fm7mc            0m           6Mi
        userreviews-785ddd59d4-dpr88     6m           6Mi
        Running 1m test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   467.86ms  197.77ms   1.26s    76.78%
        Req/Sec   212.13     67.04   530.00     67.94%
        Latency Distribution
        50%  488.52ms
        75%  585.08ms
        90%  682.15ms
        99%  873.62ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 29.429267
        stop time: 29.118272
        stop time: 29.803863
        stop time: 29.720567
        stop time: 29.761687
        stop time: 29.757713
        stop time: 29.851573
        stop time: 29.598797
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [29.429267, 29.118272, 29.803863, 29.720567, 29.761687, 29.757713, 29.851573, 29.598797]
    [exp] Throughput: 1687.4665267284424
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '35000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 800 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wmm99:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T18:59:03.633773Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   758.33ms  258.22ms   1.75s    72.86%
        Req/Sec   117.16     59.41   290.00     67.79%
        Latency Distribution
        50%  774.19ms
        75%  927.66ms
        90%    1.06s
        99%    1.38s
        2465 requests in 3.02s, 187.76KB read
        Requests/sec:    815.03
        Transfer/sec:     62.08KB
        [run.sh] Speed is 815.03, duration is 92
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d92s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-76956f8bc-g5zpv         7m           122Mi
        composereview-cd8c6d788-vdqc9    1m           2Mi
        frontend-7ffc645887-c5sm4        1m           2Mi
        movieid-649df7b7db-426kr         2m           168Mi
        movieinfo-645475546c-zf765       7m           176Mi
        moviereviews-5f77d4dcd7-2tpxp    7m           2Mi
        page-647d658f88-fgrf7            7m           2Mi
        plot-7bcc48f49d-g98ss            7m           253Mi
        reviewstorage-897ccfc45-n6qm9    1m           2Mi
        ubuntu-client-76886f6bbd-wmm99   0m           0Mi
        uniqueid-fd777b7b4-vzbln         7m           3Mi
        user-56fd66869c-9jg4t            5m           3Mi
        userreviews-5874dbf6cd-8g6t6     1m           2Mi
        Running 2m test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   796.26ms  250.77ms   1.84s    76.09%
        Req/Sec   125.60     50.56   360.00     66.84%
        Latency Distribution
        50%  823.89ms
        75%  945.74ms
        90%    1.07s
        99%    1.33s
        50000 requests in 1.53m, 3.72MB read
        Requests/sec:    543.48
        Transfer/sec:     41.40KB
        ------------------------------
        stop time: 50.039817
        stop time: 49.817425
        stop time: 50.385511
        stop time: 50.460430
        stop time: 50.400394
        stop time: 50.171886
        stop time: 50.586795
        stop time: 50.432297
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [50.039817, 49.817425, 50.385511, 50.46043, 50.400394, 50.171886, 50.586795, 50.432297]
    [exp] Throughput: 994.2963309558093
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '35000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 800 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 800, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-b9b7g:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T19:01:55.235042Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c800 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   554.02ms  273.07ms   1.82s    70.92%
        Req/Sec   140.09     61.72   330.00     72.20%
        Latency Distribution
        50%  505.89ms
        75%  699.66ms
        90%  948.24ms
        99%    1.31s
        3147 requests in 3.02s, 239.71KB read
        Requests/sec:   1041.45
        Transfer/sec:     79.33KB
        [run.sh] Speed is 1041.45, duration is 72
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c800 -d72s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5bf87f465f-8xqvj        1m           121Mi
        composereview-6cb5c544b4-72nzn   1m           2Mi
        frontend-bbfcf66c5-chfj9         1m           3Mi
        movieid-56c756df9d-hzrm9         1m           169Mi
        movieinfo-75b9bbc887-c9qc9       1m           175Mi
        moviereviews-5f77d4dcd7-bgjmh    1m           2Mi
        page-6dc9569584-gr2wl            1m           2Mi
        plot-774b4d4f8b-tr4nz            1m           280Mi
        reviewstorage-54bcf7cc5f-f9lrs   7m           2Mi
        ubuntu-client-76886f6bbd-b9b7g   16m          2Mi
        uniqueid-6c7fcf4fbd-fwgm4        3m           2Mi
        user-586d7d9dbf-gzpqb            7m           3Mi
        userreviews-5ffdd6947d-sdbh5     6m           3Mi
        Running 1m test @ http://localhost:3000
        8 threads and 800 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   630.33ms  196.29ms   1.47s    77.67%
        Req/Sec   157.98     52.99   440.00     68.14%
        Latency Distribution
        50%  654.50ms
        75%  744.83ms
        90%  834.70ms
        99%    1.02s
        50000 requests in 1.20m, 3.72MB read
        Requests/sec:    694.44
        Transfer/sec:     52.90KB
        ------------------------------
        stop time: 39.549489
        stop time: 39.570279
        stop time: 39.891384
        stop time: 39.727249
        stop time: 39.862521
        stop time: 40.006410
        stop time: 40.261258
        stop time: 40.281536
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [39.549489, 39.570279, 39.891384, 39.727249, 39.862521, 40.00641, 40.261258, 40.281536]
    [exp] Throughput: 1253.3286607569753
[test.py] Baseline throughput:  1575.9733222072769
[test.py] Groundtruth:  [1698.7789542114604, 1687.4665267284424]
[test.py] Slowdown:  [994.2963309558093, 1253.3286607569753]
[test.py] Predicted:  [1807.6927245323448, 1749.4665810570673]
[test.py] Error percentage:  [6.4112973645497044, 3.6741501740379285]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1575.9733222072769
    Groundtruth: [1698.7789542114604, 1687.4665267284424]
    Slowdown:    [994.2963309558093, 1253.3286607569753]
    Predicted:   [1807.6927245323448, 1749.4665810570673]
    Error Perc:  [6.4112973645497044, 3.6741501740379285]
