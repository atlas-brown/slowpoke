benchmark                        : movie
num_threads                      : 8
num_conns                        : 512
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 1
target_num_exp                   : 2
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 48000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '48000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7qr8x:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T15:40:42.608577Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   301.08ms  116.21ms 751.90ms   77.01%
        Req/Sec   188.06     74.08   400.00     74.14%
        Latency Distribution
        50%  311.85ms
        75%  364.23ms
        90%  428.76ms
        99%  566.30ms
        4371 requests in 3.03s, 332.95KB read
        Requests/sec:   1442.68
        Transfer/sec:    109.89KB
        [run.sh] Speed is 1442.68, duration is 51
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d51s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-844dd799f4-kf4mp        135m         181Mi
        composereview-7b7594b87b-v6ggl   38m          12Mi
        frontend-7755789659-6ndxv        65m          11Mi
        movieid-565b54987d-ffvjm         9m           171Mi
        movieinfo-d4fc5994-8nbzc         64m          195Mi
        moviereviews-5b5cd68fcf-jgw9d    601m         20Mi
        page-7595c69589-q6zcl            563m         48Mi
        plot-5d75d74b4c-cq86p            93m          315Mi
        reviewstorage-85b97b5f4-znhlm    69m          12Mi
        ubuntu-client-76886f6bbd-7qr8x   117m         71Mi
        uniqueid-5d8cf567d-q5df2         10m          7Mi
        user-5cf8f86979-4q627            15m          7Mi
        userreviews-6d9855c5bd-zj7cv     8m           6Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   320.24ms  105.92ms 769.27ms   82.69%
        Req/Sec   199.62     43.32   373.00     71.95%
        Latency Distribution
        50%  338.70ms
        75%  367.55ms
        90%  406.64ms
        99%  521.27ms
        50000 requests in 0.85m, 3.72MB read
        Requests/sec:    980.39
        Transfer/sec:     74.68KB
        ------------------------------
        stop time: 31.348654
        stop time: 31.603705
        stop time: 31.387562
        stop time: 31.473770
        stop time: 31.586630
        stop time: 31.356496
        stop time: 31.434714
        stop time: 31.562055
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [31.348654, 31.603705, 31.387562, 31.47377, 31.58663, 31.356496, 31.434714, 31.562055]
    [exp] Throughput: 1588.85522290038
[test.py] Baseline throughput: 1588.85522290038
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '48000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-hdnj7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T15:42:53.415579Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.82ms  135.61ms 866.77ms   73.63%
        Req/Sec   200.49     96.43   520.00     66.23%
        Latency Distribution
        50%  295.79ms
        75%  371.66ms
        90%  440.29ms
        99%  587.82ms
        4636 requests in 3.02s, 353.13KB read
        Requests/sec:   1533.46
        Transfer/sec:    116.81KB
        [run.sh] Speed is 1533.46, duration is 48
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d48s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-844dd799f4-5jgxs        1m           122Mi
        composereview-7b7594b87b-k475c   1m           2Mi
        frontend-7755789659-7q4zw        1m           2Mi
        movieid-565b54987d-z822r         1m           168Mi
        movieinfo-d4fc5994-sjn6f         1m           176Mi
        moviereviews-57fbc6b7f6-df62w    1m           3Mi
        page-7595c69589-h5vrx            1m           2Mi
        plot-5d75d74b4c-8wrlw            1m           254Mi
        reviewstorage-85b97b5f4-ffslc    1m           2Mi
        ubuntu-client-76886f6bbd-hdnj7   15m          2Mi
        uniqueid-5d8cf567d-j7nzq         4m           2Mi
        user-5cf8f86979-8h9gs            7m           3Mi
        userreviews-6d9855c5bd-x99pl     6m           2Mi
        Running 48s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     2.01s     3.56s   18.02s    86.15%
        Req/Sec   208.13     74.12   490.00     70.17%
        Latency Distribution
        50%  359.12ms
        75%    1.23s
        90%    8.07s
        99%   14.00s
        50000 requests in 48.00s, 3.72MB read
        Requests/sec:   1041.66
        Transfer/sec:     79.35KB
        ------------------------------
        stop time: 47.584048
        stop time: 47.764079
        stop time: 47.953936
        stop time: 47.858739
        stop time: 47.827528
        stop time: 47.554705
        stop time: 47.225452
        stop time: 47.744874
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [47.584048, 47.764079, 47.953936, 47.858739, 47.827528, 47.554705, 47.225452, 47.744874]
    [exp] Throughput: 1048.4560722894316
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '48000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-6f6ph:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T15:45:02.981717Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   286.02ms  134.98ms 744.09ms   72.66%
        Req/Sec   194.38     80.84   430.00     74.03%
        Latency Distribution
        50%  295.51ms
        75%  372.32ms
        90%  443.80ms
        99%  588.43ms
        4495 requests in 3.02s, 342.39KB read
        Requests/sec:   1487.40
        Transfer/sec:    113.30KB
        [run.sh] Speed is 1487.40, duration is 50
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d50s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-844dd799f4-w6p4c        1m           104Mi
        composereview-7b7594b87b-9s7gt   1m           2Mi
        frontend-7755789659-wtlhn        1m           2Mi
        movieid-565b54987d-wd4mt         2m           169Mi
        movieinfo-d4fc5994-x2smn         6m           176Mi
        moviereviews-fb689f677-nr9hw     7m           3Mi
        page-7595c69589-w8ml9            7m           3Mi
        plot-5d75d74b4c-jzcsd            7m           253Mi
        reviewstorage-85b97b5f4-45krf    7m           2Mi
        ubuntu-client-76886f6bbd-6f6ph   0m           0Mi
        uniqueid-5d8cf567d-vc8xp         7m           2Mi
        user-5cf8f86979-5l8j4            6m           3Mi
        userreviews-6d9855c5bd-tsrm5     1m           3Mi
        Running 50s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   702.33ms  978.43ms  11.52s    86.99%
        Req/Sec   204.31     72.36   494.00     69.70%
        Latency Distribution
        50%  342.01ms
        75%  476.11ms
        90%    2.32s
        99%    4.15s
        50000 requests in 50.00s, 3.72MB read
        Requests/sec:   1000.00
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 40.982173
        stop time: 41.159555
        stop time: 40.749909
        stop time: 40.894969
        stop time: 41.044640
        stop time: 40.991069
        stop time: 41.038676
        stop time: 41.246738
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [40.982173, 41.159555, 40.749909, 40.894969, 41.04464, 40.991069, 41.038676, 41.246738]
    [exp] Throughput: 1219.1117875190316
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '48000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-n9hhb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T15:47:23.467693Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   512.73ms  143.86ms 990.93ms   66.76%
        Req/Sec   112.47     55.21   303.00     67.73%
        Latency Distribution
        50%  508.02ms
        75%  610.12ms
        90%  708.98ms
        99%  807.16ms
        2488 requests in 3.02s, 189.52KB read
        Requests/sec:    823.08
        Transfer/sec:     62.70KB
        [run.sh] Speed is 823.08, duration is 91
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d91s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7797598cf-qnsgg         260m         59Mi
        composereview-77b45f7f68-qhhdx   65m          11Mi
        frontend-696d49d4f5-n9ldf        102m         13Mi
        movieid-5d9d4b4d4b-khcbw         16m          186Mi
        movieinfo-579465c5c9-2drjj       108m         231Mi
        moviereviews-5b5cd68fcf-k726v    1224m        21Mi
        page-6b77c78d4-gdl2m             1080m        57Mi
        plot-79489bc95d-x5bqf            160m         146Mi
        reviewstorage-6695cd79fc-tlznl   117m         15Mi
        ubuntu-client-76886f6bbd-n9hhb   467m         66Mi
        uniqueid-57f98d7cb4-zd5xk        21m          8Mi
        user-5669fb9685-rtkmg            31m          8Mi
        userreviews-67567f6b58-nwdv7     15m          9Mi
        Running 2m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   524.83ms  156.13ms   1.48s    69.65%
        Req/Sec   122.31     46.40   292.00     67.12%
        Latency Distribution
        50%  522.06ms
        75%  621.87ms
        90%  723.20ms
        99%  929.43ms
        50000 requests in 1.52m, 3.72MB read
        Requests/sec:    549.45
        Transfer/sec:     41.85KB
        ------------------------------
        stop time: 51.569625
        stop time: 51.149701
        stop time: 51.551527
        stop time: 51.419651
        stop time: 51.466557
        stop time: 51.664784
        stop time: 51.667933
        stop time: 51.527201
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [51.569625, 51.149701, 51.551527, 51.419651, 51.466557, 51.664784, 51.667933, 51.527201]
    [exp] Throughput: 970.8337772167395
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '48000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0'}
    [exp] Executing cmd `bash run.sh movie mix 8 512 50000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qn9qk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-02T15:50:14.257702Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   400.01ms  126.75ms 802.36ms   70.55%
        Req/Sec   141.53     65.05   310.00     68.16%
        Latency Distribution
        50%  397.89ms
        75%  480.91ms
        90%  574.06ms
        99%  675.76ms
        3175 requests in 3.02s, 241.85KB read
        Requests/sec:   1050.85
        Transfer/sec:     80.04KB
        [run.sh] Speed is 1050.85, duration is 71
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d71s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-777b6f5c95-6bwdn        319m         62Mi
        composereview-554766fdfb-4bvn7   78m          13Mi
        frontend-5985cbd47f-c8cl5        132m         13Mi
        movieid-584bfff886-4whxz         19m          178Mi
        movieinfo-69499c79f5-qwmgg       150m         250Mi
        moviereviews-5b5cd68fcf-qq9m2    1471m        22Mi
        page-7c845d9544-x4trg            1412m        61Mi
        plot-5fc98d768b-bqrz7            208m         148Mi
        reviewstorage-77d4cb6767-nj7dq   150m         18Mi
        ubuntu-client-76886f6bbd-qn9qk   629m         69Mi
        uniqueid-69f495dc64-j5kbd        22m          8Mi
        user-74576689b9-2mlx2            37m          9Mi
        userreviews-69b89bd978-zgt45     17m          9Mi
        Running 1m test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.10s     1.66s   10.33s    87.59%
        Req/Sec   145.58     56.43   343.00     70.55%
        Latency Distribution
        50%  466.80ms
        75%  612.57ms
        90%    3.46s
        99%    7.98s
        50000 requests in 1.18m, 3.72MB read
        Requests/sec:    704.22
        Transfer/sec:     53.64KB
        ------------------------------
        stop time: 58.477281
        stop time: 58.757931
        stop time: 58.775046
        stop time: 58.522483
        stop time: 58.772361
        stop time: 58.617198
        stop time: 58.704504
        stop time: 58.766747
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [58.477281, 58.757931, 58.775046, 58.522483, 58.772361, 58.617198, 58.704504, 58.766747]
    [exp] Throughput: 852.1633907151827
[test.py] Baseline throughput:  1588.85522290038
[test.py] Groundtruth:  [1048.4560722894316, 1219.1117875190316]
[test.py] Slowdown:  [970.8337772167395, 852.1633907151827]
[test.py] Predicted:  [1731.609462226001, 1055.730576426842]
[test.py] Error percentage:  [65.15803646831102, -13.401659533181993]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1588.85522290038
    Groundtruth: [1048.4560722894316, 1219.1117875190316]
    Slowdown:    [970.8337772167395, 852.1633907151827]
    Predicted:   [1731.609462226001, 1055.730576426842]
    Error Perc:  [65.15803646831102, -13.401659533181993]
