benchmark                        : movie
num_threads                      : 8
num_conns                        : 1024
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 60000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4v27k:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T04:58:21.299671Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   594.21ms  252.07ms   1.17s    75.74%
        Req/Sec   177.84     65.87   320.00     66.21%
        Latency Distribution
        50%  642.61ms
        75%  768.39ms
        90%  854.84ms
        99%    1.02s
        4003 requests in 3.04s, 304.92KB read
        Requests/sec:   1317.92
        Transfer/sec:    100.39KB
        [run.sh] Speed is 1317.92, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   656.35ms  222.46ms   1.19s    85.48%
        Req/Sec   189.86     60.41   393.00     75.71%
        Latency Distribution
        50%  714.22ms
        75%  767.02ms
        90%  822.17ms
        99%  945.21ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.811745
        stop time: 13.128069
        stop time: 13.457301
        stop time: 13.588129
        stop time: 13.533074
        stop time: 13.271017
        stop time: 13.529953
        stop time: 13.475622
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-gdznj        88m          156Mi
        composereview-676886854c-7xjwt   102m         10Mi
        frontend-67bcc5d87b-q57fj        1m           10Mi
        movieid-6b7485b65-s8qjp          13m          172Mi
        movieinfo-969fd9977-npvrm        78m          193Mi
        moviereviews-7d747bcb8-zn94l     1m           19Mi
        page-6597cb4c54-9vnjg            629m         104Mi
        plot-5464fccfdd-kljt6            91m          299Mi
        reviewstorage-86dd5ff9b9-8rjtp   67m          11Mi
        ubuntu-client-76886f6bbd-4v27k   58m          66Mi
        uniqueid-5987bc8cf9-z9dhg        12m          7Mi
        user-6776c48774-nd4kl            7m           7Mi
        userreviews-5d99989bf-lvbpr      13m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.811745, 13.128069, 13.457301, 13.588129, 13.533074, 13.271017, 13.529953, 13.475622]
    [exp] Throughput: 1498.1987437416258
[test.py] Baseline throughput: 1498.1987437416258
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-75f77:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:00:10.542600Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   444.15ms  253.01ms   1.42s    68.64%
        Req/Sec   190.04     94.54   565.00     68.97%
        Latency Distribution
        50%  432.78ms
        75%  625.98ms
        90%  761.85ms
        99%    1.07s
        4417 requests in 3.03s, 336.45KB read
        Requests/sec:   1457.22
        Transfer/sec:    111.00KB
        [run.sh] Speed is 1457.22, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   577.77ms  238.68ms   1.28s    76.68%
        Req/Sec   207.76     73.44   750.00     72.50%
        Latency Distribution
        50%  631.29ms
        75%  722.02ms
        90%  809.05ms
        99%    1.00s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.442220
        stop time: 11.509933
        stop time: 11.863854
        stop time: 12.250673
        stop time: 12.253276
        stop time: 12.511814
        stop time: 12.549771
        stop time: 12.544664
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-swjnf        16m          152Mi
        composereview-676886854c-6qzls   105m         10Mi
        frontend-67bcc5d87b-4g5pc        146m         11Mi
        movieid-6b7485b65-vd22m          6m           173Mi
        movieinfo-969fd9977-xv45r        29m          202Mi
        moviereviews-58674f8fbc-vj8zr    230m         14Mi
        page-6597cb4c54-2sfh7            639m         70Mi
        plot-5464fccfdd-hwh5r            27m          315Mi
        reviewstorage-86dd5ff9b9-mvn68   30m          10Mi
        ubuntu-client-76886f6bbd-75f77   124m         88Mi
        uniqueid-5987bc8cf9-ps69p        2m           7Mi
        user-6776c48774-mjx9q            23m          8Mi
        userreviews-5d99989bf-fjd2v      6m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.44222, 11.509933, 11.863854, 12.250673, 12.253276, 12.511814, 12.549771, 12.544664]
    [exp] Throughput: 1650.7403751132113
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '45250481', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '45254492', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '45254492', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '45244058', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '45250481', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '45250481', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '45250481'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wncx8:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:01:58.674462Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   751.46ms  312.84ms   1.53s    65.86%
        Req/Sec   116.65     53.31   250.00     61.40%
        Latency Distribution
        50%  796.47ms
        75%  986.47ms
        90%    1.12s
        99%    1.32s
        2674 requests in 3.04s, 203.68KB read
        Requests/sec:    878.63
        Transfer/sec:     66.93KB
        [run.sh] Speed is 878.63, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-c54f4f8d-97vl5          220m         61Mi
        composereview-5557b6ddf9-fxnkf   76m          10Mi
        frontend-74f8bcb4c6-4rrfv        116m         12Mi
        movieid-f797d5fbf-79q67          11m          176Mi
        movieinfo-5c7795b976-hkhq7       53m          218Mi
        moviereviews-7d747bcb8-zdbb6     846m         20Mi
        page-6bbc85c7b7-mgzcl            503m         100Mi
        plot-746f96dcb9-ss6ql            171m         318Mi
        reviewstorage-747dcb858c-fcjdp   55m          14Mi
        ubuntu-client-76886f6bbd-wncx8   565m         107Mi
        uniqueid-5cbcc5d769-bt5rz        27m          8Mi
        user-59b899ff44-xmh8z            31m          9Mi
        userreviews-7d8db99f55-t8ldv     12m          7Mi
        Running 34s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.00s   343.13ms   1.92s    80.40%
        Req/Sec   125.09     49.78   494.00     73.12%
        Latency Distribution
        50%    1.08s
        75%    1.20s
        90%    1.31s
        99%    1.52s
        20000 requests in 34.00s, 1.49MB read
        Requests/sec:    588.23
        Transfer/sec:     44.81KB
        ------------------------------
        stop time: 19.669393
        stop time: 20.041532
        stop time: 20.168536
        stop time: 20.091848
        stop time: 20.232597
        stop time: 20.419531
        stop time: 20.602761
        stop time: 20.408857
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.669393, 20.041532, 20.168536, 20.091848, 20.232597, 20.419531, 20.602761, 20.408857]
    [exp] Throughput: 989.8842797436483
[test.py] Finished running 0th optmization experiment: groundtruth->1650.7403751132113, slowdown->989.8842797436483, predicted->1793.1620946562316, err->8.627747990549558
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4j9rh:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:03:52.446455Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.51ms  267.98ms   1.53s    70.32%
        Req/Sec   195.83     94.39   555.00     67.67%
        Latency Distribution
        50%  455.72ms
        75%  654.99ms
        90%  796.64ms
        99%    1.15s
        4555 requests in 3.03s, 346.96KB read
        Requests/sec:   1502.80
        Transfer/sec:    114.47KB
        [run.sh] Speed is 1502.80, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   577.11ms  235.63ms   1.42s    77.82%
        Req/Sec   210.66     75.67   808.00     73.31%
        Latency Distribution
        50%  620.77ms
        75%  716.88ms
        90%  808.91ms
        99%    1.01s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.278338
        stop time: 11.383975
        stop time: 11.815161
        stop time: 12.188361
        stop time: 12.086882
        stop time: 12.114648
        stop time: 12.440814
        stop time: 12.197483
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-zxt5j        111m         61Mi
        composereview-676886854c-7jbfd   380m         9Mi
        frontend-67bcc5d87b-zxzp9        560m         9Mi
        movieid-6b7485b65-cm2nx          39m          177Mi
        movieinfo-969fd9977-srp5m        256m         212Mi
        moviereviews-7c774d8d5d-wcdcl    791m         16Mi
        page-6597cb4c54-sxssn            1889m        74Mi
        plot-5464fccfdd-rgpzt            308m         145Mi
        reviewstorage-86dd5ff9b9-lhkqt   293m         12Mi
        ubuntu-client-76886f6bbd-4j9rh   428m         77Mi
        uniqueid-5987bc8cf9-8wf2z        41m          7Mi
        user-6776c48774-mrm8c            67m          8Mi
        userreviews-5d99989bf-h7crh      37m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.278338, 11.383975, 11.815161, 12.188361, 12.086882, 12.114648, 12.440814, 12.197483]
    [exp] Throughput: 1675.2933454353729
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '40725432', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '40729042', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '40729042', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '40719651', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '40725432', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '40725432', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '40725432'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xsj4z:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:05:40.509883Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   746.88ms  330.69ms   1.68s    65.53%
        Req/Sec   126.32     57.82   330.00     72.81%
        Latency Distribution
        50%  760.87ms
        75%    1.01s
        90%    1.14s
        99%    1.37s
        2904 requests in 3.04s, 221.20KB read
        Requests/sec:    955.64
        Transfer/sec:     72.79KB
        [run.sh] Speed is 955.64, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        ubuntu-client-76886f6bbd-xsj4z   0m           0Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   930.39ms  332.11ms   1.76s    79.28%
        Req/Sec   131.85     51.90   510.00     73.18%
        Latency Distribution
        50%    1.02s
        75%    1.13s
        90%    1.23s
        99%    1.42s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 18.269884
        stop time: 18.490732
        stop time: 18.665107
        stop time: 18.978346
        stop time: 19.227790
        stop time: 19.494850
        stop time: 19.617574
        stop time: 19.897434
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.269884, 18.490732, 18.665107, 18.978346, 19.22779, 19.49485, 19.617574, 19.897434]
    [exp] Throughput: 1048.2062384033586
[test.py] Finished running 1th optmization experiment: groundtruth->1675.2933454353729, slowdown->1048.2062384033586, predicted->1829.0891486134883, err->9.180231247092262
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-56549f7689-s7ccc cannot connect to composereview
        [run.sh] castinfo-56549f7689-s7ccc cannot connect to composereview
        [run.sh] castinfo-56549f7689-s7ccc cannot connect to composereview
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jkkzr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:07:33.997668Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   510.51ms  220.31ms   1.13s    76.05%
        Req/Sec   201.09     84.89   440.00     71.93%
        Latency Distribution
        50%  551.53ms
        75%  653.09ms
        90%  744.70ms
        99%  910.96ms
        4630 requests in 3.03s, 352.68KB read
        Requests/sec:   1527.35
        Transfer/sec:    116.34KB
        [run.sh] Speed is 1527.35, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.73ms  255.03ms   1.67s    77.55%
        Req/Sec   202.11     80.10   616.00     72.26%
        Latency Distribution
        50%  650.04ms
        75%  747.63ms
        90%  843.73ms
        99%    1.12s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.935660
        stop time: 11.804381
        stop time: 11.969738
        stop time: 12.541612
        stop time: 12.804810
        stop time: 12.670872
        stop time: 12.889470
        stop time: 13.017122
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-s7ccc        6m           104Mi
        composereview-676886854c-2tkqn   6m           3Mi
        frontend-67bcc5d87b-rjkn2        7m           3Mi
        movieid-6b7485b65-kgpmp          7m           170Mi
        movieinfo-969fd9977-qndmp        7m           176Mi
        moviereviews-885dd8fb5-c2njw     7m           3Mi
        page-6597cb4c54-x5smv            7m           3Mi
        plot-5464fccfdd-pffnn            5m           253Mi
        reviewstorage-86dd5ff9b9-hvr4k   1m           3Mi
        ubuntu-client-76886f6bbd-jkkzr   14m          0Mi
        uniqueid-5987bc8cf9-twvtk        1m           3Mi
        user-6776c48774-qjw48            1m           4Mi
        userreviews-5d99989bf-k984m      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [11.93566, 11.804381, 11.969738, 12.541612, 12.80481, 12.670872, 12.88947, 13.017122]
    [exp] Throughput: 1605.8829111626073
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '36200383', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '36203592', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '36203592', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '36195244', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '36200383', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '36200383', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '36200383'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qvhf9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:09:23.228805Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   734.30ms  348.73ms   1.77s    68.71%
        Req/Sec   120.66     67.94   343.00     67.54%
        Latency Distribution
        50%  737.62ms
        75%  979.52ms
        90%    1.17s
        99%    1.51s
        2755 requests in 3.04s, 209.85KB read
        Requests/sec:    906.56
        Transfer/sec:     69.05KB
        [run.sh] Speed is 906.56, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-974c96796-4mlzf         1m           133Mi
        composereview-5bfd9554c6-87dpr   1m           11Mi
        frontend-57fc4b5655-x7v9t        1m           11Mi
        movieid-75df6b7f9d-fvspf         1m           171Mi
        movieinfo-7bb887f8dd-fsvtp       1m           188Mi
        moviereviews-7d747bcb8-jrj59     1m           17Mi
        page-7fcd768787-q4gq4            1m           76Mi
        plot-578795f4d5-sv7xs            1m           274Mi
        reviewstorage-7c948b7fd9-twpbb   1m           12Mi
        ubuntu-client-76886f6bbd-qvhf9   77m          87Mi
        uniqueid-6f959dc5fb-2ltk4        7m           7Mi
        user-58687df6f7-5mr8d            7m           8Mi
        userreviews-84b85fc59d-glvl8     6m           7Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   950.05ms  340.47ms   1.94s    80.19%
        Req/Sec   131.73     50.92   420.00     70.27%
        Latency Distribution
        50%    1.03s
        75%    1.14s
        90%    1.26s
        99%    1.49s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 18.742103
        stop time: 19.255488
        stop time: 19.046398
        stop time: 19.035906
        stop time: 19.241885
        stop time: 19.336990
        stop time: 19.220229
        stop time: 19.470311
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.742103, 19.255488, 19.046398, 19.035906, 19.241885, 19.33699, 19.220229, 19.470311]
    [exp] Throughput: 1043.3695462992303
[test.py] Finished running 2th optmization experiment: groundtruth->1605.8829111626073, slowdown->1043.3695462992303, predicted->1676.734993780754, err->4.412032915080464
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-h9bct:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:11:16.031850Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   414.75ms  220.45ms 960.80ms   67.54%
        Req/Sec   183.50    105.36   510.00     68.56%
        Latency Distribution
        50%  425.55ms
        75%  569.68ms
        90%  691.44ms
        99%  876.51ms
        4227 requests in 3.03s, 321.98KB read
        Requests/sec:   1397.25
        Transfer/sec:    106.43KB
        [run.sh] Speed is 1397.25, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   593.63ms  240.60ms   1.32s    77.48%
        Req/Sec   204.39     68.14   585.00     72.84%
        Latency Distribution
        50%  640.01ms
        75%  735.09ms
        90%  831.94ms
        99%    1.02s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.38
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.638610
        stop time: 11.836725
        stop time: 12.084275
        stop time: 12.251906
        stop time: 12.396234
        stop time: 12.686631
        stop time: 12.729962
        stop time: 12.813403
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-hdqdz        49m          157Mi
        composereview-676886854c-tsj55   105m         9Mi
        frontend-67bcc5d87b-zblvm        155m         10Mi
        movieid-6b7485b65-zn5kl          10m          171Mi
        movieinfo-969fd9977-k5264        56m          194Mi
        moviereviews-984fc9976-2mlbc     354m         16Mi
        page-6597cb4c54-tt7cg            637m         85Mi
        plot-5464fccfdd-cnlsd            63m          296Mi
        reviewstorage-86dd5ff9b9-8t4mg   57m          10Mi
        ubuntu-client-76886f6bbd-h9bct   275m         63Mi
        uniqueid-5987bc8cf9-28rwv        7m           7Mi
        user-6776c48774-nmwdt            24m          7Mi
        userreviews-5d99989bf-82bx7      10m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.63861, 11.836725, 12.084275, 12.251906, 12.396234, 12.686631, 12.729962, 12.813403]
    [exp] Throughput: 1625.3927634629101
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '31675334', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '31678141', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '31678141', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '31670837', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '31675334', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '31675334', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '31675334'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vxlbr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:13:04.192673Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   591.22ms  291.08ms   1.59s    64.92%
        Req/Sec   130.06     68.08   353.00     65.09%
        Latency Distribution
        50%  578.87ms
        75%  830.40ms
        90%  943.60ms
        99%    1.18s
        3022 requests in 3.04s, 230.19KB read
        Requests/sec:    992.81
        Transfer/sec:     75.62KB
        [run.sh] Speed is 992.81, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56d6d54487-xm5sx        21m          62Mi
        composereview-cf7fcd876-jvnf6    47m          10Mi
        frontend-6d9c5d6ff-jsvx4         87m          11Mi
        movieid-648cb99bc4-5tlc2         6m           174Mi
        movieinfo-5f54bb4c99-msx5c       27m          215Mi
        moviereviews-7d747bcb8-bjd2k     694m         19Mi
        page-5b68f5c84d-cxj5m            409m         107Mi
        plot-7498447fb6-mktst            28m          319Mi
        reviewstorage-b5c9cbd64-dggwz    23m          12Mi
        ubuntu-client-76886f6bbd-vxlbr   475m         102Mi
        uniqueid-7fcb6487f6-68664        3m           8Mi
        user-657946d759-jg8d6            24m          8Mi
        userreviews-7b465b4766-lfsnn     6m           8Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   877.45ms  316.68ms   1.80s    80.72%
        Req/Sec   141.53     52.57   474.00     73.18%
        Latency Distribution
        50%  956.21ms
        75%    1.06s
        90%    1.15s
        99%    1.36s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 17.373697
        stop time: 17.947016
        stop time: 17.831145
        stop time: 17.745974
        stop time: 17.981687
        stop time: 17.946241
        stop time: 18.092074
        stop time: 17.814365
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.373697, 17.947016, 17.831145, 17.745974, 17.981687, 17.946241, 18.092074, 17.814365]
    [exp] Throughput: 1120.980417319851
[test.py] Finished running 3th optmization experiment: groundtruth->1625.3927634629101, slowdown->1120.980417319851, predicted->1738.2394713925778, err->6.942734732573007
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rnz5b:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:14:53.944399Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   535.48ms  238.60ms   1.24s    75.59%
        Req/Sec   193.75     83.39   450.00     70.80%
        Latency Distribution
        50%  585.83ms
        75%  684.99ms
        90%  776.89ms
        99%  981.41ms
        4425 requests in 3.03s, 337.06KB read
        Requests/sec:   1459.64
        Transfer/sec:    111.18KB
        [run.sh] Speed is 1459.64, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   607.37ms  237.52ms   1.32s    79.73%
        Req/Sec   208.41     70.14   535.00     70.95%
        Latency Distribution
        50%  652.47ms
        75%  739.92ms
        90%  832.22ms
        99%    1.02s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.995267
        stop time: 12.385091
        stop time: 12.073074
        stop time: 12.324965
        stop time: 12.289014
        stop time: 12.075446
        stop time: 12.236600
        stop time: 12.371008
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-fnf2p        383m         62Mi
        composereview-676886854c-5c889   361m         9Mi
        frontend-67bcc5d87b-xj4fw        476m         9Mi
        movieid-6b7485b65-shpz6          40m          177Mi
        movieinfo-969fd9977-dj5wp        254m         218Mi
        moviereviews-76756dc775-g54kf    860m         18Mi
        page-6597cb4c54-l9v4w            1625m        83Mi
        plot-5464fccfdd-82kxv            305m         146Mi
        reviewstorage-86dd5ff9b9-kl9xz   281m         12Mi
        ubuntu-client-76886f6bbd-rnz5b   361m         100Mi
        uniqueid-5987bc8cf9-ttdx6        40m          7Mi
        user-6776c48774-cpz7k            52m          8Mi
        userreviews-5d99989bf-dtj48      38m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.995267, 12.385091, 12.073074, 12.324965, 12.289014, 12.075446, 12.2366, 12.371008]
    [exp] Throughput: 1636.820858090036
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '27150285', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '27152691', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '27152691', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '27146430', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '27150285', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '27150285', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '27150285'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tsj5l:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:16:42.023329Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.71ms  383.68ms   1.96s    70.40%
        Req/Sec   132.01     67.91   370.00     68.51%
        Latency Distribution
        50%  523.54ms
        75%  887.28ms
        90%    1.15s
        99%    1.74s
        3105 requests in 3.03s, 236.51KB read
        Requests/sec:   1025.86
        Transfer/sec:     78.14KB
        [run.sh] Speed is 1025.86, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   859.04ms  310.50ms   1.73s    80.94%
        Req/Sec   146.08     56.42   680.00     73.85%
        Latency Distribution
        50%  928.02ms
        75%    1.03s
        90%    1.13s
        99%    1.34s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.968921
        stop time: 17.105261
        stop time: 17.376871
        stop time: 17.464597
        stop time: 17.380578
        stop time: 17.250718
        stop time: 17.452817
        stop time: 17.438141
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        moviereviews-7d747bcb8-6zrvf   7m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.968921, 17.105261, 17.376871, 17.464597, 17.380578, 17.250718, 17.452817, 17.438141]
    [exp] Throughput: 1155.7528348594471
[test.py] Finished running 4th optmization experiment: groundtruth->1636.820858090036, slowdown->1155.7528348594471, predicted->1684.324324004503, err->2.902178676406758
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rmj4g:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:18:31.137338Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   550.96ms  233.58ms   1.11s    76.88%
        Req/Sec   191.20     87.50   525.00     68.12%
        Latency Distribution
        50%  595.53ms
        75%  702.36ms
        90%  786.73ms
        99%    1.00s
        4398 requests in 3.04s, 335.00KB read
        Requests/sec:   1448.10
        Transfer/sec:    110.30KB
        [run.sh] Speed is 1448.10, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   595.27ms  234.82ms   1.37s    79.57%
        Req/Sec   208.85     61.05   440.00     69.42%
        Latency Distribution
        50%  638.48ms
        75%  728.39ms
        90%  821.10ms
        99%    1.02s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.955643
        stop time: 12.029514
        stop time: 11.961391
        stop time: 12.142831
        stop time: 12.109060
        stop time: 12.260996
        stop time: 12.300444
        stop time: 12.187836
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-wp8vs        1m           104Mi
        composereview-676886854c-pr45h   1m           3Mi
        frontend-67bcc5d87b-h7r6n        1m           3Mi
        movieid-6b7485b65-sh96m          1m           168Mi
        movieinfo-969fd9977-b7df7        2m           176Mi
        moviereviews-77ddc5f47d-kpxtd    1m           3Mi
        page-6597cb4c54-s9b22            5m           3Mi
        plot-5464fccfdd-mtgwn            7m           255Mi
        reviewstorage-86dd5ff9b9-5mdt6   7m           3Mi
        ubuntu-client-76886f6bbd-rmj4g   4m           0Mi
        uniqueid-5987bc8cf9-6c65x        7m           3Mi
        user-6776c48774-6lrx6            7m           4Mi
        userreviews-5d99989bf-52lms      5m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.955643, 12.029514, 11.961391, 12.142831, 12.10906, 12.260996, 12.300444, 12.187836]
    [exp] Throughput: 1650.3741217624365
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '22625235', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '22627241', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '22627241', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '22622024', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '22625235', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '22625235', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '22625235'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-r5cgb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:20:19.279490Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.95ms  362.80ms   1.80s    67.04%
        Req/Sec   134.86     63.55   340.00     64.85%
        Latency Distribution
        50%  528.54ms
        75%  901.19ms
        90%    1.08s
        99%    1.51s
        3216 requests in 3.03s, 244.97KB read
        Requests/sec:   1061.53
        Transfer/sec:     80.86KB
        [run.sh] Speed is 1061.53, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   789.64ms  302.95ms   1.57s    78.11%
        Req/Sec   153.10     57.22   414.00     70.68%
        Latency Distribution
        50%  863.26ms
        75%  973.28ms
        90%    1.07s
        99%    1.27s
        20000 requests in 28.00s, 1.49MB read
        Requests/sec:    714.28
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 15.536421
        stop time: 15.949874
        stop time: 16.209072
        stop time: 16.404648
        stop time: 16.495149
        stop time: 16.970691
        stop time: 16.942147
        stop time: 16.907950
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6fd97df859-6h2nt        28m          150Mi
        composereview-6b8d898765-vh2rh   70m          8Mi
        frontend-687c7cf5bb-lpl94        102m         10Mi
        movieid-7759876b7f-8x625         8m           171Mi
        movieinfo-5696d6db75-krvmz       38m          192Mi
        moviereviews-7d747bcb8-m99rf     546m         18Mi
        page-78c7469f64-r98c5            510m         87Mi
        plot-77b86c46f8-668tv            37m          288Mi
        reviewstorage-55c948bfbf-9bqvk   33m          11Mi
        ubuntu-client-76886f6bbd-r5cgb   2m           63Mi
        uniqueid-d546c484c-c58tn         4m           7Mi
        user-796cb4f58-49snq             19m          8Mi
        userreviews-64db74458f-djw4b     7m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.536421, 15.949874, 16.209072, 16.404648, 16.495149, 16.970691, 16.942147, 16.90795]
    [exp] Throughput: 1217.5082063096875
[test.py] Finished running 5th optmization experiment: groundtruth->1650.3741217624365, slowdown->1217.5082063096875, predicted->1680.4542697885875, err->1.8226260112481836
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-6zwpj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:22:07.607287Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   479.83ms  265.16ms   1.28s    67.90%
        Req/Sec   185.48     83.14   444.00     68.94%
        Latency Distribution
        50%  510.45ms
        75%  672.72ms
        90%  786.08ms
        99%    1.06s
        4358 requests in 3.03s, 331.96KB read
        Requests/sec:   1436.18
        Transfer/sec:    109.40KB
        [run.sh] Speed is 1436.18, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   594.88ms  236.19ms   1.35s    79.11%
        Req/Sec   207.53     65.48   540.00     71.67%
        Latency Distribution
        50%  636.14ms
        75%  730.96ms
        90%  827.51ms
        99%    1.03s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.826224
        stop time: 11.943411
        stop time: 12.111908
        stop time: 12.221524
        stop time: 12.378265
        stop time: 12.476875
        stop time: 12.025246
        stop time: 12.532738
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-8tr8g        9m           63Mi
        composereview-676886854c-s5qpc   62m          8Mi
        frontend-67bcc5d87b-6l87n        104m         10Mi
        movieid-6b7485b65-49kfc          4m           173Mi
        movieinfo-969fd9977-tz4w4        24m          214Mi
        moviereviews-85554db99c-28hcn    488m         18Mi
        page-6597cb4c54-nw2z5            534m         92Mi
        plot-5464fccfdd-qb7g7            21m          320Mi
        reviewstorage-86dd5ff9b9-58mv2   18m          11Mi
        ubuntu-client-76886f6bbd-6zwpj   273m         99Mi
        uniqueid-5987bc8cf9-cwdv4        1m           7Mi
        user-6776c48774-gtcb2            22m          7Mi
        userreviews-5d99989bf-492r5      3m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.826224, 11.943411, 12.111908, 12.221524, 12.378265, 12.476875, 12.025246, 12.532738]
    [exp] Throughput: 1640.7531750291603
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '18100186', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '18101791', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '18101791', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '18097617', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '18100186', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '18100186', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '18100186'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-bpdk6:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:23:56.776462Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.20ms  238.26ms   1.32s    66.75%
        Req/Sec   144.74     84.34   390.00     65.13%
        Latency Distribution
        50%  475.19ms
        75%  642.57ms
        90%  776.65ms
        99%  939.63ms
        3441 requests in 3.04s, 262.11KB read
        Requests/sec:   1133.51
        Transfer/sec:     86.34KB
        [run.sh] Speed is 1133.51, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   744.92ms  291.72ms   1.82s    77.00%
        Req/Sec   162.42     57.90   360.00     70.11%
        Latency Distribution
        50%  812.21ms
        75%  919.90ms
        90%    1.02s
        99%    1.23s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.679080
        stop time: 15.050421
        stop time: 15.467917
        stop time: 15.303699
        stop time: 15.667753
        stop time: 15.951113
        stop time: 15.814632
        stop time: 15.942683
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-54b9bb7968-qjr8w        298m         62Mi
        composereview-7bb6b899c8-fxskm   276m         9Mi
        frontend-d94b6869c-flzh9         361m         10Mi
        movieid-6b97c88588-k6btr         34m          176Mi
        movieinfo-7c84c57768-g5jfz       195m         235Mi
        moviereviews-7d747bcb8-fwd22     952m         19Mi
        page-b766dfdf5-nfmjk             1480m        110Mi
        plot-68cbc89497-wphdr            242m         146Mi
        reviewstorage-ffc9bdc8b-4m4c9    197m         14Mi
        ubuntu-client-76886f6bbd-bpdk6   493m         107Mi
        uniqueid-68d8f56b54-j6fk4        36m          8Mi
        user-84b666c76c-7kfjf            60m          8Mi
        userreviews-8477fb6b44-zg99q     35m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.67908, 15.050421, 15.467917, 15.303699, 15.667753, 15.951113, 15.814632, 15.942683]
    [exp] Throughput: 1291.6006611639204
[test.py] Finished running 6th optmization experiment: groundtruth->1640.7531750291603, slowdown->1291.6006611639204, predicted->1685.729166802533, err->2.74117962761665
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-87sqj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:25:44.715504Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   445.06ms  234.54ms   1.20s    69.35%
        Req/Sec   179.42     73.24   380.00     68.53%
        Latency Distribution
        50%  464.35ms
        75%  623.93ms
        90%  730.93ms
        99%  929.79ms
        4173 requests in 3.03s, 317.87KB read
        Requests/sec:   1377.59
        Transfer/sec:    104.93KB
        [run.sh] Speed is 1377.59, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   588.43ms  226.10ms   1.26s    80.22%
        Req/Sec   207.51     67.19   484.00     71.67%
        Latency Distribution
        50%  638.94ms
        75%  718.40ms
        90%  797.95ms
        99%  967.52ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.667342
        stop time: 11.715101
        stop time: 11.988178
        stop time: 12.177843
        stop time: 12.317433
        stop time: 12.379295
        stop time: 12.390375
        stop time: 12.396069
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-sv5qj        1m           61Mi
        composereview-676886854c-bpz9x   1m           9Mi
        frontend-67bcc5d87b-q2m6b        1m           9Mi
        movieid-6b7485b65-xgskx          1m           178Mi
        movieinfo-969fd9977-txg5x        1m           238Mi
        moviereviews-9ff484c88-zcl8k     661m         20Mi
        page-6597cb4c54-whkzm            1m           88Mi
        plot-5464fccfdd-4r75x            1m           145Mi
        reviewstorage-86dd5ff9b9-hgf9n   1m           14Mi
        ubuntu-client-76886f6bbd-87sqj   253m         71Mi
        uniqueid-5987bc8cf9-8c8mr        1m           7Mi
        user-6776c48774-st7j4            1m           8Mi
        userreviews-5d99989bf-6fwmf      1m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.667342, 11.715101, 11.988178, 12.177843, 12.317433, 12.379295, 12.390375, 12.396069]
    [exp] Throughput: 1648.9467414524474
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '13575137', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '13576340', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '13576340', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '13573210', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '13575137', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '13575137', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '13575137'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-j99df:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:27:33.753306Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.42ms  291.54ms   1.59s    69.88%
        Req/Sec   154.05     82.51   414.00     66.52%
        Latency Distribution
        50%  608.82ms
        75%  825.53ms
        90%  961.37ms
        99%    1.19s
        3602 requests in 3.03s, 274.37KB read
        Requests/sec:   1189.48
        Transfer/sec:     90.60KB
        [run.sh] Speed is 1189.48, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   732.86ms  268.06ms   1.48s    81.55%
        Req/Sec   170.21     63.38   450.00     70.19%
        Latency Distribution
        50%  790.69ms
        75%  880.01ms
        90%  970.21ms
        99%    1.15s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 14.646943
        stop time: 14.708671
        stop time: 14.791326
        stop time: 14.950516
        stop time: 14.687581
        stop time: 14.810704
        stop time: 14.975939
        stop time: 14.916843
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5564b8b8d5-qs2dd        1m           105Mi
        composereview-6cb45bcd9b-phfwn   1m           3Mi
        frontend-7f688f847f-fqq6z        1m           3Mi
        movieid-755b9d447d-cls8h         1m           169Mi
        movieinfo-68f4999bfc-9zrc7       1m           176Mi
        moviereviews-7d747bcb8-sxdr8     7m           3Mi
        page-84d775859d-bvv69            6m           3Mi
        plot-5458c9b468-xm5z9            7m           254Mi
        reviewstorage-565cc8d489-px42m   7m           3Mi
        ubuntu-client-76886f6bbd-j99df   0m           0Mi
        uniqueid-7dd7f65f84-r48t9        7m           3Mi
        user-7d579c9645-7qmft            1m           4Mi
        userreviews-559f7b4f9d-clhgj     5m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.646943, 14.708671, 14.791326, 14.950516, 14.687581, 14.810704, 14.975939, 14.916843]
    [exp] Throughput: 1350.3417541967335
[test.py] Finished running 7th optmization experiment: groundtruth->1648.9467414524474, slowdown->1350.3417541967335, predicted->1653.4671458068244, err->0.27413889367920125
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-bbkmh:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:29:21.625192Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   472.84ms  246.23ms   1.61s    70.56%
        Req/Sec   182.81     84.04   454.00     71.98%
        Latency Distribution
        50%  467.12ms
        75%  642.10ms
        90%  778.86ms
        99%    1.07s
        4248 requests in 3.03s, 323.58KB read
        Requests/sec:   1402.71
        Transfer/sec:    106.85KB
        [run.sh] Speed is 1402.71, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.01ms  228.87ms   1.40s    81.65%
        Req/Sec   205.21     63.87   525.00     68.35%
        Latency Distribution
        50%  653.96ms
        75%  726.16ms
        90%  799.20ms
        99%  979.41ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.847116
        stop time: 12.201485
        stop time: 12.235127
        stop time: 12.343471
        stop time: 12.368921
        stop time: 12.547567
        stop time: 12.371109
        stop time: 12.322472
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-ldv2n        49m          156Mi
        composereview-676886854c-6x82p   101m         9Mi
        frontend-67bcc5d87b-tmqtv        156m         9Mi
        movieid-6b7485b65-l7pc8          10m          172Mi
        movieinfo-969fd9977-826w6        64m          194Mi
        moviereviews-796664ffff-w8wp2    1m           17Mi
        page-6597cb4c54-l5g74            1m           95Mi
        plot-5464fccfdd-7bclw            64m          288Mi
        reviewstorage-86dd5ff9b9-psqsn   54m          11Mi
        ubuntu-client-76886f6bbd-bbkmh   2m           61Mi
        uniqueid-5987bc8cf9-gpntn        4m           6Mi
        user-6776c48774-h5xxh            7m           7Mi
        userreviews-5d99989bf-g6fkw      9m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.847116, 12.201485, 12.235127, 12.343471, 12.368921, 12.547567, 12.371109, 12.322472]
    [exp] Throughput: 1628.7097886313368
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '9050088', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '9050890', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '9050890', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '9048803', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '9050088', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '9050088', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '9050088'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jv4zt:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:31:09.531614Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   539.15ms  355.03ms   1.84s    75.35%
        Req/Sec   159.06     76.51   393.00     68.70%
        Latency Distribution
        50%  483.33ms
        75%  739.86ms
        90%  941.18ms
        99%    1.68s
        3704 requests in 3.04s, 282.14KB read
        Requests/sec:   1220.12
        Transfer/sec:     92.94KB
        [run.sh] Speed is 1220.12, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   699.48ms  260.76ms   1.49s    81.49%
        Req/Sec   176.40     71.82   760.00     71.11%
        Latency Distribution
        50%  760.14ms
        75%  846.59ms
        90%  930.86ms
        99%    1.10s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.824935
        stop time: 14.060528
        stop time: 14.308128
        stop time: 14.110678
        stop time: 14.443095
        stop time: 14.582914
        stop time: 14.691605
        stop time: 14.654441
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6b7db8cd6d-qlxrd        27m          63Mi
        composereview-6f99ccf475-nlxnr   76m          10Mi
        frontend-5dd6b4668-78c6k         134m         11Mi
        movieid-7bd5c874b9-zdx96         8m           187Mi
        movieinfo-779998c67b-s4dnt       45m          206Mi
        moviereviews-7d747bcb8-6xgsx     600m         19Mi
        page-b9577cf89-bj4t4             586m         101Mi
        plot-576bcdb94f-r67xl            43m          317Mi
        reviewstorage-7bdd985db9-74vvj   30m          12Mi
        ubuntu-client-76886f6bbd-jv4zt   254m         98Mi
        uniqueid-6c5864d47c-tbh8w        3m           7Mi
        user-649df87f7-tjrjt             24m          8Mi
        userreviews-5cdf6dcbdc-7cccv     8m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.824935, 14.060528, 14.308128, 14.110678, 14.443095, 14.582914, 14.691605, 14.654441]
    [exp] Throughput: 1395.2313295288398
[test.py] Finished running 8th optmization experiment: groundtruth->1628.7097886313368, slowdown->1395.2313295288398, predicted->1596.8879340514095, err->-1.9538075353908397
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fhzxj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:32:57.702283Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   519.41ms  311.50ms   1.78s    76.77%
        Req/Sec   168.30     84.22   470.00     67.93%
        Latency Distribution
        50%  522.34ms
        75%  684.83ms
        90%  829.14ms
        99%    1.51s
        3982 requests in 3.03s, 303.32KB read
        Requests/sec:   1314.27
        Transfer/sec:    100.11KB
        [run.sh] Speed is 1314.27, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   621.85ms  227.38ms   1.19s    82.91%
        Req/Sec   199.45     58.15   520.00     68.66%
        Latency Distribution
        50%  679.17ms
        75%  744.59ms
        90%  807.76ms
        99%  946.19ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.261821
        stop time: 12.476250
        stop time: 12.679037
        stop time: 12.574903
        stop time: 12.587163
        stop time: 12.777405
        stop time: 12.765113
        stop time: 12.898157
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-65ldh        371m         60Mi
        composereview-676886854c-clzvr   172m         9Mi
        frontend-67bcc5d87b-nnd5w        291m         9Mi
        movieid-6b7485b65-s7fcz          34m          188Mi
        movieinfo-969fd9977-n992n        208m         237Mi
        moviereviews-859cf5b46b-kvhjh    1479m        20Mi
        page-6597cb4c54-7rjrj            1290m        108Mi
        plot-5464fccfdd-f4wkj            276m         145Mi
        reviewstorage-86dd5ff9b9-6rt5h   225m         14Mi
        ubuntu-client-76886f6bbd-fhzxj   639m         98Mi
        uniqueid-5987bc8cf9-l9hwg        36m          7Mi
        user-6776c48774-p458v            46m          8Mi
        userreviews-5d99989bf-r8mfb      32m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.261821, 12.47625, 12.679037, 12.574903, 12.587163, 12.777405, 12.765113, 12.898157]
    [exp] Throughput: 1583.8471506723397
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '4525039', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '4525440', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '4525440', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '4524396', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '4525039', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '4525039', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '4525039'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-l9mtf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:34:46.775403Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   572.60ms  294.48ms   1.53s    71.28%
        Req/Sec   165.42     72.38   390.00     65.37%
        Latency Distribution
        50%  573.96ms
        75%  770.73ms
        90%  937.32ms
        99%    1.25s
        3848 requests in 3.04s, 293.11KB read
        Requests/sec:   1267.04
        Transfer/sec:     96.51KB
        [run.sh] Speed is 1267.04, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   655.86ms  242.25ms   1.40s    81.90%
        Req/Sec   186.09     62.46   450.00     70.21%
        Latency Distribution
        50%  719.71ms
        75%  793.87ms
        90%  864.76ms
        99%    1.01s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.844603
        stop time: 13.063730
        stop time: 13.214431
        stop time: 13.514704
        stop time: 13.737599
        stop time: 13.970049
        stop time: 14.004332
        stop time: 14.111514
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6c7c6cc8df-xvnqk        1m           58Mi
        composereview-76fdd946fd-f7dkz   270m         9Mi
        frontend-d9758dcf7-hxm7q         356m         9Mi
        movieid-65d9ddcc9b-cfhxd         35m          178Mi
        movieinfo-5758c5d7f7-6xhdx       185m         218Mi
        moviereviews-7d747bcb8-t5wxt     820m         21Mi
        page-5d5d4b8b4b-fxz7j            970m         87Mi
        plot-659f95d484-tkv64            249m         153Mi
        reviewstorage-bf5d94cb8-f59l6    201m         15Mi
        ubuntu-client-76886f6bbd-l9mtf   355m         71Mi
        uniqueid-6cdcd9776b-rkmv4        1m           8Mi
        user-644dcd586f-n6dwt            41m          8Mi
        userreviews-59f7885b7b-fhpl9     33m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.844603, 13.06373, 13.214431, 13.514704, 13.737599, 13.970049, 14.004332, 14.111514]
    [exp] Throughput: 1475.1851454166522
[test.py] Finished running 9th optmization experiment: groundtruth->1583.8471506723397, slowdown->1475.1851454166522, predicted->1580.7115008674702, err->-0.19797679362799422
[test.py] Baseline throughput:  1498.1987437416258
[test.py] Groundtruth:  [1650.7403751132113, 1675.2933454353729, 1605.8829111626073, 1625.3927634629101, 1636.820858090036, 1650.3741217624365, 1640.7531750291603, 1648.9467414524474, 1628.7097886313368, 1583.8471506723397]
[test.py] Slowdown:  [989.8842797436483, 1048.2062384033586, 1043.3695462992303, 1120.980417319851, 1155.7528348594471, 1217.5082063096875, 1291.6006611639204, 1350.3417541967335, 1395.2313295288398, 1475.1851454166522]
[test.py] Predicted:  [1793.1620946562316, 1829.0891486134883, 1676.734993780754, 1738.2394713925778, 1684.324324004503, 1680.4542697885875, 1685.729166802533, 1653.4671458068244, 1596.8879340514095, 1580.7115008674702]
[test.py] Error percentage:  [8.627747990549558, 9.180231247092262, 4.412032915080464, 6.942734732573007, 2.902178676406758, 1.8226260112481836, 2.74117962761665, 0.27413889367920125, -1.9538075353908397, -0.19797679362799422]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mjb45:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:36:34.672632Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.61ms  246.12ms   1.17s    76.01%
        Req/Sec   175.87     67.48   370.00     72.27%
        Latency Distribution
        50%  646.69ms
        75%  761.27ms
        90%  855.99ms
        99%  988.77ms
        3956 requests in 3.03s, 301.34KB read
        Requests/sec:   1305.94
        Transfer/sec:     99.48KB
        [run.sh] Speed is 1305.94, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   649.54ms  242.48ms   1.41s    81.69%
        Req/Sec   187.54     61.66   500.00     71.66%
        Latency Distribution
        50%  715.38ms
        75%  782.99ms
        90%  849.46ms
        99%    1.02s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.798522
        stop time: 12.948165
        stop time: 13.056186
        stop time: 13.399061
        stop time: 13.526878
        stop time: 13.659587
        stop time: 14.097400
        stop time: 14.052547
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-l258s        1m           104Mi
        composereview-676886854c-58gcc   6m           3Mi
        frontend-67bcc5d87b-5b9q5        7m           3Mi
        movieid-6b7485b65-7xznh          7m           169Mi
        movieinfo-969fd9977-96kbh        7m           176Mi
        moviereviews-7d747bcb8-2sz2n     7m           3Mi
        page-6597cb4c54-hr5ld            7m           3Mi
        ubuntu-client-76886f6bbd-mjb45   3m           0Mi
        uniqueid-5987bc8cf9-5hvqb        7m           3Mi
        user-6776c48774-qmkcf            1m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.798522, 12.948165, 13.056186, 13.399061, 13.526878, 13.659587, 14.0974, 14.052547]
    [exp] Throughput: 1487.8413696264213
[test.py] Baseline throughput: 1487.8413696264213
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-bdqqj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:38:23.920460Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   565.71ms  240.65ms   1.32s    76.67%
        Req/Sec   183.29     86.53   464.00     66.23%
        Latency Distribution
        50%  609.19ms
        75%  709.30ms
        90%  808.33ms
        99%    1.04s
        4205 requests in 3.04s, 320.30KB read
        Requests/sec:   1382.00
        Transfer/sec:    105.27KB
        [run.sh] Speed is 1382.00, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   588.32ms  246.59ms   1.38s    77.51%
        Req/Sec   207.63     79.06   700.00     72.60%
        Latency Distribution
        50%  629.55ms
        75%  729.82ms
        90%  835.07ms
        99%    1.08s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.605026
        stop time: 11.861387
        stop time: 11.897955
        stop time: 12.096669
        stop time: 12.332608
        stop time: 12.410410
        stop time: 12.446895
        stop time: 12.283576
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-m5q7c        1m           131Mi
        composereview-676886854c-94c4k   1m           10Mi
        frontend-67bcc5d87b-ssvg5        1m           11Mi
        movieid-6b7485b65-xb87f          1m           188Mi
        movieinfo-969fd9977-hlbq2        1m           187Mi
        moviereviews-58674f8fbc-9jf42    1m           15Mi
        page-6597cb4c54-h2ldh            1m           80Mi
        plot-5464fccfdd-v5gj2            4m           294Mi
        reviewstorage-86dd5ff9b9-f9278   7m           8Mi
        ubuntu-client-76886f6bbd-bdqqj   2m           85Mi
        uniqueid-5987bc8cf9-lfmqn        7m           6Mi
        user-6776c48774-wmrdc            7m           7Mi
        userreviews-5d99989bf-f28sz      6m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.605026, 11.861387, 11.897955, 12.096669, 12.332608, 12.41041, 12.446895, 12.283576]
    [exp] Throughput: 1650.598673170383
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '45250481', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '45254492', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '45254492', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '45244058', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '45250481', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '45250481', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '45250481'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-l4dqm:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:40:12.000441Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   683.26ms  386.05ms   1.85s    65.39%
        Req/Sec   115.21     63.84   320.00     64.73%
        Latency Distribution
        50%  578.64ms
        75%  976.56ms
        90%    1.24s
        99%    1.63s
        2661 requests in 3.03s, 202.69KB read
        Requests/sec:    878.29
        Transfer/sec:     66.90KB
        [run.sh] Speed is 878.29, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-c54f4f8d-5k95z          81m          147Mi
        composereview-5557b6ddf9-92wr4   60m          9Mi
        frontend-74f8bcb4c6-5jcst        78m          12Mi
        movieid-f797d5fbf-jrj5n          10m          187Mi
        movieinfo-5c7795b976-7qjzx       47m          193Mi
        moviereviews-7d747bcb8-h5x2t     480m         17Mi
        page-6bbc85c7b7-xmwp6            435m         85Mi
        plot-746f96dcb9-47546            68m          287Mi
        reviewstorage-747dcb858c-nnwn4   57m          11Mi
        ubuntu-client-76886f6bbd-l4dqm   205m         76Mi
        uniqueid-5cbcc5d769-5twtl        11m          8Mi
        user-59b899ff44-5mbnx            18m          9Mi
        userreviews-7d8db99f55-6987g     11m          7Mi
        Running 34s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   983.83ms  346.62ms   1.84s    78.28%
        Req/Sec   125.89     51.89   444.00     71.31%
        Latency Distribution
        50%    1.07s
        75%    1.19s
        90%    1.30s
        99%    1.54s
        20000 requests in 34.00s, 1.49MB read
        Requests/sec:    588.23
        Transfer/sec:     44.81KB
        ------------------------------
        stop time: 19.149531
        stop time: 19.741729
        stop time: 19.434429
        stop time: 20.513870
        stop time: 19.851871
        stop time: 20.566317
        stop time: 20.833899
        stop time: 20.826605
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.149531, 19.741729, 19.434429, 20.51387, 19.851871, 20.566317, 20.833899, 20.826605]
    [exp] Throughput: 994.2936802115753
[test.py] Finished running 0th optmization experiment: groundtruth->1650.598673170383, slowdown->994.2936802115753, predicted->1807.6839629121166, err->9.51686756417975
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-l9bk7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:42:04.647369Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   514.93ms  221.37ms   1.07s    75.34%
        Req/Sec   203.95     86.61   444.00     68.00%
        Latency Distribution
        50%  567.68ms
        75%  654.27ms
        90%  743.36ms
        99%  903.74ms
        4672 requests in 3.04s, 355.88KB read
        Requests/sec:   1537.91
        Transfer/sec:    117.15KB
        [run.sh] Speed is 1537.91, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   582.25ms  230.07ms   1.23s    79.41%
        Req/Sec   211.19     64.49   434.00     69.88%
        Latency Distribution
        50%  625.73ms
        75%  714.42ms
        90%  800.82ms
        99%  979.26ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.602845
        stop time: 11.779234
        stop time: 11.643637
        stop time: 12.010595
        stop time: 11.995747
        stop time: 11.978346
        stop time: 12.032357
        stop time: 12.008364
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-82lfv        50m          63Mi
        composereview-676886854c-r7lwn   18m          9Mi
        frontend-67bcc5d87b-krl4k        71m          10Mi
        movieid-6b7485b65-jvnc2          0m           175Mi
        movieinfo-969fd9977-chzkt        4m           218Mi
        moviereviews-7c774d8d5d-8gsmk    381m         16Mi
        page-6597cb4c54-zxsd7            635m         88Mi
        plot-5464fccfdd-mlssb            15m          325Mi
        reviewstorage-86dd5ff9b9-8r7cr   15m          11Mi
        ubuntu-client-76886f6bbd-l9bk7   269m         101Mi
        uniqueid-5987bc8cf9-nvwm2        6m           8Mi
        user-6776c48774-kcrxz            20m          8Mi
        userreviews-5d99989bf-57rk8      1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.602845, 11.779234, 11.643637, 12.010595, 11.995747, 11.978346, 12.032357, 12.008364]
    [exp] Throughput: 1683.304642633109
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '40725432', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '40729042', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '40729042', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '40719651', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '40725432', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '40725432', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '40725432'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-26zzc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:43:52.472379Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   670.02ms  379.81ms   1.89s    67.93%
        Req/Sec   116.13     64.12   373.00     66.81%
        Latency Distribution
        50%  594.61ms
        75%  917.04ms
        90%    1.22s
        99%    1.64s
        2738 requests in 3.03s, 208.56KB read
        Requests/sec:    904.63
        Transfer/sec:     68.91KB
        [run.sh] Speed is 904.63, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-674c4fd4cc-g9k79        233m         60Mi
        composereview-5ff56468f5-99cgz   194m         9Mi
        frontend-7b57df9fd8-649md        238m         10Mi
        movieid-7797c8f889-jx9sb         27m          178Mi
        movieinfo-585c4c99df-c5q82       148m         210Mi
        moviereviews-7d747bcb8-q4czq     1356m        21Mi
        page-85d9cdf894-cckwr            1120m        95Mi
        plot-7fc5d668bd-9nrbd            192m         149Mi
        reviewstorage-568844b6d-kgzjm    153m         16Mi
        ubuntu-client-76886f6bbd-26zzc   555m         102Mi
        uniqueid-67fcd8c4d9-ct2wm        29m          8Mi
        user-656f4d69bb-7ljrf            48m          9Mi
        userreviews-6ff44d66c5-bqs4j     30m          8Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   938.61ms  333.34ms   1.92s    79.93%
        Req/Sec   131.76     52.75   636.00     75.96%
        Latency Distribution
        50%    1.02s
        75%    1.13s
        90%    1.23s
        99%    1.45s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 18.385553
        stop time: 18.655527
        stop time: 19.001463
        stop time: 19.001790
        stop time: 19.321498
        stop time: 19.566706
        stop time: 19.619200
        stop time: 19.756480
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.385553, 18.655527, 19.001463, 19.00179, 19.321498, 19.566706, 19.6192, 19.75648]
    [exp] Throughput: 1043.6492128794375
[test.py] Finished running 1th optmization experiment: groundtruth->1683.304642633109, slowdown->1043.6492128794375, predicted->1815.258153102966, err->7.838956011161983
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rkkhf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:45:44.021434Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   444.21ms  245.42ms   1.21s    66.72%
        Req/Sec   188.34     92.34   450.00     69.10%
        Latency Distribution
        50%  442.18ms
        75%  635.23ms
        90%  762.06ms
        99%  948.17ms
        4393 requests in 3.03s, 334.62KB read
        Requests/sec:   1449.42
        Transfer/sec:    110.40KB
        [run.sh] Speed is 1449.42, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   573.10ms  244.86ms   1.44s    76.03%
        Req/Sec   211.62     72.65   484.00     72.31%
        Latency Distribution
        50%  612.72ms
        75%  718.80ms
        90%  826.99ms
        99%    1.04s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.485455
        stop time: 11.224977
        stop time: 11.713977
        stop time: 11.824431
        stop time: 11.896873
        stop time: 12.058543
        stop time: 12.271394
        stop time: 12.298098
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-5hbf9        71m          61Mi
        composereview-676886854c-6qtpj   1m           8Mi
        frontend-67bcc5d87b-qw2gg        1m           9Mi
        movieid-6b7485b65-cm6wc          3m           180Mi
        movieinfo-969fd9977-kdmwv        13m          219Mi
        moviereviews-885dd8fb5-xkf9x     1m           16Mi
        page-6597cb4c54-cvzhq            1m           69Mi
        plot-5464fccfdd-ck2zn            32m          151Mi
        reviewstorage-86dd5ff9b9-pdvfx   26m          13Mi
        ubuntu-client-76886f6bbd-rkkhf   5m           71Mi
        uniqueid-5987bc8cf9-9dppj        9m           7Mi
        user-6776c48774-4q6ns            1m           8Mi
        userreviews-5d99989bf-qpc5l      4m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.485455, 11.224977, 11.713977, 11.824431, 11.896873, 12.058543, 12.271394, 12.298098]
    [exp] Throughput: 1688.231217784064
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '36200383', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '36203592', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '36203592', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '36195244', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '36200383', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '36200383', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '36200383'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-ptlcr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:47:31.885489Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   648.07ms  408.46ms   1.95s    70.26%
        Req/Sec   119.36     66.13   323.00     66.95%
        Latency Distribution
        50%  568.34ms
        75%  884.74ms
        90%    1.16s
        99%    1.91s
        2818 requests in 3.03s, 214.65KB read
        Requests/sec:    930.48
        Transfer/sec:     70.88KB
        [run.sh] Speed is 930.48, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-974c96796-mv479         1m           104Mi
        composereview-5bfd9554c6-jqv9j   1m           3Mi
        frontend-57fc4b5655-qlv4c        1m           3Mi
        movieid-75df6b7f9d-t9glc         6m           169Mi
        movieinfo-7bb887f8dd-sj7dd       7m           188Mi
        moviereviews-7d747bcb8-5bf4n     1m           3Mi
        page-7fcd768787-pl8jf            6m           3Mi
        plot-578795f4d5-hkg7n            7m           254Mi
        reviewstorage-7c948b7fd9-dcnjf   7m           3Mi
        ubuntu-client-76886f6bbd-ptlcr   14m          0Mi
        uniqueid-6f959dc5fb-wpcdx        1m           3Mi
        user-58687df6f7-w2ztg            7m           4Mi
        userreviews-84b85fc59d-zp4xq     1m           3Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   898.55ms  319.98ms   1.68s    80.53%
        Req/Sec   136.94     52.31   383.00     69.71%
        Latency Distribution
        50%  979.17ms
        75%    1.09s
        90%    1.19s
        99%    1.38s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 17.635756
        stop time: 17.742681
        stop time: 18.036628
        stop time: 18.312801
        stop time: 18.809061
        stop time: 18.976091
        stop time: 18.922396
        stop time: 18.920165
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.635756, 17.742681, 18.036628, 18.312801, 18.809061, 18.976091, 18.922396, 18.920165]
    [exp] Throughput: 1085.8089058168607
[test.py] Finished running 2th optmization experiment: groundtruth->1688.231217784064, slowdown->1085.8089058168607, predicted->1789.1124870269994, err->5.975559993218815
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fgkjh:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:49:22.312307Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   489.53ms  290.61ms   1.68s    69.05%
        Req/Sec   178.64     87.18   474.00     69.83%
        Latency Distribution
        50%  437.60ms
        75%  708.94ms
        90%  841.73ms
        99%    1.32s
        4167 requests in 3.03s, 317.41KB read
        Requests/sec:   1376.09
        Transfer/sec:    104.82KB
        [run.sh] Speed is 1376.09, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   581.91ms  231.52ms   1.49s    79.60%
        Req/Sec   215.42     77.13   650.00     75.59%
        Latency Distribution
        50%  618.93ms
        75%  706.92ms
        90%  802.20ms
        99%    1.02s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.436080
        stop time: 11.647620
        stop time: 11.841991
        stop time: 11.713617
        stop time: 11.903780
        stop time: 11.923046
        stop time: 11.998395
        stop time: 11.995124
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-8h56x        1m           156Mi
        composereview-676886854c-m8wnz   1m           9Mi
        frontend-67bcc5d87b-gcgwp        0m           9Mi
        movieid-6b7485b65-n2vdv          1m           171Mi
        movieinfo-969fd9977-f8j5z        1m           194Mi
        moviereviews-984fc9976-rjn2g     240m         16Mi
        page-6597cb4c54-x52kb            292m         87Mi
        plot-5464fccfdd-9qqtz            1m           293Mi
        reviewstorage-86dd5ff9b9-6k7mq   1m           10Mi
        ubuntu-client-76886f6bbd-fgkjh   2m           62Mi
        uniqueid-5987bc8cf9-n5nb9        6m           7Mi
        user-6776c48774-jtzj9            2m           7Mi
        userreviews-5d99989bf-s7zk9      6m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.43608, 11.64762, 11.841991, 11.713617, 11.90378, 11.923046, 11.998395, 11.995124]
    [exp] Throughput: 1693.8448842279781
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '31675334', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '31678141', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '31678141', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '31670837', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '31675334', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '31675334', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '31675334'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vkl5b:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:51:10.189328Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   699.49ms  299.53ms   1.59s    69.99%
        Req/Sec   132.19     57.87   313.00     73.16%
        Latency Distribution
        50%  731.26ms
        75%  932.79ms
        90%    1.04s
        99%    1.26s
        3056 requests in 3.04s, 232.78KB read
        Requests/sec:   1005.26
        Transfer/sec:     76.57KB
        [run.sh] Speed is 1005.26, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   858.17ms  308.95ms   1.79s    79.81%
        Req/Sec   144.61     54.28   636.00     69.28%
        Latency Distribution
        50%  926.18ms
        75%    1.03s
        90%    1.14s
        99%    1.35s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.865111
        stop time: 17.273819
        stop time: 17.061961
        stop time: 17.103560
        stop time: 17.836614
        stop time: 17.882111
        stop time: 17.749075
        stop time: 17.574215
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56d6d54487-n7rv2        86m          156Mi
        composereview-cf7fcd876-n7g7r    45m          10Mi
        frontend-6d9c5d6ff-mvg98         35m          11Mi
        movieid-648cb99bc4-swwv8         11m          187Mi
        movieinfo-5f54bb4c99-p2g5q       60m          196Mi
        moviereviews-7d747bcb8-l48f8     526m         18Mi
        page-5b68f5c84d-4scpn            155m         92Mi
        plot-7498447fb6-fpwzg            77m          307Mi
        reviewstorage-b5c9cbd64-gdptb    61m          12Mi
        ubuntu-client-76886f6bbd-vkl5b   61m          95Mi
        uniqueid-7fcb6487f6-k875t        12m          9Mi
        user-657946d759-t8868            2m           9Mi
        userreviews-7b465b4766-pkwmf     12m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.865111, 17.273819, 17.061961, 17.10356, 17.836614, 17.882111, 17.749075, 17.574215]
    [exp] Throughput: 1148.2171352662795
[test.py] Finished running 3th optmization experiment: groundtruth->1693.8448842279781, slowdown->1148.2171352662795, predicted->1804.6179992008304, err->6.539743751290454
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5dw8l:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:52:59.033283Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   519.58ms  254.73ms   1.36s    71.64%
        Req/Sec   185.83     92.13   505.00     66.07%
        Latency Distribution
        50%  532.88ms
        75%  697.49ms
        90%  821.77ms
        99%    1.07s
        4256 requests in 3.04s, 324.19KB read
        Requests/sec:   1402.25
        Transfer/sec:    106.81KB
        [run.sh] Speed is 1402.25, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   580.34ms  241.23ms   1.33s    76.23%
        Req/Sec   210.50     79.85   696.00     74.39%
        Latency Distribution
        50%  623.19ms
        75%  723.53ms
        90%  827.93ms
        99%    1.03s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.496114
        stop time: 11.576288
        stop time: 11.630112
        stop time: 12.052453
        stop time: 12.241952
        stop time: 12.237011
        stop time: 12.395578
        stop time: 12.278847
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-4glbg        296m         62Mi
        composereview-676886854c-kktcg   365m         8Mi
        frontend-67bcc5d87b-95mlc        537m         10Mi
        movieid-6b7485b65-tjhm4          35m          189Mi
        movieinfo-969fd9977-xqdfw        212m         216Mi
        moviereviews-76756dc775-lmkhl    418m         17Mi
        page-6597cb4c54-js4rj            1795m        92Mi
        plot-5464fccfdd-cf479            259m         153Mi
        reviewstorage-86dd5ff9b9-57qtv   237m         14Mi
        ubuntu-client-76886f6bbd-5dw8l   934m         98Mi
        uniqueid-5987bc8cf9-6mt4f        29m          7Mi
        user-6776c48774-fjzfs            69m          8Mi
        userreviews-5d99989bf-48xl8      33m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.496114, 11.576288, 11.630112, 12.052453, 12.241952, 12.237011, 12.395578, 12.278847]
    [exp] Throughput: 1668.2592460271057
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '27150285', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '27152691', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '27152691', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '27146430', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '27150285', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '27150285', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '27150285'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-ns9tw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:54:47.061630Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   618.76ms  369.43ms   1.89s    64.23%
        Req/Sec   133.67     64.80   303.00     69.96%
        Latency Distribution
        50%  523.10ms
        75%  947.75ms
        90%    1.13s
        99%    1.41s
        3134 requests in 3.03s, 238.72KB read
        Requests/sec:   1033.08
        Transfer/sec:     78.69KB
        [run.sh] Speed is 1033.08, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   813.06ms  305.39ms   1.89s    78.25%
        Req/Sec   150.98     59.57   530.00     71.18%
        Latency Distribution
        50%  885.25ms
        75%  992.71ms
        90%    1.10s
        99%    1.31s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 15.671635
        stop time: 16.269742
        stop time: 16.156861
        stop time: 16.889025
        stop time: 17.091991
        stop time: 16.921064
        stop time: 17.289280
        stop time: 17.162954
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7dc85b5dcb-ptbqw        186m         62Mi
        composereview-7bb9645d75-6fsjd   113m         10Mi
        frontend-7f6cf897d4-r25zs        132m         10Mi
        movieid-54f6f4b677-7vjjk         18m          177Mi
        movieinfo-86c897d584-ztzwx       90m          236Mi
        moviereviews-7d747bcb8-rhv72     1553m        19Mi
        page-dcbbf8c59-4lb6f             1305m        85Mi
        plot-7cc7fbbb49-tlwgb            132m         147Mi
        reviewstorage-759f4dd98d-dgwj6   114m         15Mi
        ubuntu-client-76886f6bbd-ns9tw   291m         101Mi
        uniqueid-5dfb8f9f85-wx9sr        24m          8Mi
        user-6c8d77ff89-6sssn            18m          8Mi
        userreviews-7886fcd4c5-vkkjp     21m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.671635, 16.269742, 16.156861, 16.889025, 17.091991, 16.921064, 17.28928, 17.162954]
    [exp] Throughput: 1198.9279905265505
[test.py] Finished running 4th optmization experiment: groundtruth->1668.2592460271057, slowdown->1198.9279905265505, predicted->1777.6152339680696, err->6.555095570511049
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xbsfg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:56:35.063298Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   533.21ms  241.01ms   1.40s    74.36%
        Req/Sec   198.10     73.67   383.00     73.09%
        Latency Distribution
        50%  570.28ms
        75%  679.97ms
        90%  789.86ms
        99%    1.04s
        4501 requests in 3.04s, 342.85KB read
        Requests/sec:   1482.10
        Transfer/sec:    112.89KB
        [run.sh] Speed is 1482.10, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   574.64ms  230.46ms   1.47s    79.04%
        Req/Sec   214.88     77.72   620.00     74.14%
        Latency Distribution
        50%  615.71ms
        75%  710.21ms
        90%  798.48ms
        99%    1.01s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.396826
        stop time: 11.433566
        stop time: 11.717130
        stop time: 11.464858
        stop time: 12.020460
        stop time: 12.145267
        stop time: 11.700746
        stop time: 12.137077
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-rtk7x        1m           105Mi
        composereview-676886854c-s657g   1m           3Mi
        frontend-67bcc5d87b-xmjhx        1m           3Mi
        movieid-6b7485b65-bfk6j          7m           169Mi
        movieinfo-969fd9977-bm92l        7m           177Mi
        moviereviews-77ddc5f47d-gw27p    7m           3Mi
        page-6597cb4c54-jgw7g            4m           3Mi
        plot-5464fccfdd-q7tkk            7m           253Mi
        reviewstorage-86dd5ff9b9-szl7v   7m           3Mi
        ubuntu-client-76886f6bbd-xbsfg   14m          0Mi
        uniqueid-5987bc8cf9-9v6m2        1m           3Mi
        user-6776c48774-gj9c9            7m           4Mi
        userreviews-5d99989bf-rkbd5      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.396826, 11.433566, 11.71713, 11.464858, 12.02046, 12.145267, 11.700746, 12.137077]
    [exp] Throughput: 1701.8392521352498
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '22625235', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '22627241', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '22627241', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '22622024', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '22625235', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '22625235', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '22625235'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pk6km:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T05:58:24.243302Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   662.14ms  291.81ms   1.60s    71.70%
        Req/Sec   145.36     79.43   440.00     68.42%
        Latency Distribution
        50%  690.41ms
        75%  860.84ms
        90%    1.01s
        99%    1.24s
        3329 requests in 3.04s, 253.58KB read
        Requests/sec:   1096.63
        Transfer/sec:     83.53KB
        [run.sh] Speed is 1096.63, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   782.95ms  284.26ms   1.67s    81.40%
        Req/Sec   157.03     58.74   630.00     72.15%
        Latency Distribution
        50%  847.65ms
        75%  944.96ms
        90%    1.04s
        99%    1.22s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 15.500716
        stop time: 15.821644
        stop time: 15.899833
        stop time: 15.805051
        stop time: 16.023592
        stop time: 16.376754
        stop time: 16.379670
        stop time: 16.390677
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6fd97df859-dxlfn        1m           125Mi
        composereview-6b8d898765-q5p8j   0m           9Mi
        frontend-687c7cf5bb-4x8pk        0m           11Mi
        movieid-7759876b7f-bvn5n         1m           172Mi
        movieinfo-5696d6db75-qkvhr       1m           185Mi
        moviereviews-7d747bcb8-6tsgh     1m           18Mi
        page-78c7469f64-mvhjs            1m           75Mi
        plot-77b86c46f8-5krkf            1m           267Mi
        reviewstorage-55c948bfbf-cpcd4   1m           11Mi
        ubuntu-client-76886f6bbd-pk6km   2m           77Mi
        uniqueid-d546c484c-6cnvs         2m           6Mi
        user-796cb4f58-s2cwc             8m           8Mi
        userreviews-64db74458f-fs8vx     6m           6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.500716, 15.821644, 15.899833, 15.805051, 16.023592, 16.376754, 16.37967, 16.390677]
    [exp] Throughput: 1248.070005993934
[test.py] Finished running 5th optmization experiment: groundtruth->1701.8392521352498, slowdown->1248.070005993934, predicted->1739.237531282739, err->2.197521246531748
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tzbqb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:00:12.295310Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   463.11ms  260.40ms   1.52s    70.87%
        Req/Sec   179.82     84.79   464.00     67.36%
        Latency Distribution
        50%  482.75ms
        75%  645.85ms
        90%  760.80ms
        99%    1.13s
        4286 requests in 3.02s, 326.47KB read
        Requests/sec:   1417.89
        Transfer/sec:    108.00KB
        [run.sh] Speed is 1417.89, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   583.80ms  227.79ms   1.17s    80.23%
        Req/Sec   212.39     68.38   555.00     71.54%
        Latency Distribution
        50%  630.58ms
        75%  714.82ms
        90%  795.86ms
        99%  961.04ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.384353
        stop time: 11.589537
        stop time: 11.806163
        stop time: 12.120531
        stop time: 11.974137
        stop time: 12.054635
        stop time: 12.105198
        stop time: 12.093525
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-5tkxv        125m         155Mi
        composereview-676886854c-pmdlw   56m          9Mi
        frontend-67bcc5d87b-k9t25        34m          9Mi
        movieid-6b7485b65-7hrdt          9m           185Mi
        movieinfo-969fd9977-cbst6        57m          194Mi
        moviereviews-85554db99c-c6d79    479m         17Mi
        page-6597cb4c54-snw6r            633m         83Mi
        plot-5464fccfdd-bwqk4            78m          295Mi
        reviewstorage-86dd5ff9b9-wv46k   67m          10Mi
        ubuntu-client-76886f6bbd-tzbqb   86m          57Mi
        uniqueid-5987bc8cf9-d2scn        13m          7Mi
        user-6776c48774-8x6lq            24m          7Mi
        userreviews-5d99989bf-lw2rx      10m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.384353, 11.589537, 11.806163, 12.120531, 11.974137, 12.054635, 12.105198, 12.093525]
    [exp] Throughput: 1681.9429308564088
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '18100186', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '18101791', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '18101791', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '18097617', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '18100186', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '18100186', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '18100186'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7c5s9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:02:00.492271Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   466.72ms  219.91ms 988.93ms   68.88%
        Req/Sec   144.98     82.46   400.00     63.29%
        Latency Distribution
        50%  490.33ms
        75%  624.70ms
        90%  744.00ms
        99%  894.26ms
        3435 requests in 3.02s, 261.65KB read
        Requests/sec:   1135.89
        Transfer/sec:     86.52KB
        [run.sh] Speed is 1135.89, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   763.87ms  277.21ms   1.61s    81.64%
        Req/Sec   164.11     56.21   414.00     70.90%
        Latency Distribution
        50%  826.67ms
        75%  916.88ms
        90%    1.01s
        99%    1.19s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 15.132146
        stop time: 15.656181
        stop time: 15.265704
        stop time: 15.446668
        stop time: 15.198419
        stop time: 15.351959
        stop time: 15.427075
        stop time: 15.651322
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-54b9bb7968-pmltx        281m         62Mi
        composereview-7bb6b899c8-wnch4   279m         9Mi
        frontend-d94b6869c-jf5z9         378m         10Mi
        movieid-6b97c88588-gngw4         37m          176Mi
        movieinfo-7c84c57768-5dz9f       203m         218Mi
        moviereviews-7d747bcb8-pts8d     866m         18Mi
        page-b766dfdf5-t2755             696m         101Mi
        plot-68cbc89497-xg68l            246m         146Mi
        reviewstorage-ffc9bdc8b-4qsq7    196m         14Mi
        ubuntu-client-76886f6bbd-7c5s9   782m         108Mi
        uniqueid-68d8f56b54-6qttk        32m          8Mi
        user-84b666c76c-hkbqx            19m          8Mi
        userreviews-8477fb6b44-rq9kn     37m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.132146, 15.656181, 15.265704, 15.446668, 15.198419, 15.351959, 15.427075, 15.651322]
    [exp] Throughput: 1299.4451677751829
[test.py] Finished running 6th optmization experiment: groundtruth->1681.9429308564088, slowdown->1299.4451677751829, predicted->1699.116385102626, err->1.0210485701481506
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-wzlzz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:03:49.747859Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   535.83ms  242.20ms   1.21s    73.98%
        Req/Sec   196.38     75.26   393.00     69.37%
        Latency Distribution
        50%  583.07ms
        75%  696.61ms
        90%  794.32ms
        99%  990.43ms
        4462 requests in 3.03s, 339.88KB read
        Requests/sec:   1471.46
        Transfer/sec:    112.08KB
        [run.sh] Speed is 1471.46, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   575.04ms  228.28ms   1.34s    79.24%
        Req/Sec   212.67     72.41   720.00     71.18%
        Latency Distribution
        50%  626.13ms
        75%  708.20ms
        90%  786.31ms
        99%  973.03ms
        20001 requests in 20.00s, 1.49MB read
        Requests/sec:   1000.04
        Transfer/sec:     76.18KB
        ------------------------------
        stop time: 11.253794
        stop time: 11.356993
        stop time: 11.695947
        stop time: 11.847777
        stop time: 12.161325
        stop time: 12.086846
        stop time: 12.289505
        stop time: 12.339338
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-kk4lf        76m          61Mi
        composereview-676886854c-kjd4w   7m           9Mi
        frontend-67bcc5d87b-f8qzz        514m         10Mi
        movieid-6b7485b65-x6gq5          4m           179Mi
        movieinfo-969fd9977-6pztq        22m          215Mi
        moviereviews-9ff484c88-7dvn4     954m         21Mi
        page-6597cb4c54-6v684            1197m        88Mi
        plot-5464fccfdd-7zzgk            31m          145Mi
        reviewstorage-86dd5ff9b9-4ct29   31m          14Mi
        ubuntu-client-76886f6bbd-wzlzz   14m          70Mi
        uniqueid-5987bc8cf9-wd48m        10m          7Mi
        user-6776c48774-cmmfw            60m          8Mi
        userreviews-5d99989bf-d5ctp      5m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.253794, 11.356993, 11.695947, 11.847777, 12.161325, 12.086846, 12.289505, 12.339338]
    [exp] Throughput: 1683.651819751393
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '13575137', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '13576340', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '13576340', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '13573210', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '13575137', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '13575137', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '13575137'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kkw5b:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:05:37.805504Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   662.12ms  293.40ms   1.38s    73.37%
        Req/Sec   149.84     66.09   390.00     68.70%
        Latency Distribution
        50%  717.52ms
        75%  859.00ms
        90%  988.91ms
        99%    1.20s
        3466 requests in 3.03s, 264.01KB read
        Requests/sec:   1143.45
        Transfer/sec:     87.10KB
        [run.sh] Speed is 1143.45, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   708.70ms  276.72ms   1.44s    79.07%
        Req/Sec   172.27     63.63   510.00     72.73%
        Latency Distribution
        50%  780.71ms
        75%  871.61ms
        90%  958.87ms
        99%    1.15s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 13.856141
        stop time: 14.196855
        stop time: 14.584660
        stop time: 14.506374
        stop time: 14.493393
        stop time: 14.894921
        stop time: 15.017757
        stop time: 15.107797
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5564b8b8d5-7m8mc        1m           105Mi
        movieid-755b9d447d-5g9f2         7m           168Mi
        movieinfo-68f4999bfc-r98wh       7m           176Mi
        moviereviews-7d747bcb8-zjcjb     7m           3Mi
        page-84d775859d-j5nfb            6m           3Mi
        plot-5458c9b468-h9llc            7m           258Mi
        reviewstorage-565cc8d489-9b2b6   7m           3Mi
        uniqueid-7dd7f65f84-9kvxm        1m           3Mi
        userreviews-559f7b4f9d-77wsv     1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.856141, 14.196855, 14.58466, 14.506374, 14.493393, 14.894921, 15.017757, 15.107797]
    [exp] Throughput: 1371.5316557478175
[test.py] Finished running 7th optmization experiment: groundtruth->1683.651819751393, slowdown->1371.5316557478175, predicted->1685.3505903019206, err->0.10089797252607782
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4wqjw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:07:27.323655Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.06ms  295.81ms   1.59s    72.34%
        Req/Sec   176.76     90.30   480.00     66.38%
        Latency Distribution
        50%  452.39ms
        75%  682.74ms
        90%  839.05ms
        99%    1.29s
        4110 requests in 3.03s, 313.07KB read
        Requests/sec:   1357.07
        Transfer/sec:    103.37KB
        [run.sh] Speed is 1357.07, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   608.66ms  232.73ms   1.34s    80.49%
        Req/Sec   204.49     64.14   505.00     68.71%
        Latency Distribution
        50%  658.44ms
        75%  740.36ms
        90%  820.46ms
        99%  987.91ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.064797
        stop time: 12.274007
        stop time: 12.302067
        stop time: 12.254540
        stop time: 12.212404
        stop time: 12.349839
        stop time: 12.456751
        stop time: 12.547303
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-9bjln        1m           105Mi
        composereview-676886854c-9g5gj   1m           3Mi
        frontend-67bcc5d87b-zt6cx        1m           3Mi
        movieid-6b7485b65-ktxqb          1m           169Mi
        movieinfo-969fd9977-726fr        1m           176Mi
        moviereviews-796664ffff-tbf87    1m           3Mi
        page-6597cb4c54-d9rln            1m           3Mi
        plot-5464fccfdd-xpqzm            1m           252Mi
        reviewstorage-86dd5ff9b9-m8n5p   1m           3Mi
        ubuntu-client-76886f6bbd-4wqjw   13m          2Mi
        uniqueid-5987bc8cf9-84ktv        5m           3Mi
        user-6776c48774-kww4v            7m           4Mi
        userreviews-5d99989bf-jggrt      6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.064797, 12.274007, 12.302067, 12.25454, 12.212404, 12.349839, 12.456751, 12.547303]
    [exp] Throughput: 1624.9972019579432
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '9050088', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '9050890', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '9050890', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '9048803', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '9050088', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '9050088', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '9050088'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5fx9j:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:09:16.733347Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   627.35ms  271.88ms   1.36s    73.62%
        Req/Sec   161.74     66.30   323.00     67.67%
        Latency Distribution
        50%  679.43ms
        75%  811.34ms
        90%  911.75ms
        99%    1.14s
        3768 requests in 3.04s, 287.02KB read
        Requests/sec:   1241.09
        Transfer/sec:     94.54KB
        [run.sh] Speed is 1241.09, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   670.10ms  250.47ms   1.43s    80.11%
        Req/Sec   181.45     66.50   595.00     70.61%
        Latency Distribution
        50%  731.54ms
        75%  814.83ms
        90%  894.94ms
        99%    1.06s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.165806
        stop time: 13.345445
        stop time: 13.539610
        stop time: 13.777993
        stop time: 14.157373
        stop time: 14.218763
        stop time: 14.588340
        stop time: 14.345066
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6b7db8cd6d-gmrcc        111m         156Mi
        composereview-6f99ccf475-k8xnn   1m           9Mi
        frontend-5dd6b4668-9xmc8         39m          10Mi
        movieid-7bd5c874b9-vhh8q         0m           187Mi
        movieinfo-779998c67b-6j5pz       0m           192Mi
        moviereviews-7d747bcb8-7klwf     610m         19Mi
        page-b9577cf89-wq4g4             575m         101Mi
        plot-576bcdb94f-msmxh            1m           294Mi
        reviewstorage-7bdd985db9-v5glm   1m           12Mi
        ubuntu-client-76886f6bbd-5fx9j   2m           66Mi
        uniqueid-6c5864d47c-cln5m        14m          7Mi
        user-649df87f7-g7298             16m          7Mi
        userreviews-5cdf6dcbdc-c86qj     5m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.165806, 13.345445, 13.53961, 13.777993, 14.157373, 14.218763, 14.58834, 14.345066]
    [exp] Throughput: 1439.6464746530983
[test.py] Finished running 8th optmization experiment: groundtruth->1624.9972019579432, slowdown->1439.6464746530983, predicted->1655.3387152120802, err->1.867173261441854
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7k7c5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:11:05.019523Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   590.73ms  257.93ms   1.44s    74.51%
        Req/Sec   172.67     82.28   414.00     68.28%
        Latency Distribution
        50%  630.89ms
        75%  758.79ms
        90%  864.34ms
        99%    1.08s
        3947 requests in 3.04s, 300.65KB read
        Requests/sec:   1299.06
        Transfer/sec:     98.95KB
        [run.sh] Speed is 1299.06, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   646.42ms  255.40ms   1.68s    78.97%
        Req/Sec   189.28     68.79   610.00     71.70%
        Latency Distribution
        50%  699.16ms
        75%  794.98ms
        90%  890.07ms
        99%    1.09s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.810553
        stop time: 12.694930
        stop time: 13.034678
        stop time: 13.446347
        stop time: 13.556165
        stop time: 13.629924
        stop time: 13.685245
        stop time: 13.650107
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-dkz5k        100m         62Mi
        composereview-676886854c-qplzv   26m          9Mi
        frontend-67bcc5d87b-8hw4x        1m           9Mi
        movieid-6b7485b65-m6q69          6m           175Mi
        movieinfo-969fd9977-bqnfr        39m          219Mi
        moviereviews-859cf5b46b-sphr6    645m         19Mi
        page-6597cb4c54-ww5gq            669m         100Mi
        plot-5464fccfdd-g9nvk            57m          328Mi
        reviewstorage-86dd5ff9b9-stn9d   49m          11Mi
        ubuntu-client-76886f6bbd-7k7c5   104m         101Mi
        uniqueid-5987bc8cf9-l2pgs        24m          8Mi
        user-6776c48774-g7d5c            8m           8Mi
        userreviews-5d99989bf-5gpzp      8m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.810553, 12.69493, 13.034678, 13.446347, 13.556165, 13.629924, 13.685245, 13.650107]
    [exp] Throughput: 1502.235293254966
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '4525039', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '4525440', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '4525440', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '4524396', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '4525039', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '4525039', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '4525039'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-gvzn2:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:12:53.454633Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   631.73ms  262.47ms   1.32s    74.56%
        Req/Sec   158.71     66.69   323.00     66.67%
        Latency Distribution
        50%  671.83ms
        75%  803.92ms
        90%  919.84ms
        99%    1.10s
        3679 requests in 3.03s, 280.24KB read
        Requests/sec:   1212.94
        Transfer/sec:     92.39KB
        [run.sh] Speed is 1212.94, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   704.40ms  254.13ms   1.98s    82.42%
        Req/Sec   178.58     65.57   480.00     71.38%
        Latency Distribution
        50%  756.17ms
        75%  838.19ms
        90%  925.45ms
        99%    1.11s
        20001 requests in 24.00s, 1.49MB read
        Requests/sec:    833.37
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.886762
        stop time: 14.254256
        stop time: 14.007691
        stop time: 14.153822
        stop time: 13.968336
        stop time: 14.383812
        stop time: 14.320023
        stop time: 14.288719
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6c7c6cc8df-jx2j7        325m         58Mi
        composereview-76fdd946fd-zrxzm   350m         9Mi
        frontend-d9758dcf7-dlm8h         486m         10Mi
        movieid-65d9ddcc9b-h4crw         40m          178Mi
        movieinfo-5758c5d7f7-r8zkz       236m         219Mi
        moviereviews-7d747bcb8-qn2mb     1564m        20Mi
        page-5d5d4b8b4b-gxt2h            1547m        107Mi
        plot-659f95d484-dlg9p            280m         145Mi
        reviewstorage-bf5d94cb8-w95gj    221m         15Mi
        ubuntu-client-76886f6bbd-gvzn2   748m         103Mi
        uniqueid-6cdcd9776b-98lbz        22m          8Mi
        user-644dcd586f-h8qwc            65m          8Mi
        userreviews-59f7885b7b-sl84r     38m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.886762, 14.254256, 14.007691, 14.153822, 13.968336, 14.383812, 14.320023, 14.288719]
    [exp] Throughput: 1412.6361237137628
[test.py] Finished running 9th optmization experiment: groundtruth->1502.235293254966, slowdown->1412.6361237137628, predicted->1509.1107763850155, err->0.45768350410353614
[test.py] Baseline throughput:  1487.8413696264213
[test.py] Groundtruth:  [1650.598673170383, 1683.304642633109, 1688.231217784064, 1693.8448842279781, 1668.2592460271057, 1701.8392521352498, 1681.9429308564088, 1683.651819751393, 1624.9972019579432, 1502.235293254966]
[test.py] Slowdown:  [994.2936802115753, 1043.6492128794375, 1085.8089058168607, 1148.2171352662795, 1198.9279905265505, 1248.070005993934, 1299.4451677751829, 1371.5316557478175, 1439.6464746530983, 1412.6361237137628]
[test.py] Predicted:  [1807.6839629121166, 1815.258153102966, 1789.1124870269994, 1804.6179992008304, 1777.6152339680696, 1739.237531282739, 1699.116385102626, 1685.3505903019206, 1655.3387152120802, 1509.1107763850155]
[test.py] Error percentage:  [9.51686756417975, 7.838956011161983, 5.975559993218815, 6.539743751290454, 6.555095570511049, 2.197521246531748, 1.0210485701481506, 0.10089797252607782, 1.867173261441854, 0.45768350410353614]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mg2vb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:14:41.888629Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   543.50ms  355.10ms   1.96s    75.36%
        Req/Sec   156.80     74.50   360.00     68.24%
        Latency Distribution
        50%  502.33ms
        75%  763.79ms
        90%  958.55ms
        99%    1.74s
        3665 requests in 3.03s, 279.17KB read
        Requests/sec:   1208.66
        Transfer/sec:     92.07KB
        [run.sh] Speed is 1208.66, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   674.77ms  240.35ms   1.26s    83.61%
        Req/Sec   184.09     55.25   440.00     68.66%
        Latency Distribution
        50%  733.23ms
        75%  803.07ms
        90%  870.94ms
        99%    1.01s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.465429
        stop time: 13.956870
        stop time: 13.690401
        stop time: 13.739293
        stop time: 13.699841
        stop time: 13.813925
        stop time: 13.654862
        stop time: 13.616200
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        moviereviews-7d747bcb8-6wdvc   7m           3Mi
        page-6597cb4c54-cxnrm          4m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.465429, 13.95687, 13.690401, 13.739293, 13.699841, 13.813925, 13.654862, 13.6162]
    [exp] Throughput: 1459.36372963605
[test.py] Baseline throughput: 1459.36372963605
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-p9lkh:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:16:30.256387Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.91ms  225.56ms 995.95ms   67.13%
        Req/Sec   176.34    108.20   550.00     67.81%
        Latency Distribution
        50%  432.78ms
        75%  590.82ms
        90%  713.76ms
        99%  876.61ms
        4122 requests in 3.03s, 313.98KB read
        Requests/sec:   1359.28
        Transfer/sec:    103.54KB
        [run.sh] Speed is 1359.28, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   618.42ms  257.31ms   1.44s    75.75%
        Req/Sec   194.29     68.30   570.00     71.16%
        Latency Distribution
        50%  665.25ms
        75%  775.62ms
        90%  885.67ms
        99%    1.07s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.288446
        stop time: 12.316400
        stop time: 12.478952
        stop time: 13.100581
        stop time: 13.065697
        stop time: 13.323467
        stop time: 13.305277
        stop time: 13.305287
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-gqlc4        1m           104Mi
        composereview-676886854c-c4xjf   1m           3Mi
        frontend-67bcc5d87b-lfl2l        1m           3Mi
        movieid-6b7485b65-vzj9p          2m           187Mi
        movieinfo-969fd9977-87zqg        7m           188Mi
        moviereviews-58674f8fbc-f4bfg    1m           3Mi
        page-6597cb4c54-9llg9            1m           3Mi
        plot-5464fccfdd-hbjhp            7m           277Mi
        reviewstorage-86dd5ff9b9-cqk9z   7m           3Mi
        ubuntu-client-76886f6bbd-p9lkh   13m          2Mi
        uniqueid-5987bc8cf9-tmmg4        1m           3Mi
        user-6776c48774-dzht8            7m           4Mi
        userreviews-5d99989bf-wjxx4      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.288446, 12.3164, 12.478952, 13.100581, 13.065697, 13.323467, 13.305277, 13.305287]
    [exp] Throughput: 1550.6263963693555
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '45250481', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '45254492', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '45254492', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '45244058', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '45250481', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '45250481', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '45250481'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-mjqqn:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:18:19.609763Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.49ms  271.45ms   1.38s    65.15%
        Req/Sec   109.94     62.35   353.00     67.25%
        Latency Distribution
        50%  593.67ms
        75%  802.41ms
        90%  967.60ms
        99%    1.20s
        2528 requests in 3.03s, 192.56KB read
        Requests/sec:    835.54
        Transfer/sec:     63.64KB
        [run.sh] Speed is 835.54, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-c54f4f8d-sfqq4          1m           144Mi
        composereview-5557b6ddf9-ntzqv   1m           10Mi
        frontend-74f8bcb4c6-frgjc        20m          13Mi
        movieid-f797d5fbf-mcw9q          0m           171Mi
        movieinfo-5c7795b976-qtzt6       1m           190Mi
        moviereviews-7d747bcb8-qcvvn     471m         19Mi
        page-6bbc85c7b7-w58g8            443m         83Mi
        plot-746f96dcb9-gqlst            1m           273Mi
        reviewstorage-747dcb858c-8p5pq   1m           11Mi
        ubuntu-client-76886f6bbd-mjqqn   2m           59Mi
        uniqueid-5cbcc5d769-kpdvv        1m           7Mi
        user-59b899ff44-fdp4p            10m          8Mi
        userreviews-7d8db99f55-7nhw9     6m           6Mi
        Running 35s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.05s   363.35ms   2.07s    80.31%
        Req/Sec   120.14     50.15   670.00     74.58%
        Latency Distribution
        50%    1.13s
        75%    1.25s
        90%    1.37s
        99%    1.61s
        20000 requests in 35.00s, 1.49MB read
        Requests/sec:    571.43
        Transfer/sec:     43.53KB
        ------------------------------
        stop time: 20.637486
        stop time: 20.991917
        stop time: 20.931611
        stop time: 21.117289
        stop time: 21.279197
        stop time: 20.800006
        stop time: 21.480599
        stop time: 21.227032
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.637486, 20.991917, 20.931611, 21.117289, 21.279197, 20.800006, 21.480599, 21.227032]
    [exp] Throughput: 949.7514016802182
[test.py] Finished running 0th optmization experiment: groundtruth->1550.6263963693555, slowdown->949.7514016802182, predicted->1665.6614939502613, err->7.418621135964768
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zcs2p:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:20:13.588433Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   508.20ms  316.64ms   1.55s    67.98%
        Req/Sec   173.05     78.47   400.00     65.09%
        Latency Distribution
        50%  461.67ms
        75%  746.10ms
        90%  919.93ms
        99%    1.32s
        4026 requests in 3.03s, 306.67KB read
        Requests/sec:   1329.07
        Transfer/sec:    101.24KB
        [run.sh] Speed is 1329.07, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   626.31ms  254.26ms   1.65s    79.56%
        Req/Sec   199.81     66.81   535.00     69.98%
        Latency Distribution
        50%  663.36ms
        75%  766.46ms
        90%  873.97ms
        99%    1.14s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.355799
        stop time: 12.719669
        stop time: 12.404795
        stop time: 12.951192
        stop time: 12.959277
        stop time: 12.685451
        stop time: 12.716254
        stop time: 13.019738
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-vn7mz        120m         154Mi
        composereview-676886854c-89kch   109m         9Mi
        frontend-67bcc5d87b-glpzq        156m         9Mi
        movieid-6b7485b65-49kc5          12m          171Mi
        movieinfo-969fd9977-lglrf        72m          193Mi
        moviereviews-7c774d8d5d-7gd48    143m         14Mi
        page-6597cb4c54-d469d            351m         79Mi
        plot-5464fccfdd-hklf8            100m         299Mi
        reviewstorage-86dd5ff9b9-xpjlq   88m          9Mi
        ubuntu-client-76886f6bbd-zcs2p   265m         65Mi
        uniqueid-5987bc8cf9-hztkb        13m          7Mi
        user-6776c48774-vhsvn            23m          8Mi
        userreviews-5d99989bf-sbqq5      13m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.355799, 12.719669, 12.404795, 12.951192, 12.959277, 12.685451, 12.716254, 13.019738]
    [exp] Throughput: 1571.5212841686173
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '40725432', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '40725432', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '40729042', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '40729042', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '40729042', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '40719651', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '40725432', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '40725432', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '40725432'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-tlnnm:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:22:01.792657Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   741.73ms  378.19ms   1.86s    65.39%
        Req/Sec   112.63     54.64   272.00     68.26%
        Latency Distribution
        50%  703.19ms
        75%    1.04s
        90%    1.25s
        99%    1.56s
        2595 requests in 3.03s, 197.67KB read
        Requests/sec:    855.13
        Transfer/sec:     65.14KB
        [run.sh] Speed is 855.13, duration is 35
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d35s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-674c4fd4cc-6f7wc        86m          62Mi
        composereview-5ff56468f5-m8cs7   109m         10Mi
        frontend-7b57df9fd8-pnbxv        158m         12Mi
        movieid-7797c8f889-9gr7w         13m          175Mi
        movieinfo-585c4c99df-4j5cz       65m          218Mi
        moviereviews-7d747bcb8-c47lq     94m          20Mi
        page-85d9cdf894-fsdw9            152m         105Mi
        plot-7fc5d668bd-pfnsc            87m          322Mi
        reviewstorage-568844b6d-s7652    71m          13Mi
        ubuntu-client-76886f6bbd-tlnnm   242m         108Mi
        uniqueid-67fcd8c4d9-dt854        10m          8Mi
        user-656f4d69bb-gw5xz            37m          9Mi
        userreviews-6ff44d66c5-q756t     12m          8Mi
        Running 35s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.00s   355.84ms   1.95s    81.14%
        Req/Sec   125.33     50.47   610.00     71.46%
        Latency Distribution
        50%    1.09s
        75%    1.21s
        90%    1.31s
        99%    1.52s
        20000 requests in 35.00s, 1.49MB read
        Requests/sec:    571.43
        Transfer/sec:     43.53KB
        ------------------------------
        stop time: 19.552356
        stop time: 19.931788
        stop time: 20.123409
        stop time: 20.207857
        stop time: 20.165543
        stop time: 20.345798
        stop time: 20.431423
        stop time: 20.337994
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.552356, 19.931788, 20.123409, 20.207857, 20.165543, 20.345798, 20.431423, 20.337994]
    [exp] Throughput: 993.1955675072296
[test.py] Finished running 1th optmization experiment: groundtruth->1571.5212841686173, slowdown->993.1955675072296, predicted->1667.8883201675908, err->6.132085958349245
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vm9n5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:23:55.785417Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   546.84ms  240.06ms   1.39s    74.72%
        Req/Sec   183.47     74.25   380.00     70.93%
        Latency Distribution
        50%  599.48ms
        75%  707.06ms
        90%  799.12ms
        99%  968.75ms
        4213 requests in 3.03s, 320.91KB read
        Requests/sec:   1389.06
        Transfer/sec:    105.81KB
        [run.sh] Speed is 1389.06, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   640.81ms  258.00ms   1.46s    78.34%
        Req/Sec   198.08     69.46   490.00     75.52%
        Latency Distribution
        50%  676.38ms
        75%  787.08ms
        90%  904.82ms
        99%    1.12s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.783694
        stop time: 12.790518
        stop time: 12.819913
        stop time: 12.900734
        stop time: 12.835899
        stop time: 13.047090
        stop time: 13.012523
        stop time: 12.935247
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-m4ztm        360m         61Mi
        composereview-676886854c-sszxb   378m         9Mi
        frontend-67bcc5d87b-vsmn2        534m         9Mi
        movieid-6b7485b65-5tc5k          38m          177Mi
        movieinfo-969fd9977-bs529        228m         214Mi
        moviereviews-885dd8fb5-mxr9r     701m         16Mi
        page-6597cb4c54-hfh49            1487m        71Mi
        plot-5464fccfdd-94nvg            284m         146Mi
        reviewstorage-86dd5ff9b9-t89pz   277m         11Mi
        ubuntu-client-76886f6bbd-vm9n5   781m         98Mi
        uniqueid-5987bc8cf9-zzwrw        37m          7Mi
        user-6776c48774-nsj9q            60m          8Mi
        userreviews-5d99989bf-xg8z9      36m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.783694, 12.790518, 12.819913, 12.900734, 12.835899, 13.04709, 13.012523, 12.935247]
    [exp] Throughput: 1551.5058537637078
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '36200383', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '36203592', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '36203592', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '36195244', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '36200383', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '36200383', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '36200383'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4qr2x:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:25:44.084586Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   765.14ms  341.47ms   1.83s    70.06%
        Req/Sec   121.24     53.43   262.00     72.22%
        Latency Distribution
        50%  814.19ms
        75%  993.61ms
        90%    1.17s
        99%    1.43s
        2839 requests in 3.04s, 216.25KB read
        Requests/sec:    934.49
        Transfer/sec:     71.18KB
        [run.sh] Speed is 934.49, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-974c96796-kldtk         165m         60Mi
        composereview-5bfd9554c6-pr5fc   105m         9Mi
        frontend-57fc4b5655-fjvj2        111m         10Mi
        movieid-75df6b7f9d-vjv48         16m          177Mi
        movieinfo-7bb887f8dd-cbcxw       77m          212Mi
        moviereviews-7d747bcb8-vdhzd     1358m        20Mi
        page-7fcd768787-6wpqw            1127m        100Mi
        plot-578795f4d5-8zpbf            107m         145Mi
        reviewstorage-7c948b7fd9-mlzz9   100m         15Mi
        ubuntu-client-76886f6bbd-4qr2x   410m         103Mi
        uniqueid-6f959dc5fb-ghtzg        23m          8Mi
        user-58687df6f7-q2fkc            14m          8Mi
        userreviews-84b85fc59d-4blrv     18m          8Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   955.45ms  339.88ms   1.83s    81.04%
        Req/Sec   130.23     49.63   580.00     69.04%
        Latency Distribution
        50%    1.03s
        75%    1.15s
        90%    1.26s
        99%    1.47s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 18.781920
        stop time: 19.498703
        stop time: 19.337342
        stop time: 19.397318
        stop time: 19.377699
        stop time: 19.539690
        stop time: 19.541569
        stop time: 19.303129
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.78192, 19.498703, 19.337342, 19.397318, 19.377699, 19.53969, 19.541569, 19.303129]
    [exp] Throughput: 1033.7428527180684
[test.py] Finished running 2th optmization experiment: groundtruth->1551.5058537637078, slowdown->1033.7428527180684, predicted->1652.0118295860864, err->6.477963043359905
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jxkdn:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:27:35.017463Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   553.72ms  251.17ms   1.21s    74.91%
        Req/Sec   183.95     87.00   424.00     69.78%
        Latency Distribution
        50%  601.88ms
        75%  724.75ms
        90%  822.76ms
        99%    1.01s
        4189 requests in 3.04s, 319.08KB read
        Requests/sec:   1378.71
        Transfer/sec:    105.02KB
        [run.sh] Speed is 1378.71, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   638.44ms  249.70ms   1.64s    80.04%
        Req/Sec   196.24     64.44   454.00     67.75%
        Latency Distribution
        50%  686.13ms
        75%  775.73ms
        90%  871.85ms
        99%    1.08s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.557999
        stop time: 12.761311
        stop time: 12.755708
        stop time: 12.906641
        stop time: 12.931157
        stop time: 12.982568
        stop time: 13.014455
        stop time: 12.911885
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-gnsfx        1m           105Mi
        composereview-676886854c-k8x9v   1m           3Mi
        frontend-67bcc5d87b-2td68        1m           3Mi
        movieid-6b7485b65-txtx9          7m           168Mi
        movieinfo-969fd9977-z2nr9        7m           176Mi
        moviereviews-984fc9976-2vtdt     7m           3Mi
        page-6597cb4c54-h5xbx            7m           3Mi
        plot-5464fccfdd-bh8hh            7m           253Mi
        reviewstorage-86dd5ff9b9-66s9n   7m           3Mi
        ubuntu-client-76886f6bbd-jxkdn   6m           0Mi
        uniqueid-5987bc8cf9-vxj7c        1m           3Mi
        user-6776c48774-cw5v8            8m           4Mi
        userreviews-5d99989bf-f9rpg      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.557999, 12.761311, 12.755708, 12.906641, 12.931157, 12.982568, 13.014455, 12.911885]
    [exp] Throughput: 1556.09139562764
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '31675334', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '31675334', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '31678141', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '31678141', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '31678141', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '31670837', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '31675334', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '31675334', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '31675334'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-dqprb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:29:23.459838Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   767.77ms  351.79ms   1.70s    66.92%
        Req/Sec   117.30     53.46   240.00     67.10%
        Latency Distribution
        50%  756.05ms
        75%    1.05s
        90%    1.21s
        99%    1.47s
        2715 requests in 3.04s, 206.81KB read
        Requests/sec:    894.34
        Transfer/sec:     68.12KB
        [run.sh] Speed is 894.34, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56d6d54487-5kzdv        1m           131Mi
        composereview-cf7fcd876-gdbh7    0m           10Mi
        frontend-6d9c5d6ff-zxds5         15m          11Mi
        movieid-648cb99bc4-shkd4         1m           171Mi
        movieinfo-5f54bb4c99-h5kcm       1m           191Mi
        moviereviews-7d747bcb8-6zsjt     1m           17Mi
        page-5b68f5c84d-hkzsj            1m           77Mi
        plot-7498447fb6-cgcxw            1m           273Mi
        reviewstorage-b5c9cbd64-pbkh7    1m           11Mi
        ubuntu-client-76886f6bbd-dqprb   2m           83Mi
        uniqueid-7fcb6487f6-ncp6d        4m           7Mi
        user-657946d759-wzqbf            9m           7Mi
        userreviews-7b465b4766-wnnn2     6m           6Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   900.21ms  334.70ms   2.00s    79.42%
        Req/Sec   136.52     51.79   340.00     68.26%
        Latency Distribution
        50%  978.11ms
        75%    1.10s
        90%    1.21s
        99%    1.44s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 17.901529
        stop time: 17.721036
        stop time: 18.378635
        stop time: 18.311397
        stop time: 18.639409
        stop time: 19.019387
        stop time: 18.930120
        stop time: 18.881450
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.901529, 17.721036, 18.378635, 18.311397, 18.639409, 19.019387, 18.93012, 18.88145]
    [exp] Throughput: 1082.668778267763
[test.py] Finished running 3th optmization experiment: groundtruth->1556.09139562764, slowdown->1082.668778267763, predicted->1647.8210841141085, err->5.894877945101033
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-ck7n2:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:31:16.436576Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   563.54ms  246.83ms   1.29s    75.27%
        Req/Sec   179.57     81.95   410.00     74.56%
        Latency Distribution
        50%  609.06ms
        75%  732.71ms
        90%  825.22ms
        99%  995.13ms
        4132 requests in 3.03s, 314.74KB read
        Requests/sec:   1365.27
        Transfer/sec:    104.00KB
        [run.sh] Speed is 1365.27, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   637.03ms  245.85ms   1.36s    80.64%
        Req/Sec   196.83     66.25   410.00     70.98%
        Latency Distribution
        50%  680.78ms
        75%  770.93ms
        90%  868.85ms
        99%    1.09s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.38
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.421550
        stop time: 12.962252
        stop time: 12.822463
        stop time: 12.796695
        stop time: 12.991217
        stop time: 13.076383
        stop time: 13.182267
        stop time: 13.086702
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-gjhp4        121m         156Mi
        composereview-676886854c-4hnv6   109m         9Mi
        frontend-67bcc5d87b-vk29n        167m         9Mi
        movieid-6b7485b65-7tlxw          13m          171Mi
        movieinfo-969fd9977-vvp8m        73m          193Mi
        moviereviews-76756dc775-kwhkl    282m         16Mi
        page-6597cb4c54-6b75r            635m         82Mi
        plot-5464fccfdd-g7fsn            99m          294Mi
        reviewstorage-86dd5ff9b9-5p9s7   92m          10Mi
        ubuntu-client-76886f6bbd-ck7n2   273m         62Mi
        uniqueid-5987bc8cf9-hqhqz        14m          7Mi
        user-6776c48774-84tzg            0m           8Mi
        userreviews-5d99989bf-rvl4d      12m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.42155, 12.962252, 12.822463, 12.796695, 12.991217, 13.076383, 13.182267, 13.086702]
    [exp] Throughput: 1548.29426404682
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '27150285', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '27152691', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '27152691', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '27146430', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '27150285', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '27150285', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '27150285'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8cmdc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:33:04.840260Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   624.15ms  343.36ms   1.58s    64.28%
        Req/Sec   126.97     70.67   353.00     67.80%
        Latency Distribution
        50%  580.32ms
        75%  902.34ms
        90%    1.07s
        99%    1.33s
        2993 requests in 3.03s, 227.98KB read
        Requests/sec:    988.91
        Transfer/sec:     75.33KB
        [run.sh] Speed is 988.91, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7dc85b5dcb-jh8wx        110m         60Mi
        composereview-7bb9645d75-d7bk4   148m         9Mi
        frontend-7f6cf897d4-dv7qh        216m         10Mi
        movieid-54f6f4b677-cq7lf         17m          174Mi
        movieinfo-86c897d584-pm6d7       78m          214Mi
        moviereviews-7d747bcb8-jvq9q     221m         20Mi
        page-dcbbf8c59-mlk2f             367m         106Mi
        plot-7cc7fbbb49-zhwfd            103m         156Mi
        reviewstorage-759f4dd98d-cvbs8   84m          13Mi
        ubuntu-client-76886f6bbd-8cmdc   193m         104Mi
        uniqueid-5dfb8f9f85-5g66n        10m          8Mi
        user-6c8d77ff89-9wpvn            12m          8Mi
        userreviews-7886fcd4c5-mv4cp     14m          8Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   881.72ms  333.69ms   1.85s    78.95%
        Req/Sec   139.80     52.54   444.00     74.93%
        Latency Distribution
        50%  955.10ms
        75%    1.08s
        90%    1.19s
        99%    1.44s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 17.343362
        stop time: 17.378568
        stop time: 17.672238
        stop time: 18.020584
        stop time: 18.376816
        stop time: 18.386225
        stop time: 18.550922
        stop time: 18.607508
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.343362, 17.378568, 17.672238, 18.020584, 18.376816, 18.386225, 18.550922, 18.607508]
    [exp] Throughput: 1108.522841144319
[test.py] Finished running 4th optmization experiment: groundtruth->1548.29426404682, slowdown->1108.522841144319, predicted->1585.8557441683236, err->2.4259910401869007
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-9jxqv:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:34:54.934842Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   541.78ms  237.29ms   1.13s    74.20%
        Req/Sec   183.79     84.21   454.00     74.66%
        Latency Distribution
        50%  585.39ms
        75%  697.97ms
        90%  797.52ms
        99%  941.77ms
        4178 requests in 3.04s, 318.25KB read
        Requests/sec:   1373.11
        Transfer/sec:    104.59KB
        [run.sh] Speed is 1373.11, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   632.10ms  248.22ms   1.62s    79.55%
        Req/Sec   197.99     66.84   500.00     71.56%
        Latency Distribution
        50%  673.72ms
        75%  772.35ms
        90%  874.56ms
        99%    1.08s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.38
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.630581
        stop time: 12.737088
        stop time: 12.755284
        stop time: 12.690662
        stop time: 12.916817
        stop time: 12.940852
        stop time: 12.907207
        stop time: 12.837022
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-lkmp6        312m         61Mi
        composereview-676886854c-sv9fv   247m         9Mi
        frontend-67bcc5d87b-pmn5j        391m         10Mi
        movieid-6b7485b65-62xkq          27m          180Mi
        movieinfo-969fd9977-4bskc        169m         237Mi
        moviereviews-77ddc5f47d-8wqd4    1319m        19Mi
        page-6597cb4c54-p6jjt            1871m        90Mi
        plot-5464fccfdd-npbb4            222m         145Mi
        reviewstorage-86dd5ff9b9-tzkp7   201m         13Mi
        ubuntu-client-76886f6bbd-9jxqv   770m         101Mi
        uniqueid-5987bc8cf9-ltcpr        36m          7Mi
        user-6776c48774-mkkcr            58m          8Mi
        userreviews-5d99989bf-28rdt      29m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.630581, 12.737088, 12.755284, 12.690662, 12.916817, 12.940852, 12.907207, 12.837022]
    [exp] Throughput: 1562.2633262599581
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '22625235', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '22625235', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '22627241', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '22627241', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '22627241', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '22622024', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '22625235', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '22625235', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '22625235'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-z5bkg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:36:44.275409Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   596.08ms  350.45ms   1.80s    67.26%
        Req/Sec   135.77     75.50   530.00     67.70%
        Latency Distribution
        50%  531.22ms
        75%  861.71ms
        90%    1.10s
        99%    1.44s
        3125 requests in 3.03s, 238.04KB read
        Requests/sec:   1030.27
        Transfer/sec:     78.48KB
        [run.sh] Speed is 1030.27, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   834.50ms  316.15ms   1.85s    78.82%
        Req/Sec   147.01     56.06   545.00     69.93%
        Latency Distribution
        50%  909.85ms
        75%    1.02s
        90%    1.13s
        99%    1.34s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.264514
        stop time: 16.650327
        stop time: 16.882311
        stop time: 17.023468
        stop time: 17.370919
        stop time: 17.546369
        stop time: 17.648987
        stop time: 17.558771
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6fd97df859-l7s5t        54m          59Mi
        composereview-6b8d898765-wmr9g   249m         9Mi
        frontend-687c7cf5bb-g596m        285m         10Mi
        movieid-7759876b7f-knmqb         3m           177Mi
        movieinfo-5696d6db75-rzj2c       13m          236Mi
        moviereviews-7d747bcb8-czj7t     639m         19Mi
        page-78c7469f64-2qhgr            425m         83Mi
        plot-77b86c46f8-l9s2w            15m          147Mi
        reviewstorage-55c948bfbf-vtj78   19m          14Mi
        ubuntu-client-76886f6bbd-z5bkg   194m         97Mi
        uniqueid-d546c484c-ffb4l         8m           8Mi
        user-796cb4f58-ngsx5             41m          8Mi
        userreviews-64db74458f-ll9wm     5m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.264514, 16.650327, 16.882311, 17.023468, 17.370919, 17.546369, 17.648987, 17.558771]
    [exp] Throughput: 1168.3465762253477
[test.py] Finished running 5th optmization experiment: groundtruth->1562.2633262599581, slowdown->1168.3465762253477, predicted->1588.2144333368037, err->1.6611224651206689
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xc2mj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:38:33.637551Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   496.09ms  298.49ms   1.36s    68.58%
        Req/Sec   177.75     94.02   464.00     67.67%
        Latency Distribution
        50%  526.83ms
        75%  709.57ms
        90%  824.57ms
        99%    1.22s
        4134 requests in 3.03s, 314.89KB read
        Requests/sec:   1362.58
        Transfer/sec:    103.79KB
        [run.sh] Speed is 1362.58, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   604.55ms  251.70ms   1.29s    76.57%
        Req/Sec   198.16     74.46   747.00     75.22%
        Latency Distribution
        50%  658.19ms
        75%  756.74ms
        90%  854.11ms
        99%    1.04s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 11.946808
        stop time: 12.167430
        stop time: 12.481426
        stop time: 12.740578
        stop time: 12.914465
        stop time: 12.989547
        stop time: 13.286560
        stop time: 13.056841
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-27sn2        1m           105Mi
        composereview-676886854c-4sq2s   7m           3Mi
        frontend-67bcc5d87b-ctdbq        7m           3Mi
        movieid-6b7485b65-zf9hx          1m           168Mi
        movieinfo-969fd9977-4wlqw        1m           187Mi
        moviereviews-85554db99c-tt47s    7m           3Mi
        page-6597cb4c54-mfhgg            7m           3Mi
        plot-5464fccfdd-xxfcb            7m           252Mi
        reviewstorage-86dd5ff9b9-cx9m5   7m           3Mi
        ubuntu-client-76886f6bbd-xc2mj   13m          0Mi
        uniqueid-5987bc8cf9-lsqfv        7m           3Mi
        user-6776c48774-hk8zz            1m           4Mi
        userreviews-5d99989bf-74jx2      6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.946808, 12.16743, 12.481426, 12.740578, 12.914465, 12.989547, 13.28656, 13.056841]
    [exp] Throughput: 1575.0565383771632
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '18100186', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '18101791', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '18101791', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '18097617', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '18100186', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '18100186', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '18100186'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-xqhnh:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:40:21.990517Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   593.73ms  342.27ms   1.85s    68.51%
        Req/Sec   133.31     69.39   353.00     70.31%
        Latency Distribution
        50%  591.55ms
        75%  838.48ms
        90%    1.01s
        99%    1.48s
        3087 requests in 3.03s, 235.14KB read
        Requests/sec:   1017.94
        Transfer/sec:     77.54KB
        [run.sh] Speed is 1017.94, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   779.50ms  301.47ms   1.66s    78.89%
        Req/Sec   156.96     55.95   424.00     68.95%
        Latency Distribution
        50%  844.94ms
        75%  953.74ms
        90%    1.06s
        99%    1.30s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 15.310624
        stop time: 15.368508
        stop time: 15.901782
        stop time: 15.982818
        stop time: 16.261429
        stop time: 16.194892
        stop time: 16.512361
        stop time: 16.613991
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-54b9bb7968-99kqq        62m          146Mi
        composereview-7bb6b899c8-98lq5   1m           9Mi
        frontend-d94b6869c-74ch2         1m           9Mi
        movieid-6b97c88588-ct6wk         11m          171Mi
        movieinfo-7c84c57768-qk8d8       58m          191Mi
        moviereviews-7d747bcb8-qc95x     42m          19Mi
        page-b766dfdf5-4cj9n             225m         92Mi
        plot-68cbc89497-gsbtq            79m          291Mi
        reviewstorage-ffc9bdc8b-fmmg7    6m           11Mi
        ubuntu-client-76886f6bbd-xqhnh   50m          62Mi
        uniqueid-68d8f56b54-jk2bc        5m           7Mi
        user-84b666c76c-tsd4c            7m           7Mi
        userreviews-8477fb6b44-zbmhr     10m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.310624, 15.368508, 15.901782, 15.982818, 16.261429, 16.194892, 16.512361, 16.613991]
    [exp] Throughput: 1248.5718971203287
[test.py] Finished running 6th optmization experiment: groundtruth->1575.0565383771632, slowdown->1248.5718971203287, predicted->1613.171165809482, err->2.4198894772113877
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-njpxf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:42:10.274491Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.86ms  315.94ms   1.95s    71.81%
        Req/Sec   175.97     79.35   440.00     68.97%
        Latency Distribution
        50%  458.42ms
        75%  660.03ms
        90%  868.73ms
        99%    1.51s
        4090 requests in 3.03s, 311.54KB read
        Requests/sec:   1349.25
        Transfer/sec:    102.77KB
        [run.sh] Speed is 1349.25, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   625.26ms  254.79ms   1.55s    79.12%
        Req/Sec   197.34     65.91   515.00     69.47%
        Latency Distribution
        50%  667.97ms
        75%  761.20ms
        90%  868.04ms
        99%    1.14s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.298291
        stop time: 12.601345
        stop time: 12.785524
        stop time: 12.823127
        stop time: 12.911499
        stop time: 12.925777
        stop time: 12.964527
        stop time: 12.961740
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-xzlnm        41m          152Mi
        composereview-676886854c-sfqw5   110m         8Mi
        frontend-67bcc5d87b-fzj5t        153m         10Mi
        movieid-6b7485b65-4hvbq          13m          172Mi
        movieinfo-969fd9977-5f72p        73m          202Mi
        moviereviews-9ff484c88-cwd5h     116m         18Mi
        page-6597cb4c54-25kdt            110m         82Mi
        plot-5464fccfdd-w2dgk            100m         314Mi
        reviewstorage-86dd5ff9b9-v4h9t   83m          11Mi
        ubuntu-client-76886f6bbd-njpxf   28m          95Mi
        uniqueid-5987bc8cf9-g6hlk        4m           7Mi
        user-6776c48774-xzw42            24m          9Mi
        userreviews-5d99989bf-h8hvz      8m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.298291, 12.601345, 12.785524, 12.823127, 12.911499, 12.925777, 12.964527, 12.96174]
    [exp] Throughput: 1564.4581699574553
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '13575137', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '13575137', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '13576340', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '13576340', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '13576340', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '13573210', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '13575137', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '13575137', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '13575137'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-9nhv8:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:43:58.526493Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   571.86ms  348.27ms   1.60s    68.53%
        Req/Sec   141.74     65.53   353.00     69.40%
        Latency Distribution
        50%  504.58ms
        75%  835.86ms
        90%    1.06s
        99%    1.40s
        3314 requests in 3.03s, 252.43KB read
        Requests/sec:   1093.15
        Transfer/sec:     83.27KB
        [run.sh] Speed is 1093.15, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   750.73ms  297.63ms   1.64s    78.12%
        Req/Sec   163.64     61.95   404.00     68.10%
        Latency Distribution
        50%  822.12ms
        75%  923.81ms
        90%    1.03s
        99%    1.24s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 14.815132
        stop time: 14.893440
        stop time: 15.099472
        stop time: 15.366114
        stop time: 15.497483
        stop time: 15.719473
        stop time: 15.919449
        stop time: 15.958721
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5564b8b8d5-22j6c        301m         62Mi
        composereview-6cb45bcd9b-sj4tv   168m         10Mi
        frontend-7f688f847f-pjw2s        259m         10Mi
        movieid-755b9d447d-p6557         18m          177Mi
        movieinfo-68f4999bfc-ts7wh       106m         209Mi
        moviereviews-7d747bcb8-vdwrm     1664m        20Mi
        page-84d775859d-mdbht            1589m        102Mi
        plot-5458c9b468-55jnw            114m         147Mi
        reviewstorage-565cc8d489-4mcb2   93m          14Mi
        ubuntu-client-76886f6bbd-9nhv8   678m         106Mi
        uniqueid-7dd7f65f84-hlwhh        36m          8Mi
        user-7d579c9645-fnflt            51m          8Mi
        userreviews-559f7b4f9d-kwq74     16m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.815132, 14.89344, 15.099472, 15.366114, 15.497483, 15.719473, 15.919449, 15.958721]
    [exp] Throughput: 1297.9713583799187
[test.py] Finished running 7th optmization experiment: groundtruth->1564.4581699574553, slowdown->1297.9713583799187, predicted->1575.623175144662, err->0.7136659452844442
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-n285g:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:45:47.838577Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   580.42ms  248.06ms   1.18s    76.28%
        Req/Sec   181.44     69.17   454.00     74.55%
        Latency Distribution
        50%  629.10ms
        75%  743.58ms
        90%  838.06ms
        99%  996.78ms
        4081 requests in 3.03s, 310.86KB read
        Requests/sec:   1346.35
        Transfer/sec:    102.55KB
        [run.sh] Speed is 1346.35, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   612.64ms  248.64ms   1.51s    77.28%
        Req/Sec   196.28     65.54   470.00     70.08%
        Latency Distribution
        50%  674.33ms
        75%  760.76ms
        90%  842.54ms
        99%    1.04s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.203037
        stop time: 12.251299
        stop time: 12.691848
        stop time: 12.928509
        stop time: 12.847233
        stop time: 13.145810
        stop time: 13.187113
        stop time: 13.209667
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-zkk88        309m         62Mi
        composereview-676886854c-5g6sw   228m         9Mi
        frontend-67bcc5d87b-xt926        262m         9Mi
        movieid-6b7485b65-nzbc8          27m          178Mi
        movieinfo-969fd9977-w4rb6        160m         213Mi
        moviereviews-796664ffff-5pjff    8m           21Mi
        page-6597cb4c54-48lwj            1646m        88Mi
        plot-5464fccfdd-h6mc9            212m         146Mi
        reviewstorage-86dd5ff9b9-57zl9   182m         14Mi
        ubuntu-client-76886f6bbd-n285g   49m          70Mi
        uniqueid-5987bc8cf9-dkzxl        1m           7Mi
        user-6776c48774-vxd25            27m          8Mi
        userreviews-5d99989bf-jhwxw      29m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.203037, 12.251299, 12.691848, 12.928509, 12.847233, 13.14581, 13.187113, 13.209667]
    [exp] Throughput: 1561.5161838074755
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '9050088', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '9050890', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '9050890', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '9048803', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '9050088', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '9050088', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '9050088'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-x9l8w:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:47:36.138700Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   475.07ms  250.14ms   1.11s    65.66%
        Req/Sec   154.70     82.43   444.00     67.24%
        Latency Distribution
        50%  492.60ms
        75%  677.52ms
        90%  779.57ms
        99%  963.77ms
        3625 requests in 3.03s, 276.12KB read
        Requests/sec:   1195.24
        Transfer/sec:     91.04KB
        [run.sh] Speed is 1195.24, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   726.36ms  264.65ms   1.42s    82.17%
        Req/Sec   172.06     60.45   484.00     70.95%
        Latency Distribution
        50%  784.95ms
        75%  874.66ms
        90%  959.52ms
        99%    1.15s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 14.496186
        stop time: 14.671458
        stop time: 14.714987
        stop time: 14.511864
        stop time: 14.616698
        stop time: 14.875503
        stop time: 14.908303
        stop time: 14.870763
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6b7db8cd6d-89j85        6m           105Mi
        composereview-6f99ccf475-mrz4v   7m           3Mi
        frontend-5dd6b4668-lp64d         6m           3Mi
        movieid-7bd5c874b9-7jddq         7m           168Mi
        movieinfo-779998c67b-xsz55       7m           177Mi
        moviereviews-7d747bcb8-frvkp     7m           3Mi
        plot-576bcdb94f-vzxjc            35m          277Mi
        reviewstorage-7bdd985db9-dgttt   1m           3Mi
        ubuntu-client-76886f6bbd-x9l8w   13m          0Mi
        uniqueid-6c5864d47c-bjlwt        7m           3Mi
        user-649df87f7-bsxvw             1m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.496186, 14.671458, 14.714987, 14.511864, 14.616698, 14.875503, 14.908303, 14.870763]
    [exp] Throughput: 1359.78382564675
[test.py] Finished running 8th optmization experiment: groundtruth->1561.5161838074755, slowdown->1359.78382564675, predicted->1550.6231777656346, err->-0.6975916199139373
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-5lwxr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:49:24.499366Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   549.25ms  265.34ms   1.34s    70.86%
        Req/Sec   172.79     79.49   505.00     71.88%
        Latency Distribution
        50%  589.40ms
        75%  742.63ms
        90%  852.26ms
        99%    1.06s
        3939 requests in 3.03s, 300.04KB read
        Requests/sec:   1299.11
        Transfer/sec:     98.96KB
        [run.sh] Speed is 1299.11, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   639.11ms  238.65ms   1.33s    81.53%
        Req/Sec   193.45     55.97   404.00     68.99%
        Latency Distribution
        50%  694.77ms
        75%  772.28ms
        90%  849.82ms
        99%  990.47ms
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.652186
        stop time: 13.080404
        stop time: 13.019034
        stop time: 12.994770
        stop time: 13.005360
        stop time: 13.158583
        stop time: 13.178601
        stop time: 13.086451
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-xkskt        1m           123Mi
        composereview-676886854c-9nt4p   1m           9Mi
        frontend-67bcc5d87b-ttc5w        1m           10Mi
        movieid-6b7485b65-stwhg          1m           172Mi
        movieinfo-969fd9977-6mhbb        1m           184Mi
        moviereviews-859cf5b46b-xl4wq    1m           18Mi
        page-6597cb4c54-ndd9x            1m           61Mi
        plot-5464fccfdd-hprpp            1m           268Mi
        reviewstorage-86dd5ff9b9-zn2nb   4m           10Mi
        ubuntu-client-76886f6bbd-5lwxr   3m           53Mi
        uniqueid-5987bc8cf9-z66r8        7m           6Mi
        user-6776c48774-8c25x            7m           6Mi
        userreviews-5d99989bf-zxtb6      6m           5Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.652186, 13.080404, 13.019034, 12.99477, 13.00536, 13.158583, 13.178601, 13.086451]
    [exp] Throughput: 1535.8713947302851
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '60000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '4525039', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '4525039', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '4525440', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '4525440', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '4525440', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '4524396', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '4525039', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '4525039', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '4525039'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-trnlf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T06:51:12.789609Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   536.12ms  311.25ms   1.82s    69.18%
        Req/Sec   163.11     67.30   373.00     70.80%
        Latency Distribution
        50%  493.00ms
        75%  786.03ms
        90%  943.36ms
        99%    1.23s
        3764 requests in 3.03s, 286.71KB read
        Requests/sec:   1242.99
        Transfer/sec:     94.68KB
        [run.sh] Speed is 1242.99, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   671.20ms  259.46ms   1.39s    79.76%
        Req/Sec   181.57     66.06   460.00     71.40%
        Latency Distribution
        50%  733.10ms
        75%  818.41ms
        90%  905.71ms
        99%    1.09s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.080859
        stop time: 13.390311
        stop time: 13.509568
        stop time: 13.910578
        stop time: 13.763565
        stop time: 14.154844
        stop time: 14.345019
        stop time: 14.375980
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6c7c6cc8df-wtspf        113m         156Mi
        composereview-76fdd946fd-dsj7r   97m          9Mi
        frontend-d9758dcf7-ls89b         141m         10Mi
        movieid-65d9ddcc9b-lglfg         12m          186Mi
        movieinfo-5758c5d7f7-q8x5d       70m          193Mi
        moviereviews-7d747bcb8-p7xlj     572m         19Mi
        page-5d5d4b8b4b-sk5b7            614m         95Mi
        plot-659f95d484-fzdnh            96m          292Mi
        reviewstorage-bf5d94cb8-h9vcq    77m          11Mi
        ubuntu-client-76886f6bbd-trnlf   81m          66Mi
        uniqueid-6cdcd9776b-496gv        14m          8Mi
        user-644dcd586f-l5rmv            22m          7Mi
        userreviews-59f7885b7b-qgb2c     13m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.080859, 13.390311, 13.509568, 13.910578, 13.763565, 14.154844, 14.345019, 14.37598]
    [exp] Throughput: 1447.5613133593517
[test.py] Finished running 9th optmization experiment: groundtruth->1535.8713947302851, slowdown->1447.5613133593517, predicted->1549.0366389855487, err->0.8571840259825622
[test.py] Baseline throughput:  1459.36372963605
[test.py] Groundtruth:  [1550.6263963693555, 1571.5212841686173, 1551.5058537637078, 1556.09139562764, 1548.29426404682, 1562.2633262599581, 1575.0565383771632, 1564.4581699574553, 1561.5161838074755, 1535.8713947302851]
[test.py] Slowdown:  [949.7514016802182, 993.1955675072296, 1033.7428527180684, 1082.668778267763, 1108.522841144319, 1168.3465762253477, 1248.5718971203287, 1297.9713583799187, 1359.78382564675, 1447.5613133593517]
[test.py] Predicted:  [1665.6614939502613, 1667.8883201675908, 1652.0118295860864, 1647.8210841141085, 1585.8557441683236, 1588.2144333368037, 1613.171165809482, 1575.623175144662, 1550.6231777656346, 1549.0366389855487]
[test.py] Error percentage:  [7.418621135964768, 6.132085958349245, 6.477963043359905, 5.894877945101033, 2.4259910401869007, 1.6611224651206689, 2.4198894772113877, 0.7136659452844442, -0.6975916199139373, 0.8571840259825622]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1498.1987437416258
    Groundtruth: [1650.7403751132113, 1675.2933454353729, 1605.8829111626073, 1625.3927634629101, 1636.820858090036, 1650.3741217624365, 1640.7531750291603, 1648.9467414524474, 1628.7097886313368, 1583.8471506723397]
    Slowdown:    [989.8842797436483, 1048.2062384033586, 1043.3695462992303, 1120.980417319851, 1155.7528348594471, 1217.5082063096875, 1291.6006611639204, 1350.3417541967335, 1395.2313295288398, 1475.1851454166522]
    Predicted:   [1793.1620946562316, 1829.0891486134883, 1676.734993780754, 1738.2394713925778, 1684.324324004503, 1680.4542697885875, 1685.729166802533, 1653.4671458068244, 1596.8879340514095, 1580.7115008674702]
    Error Perc:  [8.627747990549558, 9.180231247092262, 4.412032915080464, 6.942734732573007, 2.902178676406758, 1.8226260112481836, 2.74117962761665, 0.27413889367920125, -1.9538075353908397, -0.19797679362799422]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1487.8413696264213
    Groundtruth: [1650.598673170383, 1683.304642633109, 1688.231217784064, 1693.8448842279781, 1668.2592460271057, 1701.8392521352498, 1681.9429308564088, 1683.651819751393, 1624.9972019579432, 1502.235293254966]
    Slowdown:    [994.2936802115753, 1043.6492128794375, 1085.8089058168607, 1148.2171352662795, 1198.9279905265505, 1248.070005993934, 1299.4451677751829, 1371.5316557478175, 1439.6464746530983, 1412.6361237137628]
    Predicted:   [1807.6839629121166, 1815.258153102966, 1789.1124870269994, 1804.6179992008304, 1777.6152339680696, 1739.237531282739, 1699.116385102626, 1685.3505903019206, 1655.3387152120802, 1509.1107763850155]
    Error Perc:  [9.51686756417975, 7.838956011161983, 5.975559993218815, 6.539743751290454, 6.555095570511049, 2.197521246531748, 1.0210485701481506, 0.10089797252607782, 1.867173261441854, 0.45768350410353614]
[test.py] Result for the experiment 2: 
    Baseline throughput: 1459.36372963605
    Groundtruth: [1550.6263963693555, 1571.5212841686173, 1551.5058537637078, 1556.09139562764, 1548.29426404682, 1562.2633262599581, 1575.0565383771632, 1564.4581699574553, 1561.5161838074755, 1535.8713947302851]
    Slowdown:    [949.7514016802182, 993.1955675072296, 1033.7428527180684, 1082.668778267763, 1108.522841144319, 1168.3465762253477, 1248.5718971203287, 1297.9713583799187, 1359.78382564675, 1447.5613133593517]
    Predicted:   [1665.6614939502613, 1667.8883201675908, 1652.0118295860864, 1647.8210841141085, 1585.8557441683236, 1588.2144333368037, 1613.171165809482, 1575.623175144662, 1550.6231777656346, 1549.0366389855487]
    Error Perc:  [7.418621135964768, 6.132085958349245, 6.477963043359905, 5.894877945101033, 2.4259910401869007, 1.6611224651206689, 2.4198894772113877, 0.7136659452844442, -0.6975916199139373, 0.8571840259825622]
