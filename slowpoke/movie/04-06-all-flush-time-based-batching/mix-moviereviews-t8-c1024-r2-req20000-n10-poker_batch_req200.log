benchmark                        : movie
num_threads                      : 8
num_conns                        : 1024
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 2
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 200
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-r5ks9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:36:33.790024Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   533.58ms  343.22ms   1.89s    74.73%
        Req/Sec   161.66     75.39   380.00     71.93%
        Latency Distribution
        50%  496.18ms
        75%  726.66ms
        90%  942.66ms
        99%    1.60s
        3720 requests in 3.03s, 283.36KB read
        Requests/sec:   1228.13
        Transfer/sec:     93.55KB
        [run.sh] Speed is 1228.13, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   660.77ms  259.10ms   1.39s    77.75%
        Req/Sec   181.51     64.03   480.00     71.13%
        Latency Distribution
        50%  732.50ms
        75%  816.26ms
        90%  896.31ms
        99%    1.07s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.314529
        stop time: 13.344604
        stop time: 13.732715
        stop time: 13.620785
        stop time: 13.999188
        stop time: 14.498313
        stop time: 14.305053
        stop time: 14.263886
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-rlxgq        382m         57Mi
        composereview-676886854c-r8wb2   362m         9Mi
        frontend-67bcc5d87b-8dsch        488m         10Mi
        movieid-6b7485b65-ndcnc          21m          177Mi
        movieinfo-969fd9977-tbm5z        256m         218Mi
        moviereviews-7d747bcb8-8gzvv     1770m        20Mi
        page-6597cb4c54-5z9fs            1875m        98Mi
        plot-5464fccfdd-ckhrb            226m         145Mi
        reviewstorage-86dd5ff9b9-b6r28   122m         14Mi
        ubuntu-client-76886f6bbd-r5ks9   606m         98Mi
        uniqueid-5987bc8cf9-v8zws        29m          8Mi
        user-6776c48774-cfntj            41m          8Mi
        userreviews-5d99989bf-p8xqq      26m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.314529, 13.344604, 13.732715, 13.620785, 13.999188, 14.498313, 14.305053, 14.263886]
    [exp] Throughput: 1440.415333678559
[test.py] Baseline throughput: 1440.415333678559
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8hn8h:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:38:21.696385Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   514.82ms  299.54ms   1.43s    68.07%
        Req/Sec   166.97     94.27   595.00     72.61%
        Latency Distribution
        50%  503.71ms
        75%  748.88ms
        90%  885.64ms
        99%    1.20s
        3852 requests in 3.03s, 293.41KB read
        Requests/sec:   1272.50
        Transfer/sec:     96.93KB
        [run.sh] Speed is 1272.50, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   642.36ms  263.19ms   1.47s    78.11%
        Req/Sec   191.35     68.40   530.00     68.46%
        Latency Distribution
        50%  689.29ms
        75%  789.63ms
        90%  902.12ms
        99%    1.13s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.769628
        stop time: 12.854398
        stop time: 12.966292
        stop time: 12.937368
        stop time: 13.438750
        stop time: 13.589114
        stop time: 13.371892
        stop time: 13.234485
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        movieid-6b7485b65-srrmz          6m           169Mi
        plot-5464fccfdd-f6k2x            2m           277Mi
        reviewstorage-86dd5ff9b9-wv4xc   7m           3Mi
        user-6776c48774-kbjmz            1m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.769628, 12.854398, 12.966292, 12.937368, 13.43875, 13.589114, 13.371892, 13.234485]
    [exp] Throughput: 1521.4631812518994
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '90508995', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '90500973', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '90500973', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '90500973', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '90508995', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '90508995', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '90508995', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '90488126', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '90500973', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '90500973', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '90500973'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-dd4zw:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:40:09.499026Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   880.93ms  367.05ms   1.97s    66.80%
        Req/Sec   104.06     56.56   262.00     66.67%
        Latency Distribution
        50%  940.74ms
        75%    1.13s
        90%    1.30s
        99%    1.64s
        2419 requests in 3.03s, 184.26KB read
        Requests/sec:    798.56
        Transfer/sec:     60.83KB
        [run.sh] Speed is 798.56, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d37s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-78d5df9844-6gsfm        1m           105Mi
        composereview-65766f57d7-652xq   1m           3Mi
        frontend-69d99cb6f6-qg9fn        1m           3Mi
        movieid-58c4ddf749-5wjlh         1m           170Mi
        movieinfo-7957d4d8c6-48f25       1m           176Mi
        moviereviews-7d747bcb8-nfwxj     1m           3Mi
        page-6bc885bb9f-8n4rn            1m           3Mi
        plot-7d7d746b69-rwcv8            1m           254Mi
        reviewstorage-9bf77c5cc-2wbhc    1m           3Mi
        ubuntu-client-76886f6bbd-dd4zw   14m          2Mi
        uniqueid-5fcf4d5c5c-89djb        7m           3Mi
        user-685fb89896-jlzmc            7m           4Mi
        userreviews-848b56c699-bdl6h     6m           3Mi
        Running 37s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.09s   373.68ms   2.06s    77.33%
        Req/Sec   113.97     73.41   606.00     63.48%
        Latency Distribution
        50%    1.16s
        75%    1.31s
        90%    1.46s
        99%    1.70s
        20000 requests in 37.00s, 1.49MB read
        Requests/sec:    540.54
        Transfer/sec:     41.17KB
        ------------------------------
        stop time: 21.346932
        stop time: 21.531779
        stop time: 22.240969
        stop time: 22.310416
        stop time: 22.832722
        stop time: 22.655539
        stop time: 22.973815
        stop time: 22.437144
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [21.346932, 21.531779, 22.240969, 22.310416, 22.832722, 22.655539, 22.973815, 22.437144]
    [exp] Throughput: 897.2164733699759
[test.py] Finished running 0th optmization experiment: groundtruth->1521.4631812518994, slowdown->897.2164733699759, predicted->1510.543900117673, err->-0.717682903456244
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vbnsr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:42:04.822127Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   515.14ms  303.09ms   1.47s    67.87%
        Req/Sec   171.50     85.72   505.00     73.28%
        Latency Distribution
        50%  531.15ms
        75%  742.74ms
        90%  878.87ms
        99%    1.24s
        3984 requests in 3.04s, 303.47KB read
        Requests/sec:   1310.75
        Transfer/sec:     99.84KB
        [run.sh] Speed is 1310.75, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   678.62ms  565.02ms   5.27s    88.65%
        Req/Sec   188.25     67.91   606.00     72.75%
        Latency Distribution
        50%  634.98ms
        75%  762.21ms
        90%  895.48ms
        99%    3.73s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 13.081162
        stop time: 13.135610
        stop time: 13.344402
        stop time: 13.341570
        stop time: 13.568012
        stop time: 13.410612
        stop time: 13.425862
        stop time: 13.316759
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-ctbqk        1m           153Mi
        composereview-676886854c-rcg2v   1m           9Mi
        frontend-67bcc5d87b-zw6fw        1m           10Mi
        movieid-6b7485b65-vjbb2          2m           171Mi
        movieinfo-969fd9977-znpbr        1m           192Mi
        moviereviews-7c774d8d5d-r8mvb    1m           15Mi
        page-6597cb4c54-pthct            1m           98Mi
        plot-5464fccfdd-7dpq5            11m          301Mi
        reviewstorage-86dd5ff9b9-ctb2w   7m           9Mi
        ubuntu-client-76886f6bbd-vbnsr   3m           64Mi
        uniqueid-5987bc8cf9-s6975        1m           7Mi
        user-6776c48774-2r7hz            0m           8Mi
        userreviews-5d99989bf-8tpgj      0m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.081162, 13.13561, 13.344402, 13.34157, 13.568012, 13.410612, 13.425862, 13.316759]
    [exp] Throughput: 1500.6003949073788
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '81458094', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '81450875', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '81450875', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '81450875', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '81458094', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '81458094', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '81458094', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '81439312', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '81450875', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '81450875', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '81450875'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zbsps:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:43:52.519298Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   824.36ms  349.89ms   1.83s    65.49%
        Req/Sec   108.66     60.07   280.00     63.44%
        Latency Distribution
        50%  884.87ms
        75%    1.08s
        90%    1.24s
        99%    1.48s
        2518 requests in 3.03s, 191.80KB read
        Requests/sec:    831.26
        Transfer/sec:     63.32KB
        [run.sh] Speed is 831.26, duration is 36
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d36s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-d848cf7d6-qc8kr         84m          155Mi
        composereview-59ddc8886-lbdbm    35m          13Mi
        frontend-7d748df9d5-6xwgm        65m          17Mi
        movieid-75b9864856-8gtlr         1m           172Mi
        movieinfo-859856ff4-44crt        49m          197Mi
        moviereviews-7d747bcb8-mt8p9     262m         21Mi
        page-bb976d9bf-rpfb6             331m         79Mi
        plot-5447b9f64c-5nzcf            8m           302Mi
        reviewstorage-646956dd8-dxx5w    58m          14Mi
        ubuntu-client-76886f6bbd-zbsps   69m          94Mi
        uniqueid-5647997d5d-l4wg6        4m           9Mi
        user-7955fdf64f-j4wlm            1m           10Mi
        userreviews-78db54b748-ksc6v     1m           8Mi
        Running 36s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   980.26ms  329.23ms   1.89s    80.01%
        Req/Sec   125.71     71.44   330.00     64.23%
        Latency Distribution
        50%    1.05s
        75%    1.18s
        90%    1.26s
        99%    1.47s
        20000 requests in 36.00s, 1.49MB read
        Requests/sec:    555.55
        Transfer/sec:     42.32KB
        ------------------------------
        stop time: 19.303417
        stop time: 19.530758
        stop time: 19.869133
        stop time: 20.460699
        stop time: 20.064554
        stop time: 20.612183
        stop time: 20.406314
        stop time: 20.466474
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.303417, 19.530758, 19.869133, 20.460699, 20.064554, 20.612183, 20.406314, 20.466474]
    [exp] Throughput: 995.5602245117728
[test.py] Finished running 1th optmization experiment: groundtruth->1500.6003949073788, slowdown->995.5602245117728, predicted->1674.5676904530774, err->11.593179379140196
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-vjzl8:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:45:47.864877Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   519.41ms  223.66ms   1.06s    75.75%
        Req/Sec   189.58     88.47   474.00     68.26%
        Latency Distribution
        50%  569.09ms
        75%  668.76ms
        90%  747.75ms
        99%  902.98ms
        4396 requests in 3.03s, 334.85KB read
        Requests/sec:   1448.81
        Transfer/sec:    110.36KB
        [run.sh] Speed is 1448.81, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   614.27ms  250.28ms   1.43s    78.72%
        Req/Sec   203.02     66.50   610.00     69.93%
        Latency Distribution
        50%  656.04ms
        75%  755.65ms
        90%  860.10ms
        99%    1.09s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 12.120223
        stop time: 12.327338
        stop time: 12.397793
        stop time: 12.390824
        stop time: 12.528227
        stop time: 12.293558
        stop time: 12.504778
        stop time: 12.657968
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-kbspn        4m           62Mi
        composereview-676886854c-pgl94   117m         9Mi
        frontend-67bcc5d87b-tt9h5        43m          10Mi
        movieid-6b7485b65-cjfz9          16m          187Mi
        movieinfo-969fd9977-886wl        20m          213Mi
        moviereviews-885dd8fb5-4rdj8     341m         16Mi
        page-6597cb4c54-746mw            532m         88Mi
        plot-5464fccfdd-cnvrr            163m         323Mi
        reviewstorage-86dd5ff9b9-n4zx2   57m          11Mi
        ubuntu-client-76886f6bbd-vjzl8   333m         102Mi
        uniqueid-5987bc8cf9-xq4dt        13m          8Mi
        user-6776c48774-fmzxg            32m          8Mi
        userreviews-5d99989bf-lm8hh      20m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.120223, 12.327338, 12.397793, 12.390824, 12.528227, 12.293558, 12.504778, 12.657968]
    [exp] Throughput: 1612.566586275855
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '72407194', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '72400776', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '72400776', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '72400776', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '72407194', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '72407194', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '72407194', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '72390499', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '72400776', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '72400776', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '72400776'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-jm5vd:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:47:35.594999Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   672.45ms  360.34ms   2.00s    68.42%
        Req/Sec   119.77     80.84   373.00     68.70%
        Latency Distribution
        50%  614.45ms
        75%  935.14ms
        90%    1.13s
        99%    1.68s
        2796 requests in 3.03s, 212.98KB read
        Requests/sec:    923.12
        Transfer/sec:     70.32KB
        [run.sh] Speed is 923.12, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-85dbf688cb-jcsl6        250m         58Mi
        composereview-7b96f498fd-bd46m   184m         10Mi
        frontend-848bd69f85-j2n99        212m         11Mi
        movieid-f5d67bb96-4pnvp          19m          176Mi
        movieinfo-6878b44448-ptwnq       174m         214Mi
        moviereviews-7d747bcb8-8l2gw     1286m        23Mi
        page-69d444f9bc-c6vgr            1183m        110Mi
        plot-659f84fb7c-w6mdg            203m         157Mi
        reviewstorage-5bc8557db6-pr967   165m         16Mi
        ubuntu-client-76886f6bbd-jm5vd   531m         106Mi
        uniqueid-b74fbfd54-57bpb         22m          8Mi
        user-6d4d4c8c-mglc2              36m          9Mi
        userreviews-69f8cb75f6-fd6b9     28m          8Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.00s   340.83ms   1.92s    82.65%
        Req/Sec   125.60     75.22   570.00     62.56%
        Latency Distribution
        50%    1.10s
        75%    1.20s
        90%    1.29s
        99%    1.49s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 19.759464
        stop time: 20.213122
        stop time: 20.243350
        stop time: 19.983986
        stop time: 20.312865
        stop time: 20.300508
        stop time: 20.207291
        stop time: 20.528098
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.759464, 20.213122, 20.24335, 19.983986, 20.312865, 20.300508, 20.207291, 20.528098]
    [exp] Throughput: 990.4135152224452
[test.py] Finished running 2th optmization experiment: groundtruth->1612.566586275855, slowdown->990.4135152224452, predicted->1544.0599329096285, err->-4.2482991988838865
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-pxqth:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:49:26.961897Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   536.32ms  250.96ms   1.44s    74.94%
        Req/Sec   194.19     77.14   414.00     74.01%
        Latency Distribution
        50%  585.09ms
        75%  703.67ms
        90%  795.37ms
        99%    1.02s
        4445 requests in 3.03s, 338.58KB read
        Requests/sec:   1464.92
        Transfer/sec:    111.59KB
        [run.sh] Speed is 1464.92, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   588.70ms  239.94ms   1.29s    78.86%
        Req/Sec   209.48     70.97   616.00     71.50%
        Latency Distribution
        50%  637.57ms
        75%  732.68ms
        90%  820.60ms
        99%  998.70ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.671472
        stop time: 11.663100
        stop time: 11.913203
        stop time: 11.735600
        stop time: 12.142773
        stop time: 12.284632
        stop time: 12.345628
        stop time: 12.286174
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-8xwt7        6m           61Mi
        composereview-676886854c-w5xjx   1m           8Mi
        frontend-67bcc5d87b-d7m9s        1m           9Mi
        movieid-6b7485b65-fjhrw          1m           178Mi
        movieinfo-969fd9977-vrnwn        1m           218Mi
        moviereviews-984fc9976-kwnzf     1m           17Mi
        page-6597cb4c54-klsk8            1m           85Mi
        plot-5464fccfdd-p5kmc            1m           156Mi
        reviewstorage-86dd5ff9b9-kfzkm   66m          12Mi
        ubuntu-client-76886f6bbd-pxqth   5m           68Mi
        uniqueid-5987bc8cf9-vp7g9        1m           8Mi
        user-6776c48774-vxd5b            1m           8Mi
        userreviews-5d99989bf-h74zd      1m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.671472, 11.6631, 11.913203, 11.7356, 12.142773, 12.284632, 12.345628, 12.286174]
    [exp] Throughput: 1665.9277236007667
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '63356293', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '63350678', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '63350678', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '63350678', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '63356293', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '63356293', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '63356293', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '63341685', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '63350678', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '63350678', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '63350678'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-8kx24:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:51:14.674970Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   666.47ms  413.23ms   1.87s    68.37%
        Req/Sec   118.92     66.52   440.00     71.00%
        Latency Distribution
        50%  526.69ms
        75%    1.00s
        90%    1.28s
        99%    1.69s
        2754 requests in 3.03s, 209.78KB read
        Requests/sec:    908.84
        Transfer/sec:     69.23KB
        [run.sh] Speed is 908.84, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-75c45b57b7-x5gqs        1m           104Mi
        composereview-64fd84b746-qnnlx   1m           3Mi
        frontend-99b84877-kbllz          1m           3Mi
        movieid-f7d5879f6-mt8x4          1m           169Mi
        movieinfo-5b65986bc-tz5hc        6m           187Mi
        moviereviews-7d747bcb8-4hnjr     1m           3Mi
        page-7787fd4cc6-x24vn            5m           3Mi
        plot-84557c5f7d-2vvsq            7m           254Mi
        reviewstorage-7597d56d9c-74svx   7m           3Mi
        ubuntu-client-76886f6bbd-8kx24   14m          0Mi
        uniqueid-595cd5fb9d-knd86        7m           3Mi
        user-559bb6df85-zw7bm            7m           4Mi
        userreviews-85689fc996-zwlln     7m           3Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   949.20ms  328.60ms   1.75s    82.21%
        Req/Sec   131.74     67.41   460.00     64.09%
        Latency Distribution
        50%    1.04s
        75%    1.14s
        90%    1.22s
        99%    1.39s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 18.775331
        stop time: 19.064713
        stop time: 19.083420
        stop time: 19.270004
        stop time: 19.342478
        stop time: 19.171125
        stop time: 19.350626
        stop time: 19.153136
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.775331, 19.064713, 19.08342, 19.270004, 19.342478, 19.171125, 19.350626, 19.153136]
    [exp] Throughput: 1044.3125780799064
[test.py] Finished running 3th optmization experiment: groundtruth->1665.9277236007667, slowdown->1044.3125780799064, predicted->1560.5829500092914, err->-6.323490034956692
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-56549f7689-9pddq cannot connect to reviewstorage
        [run.sh] castinfo-56549f7689-9pddq cannot connect to reviewstorage
        [run.sh] frontend-67bcc5d87b-w6vz7 cannot connect to reviewstorage
        [run.sh] movieid-6b7485b65-g44cq cannot connect to reviewstorage
        [run.sh] movieinfo-969fd9977-sf8ws cannot connect to reviewstorage
        [run.sh] page-6597cb4c54-cjz6r cannot connect to reviewstorage
        [run.sh] plot-5464fccfdd-6xl2j cannot connect to reviewstorage
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-sjpxc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:53:47.225209Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   500.71ms  330.10ms   1.78s    75.06%
        Req/Sec   179.54     92.01   484.00     74.57%
        Latency Distribution
        50%  467.26ms
        75%  689.91ms
        90%  881.67ms
        99%    1.51s
        4171 requests in 3.03s, 317.71KB read
        Requests/sec:   1378.15
        Transfer/sec:    104.98KB
        [run.sh] Speed is 1378.15, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.93ms  236.90ms   1.33s    79.76%
        Req/Sec   206.65     71.80   797.00     72.39%
        Latency Distribution
        50%  648.18ms
        75%  740.79ms
        90%  832.12ms
        99%  995.81ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.884426
        stop time: 12.150406
        stop time: 12.397812
        stop time: 12.240566
        stop time: 12.348671
        stop time: 12.380591
        stop time: 12.493146
        stop time: 12.355910
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-9pddq        142m         62Mi
        composereview-676886854c-c669z   257m         8Mi
        frontend-67bcc5d87b-w6vz7        200m         10Mi
        movieid-6b7485b65-g44cq          6m           175Mi
        movieinfo-969fd9977-sf8ws        112m         210Mi
        moviereviews-76756dc775-l48tx    865m         19Mi
        page-6597cb4c54-cjz6r            1233m        100Mi
        plot-5464fccfdd-6xl2j            54m          306Mi
        reviewstorage-86dd5ff9b9-4lts6   41m          12Mi
        ubuntu-client-76886f6bbd-sjpxc   536m         100Mi
        uniqueid-5987bc8cf9-z4hg6        24m          8Mi
        user-6776c48774-xs7pr            13m          8Mi
        userreviews-5d99989bf-tj2hk      9m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [11.884426, 12.150406, 12.397812, 12.240566, 12.348671, 12.380591, 12.493146, 12.35591]
    [exp] Throughput: 1628.473401451833
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '54305393', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '54300580', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '54300580', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '54300580', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '54305393', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '54305393', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '54305393', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '54292871', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '54300580', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '54300580', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '54300580'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4kzc7:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:55:34.872247Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   707.65ms  330.07ms   1.87s    68.54%
        Req/Sec   125.07     72.71   360.00     65.37%
        Latency Distribution
        50%  738.00ms
        75%  929.39ms
        90%    1.11s
        99%    1.44s
        2931 requests in 3.04s, 223.26KB read
        Requests/sec:    964.05
        Transfer/sec:     73.43KB
        [run.sh] Speed is 964.05, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5bc58d7bb9-cwzh9        280m         61Mi
        composereview-797bcf9d5d-xllwd   201m         9Mi
        frontend-6d776c8b9c-fvb65        241m         10Mi
        movieid-75b566b6bd-8brmt         23m          188Mi
        movieinfo-64ccdb5f97-hp7kb       156m         235Mi
        moviereviews-7d747bcb8-wx2tv     1427m        20Mi
        page-856d78457d-n7ltb            1162m        83Mi
        plot-bc6db465b-s4tj6             218m         147Mi
        reviewstorage-6dcf65bfd5-6njbs   180m         16Mi
        ubuntu-client-76886f6bbd-4kzc7   562m         100Mi
        uniqueid-6fd9499df4-htzmv        22m          8Mi
        user-76f64c5878-srq9h            43m          8Mi
        userreviews-84d7bd644d-cv9p5     34m          8Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   866.62ms  313.78ms   1.73s    79.61%
        Req/Sec   142.58     72.11   620.00     68.00%
        Latency Distribution
        50%  947.22ms
        75%    1.06s
        90%    1.14s
        99%    1.34s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 16.672312
        stop time: 17.141047
        stop time: 17.541113
        stop time: 17.814590
        stop time: 17.820796
        stop time: 18.266938
        stop time: 18.562261
        stop time: 18.440567
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.672312, 17.141047, 17.541113, 17.81459, 17.820796, 18.266938, 18.562261, 18.440567]
    [exp] Throughput: 1124.7042238773247
[test.py] Finished running 4th optmization experiment: groundtruth->1628.473401451833, slowdown->1124.7042238773247, predicted->1619.1824294225412, err->-0.5705326240519923
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-k9mpp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:57:25.418928Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   519.58ms  223.91ms   1.16s    76.41%
        Req/Sec   197.10     77.55   400.00     73.36%
        Latency Distribution
        50%  566.51ms
        75%  665.74ms
        90%  744.01ms
        99%  926.87ms
        4548 requests in 3.03s, 346.43KB read
        Requests/sec:   1499.41
        Transfer/sec:    114.21KB
        [run.sh] Speed is 1499.41, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   585.42ms  229.91ms   1.33s    79.06%
        Req/Sec   214.47     72.08   666.00     71.67%
        Latency Distribution
        50%  621.73ms
        75%  712.14ms
        90%  808.89ms
        99%    1.01s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.660375
        stop time: 11.879044
        stop time: 11.776888
        stop time: 11.617185
        stop time: 11.841122
        stop time: 11.750277
        stop time: 11.730586
        stop time: 11.861260
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-97lv7        1m           63Mi
        composereview-676886854c-g2rzv   103m         9Mi
        frontend-67bcc5d87b-vg8fs        0m           10Mi
        movieid-6b7485b65-pcj7r          4m           177Mi
        movieinfo-969fd9977-5gxs5        1m           219Mi
        moviereviews-77ddc5f47d-5qzfk    282m         19Mi
        page-6597cb4c54-l5pjw            447m         83Mi
        plot-5464fccfdd-f7vfl            17m          146Mi
        reviewstorage-86dd5ff9b9-sxvcz   1m           14Mi
        ubuntu-client-76886f6bbd-k9mpp   5m           70Mi
        uniqueid-5987bc8cf9-gd8p7        0m           8Mi
        user-6776c48774-ldp8s            8m           8Mi
        userreviews-5d99989bf-qhxgz      5m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.660375, 11.879044, 11.776888, 11.617185, 11.841122, 11.750277, 11.730586, 11.86126]
    [exp] Throughput: 1700.016438096446
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '45250481', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '45254492', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '45254492', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '45244058', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '45250481', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '45250481', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '45250481'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-z9chl:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T22:59:13.085953Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   692.60ms  295.29ms   1.41s    70.61%
        Req/Sec   137.81     62.11   333.00     69.13%
        Latency Distribution
        50%  727.26ms
        75%  896.04ms
        90%    1.03s
        99%    1.25s
        3175 requests in 3.03s, 241.85KB read
        Requests/sec:   1047.38
        Transfer/sec:     79.78KB
        [run.sh] Speed is 1047.38, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   797.69ms  291.43ms   1.66s    79.99%
        Req/Sec   154.49     71.30   540.00     68.30%
        Latency Distribution
        50%  867.66ms
        75%  973.11ms
        90%    1.05s
        99%    1.24s
        20000 requests in 28.00s, 1.49MB read
        Requests/sec:    714.28
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 15.607587
        stop time: 15.876759
        stop time: 15.970573
        stop time: 16.162298
        stop time: 16.548499
        stop time: 16.657044
        stop time: 16.926763
        stop time: 16.960742
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57bb66cd84-s2c28        1m           104Mi
        composereview-595c769599-8b4sg   5m           3Mi
        frontend-85d665c6d8-ktb9n        1m           3Mi
        movieid-59dc6c45df-qrndh         6m           186Mi
        movieinfo-797799db5b-8pgjb       1m           176Mi
        moviereviews-7d747bcb8-4blsx     7m           3Mi
        page-694c4ff57f-bpt2p            7m           3Mi
        plot-6df557f6f-zhdh8             7m           253Mi
        reviewstorage-5798f8d4f7-9tjhc   7m           3Mi
        ubuntu-client-76886f6bbd-z9chl   14m          2Mi
        uniqueid-b869b8945-lhgvg         1m           3Mi
        user-559d8cc4dd-smdrc            1m           4Mi
        userreviews-8bfb744dc-xb75d      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.607587, 15.876759, 15.970573, 16.162298, 16.548499, 16.657044, 16.926763, 16.960742]
    [exp] Throughput: 1224.081368054758
[test.py] Finished running 5th optmization experiment: groundtruth->1700.016438096446, slowdown->1224.081368054758, predicted->1693.002324024583, err->-0.41259095586846184
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-4hszg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:01:00.648478Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   502.27ms  244.47ms   1.35s    74.19%
        Req/Sec   193.55     84.56   600.00     71.98%
        Latency Distribution
        50%  526.04ms
        75%  655.36ms
        90%  784.96ms
        99%    1.07s
        4503 requests in 3.04s, 343.00KB read
        Requests/sec:   1481.41
        Transfer/sec:    112.84KB
        [run.sh] Speed is 1481.41, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   585.12ms  226.91ms   1.25s    80.76%
        Req/Sec   214.20     72.21   530.00     71.32%
        Latency Distribution
        50%  630.85ms
        75%  712.50ms
        90%  793.49ms
        99%  955.93ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.455444
        stop time: 11.826002
        stop time: 11.890185
        stop time: 11.891387
        stop time: 11.861569
        stop time: 12.068198
        stop time: 11.912792
        stop time: 12.009236
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-nmsbl        143m         156Mi
        composereview-676886854c-6l8bp   1m           9Mi
        frontend-67bcc5d87b-j62xg        169m         10Mi
        movieid-6b7485b65-kgq48          0m           171Mi
        movieinfo-969fd9977-f5598        81m          194Mi
        moviereviews-85554db99c-jzj7n    0m           17Mi
        page-6597cb4c54-9xn2q            1m           82Mi
        plot-5464fccfdd-p4nrd            20m          299Mi
        reviewstorage-86dd5ff9b9-sl87n   98m          10Mi
        ubuntu-client-76886f6bbd-4hszg   295m         64Mi
        uniqueid-5987bc8cf9-spv5j        1m           7Mi
        user-6776c48774-pntkt            0m           7Mi
        userreviews-5d99989bf-ql596      0m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.455444, 11.826002, 11.890185, 11.891387, 11.861569, 12.068198, 11.912792, 12.009236]
    [exp] Throughput: 1685.7221222150015
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '36200383', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '36203592', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '36203592', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '36195244', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '36200383', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '36200383', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '36200383'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kvxgd:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:02:48.372690Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   583.64ms  359.45ms   1.76s    67.11%
        Req/Sec   144.52     75.85   380.00     69.10%
        Latency Distribution
        50%  484.47ms
        75%  877.96ms
        90%    1.05s
        99%    1.47s
        3372 requests in 3.03s, 256.85KB read
        Requests/sec:   1111.77
        Transfer/sec:     84.69KB
        [run.sh] Speed is 1111.77, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   773.88ms  280.64ms   1.46s    81.39%
        Req/Sec   158.45     66.08   424.00     66.61%
        Latency Distribution
        50%  845.56ms
        75%  935.02ms
        90%    1.01s
        99%    1.19s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 15.436473
        stop time: 15.338438
        stop time: 15.618013
        stop time: 15.921912
        stop time: 16.100925
        stop time: 16.238472
        stop time: 16.338444
        stop time: 16.250937
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6bdb8cb774-fgjhr        179m         60Mi
        composereview-f6c8479b-rsr9j     50m          9Mi
        frontend-b589c6dc-cgjdv          189m         11Mi
        movieid-7dd8b87c4-7m7dj          2m           174Mi
        movieinfo-55d4948494-p426r       102m         195Mi
        moviereviews-7d747bcb8-7gh25     237m         21Mi
        page-5596d95cd5-kzld8            233m         105Mi
        plot-689d748ccf-hdw9v            6m           317Mi
        reviewstorage-7b5bb4ff77-4mlq5   60m          13Mi
        ubuntu-client-76886f6bbd-kvxgd   244m         100Mi
        uniqueid-6857f56d96-4vxnf        8m           8Mi
        user-544897d57c-9cxtx            4m           8Mi
        userreviews-586d9bb7fd-2tl2d     3m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.436473, 15.338438, 15.618013, 15.921912, 16.100925, 16.238472, 16.338444, 16.250937]
    [exp] Throughput: 1257.4304907749633
[test.py] Finished running 6th optmization experiment: groundtruth->1685.7221222150015, slowdown->1257.4304907749633, predicted->1627.989496677112, err->-3.424800848079884
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-k4xbq:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:04:36.150934Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   511.09ms  226.92ms   1.32s    75.74%
        Req/Sec   199.25     75.81   390.00     71.93%
        Latency Distribution
        50%  540.23ms
        75%  638.72ms
        90%  752.16ms
        99%    1.01s
        4587 requests in 3.04s, 349.40KB read
        Requests/sec:   1508.79
        Transfer/sec:    114.93KB
        [run.sh] Speed is 1508.79, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   599.60ms  241.49ms   1.62s    78.61%
        Req/Sec   203.60     65.42   585.00     72.26%
        Latency Distribution
        50%  640.35ms
        75%  733.18ms
        90%  833.17ms
        99%    1.10s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.764854
        stop time: 11.972998
        stop time: 12.164023
        stop time: 12.416538
        stop time: 12.509170
        stop time: 12.697348
        stop time: 12.763585
        stop time: 12.817873
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-xw5g4        192m         60Mi
        composereview-676886854c-h4sl9   429m         9Mi
        frontend-67bcc5d87b-9bfxh        412m         9Mi
        movieid-6b7485b65-kp48z          33m          177Mi
        movieinfo-969fd9977-sjxz2        94m          218Mi
        moviereviews-9ff484c88-szzp5     1614m        20Mi
        page-6597cb4c54-dvknr            1882m        87Mi
        plot-5464fccfdd-hbq72            303m         146Mi
        reviewstorage-86dd5ff9b9-625st   188m         14Mi
        ubuntu-client-76886f6bbd-k4xbq   804m         98Mi
        uniqueid-5987bc8cf9-v7dv9        35m          7Mi
        user-6776c48774-7svkn            58m          8Mi
        userreviews-5d99989bf-jrght      41m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.764854, 11.972998, 12.164023, 12.416538, 12.50917, 12.697348, 12.763585, 12.817873]
    [exp] Throughput: 1614.4266945292495
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '27150285', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '27152691', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '27152691', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '27146430', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '27150285', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '27150285', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '27150285'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-zfp5h:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:06:24.857080Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   575.87ms  348.69ms   1.62s    66.24%
        Req/Sec   145.87     79.99   380.00     67.39%
        Latency Distribution
        50%  491.51ms
        75%  871.30ms
        90%    1.01s
        99%    1.38s
        3412 requests in 3.04s, 259.90KB read
        Requests/sec:   1123.66
        Transfer/sec:     85.59KB
        [run.sh] Speed is 1123.66, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   747.80ms  272.05ms   1.56s    81.58%
        Req/Sec   167.94     67.62   555.00     70.71%
        Latency Distribution
        50%  808.75ms
        75%  898.17ms
        90%  983.21ms
        99%    1.17s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.852596
        stop time: 15.086211
        stop time: 14.903915
        stop time: 15.061292
        stop time: 14.904686
        stop time: 15.014411
        stop time: 15.293362
        stop time: 15.196078
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        castinfo-67b668fd89-98stj   7m           104Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.852596, 15.086211, 14.903915, 15.061292, 14.904686, 15.014411, 15.293362, 15.196078]
    [exp] Throughput: 1329.869566143602
[test.py] Finished running 7th optmization experiment: groundtruth->1614.4266945292495, slowdown->1329.869566143602, predicted->1622.8762294084027, err->0.5233768066265116
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-f2vsg:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:08:13.644924Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   554.43ms  257.81ms   1.45s    75.84%
        Req/Sec   185.95     76.26   390.00     72.00%
        Latency Distribution
        50%  577.76ms
        75%  702.08ms
        90%  832.93ms
        99%    1.15s
        4231 requests in 3.04s, 322.28KB read
        Requests/sec:   1392.86
        Transfer/sec:    106.10KB
        [run.sh] Speed is 1392.86, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   673.36ms  260.28ms   1.54s    80.86%
        Req/Sec   187.02     59.66   390.00     71.54%
        Latency Distribution
        50%  726.41ms
        75%  821.06ms
        90%  910.76ms
        99%    1.12s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 13.350439
        stop time: 13.331594
        stop time: 13.545513
        stop time: 13.635883
        stop time: 13.630404
        stop time: 13.655491
        stop time: 13.808872
        stop time: 13.585375
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-89znb        1m           105Mi
        composereview-676886854c-4h7v4   1m           3Mi
        frontend-67bcc5d87b-qb2kh        7m           3Mi
        movieid-6b7485b65-9j8vc          1m           186Mi
        movieinfo-969fd9977-wn4x4        7m           176Mi
        moviereviews-796664ffff-lmtzr    7m           3Mi
        page-6597cb4c54-4288p            7m           3Mi
        plot-5464fccfdd-rqsk2            7m           254Mi
        reviewstorage-86dd5ff9b9-rb7jl   7m           3Mi
        ubuntu-client-76886f6bbd-f2vsg   10m          0Mi
        uniqueid-5987bc8cf9-f4vrw        6m           3Mi
        user-6776c48774-hkvn4            7m           4Mi
        userreviews-5d99989bf-r76r4      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.350439, 13.331594, 13.545513, 13.635883, 13.630404, 13.655491, 13.808872, 13.585375]
    [exp] Throughput: 1474.0624297315592
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '18100186', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '18101791', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '18101791', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '18097617', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '18100186', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '18100186', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '18100186'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-75d86b564c-kfpqx cannot connect to page
        [run.sh] castinfo-75d86b564c-kfpqx cannot connect to page
        [run.sh] composereview-78f5864f8d-jnf2k cannot connect to page
        [run.sh] composereview-78f5864f8d-jnf2k cannot connect to page
        [run.sh] frontend-5b6c499d8c-qmgsc cannot connect to page
        [run.sh] movieid-68f6b455db-4tq59 cannot connect to page
        [run.sh] movieinfo-5889cf6fc9-57rjv cannot connect to page
        [run.sh] moviereviews-7d747bcb8-d84c8 cannot connect to page
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-rftqx:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:10:35.060073Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   622.20ms  309.29ms   1.63s    69.09%
        Req/Sec   152.95     71.84   590.00     66.81%
        Latency Distribution
        50%  634.96ms
        75%  851.02ms
        90%    1.00s
        99%    1.22s
        3546 requests in 3.04s, 270.11KB read
        Requests/sec:   1168.20
        Transfer/sec:     88.98KB
        [run.sh] Speed is 1168.20, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   699.78ms  259.86ms   1.33s    82.10%
        Req/Sec   175.62     68.97   590.00     70.84%
        Latency Distribution
        50%  765.82ms
        75%  849.59ms
        90%  920.02ms
        99%    1.08s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 13.829888
        stop time: 14.069933
        stop time: 14.222355
        stop time: 14.336304
        stop time: 14.553178
        stop time: 14.194508
        stop time: 14.716760
        stop time: 14.813696
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-75d86b564c-kfpqx        356m         61Mi
        composereview-78f5864f8d-jnf2k   334m         9Mi
        frontend-5b6c499d8c-qmgsc        415m         11Mi
        movieid-68f6b455db-4tq59         29m          177Mi
        movieinfo-5889cf6fc9-57rjv       220m         215Mi
        moviereviews-7d747bcb8-d84c8     1763m        21Mi
        page-556948688d-sdbdx            1629m        92Mi
        plot-55594c4d98-nbpnn            237m         146Mi
        reviewstorage-7f75d5dc64-bd4h7   129m         15Mi
        ubuntu-client-76886f6bbd-rftqx   736m         97Mi
        uniqueid-7446586f9d-h6rvr        33m          8Mi
        user-7b575d94f6-5h2pk            55m          8Mi
        userreviews-6864755664-4pbv7     39m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [13.829888, 14.069933, 14.222355, 14.336304, 14.553178, 14.194508, 14.71676, 14.813696]
    [exp] Throughput: 1394.4980879775248
[test.py] Finished running 8th optmization experiment: groundtruth->1474.0624297315592, slowdown->1394.4980879775248, predicted->1595.9274934286268, err->8.267293246138864
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-9ptsf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:12:24.225978Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   592.02ms  272.19ms   1.37s    73.22%
        Req/Sec   171.57     81.35   450.00     64.63%
        Latency Distribution
        50%  644.12ms
        75%  774.48ms
        90%  892.09ms
        99%    1.12s
        3955 requests in 3.03s, 301.26KB read
        Requests/sec:   1304.77
        Transfer/sec:     99.39KB
        [run.sh] Speed is 1304.77, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   608.99ms  235.07ms   1.36s    80.03%
        Req/Sec   199.33     63.61   470.00     73.65%
        Latency Distribution
        50%  669.72ms
        75%  744.09ms
        90%  816.02ms
        99%  974.47ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 11.927533
        stop time: 12.150905
        stop time: 12.293772
        stop time: 12.513389
        stop time: 12.676588
        stop time: 12.981319
        stop time: 13.109980
        stop time: 13.063507
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        reviewstorage-86dd5ff9b9-47972   3m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.927533, 12.150905, 12.293772, 12.513389, 12.676588, 12.981319, 13.10998, 13.063507]
    [exp] Throughput: 1588.6097790866331
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '9050088', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '9050890', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '9050890', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '9048803', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '9050088', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '9050088', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '9050088'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-qznzp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:14:12.206970Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   567.10ms  298.04ms   1.60s    68.70%
        Req/Sec   161.63     72.10   373.00     72.73%
        Latency Distribution
        50%  550.47ms
        75%  790.63ms
        90%  950.57ms
        99%    1.23s
        3757 requests in 3.03s, 286.18KB read
        Requests/sec:   1239.45
        Transfer/sec:     94.41KB
        [run.sh] Speed is 1239.45, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   659.40ms  245.60ms   1.67s    81.85%
        Req/Sec   187.15     63.56   660.00     73.69%
        Latency Distribution
        50%  721.37ms
        75%  795.39ms
        90%  864.30ms
        99%    1.06s
        20001 requests in 24.00s, 1.49MB read
        Requests/sec:    833.37
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 12.978421
        stop time: 13.248375
        stop time: 13.269463
        stop time: 13.278182
        stop time: 13.581819
        stop time: 13.738698
        stop time: 14.129869
        stop time: 14.037838
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-f465585bb-2cgph         1m           104Mi
        composereview-789db784cb-g7c58   1m           3Mi
        frontend-5b9df974f5-5ww2t        1m           3Mi
        movieid-677766ddf4-5wnff         1m           169Mi
        movieinfo-7977d44cc8-ctd7b       7m           176Mi
        moviereviews-7d747bcb8-c85rz     1m           3Mi
        page-b68995fdf-9wndb             1m           3Mi
        plot-cf87c6f47-hq52n             1m           253Mi
        reviewstorage-67456495bc-rrjd9   7m           3Mi
        ubuntu-client-76886f6bbd-qznzp   13m          2Mi
        uniqueid-75bbbddc64-9sd49        7m           3Mi
        user-6688d98d75-wgztw            7m           4Mi
        userreviews-7885cc7f8b-f6d55     7m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.978421, 13.248375, 13.269463, 13.278182, 13.581819, 13.738698, 14.129869, 14.037838]
    [exp] Throughput: 1477.8871368075042
[test.py] Finished running 9th optmization experiment: groundtruth->1588.6097790866331, slowdown->1477.8871368075042, predicted->1583.8142955103908, err->-0.301866678612507
[test.py] Baseline throughput:  1440.415333678559
[test.py] Groundtruth:  [1521.4631812518994, 1500.6003949073788, 1612.566586275855, 1665.9277236007667, 1628.473401451833, 1700.016438096446, 1685.7221222150015, 1614.4266945292495, 1474.0624297315592, 1588.6097790866331]
[test.py] Slowdown:  [897.2164733699759, 995.5602245117728, 990.4135152224452, 1044.3125780799064, 1124.7042238773247, 1224.081368054758, 1257.4304907749633, 1329.869566143602, 1394.4980879775248, 1477.8871368075042]
[test.py] Predicted:  [1510.543900117673, 1674.5676904530774, 1544.0599329096285, 1560.5829500092914, 1619.1824294225412, 1693.002324024583, 1627.989496677112, 1622.8762294084027, 1595.9274934286268, 1583.8142955103908]
[test.py] Error percentage:  [-0.717682903456244, 11.593179379140196, -4.2482991988838865, -6.323490034956692, -0.5705326240519923, -0.41259095586846184, -3.424800848079884, 0.5233768066265116, 8.267293246138864, -0.301866678612507]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-48hx5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:16:01.266051Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   603.01ms  240.97ms   1.06s    78.03%
        Req/Sec   171.94     76.85   393.00     67.98%
        Latency Distribution
        50%  661.24ms
        75%  758.29ms
        90%  836.57ms
        99%  978.72ms
        3942 requests in 3.04s, 300.27KB read
        Requests/sec:   1298.75
        Transfer/sec:     98.93KB
        [run.sh] Speed is 1298.75, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   629.88ms  229.34ms   1.59s    81.10%
        Req/Sec   190.52     61.88   470.00     75.43%
        Latency Distribution
        50%  698.89ms
        75%  746.73ms
        90%  806.82ms
        99%  980.66ms
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.544023
        stop time: 12.626123
        stop time: 13.079670
        stop time: 13.185500
        stop time: 13.372088
        stop time: 13.364668
        stop time: 13.774087
        stop time: 13.618350
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-qm69d        0m           148Mi
        composereview-676886854c-sh4dn   82m          9Mi
        frontend-67bcc5d87b-8kmj6        16m          10Mi
        movieid-6b7485b65-mvddm          11m          171Mi
        movieinfo-969fd9977-45g2k        0m           190Mi
        moviereviews-7d747bcb8-l577c     622m         19Mi
        page-6597cb4c54-sp56r            625m         105Mi
        plot-5464fccfdd-2xfrl            105m         300Mi
        reviewstorage-86dd5ff9b9-4xrd2   1m           11Mi
        ubuntu-client-76886f6bbd-48hx5   2m           64Mi
        uniqueid-5987bc8cf9-pqbxp        7m           7Mi
        user-6776c48774-dqng2            19m          8Mi
        userreviews-5d99989bf-p6mgx      12m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.544023, 12.626123, 13.07967, 13.1855, 13.372088, 13.364668, 13.774087, 13.61835]
    [exp] Throughput: 1515.6609121347783
[test.py] Baseline throughput: 1515.6609121347783
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-sckr9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:17:50.029019Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   508.52ms  264.50ms   1.37s    68.28%
        Req/Sec   184.63     87.98   550.00     73.25%
        Latency Distribution
        50%  489.68ms
        75%  712.89ms
        90%  840.34ms
        99%    1.09s
        4250 requests in 3.03s, 323.73KB read
        Requests/sec:   1403.04
        Transfer/sec:    106.87KB
        [run.sh] Speed is 1403.04, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.90ms  235.30ms   1.36s    80.07%
        Req/Sec   208.14     77.36   656.00     70.46%
        Latency Distribution
        50%  648.43ms
        75%  736.42ms
        90%  823.79ms
        99%  990.56ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.945445
        stop time: 11.894039
        stop time: 12.155289
        stop time: 11.990343
        stop time: 12.188165
        stop time: 12.514447
        stop time: 12.340852
        stop time: 12.472932
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-f629s        73m          62Mi
        composereview-676886854c-sgzlr   17m          9Mi
        frontend-67bcc5d87b-jc8tj        46m          10Mi
        movieid-6b7485b65-9bjcc          8m           173Mi
        movieinfo-969fd9977-j65qc        34m          210Mi
        moviereviews-58674f8fbc-ndp6m    178m         16Mi
        page-6597cb4c54-dlvzr            474m         94Mi
        plot-5464fccfdd-djrbp            110m         156Mi
        reviewstorage-86dd5ff9b9-spp4j   101m         10Mi
        ubuntu-client-76886f6bbd-sckr9   149m         100Mi
        uniqueid-5987bc8cf9-2zgtn        3m           7Mi
        user-6776c48774-4558k            16m          8Mi
        userreviews-5d99989bf-5vdcs      9m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.945445, 11.894039, 12.155289, 11.990343, 12.188165, 12.514447, 12.340852, 12.472932]
    [exp] Throughput: 1641.0001928995728
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '90508995', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '90500973', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '90500973', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '90500973', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '90508995', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '90508995', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '90508995', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '90488126', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '90500973', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '90500973', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '90500973'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-fnhvq:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:19:37.821853Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   742.89ms  395.23ms   1.87s    66.39%
        Req/Sec   101.11     80.87   414.00     71.62%
        Latency Distribution
        50%  619.07ms
        75%    1.04s
        90%    1.29s
        99%    1.79s
        2315 requests in 3.03s, 176.34KB read
        Requests/sec:    764.06
        Transfer/sec:     58.20KB
        [run.sh] Speed is 764.06, duration is 39
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d39s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-78d5df9844-csw46        230m         63Mi
        composereview-65766f57d7-5ql4f   152m         11Mi
        frontend-69d99cb6f6-qxxqw        175m         13Mi
        movieid-58c4ddf749-jchb2         17m          175Mi
        movieinfo-7957d4d8c6-vf9m5       125m         223Mi
        moviereviews-7d747bcb8-vj82b     1166m        21Mi
        page-6bc885bb9f-zrhxg            1081m        100Mi
        plot-7d7d746b69-jpzgz            178m         148Mi
        reviewstorage-9bf77c5cc-fvdw6    128m         15Mi
        ubuntu-client-76886f6bbd-fnhvq   515m         109Mi
        uniqueid-5fcf4d5c5c-9h9q6        20m          8Mi
        user-685fb89896-869l6            32m          9Mi
        userreviews-848b56c699-xqsfb     25m          8Mi
        Running 39s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.05s   360.24ms   2.06s    77.81%
        Req/Sec   116.90     74.82   484.00     63.43%
        Latency Distribution
        50%    1.13s
        75%    1.28s
        90%    1.37s
        99%    1.60s
        20000 requests in 39.00s, 1.49MB read
        Requests/sec:    512.82
        Transfer/sec:     39.06KB
        ------------------------------
        stop time: 20.600870
        stop time: 20.950561
        stop time: 20.993012
        stop time: 21.790732
        stop time: 21.802936
        stop time: 22.004400
        stop time: 22.167034
        stop time: 22.328069
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.60087, 20.950561, 20.993012, 21.790732, 21.802936, 22.0044, 22.167034, 22.328069]
    [exp] Throughput: 926.7968682653365
[test.py] Finished running 0th optmization experiment: groundtruth->1641.0001928995728, slowdown->926.7968682653365, predicted->1596.3219164601649, err->-2.7226246914976544
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-v58xr:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:21:35.559837Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   518.70ms  294.41ms   1.65s    70.72%
        Req/Sec   181.92     85.83   535.00     65.18%
        Latency Distribution
        50%  507.19ms
        75%  718.79ms
        90%  882.52ms
        99%    1.28s
        4173 requests in 3.03s, 317.87KB read
        Requests/sec:   1377.39
        Transfer/sec:    104.92KB
        [run.sh] Speed is 1377.39, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.85ms  235.91ms   1.35s    80.08%
        Req/Sec   208.28     75.41   820.00     72.61%
        Latency Distribution
        50%  646.47ms
        75%  734.70ms
        90%  825.27ms
        99%  999.01ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.026256
        stop time: 12.093724
        stop time: 12.228531
        stop time: 12.206098
        stop time: 12.280798
        stop time: 12.318331
        stop time: 12.146205
        stop time: 12.316068
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-hp8bk        344m         61Mi
        composereview-676886854c-4dbcj   234m         9Mi
        frontend-67bcc5d87b-65bgd        435m         9Mi
        movieid-6b7485b65-w4rvg          16m          178Mi
        movieinfo-969fd9977-787nm        205m         219Mi
        moviereviews-7c774d8d5d-9z9dv    417m         17Mi
        page-6597cb4c54-k2b4b            773m         83Mi
        plot-5464fccfdd-2n8wx            299m         146Mi
        reviewstorage-86dd5ff9b9-5fhgz   309m         13Mi
        ubuntu-client-76886f6bbd-v58xr   777m         97Mi
        uniqueid-5987bc8cf9-bm2xz        23m          8Mi
        user-6776c48774-8j7pk            34m          8Mi
        userreviews-5d99989bf-t5sq8      19m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.026256, 12.093724, 12.228531, 12.206098, 12.280798, 12.318331, 12.146205, 12.316068]
    [exp] Throughput: 1639.0753766818027
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '81458094', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '81450875', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '81450875', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '81450875', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '81458094', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '81458094', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '81458094', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '81439312', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '81450875', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '81450875', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '81450875'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kk587:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:23:24.617953Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   763.85ms  313.14ms   1.65s    64.63%
        Req/Sec   113.08     69.91   380.00     69.57%
        Latency Distribution
        50%  767.32ms
        75%    1.01s
        90%    1.18s
        99%    1.39s
        2655 requests in 3.04s, 202.24KB read
        Requests/sec:    874.48
        Transfer/sec:     66.61KB
        [run.sh] Speed is 874.48, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                            CPU(cores)   MEMORY(bytes)
        composereview-59ddc8886-lhnfb   7m           3Mi
        movieid-75b9864856-gv84d        7m           185Mi
        moviereviews-7d747bcb8-dvtqr    8m           3Mi
        page-bb976d9bf-fl877            7m           3Mi
        user-7955fdf64f-9nq6g           1m           4Mi
        userreviews-78db54b748-z2bp4    1m           3Mi
        Running 34s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.04s   346.20ms   1.97s    79.64%
        Req/Sec   120.57     78.21   640.00     60.82%
        Latency Distribution
        50%    1.12s
        75%    1.24s
        90%    1.36s
        99%    1.56s
        20000 requests in 34.00s, 1.49MB read
        Requests/sec:    588.23
        Transfer/sec:     44.81KB
        ------------------------------
        stop time: 20.659930
        stop time: 20.732159
        stop time: 20.900693
        stop time: 20.876737
        stop time: 21.085266
        stop time: 21.286720
        stop time: 21.283870
        stop time: 21.301178
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.65993, 20.732159, 20.900693, 20.876737, 21.085266, 21.28672, 21.28387, 21.301178]
    [exp] Throughput: 951.6640717662248
[test.py] Finished running 1th optmization experiment: groundtruth->1639.0753766818027, slowdown->951.6640717662248, predicted->1554.0005080517478, err->-5.19041832000937
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-dndwz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:25:16.111922Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.50ms  243.05ms   1.32s    74.54%
        Req/Sec   183.93     72.13   360.00     67.58%
        Latency Distribution
        50%  587.42ms
        75%  704.79ms
        90%  825.32ms
        99%    1.03s
        4214 requests in 3.03s, 320.99KB read
        Requests/sec:   1388.59
        Transfer/sec:    105.77KB
        [run.sh] Speed is 1388.59, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   601.31ms  244.88ms   1.48s    77.93%
        Req/Sec   205.15     71.90   630.00     71.09%
        Latency Distribution
        50%  647.69ms
        75%  747.20ms
        90%  844.33ms
        99%    1.04s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.756324
        stop time: 12.023610
        stop time: 12.092659
        stop time: 12.652244
        stop time: 12.678546
        stop time: 12.555083
        stop time: 12.910225
        stop time: 12.313916
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-tcwvb        1m           104Mi
        composereview-676886854c-m4lnk   1m           3Mi
        frontend-67bcc5d87b-n5k9c        1m           3Mi
        movieid-6b7485b65-nktdn          1m           169Mi
        movieinfo-969fd9977-kmzw4        7m           176Mi
        moviereviews-885dd8fb5-zw9mt     7m           3Mi
        page-6597cb4c54-rdgfs            7m           3Mi
        plot-5464fccfdd-8th6c            7m           253Mi
        reviewstorage-86dd5ff9b9-8xzn8   7m           3Mi
        ubuntu-client-76886f6bbd-dndwz   13m          0Mi
        uniqueid-5987bc8cf9-rp6hl        7m           3Mi
        user-6776c48774-qxkmt            7m           4Mi
        userreviews-5d99989bf-89kw9      6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.756324, 12.02361, 12.092659, 12.652244, 12.678546, 12.555083, 12.910225, 12.313916]
    [exp] Throughput: 1616.445604428261
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '72407194', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '72400776', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '72400776', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '72400776', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '72407194', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '72407194', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '72407194', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '72390499', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '72400776', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '72400776', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '72400776'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kr4zk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:27:03.836277Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   713.58ms  337.07ms   1.70s    62.51%
        Req/Sec   118.22     74.81   360.00     64.35%
        Latency Distribution
        50%  697.14ms
        75%  996.60ms
        90%    1.12s
        99%    1.54s
        2729 requests in 3.03s, 207.87KB read
        Requests/sec:    900.08
        Transfer/sec:     68.56KB
        [run.sh] Speed is 900.08, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-85dbf688cb-fxwm2        24m          146Mi
        composereview-7b96f498fd-tpj55   59m          10Mi
        frontend-848bd69f85-g59w2        30m          12Mi
        movieid-f5d67bb96-dk9d4          1m           171Mi
        movieinfo-6878b44448-2gsb8       14m          190Mi
        moviereviews-7d747bcb8-mmf77     1m           20Mi
        page-69d444f9bc-qgjvf            1m           87Mi
        plot-659f84fb7c-rx4dw            1m           297Mi
        reviewstorage-5bc8557db6-4595t   1m           13Mi
        ubuntu-client-76886f6bbd-kr4zk   3m           58Mi
        uniqueid-b74fbfd54-fnhrd         8m           8Mi
        user-6d4d4c8c-lrgbj              16m          9Mi
        userreviews-69f8cb75f6-7vjnb     11m          6Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   960.28ms  326.17ms   1.80s    79.94%
        Req/Sec   130.99     76.71   690.00     63.94%
        Latency Distribution
        50%    1.03s
        75%    1.15s
        90%    1.26s
        99%    1.47s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 19.146988
        stop time: 19.255190
        stop time: 19.133528
        stop time: 19.268772
        stop time: 19.262397
        stop time: 19.264067
        stop time: 19.584262
        stop time: 19.755802
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.146988, 19.25519, 19.133528, 19.268772, 19.262397, 19.264067, 19.584262, 19.755802]
    [exp] Throughput: 1034.4537359510032
[test.py] Finished running 2th optmization experiment: groundtruth->1616.445604428261, slowdown->1034.4537359510032, predicted->1653.8280903273833, err->2.3126349440224105
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-2bjbk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:28:55.331880Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   501.91ms  260.15ms   1.24s    68.73%
        Req/Sec   183.00     85.90   450.00     67.67%
        Latency Distribution
        50%  528.59ms
        75%  679.15ms
        90%  821.16ms
        99%    1.10s
        4263 requests in 3.03s, 324.72KB read
        Requests/sec:   1405.05
        Transfer/sec:    107.03KB
        [run.sh] Speed is 1405.05, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   585.30ms  233.72ms   1.30s    78.87%
        Req/Sec   208.66     73.13   480.00     70.64%
        Latency Distribution
        50%  630.77ms
        75%  718.14ms
        90%  805.85ms
        99%    1.02s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.731576
        stop time: 11.460940
        stop time: 11.818465
        stop time: 12.184004
        stop time: 12.329761
        stop time: 12.229153
        stop time: 12.436396
        stop time: 12.500580
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-tdfmj        136m         155Mi
        composereview-676886854c-sm65w   32m          10Mi
        frontend-67bcc5d87b-4bj7p        117m         10Mi
        movieid-6b7485b65-d82nc          10m          172Mi
        movieinfo-969fd9977-fxmbq        76m          195Mi
        moviereviews-984fc9976-v2bs8     374m         16Mi
        page-6597cb4c54-mdc6g            644m         90Mi
        plot-5464fccfdd-j25kq            108m         295Mi
        reviewstorage-86dd5ff9b9-4kpdt   96m          10Mi
        ubuntu-client-76886f6bbd-2bjbk   281m         60Mi
        uniqueid-5987bc8cf9-4bsms        5m           7Mi
        user-6776c48774-c9ckd            23m          7Mi
        userreviews-5d99989bf-gznwt      12m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.731576, 11.46094, 11.818465, 12.184004, 12.329761, 12.229153, 12.436396, 12.50058]
    [exp] Throughput: 1654.7580110325819
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '63356293', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '63350678', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '63350678', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '63350678', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '63356293', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '63356293', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '63356293', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '63341685', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '63350678', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '63350678', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '63350678'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kqtqx:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:30:43.428007Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   664.91ms  321.56ms   1.92s    69.32%
        Req/Sec   123.31     78.82   410.00     68.26%
        Latency Distribution
        50%  673.55ms
        75%  876.52ms
        90%    1.06s
        99%    1.54s
        2924 requests in 3.03s, 222.73KB read
        Requests/sec:    965.31
        Transfer/sec:     73.53KB
        [run.sh] Speed is 965.31, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-75c45b57b7-4grxd        260m         61Mi
        composereview-64fd84b746-j7f28   27m          10Mi
        frontend-99b84877-trfn4          220m         11Mi
        movieid-f7d5879f6-8xqmc          6m           174Mi
        movieinfo-5b65986bc-gf45v        152m         211Mi
        moviereviews-7d747bcb8-hl45w     504m         21Mi
        page-7787fd4cc6-rp6qf            535m         107Mi
        plot-84557c5f7d-fgtfp            93m          315Mi
        reviewstorage-7597d56d9c-d45t9   108m         14Mi
        ubuntu-client-76886f6bbd-kqtqx   444m         103Mi
        uniqueid-595cd5fb9d-95ntx        24m          8Mi
        user-559bb6df85-gsqc4            14m          9Mi
        userreviews-85689fc996-7tgwz     9m           7Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   914.52ms  317.64ms   2.04s    80.57%
        Req/Sec   136.45     75.49   740.00     66.09%
        Latency Distribution
        50%  982.36ms
        75%    1.10s
        90%    1.19s
        99%    1.39s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 17.831038
        stop time: 18.409265
        stop time: 18.032876
        stop time: 18.551908
        stop time: 18.961769
        stop time: 18.843824
        stop time: 18.883328
        stop time: 19.035344
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.831038, 18.409265, 18.032876, 18.551908, 18.961769, 18.843824, 18.883328, 19.035344]
    [exp] Throughput: 1077.083123189928
[test.py] Finished running 3th optmization experiment: groundtruth->1654.7580110325819, slowdown->1077.083123189928, predicted->1634.916768289797, err->-1.1990419511795494
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-2bd85:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:32:33.269066Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   528.13ms  235.59ms   1.14s    74.08%
        Req/Sec   195.03     78.71   420.00     70.61%
        Latency Distribution
        50%  578.14ms
        75%  691.07ms
        90%  780.83ms
        99%  964.45ms
        4476 requests in 3.04s, 340.95KB read
        Requests/sec:   1474.15
        Transfer/sec:    112.29KB
        [run.sh] Speed is 1474.15, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   586.55ms  257.85ms   1.48s    73.99%
        Req/Sec   205.71     78.26   606.00     73.20%
        Latency Distribution
        50%  630.76ms
        75%  741.50ms
        90%  860.28ms
        99%    1.10s
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.411548
        stop time: 11.755484
        stop time: 12.071521
        stop time: 12.388753
        stop time: 12.467032
        stop time: 12.639467
        stop time: 12.619221
        stop time: 12.645243
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-2zvx2        118m         62Mi
        composereview-676886854c-lzhp4   397m         9Mi
        frontend-67bcc5d87b-ghhzb        125m         10Mi
        movieid-6b7485b65-dz6vr          30m          177Mi
        movieinfo-969fd9977-lhls8        64m          213Mi
        moviereviews-76756dc775-2gqv5    1020m        18Mi
        page-6597cb4c54-48qfm            1486m        73Mi
        plot-5464fccfdd-wvf96            235m         155Mi
        reviewstorage-86dd5ff9b9-nd978   156m         12Mi
        ubuntu-client-76886f6bbd-2bd85   407m         75Mi
        uniqueid-5987bc8cf9-5txxp        34m          7Mi
        user-6776c48774-724l6            67m          8Mi
        userreviews-5d99989bf-r7rvz      38m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.411548, 11.755484, 12.071521, 12.388753, 12.467032, 12.639467, 12.619221, 12.645243]
    [exp] Throughput: 1632.681899718045
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '54305393', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '54300580', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '54300580', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '54300580', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '54305393', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '54305393', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '54305393', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '54292871', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '54300580', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '54300580', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '54300580'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-sw6gv:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:34:21.352883Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   736.84ms  308.82ms   1.63s    70.81%
        Req/Sec   127.95     67.46   340.00     68.26%
        Latency Distribution
        50%  806.57ms
        75%  948.46ms
        90%    1.08s
        99%    1.29s
        2953 requests in 3.04s, 224.94KB read
        Requests/sec:    971.03
        Transfer/sec:     73.96KB
        [run.sh] Speed is 971.03, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5bc58d7bb9-8j8vw        1m           105Mi
        frontend-6d776c8b9c-hf2tj        6m           3Mi
        movieinfo-64ccdb5f97-qn62l       7m           176Mi
        reviewstorage-6dcf65bfd5-kxdgf   2m           3Mi
        ubuntu-client-76886f6bbd-sw6gv   0m           0Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   888.40ms  301.61ms   1.83s    81.96%
        Req/Sec   139.81     66.14   474.00     66.64%
        Latency Distribution
        50%  958.76ms
        75%    1.06s
        90%    1.14s
        99%    1.32s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 17.582666
        stop time: 18.085387
        stop time: 18.292665
        stop time: 18.079832
        stop time: 18.215325
        stop time: 18.387920
        stop time: 17.781525
        stop time: 17.944977
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.582666, 18.085387, 18.292665, 18.079832, 18.215325, 18.38792, 17.781525, 17.944977]
    [exp] Throughput: 1108.2612097140727
[test.py] Finished running 4th optmization experiment: groundtruth->1632.681899718045, slowdown->1108.2612097140727, predicted->1585.320337412263, err->-2.9008444519389385
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] castinfo-56549f7689-lzjpd cannot connect to userreviews
        [run.sh] castinfo-56549f7689-lzjpd cannot connect to userreviews
        [run.sh] frontend-67bcc5d87b-rqs2v cannot connect to userreviews
        [run.sh] movieid-6b7485b65-qrmnr cannot connect to userreviews
        [run.sh] movieinfo-969fd9977-z5q28 cannot connect to userreviews
        [run.sh] moviereviews-77ddc5f47d-nn6cn cannot connect to userreviews
        [run.sh] page-6597cb4c54-tkppd cannot connect to userreviews
        [run.sh] plot-5464fccfdd-zzbrq cannot connect to userreviews
        [run.sh] reviewstorage-86dd5ff9b9-ktkfh cannot connect to userreviews
        [run.sh] ubuntu-client-76886f6bbd-94qfd cannot connect to userreviews
        [run.sh] uniqueid-5987bc8cf9-s7565 cannot connect to userreviews
        [run.sh] user-6776c48774-vs9p6 cannot connect to userreviews
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-94qfd:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:37:56.916775Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   563.00ms  253.65ms   1.40s    75.31%
        Req/Sec   187.08     83.48   444.00     66.81%
        Latency Distribution
        50%  600.76ms
        75%  714.68ms
        90%  846.70ms
        99%    1.08s
        4269 requests in 3.03s, 325.18KB read
        Requests/sec:   1410.06
        Transfer/sec:    107.41KB
        [run.sh] Speed is 1410.06, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   593.75ms  240.41ms   1.44s    78.26%
        Req/Sec   206.21     72.86   490.00     68.80%
        Latency Distribution
        50%  640.51ms
        75%  733.14ms
        90%  823.83ms
        99%    1.03s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.739397
        stop time: 11.906616
        stop time: 11.951924
        stop time: 12.049507
        stop time: 12.455681
        stop time: 12.606280
        stop time: 12.641574
        stop time: 12.641594
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-lzjpd        43m          108Mi
        composereview-676886854c-5w2kj   104m         9Mi
        frontend-67bcc5d87b-rqs2v        67m          10Mi
        movieid-6b7485b65-qrmnr          11m          172Mi
        movieinfo-969fd9977-z5q28        24m          190Mi
        moviereviews-77ddc5f47d-nn6cn    444m         16Mi
        page-6597cb4c54-tkppd            640m         78Mi
        plot-5464fccfdd-zzbrq            101m         255Mi
        reviewstorage-86dd5ff9b9-ktkfh   94m          10Mi
        ubuntu-client-76886f6bbd-94qfd   282m         67Mi
        uniqueid-5987bc8cf9-s7565        11m          8Mi
        user-6776c48774-vs9p6            25m          7Mi
        userreviews-5d99989bf-pn4fx      12m          6Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > curl: (28) Connection timed out after 1002 milliseconds
        > command terminated with exit code 28
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [11.739397, 11.906616, 11.951924, 12.049507, 12.455681, 12.60628, 12.641574, 12.641594]
    [exp] Throughput: 1632.7768023807273
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '45250481', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '45250481', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '45254492', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '45254492', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '45254492', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '45244058', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '45250481', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '45250481', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '45250481'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-52gcp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:39:45.107059Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   662.74ms  328.13ms   1.68s    66.02%
        Req/Sec   134.76     77.97   404.00     72.73%
        Latency Distribution
        50%  655.94ms
        75%  918.25ms
        90%    1.06s
        99%    1.37s
        3122 requests in 3.04s, 237.81KB read
        Requests/sec:   1026.26
        Transfer/sec:     78.17KB
        [run.sh] Speed is 1026.26, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   827.39ms  298.57ms   1.71s    80.45%
        Req/Sec   148.58     66.01   454.00     68.53%
        Latency Distribution
        50%  901.31ms
        75%    1.00s
        90%    1.09s
        99%    1.26s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.326026
        stop time: 16.331612
        stop time: 16.654593
        stop time: 16.978146
        stop time: 17.182914
        stop time: 17.328906
        stop time: 17.408507
        stop time: 17.470323
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-57bb66cd84-2582v        12m          60Mi
        composereview-595c769599-z59d5   50m          10Mi
        frontend-85d665c6d8-65r27        18m          11Mi
        movieid-59dc6c45df-n65zj         8m           175Mi
        movieinfo-797799db5b-tmdt5       0m           218Mi
        moviereviews-7d747bcb8-55d8w     776m         21Mi
        page-694c4ff57f-l9k7r            780m         105Mi
        plot-6df557f6f-lp6xx             133m         313Mi
        reviewstorage-5798f8d4f7-dvnd9   140m         14Mi
        ubuntu-client-76886f6bbd-52gcp   491m         102Mi
        uniqueid-b869b8945-whqbs         6m           8Mi
        user-559d8cc4dd-bpwjp            19m          8Mi
        userreviews-8bfb744dc-fzjtj      11m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.326026, 16.331612, 16.654593, 16.978146, 17.182914, 17.328906, 17.408507, 17.470323]
    [exp] Throughput: 1179.2363570479165
[test.py] Finished running 5th optmization experiment: groundtruth->1632.7768023807273, slowdown->1179.2363570479165, predicted->1608.4051239773314, err->-1.4926521719233095
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7nph2:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:41:34.256924Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   530.39ms  248.55ms   1.07s    72.52%
        Req/Sec   185.20     84.12   420.00     64.63%
        Latency Distribution
        50%  581.59ms
        75%  711.39ms
        90%  801.85ms
        99%  945.19ms
        4268 requests in 3.03s, 325.10KB read
        Requests/sec:   1408.15
        Transfer/sec:    107.26KB
        [run.sh] Speed is 1408.15, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   600.60ms  227.57ms   1.28s    81.11%
        Req/Sec   208.02     68.13   450.00     72.59%
        Latency Distribution
        50%  641.79ms
        75%  728.31ms
        90%  811.31ms
        99%  995.62ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.925587
        stop time: 12.172482
        stop time: 12.121729
        stop time: 12.044326
        stop time: 12.127791
        stop time: 12.272962
        stop time: 12.442223
        stop time: 12.138182
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-84r7h        394m         62Mi
        composereview-676886854c-2ncr7   332m         9Mi
        frontend-67bcc5d87b-jhhwf        548m         9Mi
        movieid-6b7485b65-hd4sh          25m          177Mi
        movieinfo-969fd9977-ptqnj        247m         210Mi
        moviereviews-85554db99c-plrcj    880m         19Mi
        page-6597cb4c54-7858x            1009m        93Mi
        plot-5464fccfdd-59zw4            170m         155Mi
        reviewstorage-86dd5ff9b9-55zxq   92m          13Mi
        ubuntu-client-76886f6bbd-7nph2   316m         99Mi
        uniqueid-5987bc8cf9-xxwrw        31m          8Mi
        user-6776c48774-fmpvq            53m          8Mi
        userreviews-5d99989bf-4ptqr      28m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.925587, 12.172482, 12.121729, 12.044326, 12.127791, 12.272962, 12.442223, 12.138182]
    [exp] Throughput: 1645.3240374170543
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '36200383', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '36200383', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '36203592', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '36203592', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '36203592', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '36195244', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '36200383', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '36200383', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '36200383'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-9dq6g:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:43:21.913122Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   558.95ms  322.14ms   1.68s    69.18%
        Req/Sec   140.88     75.10   333.00     67.37%
        Latency Distribution
        50%  512.94ms
        75%  817.79ms
        90%  971.23ms
        99%    1.41s
        3323 requests in 3.03s, 253.12KB read
        Requests/sec:   1096.71
        Transfer/sec:     83.54KB
        [run.sh] Speed is 1096.71, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   783.77ms  282.92ms   1.52s    81.30%
        Req/Sec   159.62     60.68   515.00     69.90%
        Latency Distribution
        50%  846.07ms
        75%  940.90ms
        90%    1.03s
        99%    1.24s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 15.319350
        stop time: 15.513228
        stop time: 15.935625
        stop time: 15.970448
        stop time: 15.967625
        stop time: 15.687592
        stop time: 16.212688
        stop time: 15.941607
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        movieid-7dd8b87c4-7rm44          87m          169Mi
        moviereviews-7d747bcb8-jzr9p     7m           3Mi
        page-5596d95cd5-t6v65            7m           3Mi
        plot-689d748ccf-wljsb            7m           252Mi
        reviewstorage-7b5bb4ff77-dkrrw   7m           3Mi
        ubuntu-client-76886f6bbd-9dq6g   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.31935, 15.513228, 15.935625, 15.970448, 15.967625, 15.687592, 16.212688, 15.941607]
    [exp] Throughput: 1264.3407553849675
[test.py] Finished running 6th optmization experiment: groundtruth->1645.3240374170543, slowdown->1264.3407553849675, predicted->1639.5915221847554, err->-0.34841253770888025
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-lzlcp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:45:10.089145Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.05ms  246.15ms   1.20s    65.90%
        Req/Sec   184.49     79.47   444.00     70.26%
        Latency Distribution
        50%  455.17ms
        75%  645.10ms
        90%  750.46ms
        99%  955.29ms
        4290 requests in 3.03s, 326.78KB read
        Requests/sec:   1416.75
        Transfer/sec:    107.92KB
        [run.sh] Speed is 1416.75, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   604.29ms  230.13ms   1.46s    81.01%
        Req/Sec   203.84     65.96   480.00     71.94%
        Latency Distribution
        50%  652.79ms
        75%  735.98ms
        90%  813.61ms
        99%  969.07ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.972864
        stop time: 12.099564
        stop time: 12.200103
        stop time: 12.346390
        stop time: 12.459114
        stop time: 12.635334
        stop time: 12.455329
        stop time: 12.594443
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-58pm2        1m           104Mi
        composereview-676886854c-ldt2v   1m           3Mi
        frontend-67bcc5d87b-njkxz        1m           3Mi
        movieid-6b7485b65-vflns          1m           168Mi
        movieinfo-969fd9977-84xhz        1m           176Mi
        moviereviews-9ff484c88-lh2lf     1m           3Mi
        page-6597cb4c54-bxvkh            1m           3Mi
        plot-5464fccfdd-x2jw6            1m           252Mi
        reviewstorage-86dd5ff9b9-m2l8b   7m           3Mi
        ubuntu-client-76886f6bbd-lzlcp   2m           2Mi
        uniqueid-5987bc8cf9-d7rxh        7m           3Mi
        user-6776c48774-4sh7t            7m           4Mi
        userreviews-5d99989bf-g8djz      6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.972864, 12.099564, 12.200103, 12.34639, 12.459114, 12.635334, 12.455329, 12.594443]
    [exp] Throughput: 1620.0375806192717
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '27150285', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '27150285', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '27152691', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '27152691', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '27152691', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '27146430', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '27150285', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '27150285', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '27150285'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-628qc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:46:57.765952Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   594.38ms  302.54ms   1.53s    70.62%
        Req/Sec   149.69     69.06   373.00     63.60%
        Latency Distribution
        50%  610.39ms
        75%  814.99ms
        90%  955.95ms
        99%    1.29s
        3570 requests in 3.04s, 271.93KB read
        Requests/sec:   1175.28
        Transfer/sec:     89.52KB
        [run.sh] Speed is 1175.28, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   731.45ms  268.56ms   1.42s    80.45%
        Req/Sec   167.36     64.16   640.00     71.09%
        Latency Distribution
        50%  798.27ms
        75%  886.84ms
        90%  971.53ms
        99%    1.14s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 14.469397
        stop time: 14.472113
        stop time: 14.934141
        stop time: 15.182092
        stop time: 14.949842
        stop time: 15.579589
        stop time: 15.187635
        stop time: 15.819665
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-67b668fd89-jqml9        108m         151Mi
        composereview-7fcf67ff4d-rkv82   92m          10Mi
        frontend-559df5b59-7dq4c         107m         11Mi
        movieid-94cdc9dc8-5bfmt          10m          171Mi
        movieinfo-7cc4d6d9fc-nhltl       60m          192Mi
        moviereviews-7d747bcb8-ff7wf     585m         19Mi
        page-d8d6544b6-clvkz             549m         94Mi
        plot-7f7f57f688-ngc79            90m          289Mi
        reviewstorage-679dfd656b-dlqfk   17m          11Mi
        ubuntu-client-76886f6bbd-628qc   252m         61Mi
        uniqueid-6ffb674d8d-7s47p        11m          7Mi
        user-5444d854cc-ptqll            21m          7Mi
        userreviews-66cf44d7b6-fpbq7     14m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.469397, 14.472113, 14.934141, 15.182092, 14.949842, 15.579589, 15.187635, 15.819665]
    [exp] Throughput: 1326.7606275226176
[test.py] Finished running 7th optmization experiment: groundtruth->1620.0375806192717, slowdown->1326.7606275226176, predicted->1618.2487849558338, err->-0.11041692395519087
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-7hcpj:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:48:45.508964Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   523.32ms  265.32ms   1.45s    71.68%
        Req/Sec   180.90     85.04   420.00     65.95%
        Latency Distribution
        50%  552.16ms
        75%  704.51ms
        90%  829.24ms
        99%    1.16s
        4209 requests in 3.03s, 320.61KB read
        Requests/sec:   1387.43
        Transfer/sec:    105.68KB
        [run.sh] Speed is 1387.43, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   606.84ms  235.37ms   1.43s    79.50%
        Req/Sec   200.19     65.71   474.00     68.94%
        Latency Distribution
        50%  659.45ms
        75%  740.32ms
        90%  824.24ms
        99%    1.01s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.994968
        stop time: 12.176161
        stop time: 12.265785
        stop time: 12.522124
        stop time: 12.519148
        stop time: 12.864694
        stop time: 12.966401
        stop time: 13.000319
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-jxrvp        111m         61Mi
        composereview-676886854c-qrjdb   173m         9Mi
        frontend-67bcc5d87b-9gtd8        128m         10Mi
        movieid-6b7485b65-78mrx          17m          175Mi
        movieinfo-969fd9977-msfz7        61m          216Mi
        moviereviews-796664ffff-7tdqs    1414m        20Mi
        page-6597cb4c54-gnffs            1635m        110Mi
        plot-5464fccfdd-tb9bm            271m         146Mi
        reviewstorage-86dd5ff9b9-m2sjx   6m           13Mi
        ubuntu-client-76886f6bbd-7hcpj   751m         102Mi
        uniqueid-5987bc8cf9-9sjcr        14m          8Mi
        user-6776c48774-b4kcz            41m          8Mi
        userreviews-5d99989bf-rln9w      21m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.994968, 12.176161, 12.265785, 12.522124, 12.519148, 12.864694, 12.966401, 13.000319]
    [exp] Throughput: 1595.0616890108222
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '18100186', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '18100186', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '18101791', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '18101791', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '18101791', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '18097617', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '18100186', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '18100186', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '18100186'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-6jrjp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:50:33.107048Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.44ms  250.84ms   1.28s    66.88%
        Req/Sec   162.51     82.43   393.00     65.09%
        Latency Distribution
        50%  441.02ms
        75%  653.38ms
        90%  789.79ms
        99%  994.60ms
        3786 requests in 3.03s, 288.39KB read
        Requests/sec:   1249.95
        Transfer/sec:     95.21KB
        [run.sh] Speed is 1249.95, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   694.34ms  268.22ms   1.52s    78.00%
        Req/Sec   174.87     63.26   420.00     67.60%
        Latency Distribution
        50%  757.59ms
        75%  850.95ms
        90%  942.75ms
        99%    1.13s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.708736
        stop time: 13.939458
        stop time: 14.377351
        stop time: 14.312922
        stop time: 14.599127
        stop time: 14.732844
        stop time: 14.844425
        stop time: 14.778249
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-75d86b564c-nhq6r        301m         61Mi
        composereview-78f5864f8d-dhbg7   234m         9Mi
        frontend-5b6c499d8c-s4jx9        361m         10Mi
        movieid-68f6b455db-f7nrb         18m          177Mi
        movieinfo-5889cf6fc9-qn8m5       201m         218Mi
        moviereviews-7d747bcb8-2wjwl     659m         20Mi
        page-556948688d-cbrst            1662m        89Mi
        plot-55594c4d98-99gkw            96m          146Mi
        reviewstorage-7f75d5dc64-n7cpb   224m         14Mi
        ubuntu-client-76886f6bbd-6jrjp   729m         100Mi
        uniqueid-7446586f9d-5zwrg        28m          8Mi
        user-7b575d94f6-df672            37m          8Mi
        userreviews-6864755664-rvfxs     25m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.708736, 13.939458, 14.377351, 14.312922, 14.599127, 14.732844, 14.844425, 14.778249]
    [exp] Throughput: 1387.7672067694728
[test.py] Finished running 8th optmization experiment: groundtruth->1595.0616890108222, slowdown->1387.7672067694728, predicted->1587.1178220835943, err->-0.49802882120216074
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '10', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '10', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '10', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '10', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '10', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '10'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-f2zlb:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:52:24.312051Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   424.36ms  230.63ms   1.16s    67.35%
        Req/Sec   184.57     85.06   444.00     68.83%
        Latency Distribution
        50%  417.87ms
        75%  608.71ms
        90%  730.01ms
        99%  902.68ms
        4273 requests in 3.03s, 325.48KB read
        Requests/sec:   1411.24
        Transfer/sec:    107.50KB
        [run.sh] Speed is 1411.24, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   620.96ms  232.88ms   1.33s    81.37%
        Req/Sec   196.13     63.99   520.00     70.08%
        Latency Distribution
        50%  679.54ms
        75%  750.40ms
        90%  821.04ms
        99%  980.30ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.117915
        stop time: 12.540036
        stop time: 12.514348
        stop time: 12.779790
        stop time: 13.061690
        stop time: 12.966423
        stop time: 13.216582
        stop time: 13.390258
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-56549f7689-twnnr        6m           104Mi
        composereview-676886854c-p6dhz   6m           3Mi
        frontend-67bcc5d87b-sw4jl        7m           3Mi
        movieid-6b7485b65-bkw92          6m           169Mi
        movieinfo-969fd9977-2mtnn        16m          187Mi
        plot-5464fccfdd-6272c            7m           252Mi
        uniqueid-5987bc8cf9-t5whb        1m           3Mi
        user-6776c48774-xv4cb            1m           4Mi
        userreviews-5d99989bf-grm4l      1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.117915, 12.540036, 12.514348, 12.77979, 13.06169, 12.966423, 13.216582, 13.390258]
    [exp] Throughput: 1559.6511691993223
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '9050088', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '9050088', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '9050890', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '10', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '9050890', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '9050890', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '9048803', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '9050088', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '9050088', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '9050088'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-76886f6bbd-kfb7z:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-04-07T23:54:11.983030Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   454.97ms  253.28ms   1.30s    69.09%
        Req/Sec   174.16     80.97   444.00     69.23%
        Latency Distribution
        50%  451.82ms
        75%  648.95ms
        90%  785.34ms
        99%    1.02s
        4079 requests in 3.03s, 310.71KB read
        Requests/sec:   1346.41
        Transfer/sec:    102.56KB
        [run.sh] Speed is 1346.41, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   664.46ms  234.02ms   1.30s    83.83%
        Req/Sec   187.90     59.35   740.00     72.32%
        Latency Distribution
        50%  724.70ms
        75%  784.93ms
        90%  845.55ms
        99%  986.04ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.919934
        stop time: 13.309142
        stop time: 13.529853
        stop time: 13.446011
        stop time: 13.504637
        stop time: 13.320182
        stop time: 13.956343
        stop time: 13.332427
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-f465585bb-vwhvw         1m           104Mi
        composereview-789db784cb-drbgt   1m           3Mi
        frontend-5b9df974f5-n2p56        1m           3Mi
        movieid-677766ddf4-tg9xp         1m           169Mi
        movieinfo-7977d44cc8-fbz7q       1m           188Mi
        moviereviews-7d747bcb8-fltbf     7m           3Mi
        page-b68995fdf-hnqwn             7m           3Mi
        plot-cf87c6f47-mrv2f             7m           278Mi
        reviewstorage-67456495bc-xhpkn   7m           3Mi
        ubuntu-client-76886f6bbd-kfb7z   13m          2Mi
        uniqueid-75bbbddc64-vv64h        7m           3Mi
        user-6688d98d75-4cgbw            7m           4Mi
        userreviews-7885cc7f8b-lwl2c     6m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.919934, 13.309142, 13.529853, 13.446011, 13.504637, 13.320182, 13.956343, 13.332427]
    [exp] Throughput: 1490.8888659851086
[test.py] Finished running 9th optmization experiment: groundtruth->1559.6511691993223, slowdown->1490.8888659851086, predicted->1598.7560304943174, err->2.5072825300461474
[test.py] Baseline throughput:  1515.6609121347783
[test.py] Groundtruth:  [1641.0001928995728, 1639.0753766818027, 1616.445604428261, 1654.7580110325819, 1632.681899718045, 1632.7768023807273, 1645.3240374170543, 1620.0375806192717, 1595.0616890108222, 1559.6511691993223]
[test.py] Slowdown:  [926.7968682653365, 951.6640717662248, 1034.4537359510032, 1077.083123189928, 1108.2612097140727, 1179.2363570479165, 1264.3407553849675, 1326.7606275226176, 1387.7672067694728, 1490.8888659851086]
[test.py] Predicted:  [1596.3219164601649, 1554.0005080517478, 1653.8280903273833, 1634.916768289797, 1585.320337412263, 1608.4051239773314, 1639.5915221847554, 1618.2487849558338, 1587.1178220835943, 1598.7560304943174]
[test.py] Error percentage:  [-2.7226246914976544, -5.19041832000937, 2.3126349440224105, -1.1990419511795494, -2.9008444519389385, -1.4926521719233095, -0.34841253770888025, -0.11041692395519087, -0.49802882120216074, 2.5072825300461474]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1440.415333678559
    Groundtruth: [1521.4631812518994, 1500.6003949073788, 1612.566586275855, 1665.9277236007667, 1628.473401451833, 1700.016438096446, 1685.7221222150015, 1614.4266945292495, 1474.0624297315592, 1588.6097790866331]
    Slowdown:    [897.2164733699759, 995.5602245117728, 990.4135152224452, 1044.3125780799064, 1124.7042238773247, 1224.081368054758, 1257.4304907749633, 1329.869566143602, 1394.4980879775248, 1477.8871368075042]
    Predicted:   [1510.543900117673, 1674.5676904530774, 1544.0599329096285, 1560.5829500092914, 1619.1824294225412, 1693.002324024583, 1627.989496677112, 1622.8762294084027, 1595.9274934286268, 1583.8142955103908]
    Error Perc:  [-0.717682903456244, 11.593179379140196, -4.2482991988838865, -6.323490034956692, -0.5705326240519923, -0.41259095586846184, -3.424800848079884, 0.5233768066265116, 8.267293246138864, -0.301866678612507]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1515.6609121347783
    Groundtruth: [1641.0001928995728, 1639.0753766818027, 1616.445604428261, 1654.7580110325819, 1632.681899718045, 1632.7768023807273, 1645.3240374170543, 1620.0375806192717, 1595.0616890108222, 1559.6511691993223]
    Slowdown:    [926.7968682653365, 951.6640717662248, 1034.4537359510032, 1077.083123189928, 1108.2612097140727, 1179.2363570479165, 1264.3407553849675, 1326.7606275226176, 1387.7672067694728, 1490.8888659851086]
    Predicted:   [1596.3219164601649, 1554.0005080517478, 1653.8280903273833, 1634.916768289797, 1585.320337412263, 1608.4051239773314, 1639.5915221847554, 1618.2487849558338, 1587.1178220835943, 1598.7560304943174]
    Error Perc:  [-2.7226246914976544, -5.19041832000937, 2.3126349440224105, -1.1990419511795494, -2.9008444519389385, -1.4926521719233095, -0.34841253770888025, -0.11041692395519087, -0.49802882120216074, 2.5072825300461474]
