benchmark                        : social
num_threads                      : 4
num_conns                        : 128
target_service                   : hometimeline
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 2
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'composepost': 0.09979209979, 'hometimeline': 0.7005428505, 'poststorage': 0.9497747748, 'socialgraph': 0.09979209979, 'usertimeline': 0.4022002772}
baseline_service_processing_time : {'composepost': 0, 'hometimeline': 1000, 'poststorage': 0, 'socialgraph': 0, 'usertimeline': 0}
cpu_quota                        : {'composepost': 2, 'hometimeline': 2, 'poststorage': 2, 'socialgraph': 2, 'usertimeline': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 80000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '500.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-gcp7m:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:00:05.981810Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    97.50ms   89.44ms 635.56ms   60.85%
        Req/Sec   358.42    198.04   790.00     60.83%
        Latency Distribution
        50%  100.68ms
        75%  153.61ms
        90%  207.43ms
        99%  361.22ms
        4287 requests in 3.02s, 326.55KB read
        Requests/sec:   1420.57
        Transfer/sec:    108.21KB
        [run.sh] Speed is 1420.57, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    93.14ms   93.49ms 783.04ms   87.35%
        Req/Sec   368.27    179.00     1.03k    65.68%
        Latency Distribution
        50%   69.03ms
        75%  151.23ms
        90%  207.45ms
        99%  361.08ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 34.091354
        stop time: 34.216198
        stop time: 33.630806
        stop time: 34.253700
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
        > error: metrics not available yet
    [exp] Times: [34.091354, 34.216198, 33.630806, 34.2537]
    [exp] Throughput: 1468.5144121986907
[test.py] Baseline throughput: 1468.5144121986907
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-xxsln:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:02:03.081657Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    51.50ms   45.05ms 271.46ms   60.12%
        Req/Sec   693.58    116.67     1.02k    75.83%
        Latency Distribution
        50%   48.55ms
        75%   77.66ms
        90%  112.61ms
        99%  186.35ms
        8287 requests in 3.02s, 631.24KB read
        Requests/sec:   2741.91
        Transfer/sec:    208.86KB
        [run.sh] Speed is 2741.91, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    47.87ms   45.39ms 357.06ms   84.47%
        Req/Sec   705.30    107.26     1.02k    70.70%
        Latency Distribution
        50%   39.18ms
        75%   75.83ms
        90%  109.27ms
        99%  187.70ms
        50001 requests in 27.00s, 3.72MB read
        Requests/sec:   1851.88
        Transfer/sec:    141.06KB
        ------------------------------
        stop time: 17.805613
        stop time: 17.715646
        stop time: 17.767411
        stop time: 17.869286
        [run.sh] Checking the resource usage
        NAME                            CPU(cores)   MEMORY(bytes)
        hometimeline-755bdb77c6-5p27v   58m          12Mi
        poststorage-6784d94674-42hbw    39m          12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [17.805613, 17.715646, 17.767411, 17.869286]
    [exp] Throughput: 2810.6484677553135
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '250.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-bzrp7:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:03:36.728517Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    78.01ms   73.51ms 447.84ms   62.64%
        Req/Sec   459.98    212.97     0.87k    55.83%
        Latency Distribution
        50%   62.13ms
        75%  126.90ms
        90%  180.23ms
        99%  291.66ms
        5497 requests in 3.02s, 418.72KB read
        Requests/sec:   1820.96
        Transfer/sec:    138.71KB
        [run.sh] Speed is 1820.96, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d41s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-86b7678df-9qgjf      44m          9Mi
        hometimeline-588c4fbd69-mgrjl    834m         32Mi
        poststorage-6784d94674-m8kwz     240m         23Mi
        socialgraph-55c84f8b7f-gxvgx     14m          8Mi
        ubuntu-client-76886f6bbd-bzrp7   29m          23Mi
        usertimeline-74fd66d796-m8q9p    150m         10Mi
        Running 41s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    72.84ms   75.23ms 522.30ms   81.66%
        Req/Sec   468.86    218.02     1.13k    60.73%
        Latency Distribution
        50%   46.53ms
        75%  126.07ms
        90%  181.09ms
        99%  283.38ms
        50001 requests in 41.00s, 3.72MB read
        Requests/sec:   1219.53
        Transfer/sec:     92.89KB
        ------------------------------
        stop time: 26.567529
        stop time: 26.757520
        stop time: 26.838788
        stop time: 26.817998
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [26.567529, 26.75752, 26.838788, 26.817998]
    [exp] Throughput: 1869.4762526741104
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '3510.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '500.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '368.5', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '3510.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '870.5'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-22zxd:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:05:32.704450Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   108.62ms   93.50ms 491.14ms   65.02%
        Req/Sec   325.65    147.90   730.00     62.50%
        Latency Distribution
        50%  101.73ms
        75%  160.82ms
        90%  235.49ms
        99%  390.53ms
        3892 requests in 3.02s, 296.46KB read
        Requests/sec:   1289.35
        Transfer/sec:     98.21KB
        [run.sh] Speed is 1289.35, duration is 58
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d58s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-6fd5bbf886-w2mnj     78m          13Mi
        hometimeline-59df47bfbf-nwcll    107m         38Mi
        poststorage-56dd4b466-6tgvf      91m          24Mi
        socialgraph-5dd99cb658-ntfvg     20m          10Mi
        ubuntu-client-76886f6bbd-22zxd   303m         25Mi
        usertimeline-7cf968b568-rtkdm    207m         15Mi
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   105.94ms   88.43ms 579.88ms   63.52%
        Req/Sec   313.45    126.92     0.86k    68.54%
        Latency Distribution
        50%   97.08ms
        75%  157.32ms
        90%  223.19ms
        99%  369.97ms
        50000 requests in 0.97m, 3.72MB read
        Requests/sec:    862.07
        Transfer/sec:     65.67KB
        ------------------------------
        stop time: 39.698799
        stop time: 40.220032
        stop time: 40.133586
        stop time: 40.240872
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [39.698799, 40.220032, 40.133586, 40.240872]
    [exp] Throughput: 1247.712872121552
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '1755.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '500.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '184.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '1755.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '435.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-5w4ns:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:07:40.489268Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   106.65ms   88.63ms 489.99ms   61.56%
        Req/Sec   318.38    161.19   808.00     67.50%
        Latency Distribution
        50%  108.35ms
        75%  157.16ms
        90%  222.35ms
        99%  358.22ms
        3807 requests in 3.02s, 289.99KB read
        Requests/sec:   1258.85
        Transfer/sec:     95.89KB
        [run.sh] Speed is 1258.85, duration is 59
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d59s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-74f5697b5f-rnwfp     1m           12Mi
        hometimeline-59df47bfbf-wbcjv    267m         31Mi
        poststorage-699984d94c-jslsn     171m         26Mi
        socialgraph-75f5c5fcf-mqs7p      5m           10Mi
        ubuntu-client-76886f6bbd-5w4ns   161m         22Mi
        usertimeline-7c64c76876-rjvpg    43m          12Mi
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    99.80ms   94.05ms 673.85ms   66.13%
        Req/Sec   335.96    153.25     0.87k    63.78%
        Latency Distribution
        50%   87.47ms
        75%  153.88ms
        90%  225.77ms
        99%  380.29ms
        50000 requests in 0.98m, 3.72MB read
        Requests/sec:    847.46
        Transfer/sec:     64.55KB
        ------------------------------
        stop time: 36.986812
        stop time: 37.260075
        stop time: 37.356994
        stop time: 37.485505
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [36.986812, 37.260075, 37.356994, 37.485505]
    [exp] Throughput: 1341.47711896808
[test.py] Baseline throughput:  1468.5144121986907
[test.py] Groundtruth:  [2810.6484677553135, 1869.4762526741104]
[test.py] Slowdown:  [1247.712872121552, 1341.47711896808]
[test.py] Predicted:  [2216.3365201905017, 1753.4286009711507]
[test.py] Error percentage:  [-21.145011707545592, -6.207495363311751]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '500.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-qg56h:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:09:42.856475Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   103.29ms   97.52ms 801.59ms   64.33%
        Req/Sec   347.30    199.89   808.00     58.33%
        Latency Distribution
        50%  103.05ms
        75%  157.68ms
        90%  235.13ms
        99%  397.80ms
        4149 requests in 3.02s, 316.04KB read
        Requests/sec:   1373.34
        Transfer/sec:    104.61KB
        [run.sh] Speed is 1373.34, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d54s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-86b7678df-dtwhn      18m          9Mi
        hometimeline-59df47bfbf-q674d    292m         32Mi
        poststorage-6784d94674-bcrgx     189m         24Mi
        socialgraph-55c84f8b7f-f2hmp     0m           8Mi
        ubuntu-client-76886f6bbd-qg56h   208m         20Mi
        usertimeline-74fd66d796-b2vpw    0m           10Mi
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    94.95ms   95.04ms 742.73ms   87.07%
        Req/Sec   358.96    170.75     0.99k    63.68%
        Latency Distribution
        50%   68.56ms
        75%  153.54ms
        90%  218.17ms
        99%  364.10ms
        50000 requests in 0.90m, 3.72MB read
        Requests/sec:    925.92
        Transfer/sec:     70.53KB
        ------------------------------
        stop time: 35.082077
        stop time: 35.069476
        stop time: 34.875902
        stop time: 34.567392
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [35.082077, 35.069476, 34.875902, 34.567392]
    [exp] Throughput: 1432.717641790889
[test.py] Baseline throughput: 1432.717641790889
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-894g6:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:11:40.880876Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    51.12ms   43.13ms 265.44ms   58.61%
        Req/Sec   679.66    103.61     0.97k    70.83%
        Latency Distribution
        50%   50.22ms
        75%   77.32ms
        90%  108.58ms
        99%  174.98ms
        8125 requests in 3.02s, 618.90KB read
        Requests/sec:   2693.51
        Transfer/sec:    205.17KB
        [run.sh] Speed is 2693.51, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    49.07ms   46.68ms 388.44ms   84.86%
        Req/Sec   693.33    103.27     1.09k    69.02%
        Latency Distribution
        50%   40.24ms
        75%   76.43ms
        90%  111.09ms
        99%  195.94ms
        50000 requests in 27.00s, 3.72MB read
        Requests/sec:   1851.85
        Transfer/sec:    141.06KB
        ------------------------------
        stop time: 18.021243
        stop time: 18.132139
        stop time: 18.143396
        stop time: 18.146305
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-86b7678df-pcccf      24m          9Mi
        hometimeline-755bdb77c6-l99ch    563m         31Mi
        poststorage-6784d94674-qtfvz     356m         21Mi
        socialgraph-55c84f8b7f-6vf9x     12m          8Mi
        ubuntu-client-76886f6bbd-894g6   263m         22Mi
        usertimeline-74fd66d796-wmcfw    141m         10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [18.021243, 18.132139, 18.143396, 18.146305]
    [exp] Throughput: 2760.788079656964
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '80000000', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '250.0', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0'}
    [exp] Executing cmd `bash run.sh social mix 4 128 50000`:
        [run.sh] Running benchmark social with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-jm2b9:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-03-25T04:13:14.535032Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    78.38ms   71.94ms 480.60ms   60.08%
        Req/Sec   457.44    217.02     0.97k    63.33%
        Latency Distribution
        50%   66.29ms
        75%  124.78ms
        90%  177.61ms
        99%  276.53ms
        5469 requests in 3.02s, 416.58KB read
        Requests/sec:   1813.78
        Transfer/sec:    138.16KB
        [run.sh] Speed is 1813.78, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d41s -s /wrk/fix_req_n.lua -L http://localhost:3000
