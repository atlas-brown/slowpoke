benchmark                        : social
num_threads                      : 8
num_conns                        : 256
target_service                   : hometimeline
request_type                     : mix
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 200
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'composepost': 0.09979209979, 'hometimeline': 0.7005428505, 'poststorage': 0.9497747748, 'socialgraph': 0.09979209979, 'usertimeline': 0.4022002772}
baseline_service_processing_time : {'composepost': 0, 'hometimeline': 1000, 'poststorage': 0, 'socialgraph': 0, 'usertimeline': 0}
cpu_quota                        : {'composepost': 2, 'hometimeline': 2, 'poststorage': 2, 'socialgraph': 2, 'usertimeline': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-c8sql:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T18:56:27.174688Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   189.75ms  172.73ms   1.18s    59.67%
        Req/Sec   175.09     70.90   363.00     67.50%
        Latency Distribution
        50%  187.19ms
        75%  287.55ms
        90%  412.16ms
        99%  748.74ms
        4189 requests in 3.02s, 319.08KB read
        Requests/sec:   1388.93
        Transfer/sec:    105.80KB
        [run.sh] Speed is 1388.93, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   469.68ms  926.81ms   5.26s    90.39%
        Req/Sec   186.70     81.60   515.00     66.73%
        Latency Distribution
        50%  175.92ms
        75%  364.96ms
        90%    1.26s
        99%    4.43s
        50000 requests in 0.88m, 3.72MB read
        Requests/sec:    943.39
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 39.635518
        stop time: 39.597305
        stop time: 40.204043
        stop time: 39.913992
        stop time: 40.569931
        stop time: 40.521219
        stop time: 40.409649
        stop time: 40.095372
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
        > error: metrics not available yet
    [exp] Times: [39.635518, 39.597305, 40.204043, 39.913992, 40.569931, 40.521219, 40.409649, 40.095372]
    [exp] Throughput: 1246.311583709971
[test.py] Baseline throughput: 1246.311583709971
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '0', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-4vdm2:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T18:58:24.614327Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    94.01ms   79.84ms 514.87ms   58.70%
        Req/Sec   361.00     75.88   650.00     67.92%
        Latency Distribution
        50%   94.55ms
        75%  140.27ms
        90%  196.80ms
        99%  329.84ms
        8630 requests in 3.02s, 657.36KB read
        Requests/sec:   2858.28
        Transfer/sec:    217.72KB
        [run.sh] Speed is 2858.28, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   769.85ms    1.34s    5.96s    83.77%
        Req/Sec   358.83     94.08     0.89k    76.10%
        Latency Distribution
        50%  126.72ms
        75%  543.18ms
        90%    3.24s
        99%    4.90s
        48039 requests in 26.10s, 3.57MB read
        Requests/sec:   1840.75
        Transfer/sec:    140.21KB
        ------------------------------
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 1
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
        > PANIC: unprotected error in call to Lua API (/wrk/fix_req_n.lua:32: bad argument #1 to 'format' (number expected, got nil))
        > command terminated with exit code 1
        > error: metrics not available yet
    [exp] Error running bash run.sh social mix 8 256 50000
[test.py] Found 0 throughtput, rerun experiment
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '0', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-mmln7:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T18:59:58.555305Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    97.06ms   78.86ms 440.39ms   55.79%
        Req/Sec   339.58     68.73   550.00     73.14%
        Latency Distribution
        50%  107.61ms
        75%  147.89ms
        90%  197.49ms
        99%  304.34ms
        8187 requests in 3.10s, 623.62KB read
        Requests/sec:   2643.03
        Transfer/sec:    201.32KB
        [run.sh] Speed is 2643.03, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   734.25ms    1.31s    6.03s    84.31%
        Req/Sec   341.78     97.07     1.26k    79.86%
        Latency Distribution
        50%  130.16ms
        75%  369.71ms
        90%    3.12s
        99%    4.87s
        50000 requests in 28.00s, 3.72MB read
        Requests/sec:   1785.71
        Transfer/sec:    136.02KB
        ------------------------------
        stop time: 27.247084
        stop time: 27.388106
        stop time: 27.363287
        stop time: 27.352008
        stop time: 27.497096
        stop time: 27.546650
        stop time: 27.371209
        stop time: 27.383745
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-2kpm9     323m         10Mi
        hometimeline-574858688c-p98ts    361m         42Mi
        poststorage-75678988cc-jfq54     253m         28Mi
        socialgraph-6448fc868d-fbxhp     6m           11Mi
        ubuntu-client-76886f6bbd-mmln7   298m         36Mi
        usertimeline-8d99cf44c-ln26j     286m         12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [27.247084, 27.388106, 27.363287, 27.352008, 27.497096, 27.54665, 27.371209, 27.383745]
    [exp] Throughput: 1825.2406460010336
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '3510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '70054044', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '368.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '69998390', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '3510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '70054044', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '870.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '70023058'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-fnx5r:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:01:42.923701Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   174.64ms  108.80ms 681.09ms   68.51%
        Req/Sec   178.97     54.02   323.00     70.71%
        Latency Distribution
        50%  169.43ms
        75%  245.13ms
        90%  315.54ms
        99%  468.32ms
        4265 requests in 3.02s, 324.87KB read
        Requests/sec:   1412.45
        Transfer/sec:    107.59KB
        [run.sh] Speed is 1412.45, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-77df655954-drphm     189m         14Mi
        hometimeline-596df7ddf6-rb6cr    1918m        41Mi
        poststorage-677f9fdd99-p26qh     545m         30Mi
        socialgraph-67fbbf9686-5748x     27m          13Mi
        ubuntu-client-76886f6bbd-fnx5r   766m         39Mi
        usertimeline-5c5cb98bbf-ldkc6    314m         14Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   175.20ms  117.46ms 999.02ms   70.35%
        Req/Sec   184.24     55.90   610.00     68.77%
        Latency Distribution
        50%  160.89ms
        75%  242.05ms
        90%  330.18ms
        99%  519.28ms
        50001 requests in 0.88m, 3.72MB read
        Requests/sec:    943.41
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 34.140489
        stop time: 33.901403
        stop time: 34.074140
        stop time: 33.970166
        stop time: 33.847360
        stop time: 34.251164
        stop time: 34.047769
        stop time: 34.192854
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [34.140489, 33.901403, 34.07414, 33.970166, 33.84736, 34.251164, 34.047769, 34.192854]
    [exp] Throughput: 1468.2921664282005
[test.py] Finished running 0th optmization experiment: groundtruth->1825.2406460010336, slowdown->1468.2921664282005, predicted->3023.048289246051, err->65.62464220097907
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '100', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-s6vsc:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:03:40.263712Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   104.22ms   87.89ms 714.06ms   56.36%
        Req/Sec   318.50     71.42   490.00     67.63%
        Latency Distribution
        50%  110.57ms
        75%  160.69ms
        90%  211.42ms
        99%  345.90ms
        7642 requests in 3.10s, 582.11KB read
        Requests/sec:   2465.12
        Transfer/sec:    187.77KB
        [run.sh] Speed is 2465.12, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-thmt5     525m         11Mi
        hometimeline-86d87d89f8-l98pt    1650m        36Mi
        poststorage-75678988cc-dbms4     958m         26Mi
        socialgraph-6448fc868d-bqhj9     28m          10Mi
        ubuntu-client-76886f6bbd-s6vsc   793m         38Mi
        usertimeline-8d99cf44c-8pr9z     334m         12Mi
        Running 30s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   461.03ms    1.05s    6.15s    89.72%
        Req/Sec   327.23     78.76   818.00     75.16%
        Latency Distribution
        50%  121.00ms
        75%  198.15ms
        90%    1.63s
        99%    4.83s
        50000 requests in 30.00s, 3.72MB read
        Requests/sec:   1666.66
        Transfer/sec:    126.95KB
        ------------------------------
        stop time: 23.715872
        stop time: 23.569167
        stop time: 23.815073
        stop time: 24.005728
        stop time: 24.039818
        stop time: 23.946746
        stop time: 23.959743
        stop time: 23.916499
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [23.715872, 23.569167, 23.815073, 24.005728, 24.039818, 23.946746, 23.959743, 23.916499]
    [exp] Throughput: 2094.5846785759795
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '3159.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '63048638', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '331.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '62970057', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '3159.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '63048638', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '783.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '63024773'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-m65rd:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:05:24.370277Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   170.46ms  112.38ms 758.21ms   66.92%
        Req/Sec   181.89     58.93   383.00     69.58%
        Latency Distribution
        50%  171.27ms
        75%  245.39ms
        90%  313.39ms
        99%  464.60ms
        4351 requests in 3.02s, 331.42KB read
        Requests/sec:   1441.10
        Transfer/sec:    109.77KB
        [run.sh] Speed is 1441.10, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-5b98944b6f-v8s44     64m          10Mi
        hometimeline-596df7ddf6-254g5    151m         14Mi
        poststorage-769478866-82s9q      31m          13Mi
        socialgraph-7b7b6bc76f-2ggqf     39m          10Mi
        ubuntu-client-76886f6bbd-m65rd   1m           0Mi
        usertimeline-f4cd7ccdf-w9r24     18m          8Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.18ms  127.14ms 999.91ms   69.74%
        Req/Sec   184.19     56.37   404.00     68.81%
        Latency Distribution
        50%  160.76ms
        75%  249.56ms
        90%  341.05ms
        99%  555.36ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 34.139940
        stop time: 33.853894
        stop time: 33.869584
        stop time: 33.732803
        stop time: 34.215511
        stop time: 34.031250
        stop time: 34.251262
        stop time: 34.251587
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [34.13994, 33.853894, 33.869584, 33.732803, 34.215511, 34.03125, 34.251262, 34.251587]
    [exp] Throughput: 1468.7208485302647
[test.py] Finished running 1th optmization experiment: groundtruth->2094.5846785759795, slowdown->1468.7208485302647, predicted->2735.0779327372757, err->30.578532379829145
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '200', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-kdvth:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:07:20.749596Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   112.19ms   98.99ms 655.90ms   58.53%
        Req/Sec   304.67     80.72   520.00     67.08%
        Latency Distribution
        50%  112.62ms
        75%  172.99ms
        90%  236.64ms
        99%  416.96ms
        7285 requests in 3.02s, 554.91KB read
        Requests/sec:   2414.34
        Transfer/sec:    183.90KB
        [run.sh] Speed is 2414.34, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        socialgraph-6448fc868d-84psc     63m          9Mi
        ubuntu-client-76886f6bbd-kdvth   6m           1Mi
        Running 31s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.57ms    1.04s    5.24s    89.96%
        Req/Sec   310.79     74.22   666.00     71.54%
        Latency Distribution
        50%  127.36ms
        75%  207.24ms
        90%    1.53s
        99%    4.79s
        50000 requests in 31.00s, 3.72MB read
        Requests/sec:   1612.90
        Transfer/sec:    122.86KB
        ------------------------------
        stop time: 25.005595
        stop time: 24.876025
        stop time: 25.008294
        stop time: 25.098939
        stop time: 24.763908
        stop time: 25.071194
        stop time: 24.978752
        stop time: 25.055595
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [25.005595, 24.876025, 25.008294, 25.098939, 24.763908, 25.071194, 24.978752, 25.055595]
    [exp] Throughput: 2001.417984627929
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '2808.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '56043233', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '295.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '56036701', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '2808.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '56043233', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '696.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '56026488'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-cr8c6:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:09:04.476357Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   188.65ms  150.57ms 862.26ms   66.08%
        Req/Sec   172.74     64.43   390.00     71.13%
        Latency Distribution
        50%  164.95ms
        75%  268.75ms
        90%  405.89ms
        99%  617.28ms
        4123 requests in 3.02s, 314.06KB read
        Requests/sec:   1365.91
        Transfer/sec:    104.04KB
        [run.sh] Speed is 1365.91, duration is 54
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d54s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-cbfc9959-rhf7l       69m          13Mi
        hometimeline-596df7ddf6-xln9p    584m         39Mi
        poststorage-6c6d494694-9g4bc     175m         28Mi
        socialgraph-65745fcdf5-kcjfm     5m           10Mi
        ubuntu-client-76886f6bbd-cr8c6   133m         31Mi
        usertimeline-5989d578bc-rgfwq    101m         16Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.71ms  135.50ms 974.91ms   68.01%
        Req/Sec   183.78     58.84   434.00     68.27%
        Latency Distribution
        50%  162.42ms
        75%  254.85ms
        90%  353.51ms
        99%  587.70ms
        50000 requests in 0.90m, 3.72MB read
        Requests/sec:    925.92
        Transfer/sec:     70.53KB
        ------------------------------
        stop time: 34.139379
        stop time: 33.879814
        stop time: 33.521363
        stop time: 34.336146
        stop time: 34.084505
        stop time: 34.181522
        stop time: 34.186208
        stop time: 34.320570
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [34.139379, 33.879814, 33.521363, 34.336146, 34.084505, 34.181522, 34.186208, 34.32057]
    [exp] Throughput: 1467.0849927485838
[test.py] Finished running 2th optmization experiment: groundtruth->2001.417984627929, slowdown->1467.0849927485838, predicted->2491.2393866696875, err->24.4737184238313
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '300', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-n5tmm:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:11:02.838613Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   127.01ms  115.78ms 830.53ms   58.99%
        Req/Sec   271.47     78.22   500.00     67.92%
        Latency Distribution
        50%  125.08ms
        75%  195.90ms
        90%  281.50ms
        99%  470.11ms
        6490 requests in 3.02s, 494.36KB read
        Requests/sec:   2148.82
        Transfer/sec:    163.68KB
        [run.sh] Speed is 2148.82, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d34s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-s9nrr     152m         11Mi
        hometimeline-7b99784768-hn4l8    278m         44Mi
        poststorage-75678988cc-c4mmj     203m         21Mi
        socialgraph-6448fc868d-lmnms     2m           10Mi
        ubuntu-client-76886f6bbd-n5tmm   2m           34Mi
        usertimeline-8d99cf44c-g478b     168m         12Mi
        Running 34s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   435.52ms  993.83ms   6.44s    90.71%
        Req/Sec   282.05     79.98   690.00     70.55%
        Latency Distribution
        50%  132.62ms
        75%  227.73ms
        90%    1.19s
        99%    4.76s
        50000 requests in 34.00s, 3.72MB read
        Requests/sec:   1470.58
        Transfer/sec:    112.02KB
        ------------------------------
        stop time: 26.519892
        stop time: 26.656161
        stop time: 26.960968
        stop time: 26.898872
        stop time: 26.790434
        stop time: 26.914190
        stop time: 26.620468
        stop time: 27.001056
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [26.519892, 26.656161, 26.960968, 26.898872, 26.790434, 26.91419, 26.620468, 27.001056]
    [exp] Throughput: 1866.0020129216816
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '2457.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '49037827', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '258.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '49008368', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '2457.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '49037827', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '609.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '49028203'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-fbxd9:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:12:48.674395Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.36ms  129.36ms 813.20ms   67.64%
        Req/Sec   181.31     58.91   360.00     64.46%
        Latency Distribution
        50%  177.40ms
        75%  254.13ms
        90%  344.03ms
        99%  548.28ms
        4373 requests in 3.10s, 333.10KB read
        Requests/sec:   1410.64
        Transfer/sec:    107.45KB
        [run.sh] Speed is 1410.64, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-7f45dbc9c-zffrc      240m         11Mi
        hometimeline-596df7ddf6-5n8hf    1886m        41Mi
        poststorage-d977fbdd5-jj6h5      563m         28Mi
        socialgraph-865f64dcc-2kfv8      28m          11Mi
        ubuntu-client-76886f6bbd-fbxd9   773m         38Mi
        usertimeline-7df75ff4c8-6xps4    268m         12Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   175.34ms  141.91ms   1.11s    66.26%
        Req/Sec   185.67     61.84   540.00     66.21%
        Latency Distribution
        50%  158.89ms
        75%  257.78ms
        90%  369.28ms
        99%  585.44ms
        50001 requests in 0.88m, 3.72MB read
        Requests/sec:    943.41
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 33.553436
        stop time: 33.960891
        stop time: 33.743759
        stop time: 33.548529
        stop time: 34.044741
        stop time: 33.806974
        stop time: 33.917190
        stop time: 33.808743
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [33.553436, 33.960891, 33.743759, 33.548529, 34.044741, 33.806974, 33.91719, 33.808743]
    [exp] Throughput: 1479.3760389819727
[test.py] Finished running 3th optmization experiment: groundtruth->1866.0020129216816, slowdown->1479.3760389819727, predicted->2321.420870228832, err->24.406128940562123
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '400', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-dwddb:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:14:46.126765Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   131.18ms  116.36ms 655.68ms   57.47%
        Req/Sec   255.97     80.76   440.00     66.39%
        Latency Distribution
        50%  132.27ms
        75%  198.65ms
        90%  284.69ms
        99%  476.11ms
        6146 requests in 3.10s, 468.15KB read
        Requests/sec:   1982.43
        Transfer/sec:    151.01KB
        [run.sh] Speed is 1982.43, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d37s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-8pzlr     444m         10Mi
        hometimeline-769fd9d49f-p6j6w    1906m        43Mi
        poststorage-75678988cc-rzcbx     861m         25Mi
        socialgraph-6448fc868d-sqjfk     34m          11Mi
        ubuntu-client-76886f6bbd-dwddb   1108m        40Mi
        usertimeline-8d99cf44c-hhgxq     563m         12Mi
        Running 37s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   405.01ms  923.45ms   6.10s    91.40%
        Req/Sec   262.93     79.35   757.00     70.15%
        Latency Distribution
        50%  136.71ms
        75%  242.09ms
        90%  745.72ms
        99%    4.62s
        50001 requests in 37.00s, 3.72MB read
        Requests/sec:   1351.37
        Transfer/sec:    102.94KB
        ------------------------------
        stop time: 28.154108
        stop time: 28.079021
        stop time: 28.414268
        stop time: 28.434137
        stop time: 28.402236
        stop time: 28.153583
        stop time: 28.209919
        stop time: 28.338495
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [28.154108, 28.079021, 28.414268, 28.434137, 28.402236, 28.153583, 28.209919, 28.338495]
    [exp] Throughput: 1768.4578711798433
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '2106.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '42032422', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '221.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '41980035', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '2106.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '42032422', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '522.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '42029918'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-n2s46:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:16:33.895659Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.92ms  135.62ms 881.40ms   64.15%
        Req/Sec   181.54     62.96   363.00     70.42%
        Latency Distribution
        50%  178.08ms
        75%  266.31ms
        90%  356.77ms
        99%  544.12ms
        4342 requests in 3.02s, 330.74KB read
        Requests/sec:   1436.77
        Transfer/sec:    109.44KB
        [run.sh] Speed is 1436.77, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.10ms  151.74ms   1.09s    65.86%
        Req/Sec   187.15     65.93   490.00     66.47%
        Latency Distribution
        50%  157.12ms
        75%  263.62ms
        90%  383.97ms
        99%  629.56ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 33.433445
        stop time: 33.812113
        stop time: 33.514451
        stop time: 32.976538
        stop time: 33.767949
        stop time: 33.172394
        stop time: 33.618722
        stop time: 33.728420
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
        > error: metrics not available yet
    [exp] Times: [33.433445, 33.812113, 33.514451, 32.976538, 33.767949, 33.172394, 33.618722, 33.72842]
    [exp] Throughput: 1492.4034871619272
[test.py] Finished running 4th optmization experiment: groundtruth->1768.4578711798433, slowdown->1492.4034871619272, predicted->2174.398856888427, err->22.954518302308003
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '500', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-zc6ql:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:18:30.322380Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   137.86ms  124.68ms 791.24ms   57.80%
        Req/Sec   247.72     69.89   470.00     68.31%
        Latency Distribution
        50%  132.03ms
        75%  212.77ms
        90%  307.86ms
        99%  499.68ms
        6000 requests in 3.10s, 457.03KB read
        Requests/sec:   1935.18
        Transfer/sec:    147.41KB
        [run.sh] Speed is 1935.18, duration is 38
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d38s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        Running 38s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   133.67ms  126.68ms 885.02ms   60.16%
        Req/Sec   249.50     76.19   797.00     68.12%
        Latency Distribution
        50%  126.77ms
        75%  211.89ms
        90%  302.43ms
        99%  509.44ms
        50000 requests in 38.00s, 3.72MB read
        Requests/sec:   1315.78
        Transfer/sec:    100.23KB
        ------------------------------
        stop time: 24.667941
        stop time: 25.018662
        stop time: 25.187178
        stop time: 25.108084
        stop time: 25.165932
        stop time: 25.304202
        stop time: 25.192330
        stop time: 25.134611
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
        > error: metrics not available yet
    [exp] Times: [24.667941, 25.018662, 25.187178, 25.108084, 25.165932, 25.304202, 25.19233, 25.134611]
    [exp] Throughput: 1992.2408196795939
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '1755.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '35027017', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '184.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '34951701', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '1755.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '35027017', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '435.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '34991414'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-psgv7:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:20:18.090459Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   182.72ms  150.96ms 837.96ms   64.99%
        Req/Sec   178.35     70.76   383.00     65.00%
        Latency Distribution
        50%  173.74ms
        75%  276.91ms
        90%  389.66ms
        99%  607.51ms
        4266 requests in 3.02s, 324.95KB read
        Requests/sec:   1414.03
        Transfer/sec:    107.71KB
        [run.sh] Speed is 1414.03, duration is 53
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d53s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-6bbcbb445d-p82px     106m         9Mi
        hometimeline-596df7ddf6-ll7tg    195m         14Mi
        poststorage-79c57654f5-4wsbp     5m           13Mi
        socialgraph-7c545c944b-hbtck     59m          10Mi
        ubuntu-client-76886f6bbd-psgv7   7m           1Mi
        usertimeline-678967c8c-k2fgv     20m          8Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   176.87ms  159.04ms   1.29s    65.29%
        Req/Sec   186.60     67.14   555.00     69.58%
        Latency Distribution
        50%  156.69ms
        75%  267.66ms
        90%  395.14ms
        99%  650.49ms
        50000 requests in 0.88m, 3.72MB read
        Requests/sec:    943.39
        Transfer/sec:     71.86KB
        ------------------------------
        stop time: 32.949250
        stop time: 33.625702
        stop time: 33.687093
        stop time: 33.115205
        stop time: 33.824717
        stop time: 33.670375
        stop time: 33.756305
        stop time: 33.876358
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [32.94925, 33.625702, 33.687093, 33.115205, 33.824717, 33.670375, 33.756305, 33.876358]
    [exp] Throughput: 1489.7301448812846
[test.py] Finished running 5th optmization experiment: groundtruth->1992.2408196795939, slowdown->1489.7301448812846, predicted->2015.6137508635934, err->1.1731980869540926
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '600', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-d8nkz:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:22:15.625420Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   147.53ms  130.36ms 846.38ms   57.73%
        Req/Sec   230.24     70.45   464.00     67.08%
        Latency Distribution
        50%  144.23ms
        75%  223.69ms
        90%  327.56ms
        99%  518.46ms
        5504 requests in 3.02s, 419.25KB read
        Requests/sec:   1822.94
        Transfer/sec:    138.86KB
        [run.sh] Speed is 1822.94, duration is 41
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d41s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-d9465     16m          11Mi
        hometimeline-7d58585849-ghdzt    142m         39Mi
        poststorage-75678988cc-v26r8     170m         23Mi
        socialgraph-6448fc868d-pdpvn     63m          10Mi
        ubuntu-client-76886f6bbd-d8nkz   6m           34Mi
        usertimeline-8d99cf44c-qrcnr     18m          11Mi
        Running 41s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   141.46ms  136.13ms   1.24s    61.70%
        Req/Sec   235.72     78.97   747.00     70.41%
        Latency Distribution
        50%  128.79ms
        75%  224.95ms
        90%  328.96ms
        99%  537.68ms
        50000 requests in 41.00s, 3.72MB read
        Requests/sec:   1219.51
        Transfer/sec:     92.89KB
        ------------------------------
        stop time: 26.657280
        stop time: 26.813196
        stop time: 26.440299
        stop time: 26.670794
        stop time: 26.395843
        stop time: 26.642480
        stop time: 26.531882
        stop time: 26.237701
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [26.65728, 26.813196, 26.440299, 26.670794, 26.395843, 26.64248, 26.531882, 26.237701]
    [exp] Throughput: 1883.3324956427336
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '1404.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '28021611', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '147.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '28018345', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '1404.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '28021611', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '348.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '27993129'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-nmpjs:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:24:05.177568Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   186.84ms  161.92ms 839.62ms   63.37%
        Req/Sec   179.69     64.79   380.00     65.00%
        Latency Distribution
        50%  184.74ms
        75%  270.89ms
        90%  400.22ms
        99%  664.58ms
        4299 requests in 3.02s, 327.46KB read
        Requests/sec:   1421.36
        Transfer/sec:    108.27KB
        [run.sh] Speed is 1421.36, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-5b8685c999-wnpfv     69m          11Mi
        hometimeline-596df7ddf6-6s545    598m         39Mi
        poststorage-86754756fb-vckwc     182m         24Mi
        socialgraph-7c5bd6f459-c8n2z     9m           10Mi
        ubuntu-client-76886f6bbd-nmpjs   243m         25Mi
        usertimeline-79f654f665-8754g    112m         12Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   179.06ms  166.53ms   1.52s    64.96%
        Req/Sec   186.37     71.84   555.00     65.88%
        Latency Distribution
        50%  157.05ms
        75%  279.84ms
        90%  403.51ms
        99%  664.43ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 33.668199
        stop time: 33.570621
        stop time: 33.785139
        stop time: 33.484844
        stop time: 33.852290
        stop time: 33.344445
        stop time: 33.846640
        stop time: 33.444770
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [33.668199, 33.570621, 33.785139, 33.484844, 33.85229, 33.344445, 33.84664, 33.44477]
    [exp] Throughput: 1487.005718741463
[test.py] Finished running 6th optmization experiment: groundtruth->1883.3324956427336, slowdown->1487.005718741463, predicted->1878.3441573312975, err->-0.2648676387720755
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '700', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-kmhd8:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:26:01.750744Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   141.07ms  117.06ms 646.73ms   53.48%
        Req/Sec   223.57     85.10   530.00     69.58%
        Latency Distribution
        50%  156.16ms
        75%  222.14ms
        90%  290.47ms
        99%  425.02ms
        5346 requests in 3.03s, 407.21KB read
        Requests/sec:   1766.61
        Transfer/sec:    134.57KB
        [run.sh] Speed is 1766.61, duration is 42
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d42s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-84z76     62m          10Mi
        hometimeline-7488669d4d-q8wkg    607m         41Mi
        poststorage-75678988cc-m7jvs     233m         21Mi
        socialgraph-6448fc868d-gjnsp     10m          10Mi
        ubuntu-client-76886f6bbd-kmhd8   298m         38Mi
        usertimeline-8d99cf44c-tzdp4     5m           11Mi
        Running 42s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   154.68ms  151.63ms   1.05s    79.63%
        Req/Sec   220.21     78.00   480.00     64.58%
        Latency Distribution
        50%  137.48ms
        75%  243.94ms
        90%  358.15ms
        99%  618.05ms
        50000 requests in 42.00s, 3.72MB read
        Requests/sec:   1190.47
        Transfer/sec:     90.68KB
        ------------------------------
        stop time: 27.772393
        stop time: 28.724824
        stop time: 28.289065
        stop time: 28.623407
        stop time: 28.583931
        stop time: 28.717433
        stop time: 28.233918
        stop time: 28.733490
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [27.772393, 28.724824, 28.289065, 28.623407, 28.583931, 28.717433, 28.233918, 28.73349]
    [exp] Throughput: 1756.8635972113325
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '1053.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '21016206', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '110.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '20990012', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '1053.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '21016206', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '261.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '20994844'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-k4cfn:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:27:51.211568Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   198.68ms  191.70ms   1.41s    70.39%
        Req/Sec   180.31     70.63   393.00     68.33%
        Latency Distribution
        50%  172.19ms
        75%  284.41ms
        90%  451.21ms
        99%  848.39ms
        4313 requests in 3.02s, 328.53KB read
        Requests/sec:   1429.55
        Transfer/sec:    108.89KB
        [run.sh] Speed is 1429.55, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-c45bf59d6-q7ngm      314m         11Mi
        hometimeline-596df7ddf6-t4nqb    1506m        42Mi
        poststorage-5b49968c68-zbw9s     322m         24Mi
        socialgraph-846d984f4-kxf7g      23m          11Mi
        ubuntu-client-76886f6bbd-k4cfn   413m         41Mi
        usertimeline-ffcc649f9-ldn2b     371m         12Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   177.91ms  166.98ms   1.28s    64.07%
        Req/Sec   187.41     74.87   600.00     67.42%
        Latency Distribution
        50%  161.82ms
        75%  274.81ms
        90%  406.10ms
        99%  673.67ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 33.694756
        stop time: 33.312525
        stop time: 33.182018
        stop time: 33.305753
        stop time: 33.640682
        stop time: 33.330825
        stop time: 33.435809
        stop time: 33.680468
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [33.694756, 33.312525, 33.182018, 33.305753, 33.640682, 33.330825, 33.435809, 33.680468]
    [exp] Throughput: 1494.8641922608217
[test.py] Finished running 7th optmization experiment: groundtruth->1756.8635972113325, slowdown->1494.8641922608217, predicted->1773.440612243143, err->0.9435573176041234
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '800', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-prfrx:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:29:47.743447Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   167.84ms  148.68ms 847.90ms   56.61%
        Req/Sec   201.97     83.45   404.00     65.00%
        Latency Distribution
        50%  161.02ms
        75%  261.60ms
        90%  370.61ms
        99%  580.60ms
        4831 requests in 3.02s, 367.99KB read
        Requests/sec:   1600.14
        Transfer/sec:    121.89KB
        [run.sh] Speed is 1600.14, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d46s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-55b5766c54-rhm7z     385m         11Mi
        hometimeline-5d8c6b96dc-pv8hb    1911m        39Mi
        poststorage-75678988cc-xkpkl     642m         27Mi
        socialgraph-6448fc868d-zzwvf     28m          10Mi
        ubuntu-client-76886f6bbd-prfrx   793m         41Mi
        usertimeline-8d99cf44c-2ljcg     440m         11Mi
        Running 46s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   162.53ms  155.98ms   1.22s    60.69%
        Req/Sec   206.41     77.23   490.00     69.42%
        Latency Distribution
        50%  150.69ms
        75%  254.95ms
        90%  375.63ms
        99%  612.36ms
        50000 requests in 46.00s, 3.72MB read
        Requests/sec:   1086.95
        Transfer/sec:     82.80KB
        ------------------------------
        stop time: 30.282965
        stop time: 30.241190
        stop time: 30.422188
        stop time: 30.264482
        stop time: 30.470731
        stop time: 30.141082
        stop time: 30.506944
        stop time: 30.417290
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [30.282965, 30.24119, 30.422188, 30.264482, 30.470731, 30.141082, 30.506944, 30.41729]
    [exp] Throughput: 1647.8070209695636
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '702.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '14010800', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '73.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '13961679', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '702.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '14010800', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '174.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '13996559'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-6xxpx:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:31:40.147455Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   157.30ms  145.32ms 982.94ms   62.41%
        Req/Sec   158.54     67.08   320.00     69.93%
        Latency Distribution
        50%  121.56ms
        75%  261.64ms
        90%  363.58ms
        99%  550.75ms
        2260 requests in 3.02s, 172.15KB read
        Requests/sec:    748.10
        Transfer/sec:     56.98KB
        [run.sh] Speed is 748.10, duration is 100
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d100s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composepost-59dd9b6bc6-8vz4m     323m         11Mi
        hometimeline-596df7ddf6-29zbc    1905m        39Mi
        poststorage-55646d7779-d45x4     609m         25Mi
        socialgraph-75c697c658-d9wfm     30m          11Mi
        ubuntu-client-76886f6bbd-6xxpx   772m         41Mi
        usertimeline-78d89cfb87-gqwc8    396m         12Mi
        Running 2m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   171.84ms  167.46ms   1.13s    67.59%
        Req/Sec   186.06     75.69   540.00     67.69%
        Latency Distribution
        50%  154.57ms
        75%  267.65ms
        90%  405.74ms
        99%  671.73ms
        50000 requests in 1.67m, 3.72MB read
        Requests/sec:    500.00
        Transfer/sec:     38.09KB
        ------------------------------
        stop time: 33.657192
        stop time: 33.269834
        stop time: 33.923444
        stop time: 33.564795
        stop time: 33.749382
        stop time: 33.365210
        stop time: 34.000162
        stop time: 33.708802
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [33.657192, 33.269834, 33.923444, 33.564795, 33.749382, 33.36521, 34.000162, 33.708802]
    [exp] Throughput: 1485.6698544226654
[test.py] Finished running 8th optmization experiment: groundtruth->1647.8070209695636, slowdown->1485.6698544226654, predicted->1658.2571817062924, err->0.6341859576845316
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '900', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '10', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '10', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '10', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '10'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-bbqwh:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:34:24.644616Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   172.89ms  149.97ms 759.08ms   54.61%
        Req/Sec   192.25     83.30   434.00     69.17%
        Latency Distribution
        50%  174.42ms
        75%  265.26ms
        90%  368.29ms
        99%  575.71ms
        4599 requests in 3.02s, 350.31KB read
        Requests/sec:   1523.23
        Transfer/sec:    116.03KB
        [run.sh] Speed is 1523.23, duration is 49
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d49s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        usertimeline-8d99cf44c-bzz4g   21m          7Mi
        Running 49s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   173.29ms  171.13ms   1.26s    84.52%
        Req/Sec   195.64     79.30   555.00     69.53%
        Latency Distribution
        50%  154.61ms
        75%  273.87ms
        90%  404.06ms
        99%  693.93ms
        50000 requests in 49.00s, 3.72MB read
        Requests/sec:   1020.41
        Transfer/sec:     77.73KB
        ------------------------------
        stop time: 32.252149
        stop time: 32.025762
        stop time: 31.978898
        stop time: 31.738277
        stop time: 31.942899
        stop time: 32.086989
        stop time: 32.076330
        stop time: 32.214804
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [32.252149, 32.025762, 31.978898, 31.738277, 31.942899, 32.086989, 32.07633, 32.214804]
    [exp] Throughput: 1560.5730093248765
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload social/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEPOST': '0', 'SLOWPOKE_PROCESSING_MICROS_HOMETIMELINE': '1000', 'SLOWPOKE_PROCESSING_MICROS_POSTSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_SOCIALGRAPH': '0', 'SLOWPOKE_PROCESSING_MICROS_USERTIMELINE': '0', 'SLOWPOKE_DELAY_MICROS_COMPOSEPOST': '351.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEPOST': '7005395', 'SLOWPOKE_DELAY_MICROS_HOMETIMELINE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_HOMETIMELINE': '10', 'SLOWPOKE_DELAY_MICROS_POSTSTORAGE': '36.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_POSTSTORAGE': '6933345', 'SLOWPOKE_DELAY_MICROS_SOCIALGRAPH': '351.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SOCIALGRAPH': '7005395', 'SLOWPOKE_DELAY_MICROS_USERTIMELINE': '87.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERTIMELINE': '6998274'}
    [exp] Executing cmd `bash run.sh social mix 8 256 50000`:
        [run.sh] Running benchmark social with request mix, thread 8, conn 256, duration 60
        [run.sh] Deleting all services
        service "composepost" deleted
        deployment.apps "composepost" deleted
        service "hometimeline" deleted
        deployment.apps "hometimeline" deleted
        service "poststorage" deleted
        deployment.apps "poststorage" deleted
        service "socialgraph" deleted
        deployment.apps "socialgraph" deleted
        service "usertimeline" deleted
        deployment.apps "usertimeline" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/composepost created
        deployment.apps/composepost created
        service/hometimeline created
        deployment.apps/hometimeline created
        service/poststorage created
        deployment.apps/poststorage created
        service/socialgraph created
        deployment.apps/socialgraph created
        service/usertimeline created
        deployment.apps/usertimeline created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Populating social benchmark
        Parsing social graph file: ./data/socfb-Reed98.mtx... DONE!
        Analyzing social graph in: ./data/analysis.txt... DONE!
        Populating social graph...
        DONE!
        [run.sh] Copying social/analysis.txt to ubuntu-client-76886f6bbd-z82vp:/analysis.txt
        [run.sh] Finished populating social
        [run.sh] Starting the rust proxy first for social
        [2m2025-04-07T19:36:19.037590Z[0m [32m INFO[0m [2mproxy::social[0m[2m:[0m Reading social graph from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c256 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   188.60ms  183.16ms   1.12s    66.26%
        Req/Sec   181.48     76.80   420.00     64.17%
        Latency Distribution
        50%  159.57ms
        75%  300.01ms
        90%  447.53ms
        99%  688.33ms
        4341 requests in 3.02s, 330.66KB read
        Requests/sec:   1436.59
        Transfer/sec:    109.43KB
        [run.sh] Speed is 1436.59, duration is 52
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c256 -d52s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        hometimeline-596df7ddf6-mpfpl    185m         13Mi
        poststorage-867c7f8dbc-rl2wm     43m          12Mi
        socialgraph-d4778b85f-zqz8r      58m          10Mi
        ubuntu-client-76886f6bbd-z82vp   6m           1Mi
        Running 1m test @ http://localhost:3000
        8 threads and 256 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   181.45ms  183.97ms   1.30s    84.46%
        Req/Sec   187.66     78.43   636.00     69.67%
        Latency Distribution
        50%  153.30ms
        75%  283.57ms
        90%  436.09ms
        99%  754.32ms
        50000 requests in 0.87m, 3.72MB read
        Requests/sec:    961.54
        Transfer/sec:     73.24KB
        ------------------------------
        stop time: 33.658337
        stop time: 33.348623
        stop time: 33.200787
        stop time: 33.494649
        stop time: 32.517800
        stop time: 33.713610
        stop time: 33.278923
        stop time: 33.769476
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: no objects passed to apply
    [exp] Times: [33.658337, 33.348623, 33.200787, 33.494649, 32.5178, 33.71361, 33.278923, 33.769476]
    [exp] Throughput: 1498.227194580253
[test.py] Finished running 9th optmization experiment: groundtruth->1560.5730093248765, slowdown->1498.227194580253, predicted->1581.206738147326, err->1.3221892663244186
[test.py] Baseline throughput:  1246.311583709971
[test.py] Groundtruth:  [1825.2406460010336, 2094.5846785759795, 2001.417984627929, 1866.0020129216816, 1768.4578711798433, 1992.2408196795939, 1883.3324956427336, 1756.8635972113325, 1647.8070209695636, 1560.5730093248765]
[test.py] Slowdown:  [1468.2921664282005, 1468.7208485302647, 1467.0849927485838, 1479.3760389819727, 1492.4034871619272, 1489.7301448812846, 1487.005718741463, 1494.8641922608217, 1485.6698544226654, 1498.227194580253]
[test.py] Predicted:  [3023.048289246051, 2735.0779327372757, 2491.2393866696875, 2321.420870228832, 2174.398856888427, 2015.6137508635934, 1878.3441573312975, 1773.440612243143, 1658.2571817062924, 1581.206738147326]
[test.py] Error percentage:  [65.62464220097907, 30.578532379829145, 24.4737184238313, 24.406128940562123, 22.954518302308003, 1.1731980869540926, -0.2648676387720755, 0.9435573176041234, 0.6341859576845316, 1.3221892663244186]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1246.311583709971
    Groundtruth: [1825.2406460010336, 2094.5846785759795, 2001.417984627929, 1866.0020129216816, 1768.4578711798433, 1992.2408196795939, 1883.3324956427336, 1756.8635972113325, 1647.8070209695636, 1560.5730093248765]
    Slowdown:    [1468.2921664282005, 1468.7208485302647, 1467.0849927485838, 1479.3760389819727, 1492.4034871619272, 1489.7301448812846, 1487.005718741463, 1494.8641922608217, 1485.6698544226654, 1498.227194580253]
    Predicted:   [3023.048289246051, 2735.0779327372757, 2491.2393866696875, 2321.420870228832, 2174.398856888427, 2015.6137508635934, 1878.3441573312975, 1773.440612243143, 1658.2571817062924, 1581.206738147326]
    Error Perc:  [65.62464220097907, 30.578532379829145, 24.4737184238313, 24.406128940562123, 22.954518302308003, 1.1731980869540926, -0.2648676387720755, 0.9435573176041234, 0.6341859576845316, 1.3221892663244186]
