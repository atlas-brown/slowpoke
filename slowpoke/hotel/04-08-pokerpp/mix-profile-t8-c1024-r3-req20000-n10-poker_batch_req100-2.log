benchmark                        : hotel
num_threads                      : 8
num_conns                        : 1024
target_service                   : profile
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-ldwgk:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:33:08.567967Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.03ms  213.93ms   1.02s    64.94%
        Req/Sec   230.20     78.58   460.00     65.95%
        Latency Distribution
        50%  481.60ms
        75%  620.59ms
        90%  684.67ms
        99%  822.62ms
        5368 requests in 3.03s, 408.89KB read
        Requests/sec:   1770.04
        Transfer/sec:    134.83KB
        [run.sh] Speed is 1770.04, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   514.02ms  246.79ms   1.07s    75.24%
        Req/Sec   241.30     70.34   646.00     70.39%
        Latency Distribution
        50%  618.08ms
        75%  669.98ms
        90%  717.44ms
        99%  814.41ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 10.073132
        stop time: 10.337460
        stop time: 10.343291
        stop time: 10.363352
        stop time: 10.460446
        stop time: 10.602862
        stop time: 10.881743
        stop time: 10.809050
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-z99tz        1707m        71Mi
        profile-7f8fc7d487-82ljt         1663m        331Mi
        rate-76545fd9c7-bzgrg            151m         181Mi
        reservation-58f789445d-rgr7h     151m         91Mi
        search-f6d7d66d4-skrzk           270m         81Mi
        ubuntu-client-76886f6bbd-ldwgk   884m         96Mi
        user-9c7f9969b-4dw46             40m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.073132, 10.33746, 10.343291, 10.363352, 10.460446, 10.602862, 10.881743, 10.80905]
    [exp] Throughput: 1907.6839314923993
[test.py] Baseline throughput: 1907.6839314923993
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-krkkh:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:34:41.095802Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   410.65ms  148.92ms   1.02s    70.12%
        Req/Sec   240.69     82.39   454.00     71.98%
        Latency Distribution
        50%  408.59ms
        75%  497.55ms
        90%  594.43ms
        99%  835.77ms
        5610 requests in 3.03s, 427.32KB read
        Requests/sec:   1852.05
        Transfer/sec:    141.07KB
        [run.sh] Speed is 1852.05, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   454.91ms  128.99ms 986.54ms   69.78%
        Req/Sec   265.71     91.81   730.00     71.31%
        Latency Distribution
        50%  460.98ms
        75%  537.89ms
        90%  611.18ms
        99%  761.83ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.886425
        stop time: 8.940643
        stop time: 9.298471
        stop time: 9.473393
        stop time: 9.701646
        stop time: 9.678985
        stop time: 9.950379
        stop time: 9.899460
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [8.886425, 8.940643, 9.298471, 9.473393, 9.701646, 9.678985, 9.950379, 9.89946]
    [exp] Throughput: 2109.99949597387
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-hcmtw:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:36:13.649104Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   809.15ms  339.60ms   1.62s    66.01%
        Req/Sec   137.58     82.01   404.00     61.78%
        Latency Distribution
        50%  879.68ms
        75%    1.07s
        90%    1.18s
        99%    1.44s
        2839 requests in 3.04s, 216.25KB read
        Requests/sec:    934.78
        Transfer/sec:     71.20KB
        [run.sh] Speed is 934.78, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-66844fd9bf-sjt5t        557m         79Mi
        profile-7f8fc7d487-wbbz5         519m         383Mi
        rate-7b654596d-jl2qq             35m          155Mi
        reservation-866469c858-9z7hk     15m          173Mi
        search-d865f74b5-9wt62           43m          82Mi
        ubuntu-client-76886f6bbd-hcmtw   282m         103Mi
        user-7cfffb7cfb-tr9nc            5m           10Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   844.41ms  240.10ms   1.75s    69.62%
        Req/Sec   150.78     78.79   450.00     63.67%
        Latency Distribution
        50%  867.83ms
        75%  998.66ms
        90%    1.13s
        99%    1.39s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 16.620889
        stop time: 16.743043
        stop time: 17.100885
        stop time: 17.100572
        stop time: 17.523993
        stop time: 17.569904
        stop time: 17.668943
        stop time: 17.713578
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.620889, 16.743043, 17.100885, 17.100572, 17.523993, 17.569904, 17.668943, 17.713578]
    [exp] Throughput: 1159.0691506957744
[test.py] Finished running 0th optmization experiment: groundtruth->2109.99949597387, slowdown->1159.0691506957744, predicted->2160.9413179232647, err->2.414304934508166
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '100', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-55wzr:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:37:49.896175Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   430.23ms  129.91ms   1.07s    69.53%
        Req/Sec   253.61     81.13   444.00     70.54%
        Latency Distribution
        50%  427.03ms
        75%  508.56ms
        90%  595.66ms
        99%  767.97ms
        5760 requests in 3.03s, 438.75KB read
        Requests/sec:   1902.05
        Transfer/sec:    144.88KB
        [run.sh] Speed is 1902.05, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   466.00ms  107.94ms   1.04s    72.62%
        Req/Sec   267.23     72.35   700.00     69.80%
        Latency Distribution
        50%  461.64ms
        75%  528.95ms
        90%  598.65ms
        99%  759.26ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.137606
        stop time: 9.315378
        stop time: 9.600922
        stop time: 9.596093
        stop time: 9.597740
        stop time: 9.640606
        stop time: 9.656020
        stop time: 9.405365
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.137606, 9.315378, 9.600922, 9.596093, 9.59774, 9.640606, 9.65602, 9.405365]
    [exp] Throughput: 2106.656600359211
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1813.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mbdgx:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:39:23.518694Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   794.52ms  321.52ms   1.86s    64.29%
        Req/Sec   144.00     75.20   350.00     67.02%
        Latency Distribution
        50%  859.51ms
        75%    1.03s
        90%    1.18s
        99%    1.44s
        2904 requests in 3.03s, 221.20KB read
        Requests/sec:    957.00
        Transfer/sec:     72.90KB
        [run.sh] Speed is 957.00, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7f786bd9f6-qwdb4        310m         71Mi
        profile-7f8fc7d487-rkd82         399m         328Mi
        rate-596fc59fd6-r2m6r            44m          131Mi
        reservation-6dc464d459-wq9th     54m          138Mi
        search-687c8cd495-rg7rk          96m          85Mi
        ubuntu-client-76886f6bbd-mbdgx   211m         59Mi
        user-5ccd7fb86-dgk7m             17m          9Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   793.84ms  267.33ms   1.95s    69.20%
        Req/Sec   157.70     76.00   525.00     66.80%
        Latency Distribution
        50%  833.11ms
        75%  967.91ms
        90%    1.10s
        99%    1.38s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 15.450518
        stop time: 15.746495
        stop time: 16.235773
        stop time: 16.388433
        stop time: 16.503881
        stop time: 16.346035
        stop time: 16.841204
        stop time: 16.785803
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.450518, 15.746495, 16.235773, 16.388433, 16.503881, 16.346035, 16.841204, 16.785803]
    [exp] Throughput: 1227.9530432598187
[test.py] Finished running 1th optmization experiment: groundtruth->2106.656600359211, slowdown->1227.9530432598187, predicted->2200.8815576056954, err->4.472725038832518
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '200', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-cplp6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:40:58.775809Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.85ms  143.32ms   1.48s    66.98%
        Req/Sec   234.44    117.47   676.00     66.38%
        Latency Distribution
        50%  349.04ms
        75%  439.97ms
        90%  539.85ms
        99%  700.24ms
        5456 requests in 3.04s, 415.59KB read
        Requests/sec:   1797.14
        Transfer/sec:    136.89KB
        [run.sh] Speed is 1797.14, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   457.84ms  126.83ms   1.07s    70.37%
        Req/Sec   265.75     82.16   720.00     73.63%
        Latency Distribution
        50%  465.56ms
        75%  539.79ms
        90%  609.69ms
        99%  735.45ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.838861
        stop time: 9.213309
        stop time: 9.304370
        stop time: 9.662076
        stop time: 9.511098
        stop time: 9.780755
        stop time: 9.886410
        stop time: 9.879218
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-22wmt        0m           57Mi
        profile-86bc6c6ffb-9xnx6         0m           315Mi
        rate-76545fd9c7-l7cjv            14m          176Mi
        reservation-58f789445d-8srtx     81m          180Mi
        search-f6d7d66d4-kr2dl           81m          84Mi
        ubuntu-client-76886f6bbd-cplp6   5m           68Mi
        user-9c7f9969b-5ps8v             25m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.838861, 9.213309, 9.30437, 9.662076, 9.511098, 9.780755, 9.88641, 9.879218]
    [exp] Throughput: 2103.157316285561
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1612.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-5pnbt:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:42:32.373137Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   769.93ms  280.10ms   1.59s    69.93%
        Req/Sec   140.33     76.83   343.00     64.68%
        Latency Distribution
        50%  804.90ms
        75%  935.92ms
        90%    1.10s
        99%    1.37s
        3016 requests in 3.04s, 229.73KB read
        Requests/sec:    993.36
        Transfer/sec:     75.67KB
        [run.sh] Speed is 993.36, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        profile-7f8fc7d487-clc8k         169m         325Mi
        rate-698d74565-jchh8             0m           130Mi
        reservation-67cbc8f65f-wx5wh     2m           134Mi
        search-6bf7f67f5b-x5lcr          1m           181Mi
        ubuntu-client-76886f6bbd-5pnbt   48m          80Mi
        user-67668d8d48-s79z8            3m           10Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   762.98ms  280.19ms   1.90s    69.15%
        Req/Sec   164.31     79.56   510.00     67.64%
        Latency Distribution
        50%  817.51ms
        75%  948.35ms
        90%    1.07s
        99%    1.32s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 15.007468
        stop time: 15.240802
        stop time: 15.229709
        stop time: 15.710032
        stop time: 15.881654
        stop time: 15.906238
        stop time: 16.129589
        stop time: 16.121464
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.007468, 15.240802, 15.229709, 15.710032, 15.881654, 15.906238, 16.129589, 16.121464]
    [exp] Throughput: 1277.6801825319462
[test.py] Finished running 2th optmization experiment: groundtruth->2103.157316285561, slowdown->1277.6801825319462, predicted->2161.3748375659266, err->2.768101122515402
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '300', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-r8z7k:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:44:06.571659Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   436.68ms  123.65ms 900.34ms   70.06%
        Req/Sec   239.49     92.56   545.00     71.12%
        Latency Distribution
        50%  431.94ms
        75%  515.97ms
        90%  593.96ms
        99%  766.09ms
        5584 requests in 3.03s, 425.34KB read
        Requests/sec:   1843.12
        Transfer/sec:    140.39KB
        [run.sh] Speed is 1843.12, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   469.74ms  119.51ms 926.23ms   71.65%
        Req/Sec   264.89     68.28   490.00     72.57%
        Latency Distribution
        50%  473.36ms
        75%  544.42ms
        90%  614.55ms
        99%  762.30ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.296470
        stop time: 9.548552
        stop time: 9.619491
        stop time: 9.536384
        stop time: 9.611916
        stop time: 9.626670
        stop time: 9.664166
        stop time: 9.667932
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-pclbb        1102m        69Mi
        profile-87fd576f5-l97wq          461m         328Mi
        rate-76545fd9c7-vzn4f            181m         168Mi
        reservation-58f789445d-bzcxm     285m         92Mi
        search-f6d7d66d4-cwhqn           404m         85Mi
        ubuntu-client-76886f6bbd-r8z7k   680m         98Mi
        user-9c7f9969b-gb6sc             73m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.29647, 9.548552, 9.619491, 9.536384, 9.611916, 9.62667, 9.664166, 9.667932]
    [exp] Throughput: 2089.5480792018643
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1410.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-4v82l:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:45:40.166626Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   689.46ms  228.89ms   1.57s    71.91%
        Req/Sec   143.70     84.01   363.00     65.28%
        Latency Distribution
        50%  706.03ms
        75%  835.19ms
        90%  959.70ms
        99%    1.20s
        3290 requests in 3.03s, 250.61KB read
        Requests/sec:   1084.91
        Transfer/sec:     82.64KB
        [run.sh] Speed is 1084.91, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   718.69ms  265.69ms   1.72s    69.49%
        Req/Sec   171.62     82.92   560.00     69.14%
        Latency Distribution
        50%  774.12ms
        75%  894.33ms
        90%    1.01s
        99%    1.24s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 14.056134
        stop time: 14.311357
        stop time: 14.553618
        stop time: 14.797619
        stop time: 14.937547
        stop time: 15.130123
        stop time: 15.226310
        stop time: 15.130110
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.056134, 14.311357, 14.553618, 14.797619, 14.937547, 15.130123, 15.22631, 15.13011]
    [exp] Throughput: 1354.293072643654
[test.py] Finished running 3th optmization experiment: groundtruth->2089.5480792018643, slowdown->1354.293072643654, predicted->2181.5360298809355, err->4.402289260279067
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '400', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-r6tf7:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:47:13.810830Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   358.53ms  158.30ms 977.55ms   65.07%
        Req/Sec   241.69     91.41   500.00     69.40%
        Latency Distribution
        50%  357.19ms
        75%  472.78ms
        90%  564.81ms
        99%  739.01ms
        5632 requests in 3.03s, 429.00KB read
        Requests/sec:   1858.38
        Transfer/sec:    141.56KB
        [run.sh] Speed is 1858.38, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   476.56ms  133.50ms   1.16s    69.76%
        Req/Sec   263.28     77.89     0.99k    75.13%
        Latency Distribution
        50%  473.75ms
        75%  561.19ms
        90%  646.62ms
        99%  809.44ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.391336
        stop time: 9.548701
        stop time: 9.638778
        stop time: 9.715972
        stop time: 9.556905
        stop time: 9.606633
        stop time: 9.740929
        stop time: 9.638739
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-wkt67        38m          82Mi
        profile-68bf76cf46-r2pzs         134m         403Mi
        rate-76545fd9c7-qqbsh            162m         175Mi
        reservation-58f789445d-bgrlr     135m         181Mi
        search-f6d7d66d4-fgqb9           261m         84Mi
        ubuntu-client-76886f6bbd-r6tf7   725m         103Mi
        user-9c7f9969b-wksnx             36m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.391336, 9.548701, 9.638778, 9.715972, 9.556905, 9.606633, 9.740929, 9.638739]
    [exp] Throughput: 2082.303216847426
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1209.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-9h5s2:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:48:47.435774Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   659.62ms  264.88ms   1.72s    70.53%
        Req/Sec   151.39     78.59   370.00     63.76%
        Latency Distribution
        50%  688.22ms
        75%  811.68ms
        90%  952.40ms
        99%    1.28s
        3414 requests in 3.03s, 260.05KB read
        Requests/sec:   1125.60
        Transfer/sec:     85.74KB
        [run.sh] Speed is 1125.60, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   713.83ms  240.50ms   1.68s    70.98%
        Req/Sec   180.03     74.33   525.00     70.43%
        Latency Distribution
        50%  752.93ms
        75%  862.20ms
        90%  970.23ms
        99%    1.25s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 13.832673
        stop time: 14.230595
        stop time: 14.614649
        stop time: 14.346756
        stop time: 14.303134
        stop time: 14.399910
        stop time: 14.532861
        stop time: 14.442921
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [13.832673, 14.230595, 14.614649, 14.346756, 14.303134, 14.39991, 14.532861, 14.442921]
    [exp] Throughput: 1394.9007780486277
[test.py] Finished running 4th optmization experiment: groundtruth->2082.303216847426, slowdown->1394.9007780486277, predicted->2096.8894231180666, err->0.7004842595750221
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-27r8t:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:50:20.012876Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   434.51ms  149.17ms   1.17s    71.23%
        Req/Sec   237.06     77.71   430.00     71.12%
        Latency Distribution
        50%  442.64ms
        75%  525.82ms
        90%  611.02ms
        99%  808.13ms
        5531 requests in 3.03s, 421.31KB read
        Requests/sec:   1823.21
        Transfer/sec:    138.88KB
        [run.sh] Speed is 1823.21, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   477.50ms  151.03ms   5.52s    73.39%
        Req/Sec   253.38     88.54   656.00     72.99%
        Latency Distribution
        50%  474.87ms
        75%  564.33ms
        90%  652.33ms
        99%  840.88ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.461528
        stop time: 9.447768
        stop time: 9.724131
        stop time: 9.883936
        stop time: 10.044554
        stop time: 10.177907
        stop time: 10.246098
        stop time: 10.296902
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-rrjwn        616m         63Mi
        profile-5f4bff8f45-ntpvb         393m         329Mi
        rate-76545fd9c7-f7zn8            24m          147Mi
        reservation-58f789445d-rhzsm     30m          159Mi
        search-f6d7d66d4-xq2p5           1m           192Mi
        ubuntu-client-76886f6bbd-27r8t   115m         93Mi
        user-9c7f9969b-tkbnz             9m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.461528, 9.447768, 9.724131, 9.883936, 10.044554, 10.177907, 10.246098, 10.296902]
    [exp] Throughput: 2018.0915856377671
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-w7gzl:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:51:52.585760Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   607.32ms  212.28ms   1.35s    67.86%
        Req/Sec   164.29     70.44   360.00     69.64%
        Latency Distribution
        50%  611.61ms
        75%  748.29ms
        90%  875.39ms
        99%    1.09s
        3818 requests in 3.04s, 290.82KB read
        Requests/sec:   1257.39
        Transfer/sec:     95.78KB
        [run.sh] Speed is 1257.39, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   672.94ms  253.87ms   1.57s    69.67%
        Req/Sec   187.37     70.23   393.00     66.98%
        Latency Distribution
        50%  732.32ms
        75%  832.37ms
        90%  933.72ms
        99%    1.15s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 13.423736
        stop time: 13.655084
        stop time: 13.497669
        stop time: 13.648465
        stop time: 13.450905
        stop time: 13.536345
        stop time: 13.687224
        stop time: 13.697565
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-54487c877f-bq7sq        152m         70Mi
        profile-7f8fc7d487-rl48z         362m         326Mi
        rate-84cb955d5b-mjtl5            85m          180Mi
        reservation-785bb5647b-zm948     0m           95Mi
        search-64c7c6ffc7-m4kdd          0m           82Mi
        ubuntu-client-76886f6bbd-w7gzl   5m           69Mi
        user-7548867745-ct7w2            0m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.423736, 13.655084, 13.497669, 13.648465, 13.450905, 13.536345, 13.687224, 13.697565]
    [exp] Throughput: 1473.3372958126015
[test.py] Finished running 5th optmization experiment: groundtruth->2018.0915856377671, slowdown->1473.3372958126015, predicted->2088.8548457770403, err->3.5064444370551295
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '600', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-6hxsz:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:53:25.133978Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   330.96ms  154.45ms 944.73ms   68.45%
        Req/Sec   245.10     97.63   640.00     68.10%
        Latency Distribution
        50%  312.53ms
        75%  426.11ms
        90%  545.92ms
        99%  736.27ms
        5706 requests in 3.03s, 434.64KB read
        Requests/sec:   1883.93
        Transfer/sec:    143.50KB
        [run.sh] Speed is 1883.93, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.01ms  127.81ms   1.03s    71.22%
        Req/Sec   270.01     96.67     1.51k    78.27%
        Latency Distribution
        50%  458.86ms
        75%  531.80ms
        90%  599.19ms
        99%  754.32ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 8.798216
        stop time: 8.972578
        stop time: 9.044264
        stop time: 9.455227
        stop time: 9.550429
        stop time: 9.626342
        stop time: 9.820606
        stop time: 9.636653
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-wdn9t        631m         78Mi
        profile-6c59b85884-bd7pt         416m         321Mi
        rate-76545fd9c7-wq5nm            7m           137Mi
        reservation-58f789445d-b8rr7     98m          148Mi
        search-f6d7d66d4-rrk2w           157m         173Mi
        ubuntu-client-76886f6bbd-6hxsz   349m         61Mi
        user-9c7f9969b-h59c5             27m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.798216, 8.972578, 9.044264, 9.455227, 9.550429, 9.626342, 9.820606, 9.636653]
    [exp] Throughput: 2136.058516789053
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '806.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-stl8l:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:54:57.707080Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   533.00ms  316.32ms   1.68s    65.63%
        Req/Sec   166.79     79.31   424.00     66.96%
        Latency Distribution
        50%  428.98ms
        75%  784.05ms
        90%  960.42ms
        99%    1.41s
        3826 requests in 3.03s, 291.43KB read
        Requests/sec:   1262.06
        Transfer/sec:     96.13KB
        [run.sh] Speed is 1262.06, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   598.56ms  228.12ms   1.26s    67.42%
        Req/Sec   200.56     72.38   444.00     70.52%
        Latency Distribution
        50%  654.67ms
        75%  755.32ms
        90%  844.94ms
        99%    1.02s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.109040
        stop time: 12.136527
        stop time: 12.419380
        stop time: 12.588254
        stop time: 12.652487
        stop time: 12.970203
        stop time: 12.845795
        stop time: 12.866600
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-79d55fccf4-hdczj        586m         69Mi
        profile-7f8fc7d487-nszf7         856m         327Mi
        rate-5668bc9b5f-7sx4m            147m         170Mi
        reservation-55df4f99bf-9pgjk     1m           173Mi
        search-856648d7c8-k58ml          0m           84Mi
        ubuntu-client-76886f6bbd-stl8l   726m         66Mi
        user-74668d8df4-nbrwb            2m           12Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.10904, 12.136527, 12.41938, 12.588254, 12.652487, 12.970203, 12.845795, 12.8666]
    [exp] Throughput: 1590.6424730211627
[test.py] Finished running 6th optmization experiment: groundtruth->2136.058516789053, slowdown->1590.6424730211627, predicted->2133.6665836048046, err->-0.1119788229324392
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '700', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-2vwz6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:56:30.281923Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.81ms  137.03ms   1.05s    71.36%
        Req/Sec   245.70     87.61   480.00     70.54%
        Latency Distribution
        50%  444.88ms
        75%  536.65ms
        90%  619.83ms
        99%  851.12ms
        5552 requests in 3.04s, 422.91KB read
        Requests/sec:   1825.15
        Transfer/sec:    139.03KB
        [run.sh] Speed is 1825.15, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.91ms  147.46ms   1.08s    67.97%
        Req/Sec   266.19     88.27   777.00     73.93%
        Latency Distribution
        50%  468.62ms
        75%  550.17ms
        90%  632.39ms
        99%  783.96ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.823746
        stop time: 9.332469
        stop time: 9.143694
        stop time: 9.361921
        stop time: 9.773040
        stop time: 9.685072
        stop time: 9.923129
        stop time: 9.857413
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-hlnc5        22m          74Mi
        profile-54b8cc7cbc-cb282         1m           322Mi
        rate-76545fd9c7-6hppx            3m           138Mi
        reservation-58f789445d-x49pj     92m          148Mi
        search-f6d7d66d4-plvrx           3m           84Mi
        ubuntu-client-76886f6bbd-2vwz6   8m           71Mi
        user-9c7f9969b-mk52r             30m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.823746, 9.332469, 9.143694, 9.361921, 9.77304, 9.685072, 9.923129, 9.857413]
    [exp] Throughput: 2108.0234481772213
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mdxt2:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:58:03.925937Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   516.39ms  194.20ms   1.25s    67.24%
        Req/Sec   198.87     80.18   410.00     71.00%
        Latency Distribution
        50%  528.92ms
        75%  651.32ms
        90%  753.30ms
        99%  945.23ms
        4591 requests in 3.03s, 349.71KB read
        Requests/sec:   1512.92
        Transfer/sec:    115.24KB
        [run.sh] Speed is 1512.92, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   558.16ms  223.30ms   1.21s    68.44%
        Req/Sec   215.63     76.27   540.00     70.84%
        Latency Distribution
        50%  627.64ms
        75%  713.99ms
        90%  786.20ms
        99%  934.25ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.100037
        stop time: 11.350667
        stop time: 11.599189
        stop time: 11.855654
        stop time: 11.342488
        stop time: 12.040807
        stop time: 12.035007
        stop time: 12.067529
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c7589854-xhzn8         1276m        58Mi
        profile-7f8fc7d487-7x56d         1619m        329Mi
        rate-76c7d5bdcf-mx5c8            194m         179Mi
        reservation-5fd76d4785-bb4cz     205m         176Mi
        search-6d577b5598-mkh5m          351m         79Mi
        ubuntu-client-76886f6bbd-mdxt2   753m         97Mi
        user-56f9799859-x6n7h            32m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.100037, 11.350667, 11.599189, 11.855654, 11.342488, 12.040807, 12.035007, 12.067529]
    [exp] Throughput: 1713.2202503747187
[test.py] Finished running 7th optmization experiment: groundtruth->2108.0234481772213, slowdown->1713.2202503747187, predicted->2156.5848258001083, err->2.3036450408024325
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '800', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-d2mqj:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:59:37.578619Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   437.24ms  134.98ms 942.92ms   70.59%
        Req/Sec   241.03     80.26   424.00     71.55%
        Latency Distribution
        50%  441.76ms
        75%  528.54ms
        90%  601.93ms
        99%  739.07ms
        5590 requests in 3.03s, 425.80KB read
        Requests/sec:   1842.83
        Transfer/sec:    140.37KB
        [run.sh] Speed is 1842.83, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   476.67ms  158.89ms   1.08s    69.53%
        Req/Sec   262.78     74.21   606.00     70.18%
        Latency Distribution
        50%  508.40ms
        75%  579.84ms
        90%  647.75ms
        99%  791.79ms
        20000 requests in 16.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.370226
        stop time: 9.576972
        stop time: 9.595754
        stop time: 9.667175
        stop time: 9.750626
        stop time: 9.580500
        stop time: 9.773598
        stop time: 9.684533
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-l6cnc   3m           3Mi
        profile-55d884cb54-k7gbr    113m         316Mi
        user-9c7f9969b-mfg92        3m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.370226, 9.576972, 9.595754, 9.667175, 9.750626, 9.5805, 9.773598, 9.684533]
    [exp] Throughput: 2077.9387014316894
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '403.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-k9vth:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:01:11.270863Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   516.73ms  219.64ms   1.27s    67.94%
        Req/Sec   203.59     71.42   373.00     66.81%
        Latency Distribution
        50%  545.17ms
        75%  657.49ms
        90%  769.34ms
        99%    1.02s
        4666 requests in 3.04s, 355.42KB read
        Requests/sec:   1534.89
        Transfer/sec:    116.92KB
        [run.sh] Speed is 1534.89, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   547.25ms  215.66ms   1.24s    72.85%
        Req/Sec   229.53     65.55   464.00     68.66%
        Latency Distribution
        50%  620.81ms
        75%  683.38ms
        90%  741.25ms
        99%  881.64ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.659255
        stop time: 10.942209
        stop time: 11.157219
        stop time: 11.106522
        stop time: 11.226463
        stop time: 10.923176
        stop time: 11.261025
        stop time: 11.361111
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-55b87fd889-dpkmp        1269m        80Mi
        profile-7f8fc7d487-ngzwf         1170m        333Mi
        rate-5c76777d7b-5g2hh            69m          176Mi
        reservation-c7d849fd6-tlhxt      37m          180Mi
        search-84bcddf5cc-n7kgl          111m         70Mi
        ubuntu-client-76886f6bbd-k9vth   204m         102Mi
        user-968bc9bc9-8rmv8             8m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.659255, 10.942209, 11.157219, 11.106522, 11.226463, 10.923176, 11.261025, 11.361111]
    [exp] Throughput: 1805.115652631667
[test.py] Finished running 8th optmization experiment: groundtruth->2077.9387014316894, slowdown->1805.115652631667, predicted->2109.7886545587658, err->1.5327667320085945
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '900', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-bd5nd:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:02:43.863079Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   382.37ms  206.82ms   1.52s    74.24%
        Req/Sec   246.31     87.40   484.00     68.97%
        Latency Distribution
        50%  362.77ms
        75%  508.95ms
        90%  615.74ms
        99%    1.07s
        5745 requests in 3.03s, 437.61KB read
        Requests/sec:   1894.56
        Transfer/sec:    144.31KB
        [run.sh] Speed is 1894.56, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   497.42ms  204.99ms   1.05s    73.00%
        Req/Sec   252.89     74.99   636.00     72.21%
        Latency Distribution
        50%  568.99ms
        75%  625.57ms
        90%  678.96ms
        99%  787.94ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.842856
        stop time: 9.975423
        stop time: 10.026082
        stop time: 10.137950
        stop time: 9.986415
        stop time: 10.054096
        stop time: 10.110842
        stop time: 10.082819
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.842856, 9.975423, 10.026082, 10.13795, 9.986415, 10.054096, 10.110842, 10.082819]
    [exp] Throughput: 1994.6025307541843
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '201.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mfd8t:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:04:16.446007Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   471.20ms  198.56ms   1.14s    64.85%
        Req/Sec   220.92     80.70   410.00     68.53%
        Latency Distribution
        50%  507.39ms
        75%  625.41ms
        90%  700.56ms
        99%  840.96ms
        5138 requests in 3.03s, 391.37KB read
        Requests/sec:   1697.31
        Transfer/sec:    129.29KB
        [run.sh] Speed is 1697.31, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   518.00ms  235.07ms   1.06s    73.88%
        Req/Sec   235.91     84.52   650.00     70.53%
        Latency Distribution
        50%  612.82ms
        75%  672.97ms
        90%  724.34ms
        99%  831.05ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 10.150616
        stop time: 10.362112
        stop time: 10.803810
        stop time: 10.637866
        stop time: 10.474812
        stop time: 11.007633
        stop time: 11.234817
        stop time: 11.149801
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c68449469-ml8zk        639m         78Mi
        profile-7f8fc7d487-d4msp         472m         381Mi
        rate-6799c47946-fbgks            15m          164Mi
        reservation-7ccbb44bc8-qvcst     76m          172Mi
        search-f546798d9-s9x4f           81m          81Mi
        ubuntu-client-76886f6bbd-mfd8t   239m         99Mi
        user-69bcf87754-s45tw            28m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.150616, 10.362112, 10.80381, 10.637866, 10.474812, 11.007633, 11.234817, 11.149801]
    [exp] Throughput: 1864.3354115585091
[test.py] Finished running 9th optmization experiment: groundtruth->1994.6025307541843, slowdown->1864.3354115585091, predicted->2014.5686807824893, err->1.0010089589506128
[test.py] Baseline throughput:  1907.6839314923993
[test.py] Groundtruth:  [2109.99949597387, 2106.656600359211, 2103.157316285561, 2089.5480792018643, 2082.303216847426, 2018.0915856377671, 2136.058516789053, 2108.0234481772213, 2077.9387014316894, 1994.6025307541843]
[test.py] Slowdown:  [1159.0691506957744, 1227.9530432598187, 1277.6801825319462, 1354.293072643654, 1394.9007780486277, 1473.3372958126015, 1590.6424730211627, 1713.2202503747187, 1805.115652631667, 1864.3354115585091]
[test.py] Predicted:  [2160.9413179232647, 2200.8815576056954, 2161.3748375659266, 2181.5360298809355, 2096.8894231180666, 2088.8548457770403, 2133.6665836048046, 2156.5848258001083, 2109.7886545587658, 2014.5686807824893]
[test.py] Error percentage:  [2.414304934508166, 4.472725038832518, 2.768101122515402, 4.402289260279067, 0.7004842595750221, 3.5064444370551295, -0.1119788229324392, 2.3036450408024325, 1.5327667320085945, 1.0010089589506128]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-5ngtq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:05:49.053171Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   426.46ms  199.75ms 973.10ms   66.47%
        Req/Sec   232.72     86.51   420.00     65.95%
        Latency Distribution
        50%  462.04ms
        75%  577.40ms
        90%  643.43ms
        99%  797.19ms
        5428 requests in 3.03s, 413.46KB read
        Requests/sec:   1791.86
        Transfer/sec:    136.49KB
        [run.sh] Speed is 1791.86, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   513.28ms  250.96ms   1.03s    76.24%
        Req/Sec   242.97     67.92   520.00     69.60%
        Latency Distribution
        50%  622.99ms
        75%  666.78ms
        90%  710.18ms
        99%  797.05ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 10.187357
        stop time: 10.205526
        stop time: 10.420275
        stop time: 10.261047
        stop time: 10.579484
        stop time: 10.285455
        stop time: 10.584987
        stop time: 10.794888
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [10.187357, 10.205526, 10.420275, 10.261047, 10.579484, 10.285455, 10.584987, 10.794888]
    [exp] Throughput: 1920.329858900523
[test.py] Baseline throughput: 1920.329858900523
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-6dpzr:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:07:21.609043Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   323.81ms  145.22ms 912.34ms   66.41%
        Req/Sec   241.18    104.84   480.00     64.22%
        Latency Distribution
        50%  310.04ms
        75%  417.09ms
        90%  523.30ms
        99%  701.08ms
        5623 requests in 3.03s, 428.31KB read
        Requests/sec:   1856.50
        Transfer/sec:    141.41KB
        [run.sh] Speed is 1856.50, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.41ms  108.60ms 960.36ms   70.61%
        Req/Sec   267.41     69.96   760.00     71.95%
        Latency Distribution
        50%  466.43ms
        75%  533.13ms
        90%  599.38ms
        99%  722.37ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.011087
        stop time: 9.488670
        stop time: 9.495374
        stop time: 9.571675
        stop time: 9.619488
        stop time: 9.573603
        stop time: 9.646326
        stop time: 9.559348
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-j6n2t        61m          63Mi
        profile-685b9b8798-t2rcv         62m          325Mi
        rate-76545fd9c7-spw8w            73m          139Mi
        reservation-58f789445d-v5b29     97m          148Mi
        search-f6d7d66d4-chkvm           170m         180Mi
        ubuntu-client-76886f6bbd-6dpzr   334m         78Mi
        user-9c7f9969b-p4b4n             29m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.011087, 9.48867, 9.495374, 9.571675, 9.619488, 9.573603, 9.646326, 9.559348]
    [exp] Throughput: 2106.2173020459495
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-dd5t5:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:08:54.198988Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   796.04ms  264.63ms   1.49s    70.07%
        Req/Sec   136.50     75.98   353.00     67.51%
        Latency Distribution
        50%  812.05ms
        75%  956.96ms
        90%    1.11s
        99%    1.31s
        2887 requests in 3.03s, 219.91KB read
        Requests/sec:    951.30
        Transfer/sec:     72.46KB
        [run.sh] Speed is 951.30, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-66844fd9bf-g5tfd        1035m        78Mi
        profile-7f8fc7d487-qqshn         187m         321Mi
        rate-7b654596d-2pchx             69m          176Mi
        reservation-866469c858-sjcnx     115m         92Mi
        search-d865f74b5-g7wlb           150m         84Mi
        ubuntu-client-76886f6bbd-dd5t5   420m         100Mi
        user-7cfffb7cfb-47dbq            35m          10Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   878.27ms  253.83ms   1.83s    71.17%
        Req/Sec   147.50     77.83   616.00     68.07%
        Latency Distribution
        50%  894.91ms
        75%    1.04s
        90%    1.18s
        99%    1.47s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 17.224692
        stop time: 17.634289
        stop time: 17.551839
        stop time: 17.537891
        stop time: 17.599423
        stop time: 17.841528
        stop time: 17.850484
        stop time: 17.747078
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.224692, 17.634289, 17.551839, 17.537891, 17.599423, 17.841528, 17.850484, 17.747078]
    [exp] Throughput: 1134.8546021446596
[test.py] Finished running 0th optmization experiment: groundtruth->2106.2173020459495, slowdown->1134.8546021446596, predicted->2078.2669082859775, err->-1.327042263531945
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '100', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-75n7f:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:10:28.514979Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   439.61ms  135.55ms 995.73ms   69.18%
        Req/Sec   242.11     84.56   450.00     68.10%
        Latency Distribution
        50%  439.22ms
        75%  526.18ms
        90%  608.66ms
        99%  793.23ms
        5623 requests in 3.04s, 428.31KB read
        Requests/sec:   1852.22
        Transfer/sec:    141.09KB
        [run.sh] Speed is 1852.22, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   486.11ms  133.10ms   1.17s    73.06%
        Req/Sec   258.97     79.12     0.85k    71.34%
        Latency Distribution
        50%  491.85ms
        75%  567.31ms
        90%  639.91ms
        99%  814.43ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.552446
        stop time: 9.764253
        stop time: 9.773023
        stop time: 9.778307
        stop time: 9.755388
        stop time: 9.852158
        stop time: 9.844632
        stop time: 9.895988
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-sqrwx        1m           77Mi
        profile-6cb5c8dd85-f46vs         195m         340Mi
        rate-76545fd9c7-d22wl            55m          138Mi
        reservation-58f789445d-826rm     17m          148Mi
        search-f6d7d66d4-whjhq           77m          84Mi
        ubuntu-client-76886f6bbd-75n7f   1m           72Mi
        user-9c7f9969b-b2wkx             0m           9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.552446, 9.764253, 9.773023, 9.778307, 9.755388, 9.852158, 9.844632, 9.895988]
    [exp] Throughput: 2045.6121651021247
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1813.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mb867:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:12:01.089951Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   688.68ms  310.16ms   1.85s    68.43%
        Req/Sec   136.43     78.69   420.00     69.27%
        Latency Distribution
        50%  697.20ms
        75%  890.31ms
        90%    1.10s
        99%    1.46s
        3092 requests in 3.03s, 235.52KB read
        Requests/sec:   1019.27
        Transfer/sec:     77.64KB
        [run.sh] Speed is 1019.27, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   829.04ms  256.32ms   1.81s    68.89%
        Req/Sec   150.92     81.09   555.00     68.97%
        Latency Distribution
        50%  856.76ms
        75%    1.01s
        90%    1.13s
        99%    1.35s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 16.096008
        stop time: 16.592944
        stop time: 16.808773
        stop time: 17.072656
        stop time: 17.224048
        stop time: 17.248612
        stop time: 17.451838
        stop time: 17.417913
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7f786bd9f6-tdwvm        1089m        64Mi
        profile-7f8fc7d487-wrxsf         1168m        326Mi
        rate-596fc59fd6-q4xb5            136m         180Mi
        reservation-6dc464d459-pznk9     178m         178Mi
        search-687c8cd495-2l56h          271m         85Mi
        ubuntu-client-76886f6bbd-mb867   590m         99Mi
        user-5ccd7fb86-f9zsm             49m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.096008, 16.592944, 16.808773, 17.072656, 17.224048, 17.248612, 17.451838, 17.417913]
    [exp] Throughput: 1177.225466753711
[test.py] Finished running 1th optmization experiment: groundtruth->2045.6121651021247, slowdown->1177.225466753711, predicted->2043.0889502700925, err->-0.12334766458070084
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '200', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-dcz48:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:13:34.679683Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   464.75ms  134.63ms 949.15ms   70.16%
        Req/Sec   231.13     89.05   520.00     71.98%
        Latency Distribution
        50%  470.76ms
        75%  556.41ms
        90%  625.48ms
        99%  749.42ms
        5396 requests in 3.03s, 411.02KB read
        Requests/sec:   1778.88
        Transfer/sec:    135.50KB
        [run.sh] Speed is 1778.88, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   446.65ms  130.54ms   1.12s    72.24%
        Req/Sec   269.12     91.41     0.90k    76.93%
        Latency Distribution
        50%  453.20ms
        75%  526.75ms
        90%  596.75ms
        99%  766.79ms
        20000 requests in 16.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.731267
        stop time: 9.061919
        stop time: 9.016391
        stop time: 9.263037
        stop time: 9.613087
        stop time: 9.543367
        stop time: 9.787979
        stop time: 9.817834
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        rate-76545fd9c7-lxxp2            1m           122Mi
        reservation-58f789445d-cxth7     3m           126Mi
        search-f6d7d66d4-v2bvx           3m           177Mi
        ubuntu-client-76886f6bbd-dcz48   7m           52Mi
        user-9c7f9969b-l9wl6             4m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.731267, 9.061919, 9.016391, 9.263037, 9.613087, 9.543367, 9.787979, 9.817834]
    [exp] Throughput: 2138.0404146029177
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1612.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-vp9xp:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:15:08.335549Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   542.53ms  241.35ms   1.31s    60.92%
        Req/Sec   140.44     95.03   470.00     72.25%
        Latency Distribution
        50%  520.49ms
        75%  732.76ms
        90%  852.59ms
        99%    1.08s
        3127 requests in 3.03s, 238.19KB read
        Requests/sec:   1032.88
        Transfer/sec:     78.68KB
        [run.sh] Speed is 1032.88, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   762.80ms  267.15ms   1.53s    68.22%
        Req/Sec   160.92     78.12   460.00     64.27%
        Latency Distribution
        50%  819.01ms
        75%  943.62ms
        90%    1.06s
        99%    1.25s
        20001 requests in 29.00s, 1.49MB read
        Requests/sec:    689.69
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 15.269707
        stop time: 15.244968
        stop time: 15.482499
        stop time: 15.733041
        stop time: 15.995377
        stop time: 16.110166
        stop time: 16.130431
        stop time: 16.068248
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5f879cd496-l7kd4        677m         80Mi
        profile-7f8fc7d487-49f7n         556m         397Mi
        rate-698d74565-n8p72             156m         169Mi
        reservation-67cbc8f65f-554mb     174m         176Mi
        search-6bf7f67f5b-xvwdb          295m         85Mi
        ubuntu-client-76886f6bbd-vp9xp   514m         105Mi
        user-67668d8d48-2v4pr            41m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.269707, 15.244968, 15.482499, 15.733041, 15.995377, 16.110166, 16.130431, 16.068248]
    [exp] Throughput: 1269.494304957303
[test.py] Finished running 2th optmization experiment: groundtruth->2138.0404146029177, slowdown->1269.494304957303, predicted->2138.05309980484, err->0.0005933097351868214
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '300', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-hv2l6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:16:41.953811Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   313.47ms  123.08ms 730.64ms   63.40%
        Req/Sec   233.00     98.14   626.00     72.41%
        Latency Distribution
        50%  306.64ms
        75%  403.69ms
        90%  480.23ms
        99%  604.21ms
        5423 requests in 3.03s, 413.08KB read
        Requests/sec:   1792.21
        Transfer/sec:    136.52KB
        [run.sh] Speed is 1792.21, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   478.34ms  116.75ms   1.17s    70.78%
        Req/Sec   264.14     77.46   710.00     75.30%
        Latency Distribution
        50%  475.50ms
        75%  550.47ms
        90%  626.59ms
        99%  774.29ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.447802
        stop time: 9.582447
        stop time: 9.574136
        stop time: 9.660758
        stop time: 9.599556
        stop time: 9.669062
        stop time: 9.746468
        stop time: 9.632028
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.447802, 9.582447, 9.574136, 9.660758, 9.599556, 9.669062, 9.746468, 9.632028]
    [exp] Throughput: 2080.2926118784944
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1410.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-4kzkq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:18:15.537084Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   696.97ms  313.01ms   1.61s    65.63%
        Req/Sec   150.56     72.45   370.00     68.98%
        Latency Distribution
        50%  769.97ms
        75%  907.45ms
        90%    1.04s
        99%    1.27s
        3343 requests in 3.03s, 254.64KB read
        Requests/sec:   1101.75
        Transfer/sec:     83.92KB
        [run.sh] Speed is 1101.75, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   739.06ms  247.44ms   1.62s    70.69%
        Req/Sec   168.39     74.51   380.00     66.86%
        Latency Distribution
        50%  777.11ms
        75%  899.84ms
        90%    1.01s
        99%    1.25s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 14.691396
        stop time: 15.152363
        stop time: 15.172625
        stop time: 15.028344
        stop time: 15.289043
        stop time: 15.285978
        stop time: 15.315434
        stop time: 15.260946
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-6df4c59dff-rdqbr        36m          79Mi
        profile-7f8fc7d487-n6m75         229m         377Mi
        rate-c94447df-fqr94              72m          155Mi
        reservation-86f4b566bd-vbsmm     51m          171Mi
        search-7b9888f7b4-wkt2c          130m         83Mi
        ubuntu-client-76886f6bbd-4kzkq   99m          98Mi
        user-84dd8ddf89-vlz6w            11m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.691396, 15.152363, 15.172625, 15.028344, 15.289043, 15.285978, 15.315434, 15.260946]
    [exp] Throughput: 1320.1741781703274
[test.py] Finished running 3th optmization experiment: groundtruth->2080.2926118784944, slowdown->1320.1741781703274, predicted->2094.3469531028195, err->0.6755944401318653
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '400', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-rl2n9:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:19:48.153226Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   370.67ms  144.06ms 883.82ms   65.31%
        Req/Sec   247.17     90.76   494.00     68.53%
        Latency Distribution
        50%  368.41ms
        75%  480.56ms
        90%  552.69ms
        99%  705.39ms
        5766 requests in 3.04s, 439.21KB read
        Requests/sec:   1898.97
        Transfer/sec:    144.65KB
        [run.sh] Speed is 1898.97, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   432.79ms  121.61ms   1.03s    70.55%
        Req/Sec   277.98     88.34   666.00     72.69%
        Latency Distribution
        50%  437.07ms
        75%  510.15ms
        90%  578.29ms
        99%  732.23ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 8.579313
        stop time: 8.518001
        stop time: 8.852090
        stop time: 9.032007
        stop time: 9.218031
        stop time: 9.245428
        stop time: 9.391878
        stop time: 9.376396
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [8.579313, 8.518001, 8.85209, 9.032007, 9.218031, 9.245428, 9.391878, 9.376396]
    [exp] Throughput: 2215.6631208301915
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1209.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-vxjwl:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:21:20.695742Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   634.84ms  234.41ms   1.47s    68.70%
        Req/Sec   164.53     85.54   390.00     67.41%
        Latency Distribution
        50%  669.47ms
        75%  802.35ms
        90%  912.76ms
        99%    1.12s
        3706 requests in 3.03s, 282.29KB read
        Requests/sec:   1224.01
        Transfer/sec:     93.24KB
        [run.sh] Speed is 1224.01, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   699.16ms  230.09ms   1.53s    70.85%
        Req/Sec   180.89     74.60   454.00     67.09%
        Latency Distribution
        50%  735.08ms
        75%  842.24ms
        90%  953.80ms
        99%    1.16s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.826650
        stop time: 14.074965
        stop time: 14.167486
        stop time: 13.982513
        stop time: 14.182225
        stop time: 14.051380
        stop time: 14.283815
        stop time: 14.244073
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-8679cfbdc5-g9vn5        428m         77Mi
        profile-7f8fc7d487-5lfws         478m         327Mi
        rate-cc7959678-99mbg             10m          137Mi
        reservation-79c4d564b8-x692r     31m          146Mi
        search-85f59bdf6c-hrm6w          2m           170Mi
        ubuntu-client-76886f6bbd-vxjwl   245m         88Mi
        user-546f4bdcf6-qx464            14m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.82665, 14.074965, 14.167486, 13.982513, 14.182225, 14.05138, 14.283815, 14.244073]
    [exp] Throughput: 1418.2749172930767
[test.py] Finished running 4th optmization experiment: groundtruth->2215.6631208301915, slowdown->1418.2749172930767, predicted->2150.1588423125513, err->-2.9564186857565344
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-9wpjh:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:22:53.240093Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   335.34ms  153.19ms   1.02s    66.34%
        Req/Sec   242.03    106.46   555.00     65.95%
        Latency Distribution
        50%  317.23ms
        75%  429.07ms
        90%  544.11ms
        99%  752.35ms
        5630 requests in 3.02s, 428.85KB read
        Requests/sec:   1863.38
        Transfer/sec:    141.94KB
        [run.sh] Speed is 1863.38, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   446.68ms  127.37ms 987.72ms   70.73%
        Req/Sec   270.26     97.26   777.00     76.49%
        Latency Distribution
        50%  453.60ms
        75%  528.91ms
        90%  596.81ms
        99%  753.52ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.719060
        stop time: 8.792330
        stop time: 9.011963
        stop time: 9.256976
        stop time: 9.394701
        stop time: 9.742084
        stop time: 9.757570
        stop time: 9.812553
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-wghfp        0m           47Mi
        profile-5f4bff8f45-vvf9d         0m           330Mi
        rate-76545fd9c7-qnf9k            29m          169Mi
        reservation-58f789445d-6rvdk     0m           176Mi
        search-f6d7d66d4-26pjs           0m           81Mi
        ubuntu-client-76886f6bbd-9wpjh   5m           69Mi
        user-9c7f9969b-kxwcl             0m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.71906, 8.79233, 9.011963, 9.256976, 9.394701, 9.742084, 9.75757, 9.812553]
    [exp] Throughput: 2148.018995522683
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-nmwrt:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:24:25.773812Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   521.48ms  306.53ms   1.83s    72.34%
        Req/Sec   169.59     82.29   470.00     68.40%
        Latency Distribution
        50%  465.96ms
        75%  700.09ms
        90%  900.22ms
        99%    1.53s
        3963 requests in 3.03s, 301.87KB read
        Requests/sec:   1307.00
        Transfer/sec:     99.56KB
        [run.sh] Speed is 1307.00, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   674.72ms  229.54ms   1.41s    70.65%
        Req/Sec   185.80     72.49   450.00     67.26%
        Latency Distribution
        50%  716.18ms
        75%  819.39ms
        90%  923.78ms
        99%    1.13s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 13.436182
        stop time: 13.864509
        stop time: 13.858034
        stop time: 13.582418
        stop time: 13.599634
        stop time: 13.667730
        stop time: 13.810795
        stop time: 13.703639
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-54487c877f-j6pmz        457m         74Mi
        profile-7f8fc7d487-g9d4f         488m         315Mi
        rate-84cb955d5b-fg2g7            0m           134Mi
        reservation-785bb5647b-nfhg8     69m          142Mi
        search-64c7c6ffc7-26svc          124m         179Mi
        ubuntu-client-76886f6bbd-nmwrt   259m         59Mi
        user-7548867745-bz5bd            21m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.436182, 13.864509, 13.858034, 13.582418, 13.599634, 13.66773, 13.810795, 13.703639]
    [exp] Throughput: 1460.8811500049108
[test.py] Finished running 5th optmization experiment: groundtruth->2148.018995522683, slowdown->1460.8811500049108, predicted->2063.905186466029, err->-3.9158782688598204
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '600', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-kr6hr:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:25:58.280123Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   386.14ms  198.70ms   1.42s    66.64%
        Req/Sec   244.55     82.98   520.00     69.40%
        Latency Distribution
        50%  359.79ms
        75%  532.15ms
        90%  637.56ms
        99%    1.01s
        5691 requests in 3.02s, 433.49KB read
        Requests/sec:   1881.66
        Transfer/sec:    143.33KB
        [run.sh] Speed is 1881.66, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   479.28ms  123.72ms   1.09s    72.22%
        Req/Sec   263.30     72.81   545.00     69.31%
        Latency Distribution
        50%  478.80ms
        75%  552.48ms
        90%  628.90ms
        99%  807.04ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.485264
        stop time: 9.567766
        stop time: 9.601108
        stop time: 9.629856
        stop time: 9.608108
        stop time: 9.727415
        stop time: 9.641842
        stop time: 9.711975
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-27cjc        0m           70Mi
        profile-6c59b85884-7fgmt         141m         326Mi
        rate-76545fd9c7-2wv48            130m         182Mi
        reservation-58f789445d-m7v2v     0m           182Mi
        search-f6d7d66d4-k9z59           305m         82Mi
        ubuntu-client-76886f6bbd-kr6hr   5m           72Mi
        user-9c7f9969b-f286b             0m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.485264, 9.567766, 9.601108, 9.629856, 9.608108, 9.727415, 9.641842, 9.711975]
    [exp] Throughput: 2078.6419359203023
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '806.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-klxmj:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:27:30.876232Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   573.16ms  224.40ms   1.28s    66.22%
        Req/Sec   176.26     81.52   400.00     63.20%
        Latency Distribution
        50%  585.18ms
        75%  729.71ms
        90%  857.62ms
        99%    1.02s
        4103 requests in 3.04s, 312.53KB read
        Requests/sec:   1347.85
        Transfer/sec:    102.67KB
        [run.sh] Speed is 1347.85, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   630.56ms  216.75ms   1.35s    70.67%
        Req/Sec   201.59     68.62   676.00     71.02%
        Latency Distribution
        50%  675.48ms
        75%  765.38ms
        90%  858.18ms
        99%    1.05s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.449646
        stop time: 12.508834
        stop time: 12.697426
        stop time: 12.793423
        stop time: 12.813696
        stop time: 12.695389
        stop time: 12.765818
        stop time: 12.763721
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-79d55fccf4-qbm56        223m         76Mi
        profile-7f8fc7d487-nzq4r         0m           310Mi
        rate-5668bc9b5f-x5vhf            3m           134Mi
        reservation-55df4f99bf-qqvpb     74m          143Mi
        search-856648d7c8-nv2jx          3m           83Mi
        ubuntu-client-76886f6bbd-klxmj   97m          77Mi
        user-74668d8df4-mmxr8            19m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.449646, 12.508834, 12.697426, 12.793423, 12.813696, 12.695389, 12.765818, 12.763721]
    [exp] Throughput: 1576.5417990054445
[test.py] Finished running 6th optmization experiment: groundtruth->2078.6419359203023, slowdown->1576.5417990054445, predicted->2108.3715355980153, err->1.4302415035493063
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '700', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-t4z4t:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:29:03.517121Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   430.32ms  144.21ms 884.86ms   72.29%
        Req/Sec   247.13     81.33   444.00     66.38%
        Latency Distribution
        50%  431.00ms
        75%  523.97ms
        90%  614.13ms
        99%  746.59ms
        5759 requests in 3.03s, 438.67KB read
        Requests/sec:   1899.56
        Transfer/sec:    144.69KB
        [run.sh] Speed is 1899.56, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.59ms  139.63ms   1.11s    71.81%
        Req/Sec   260.22     68.74   760.00     68.10%
        Latency Distribution
        50%  489.68ms
        75%  565.17ms
        90%  646.59ms
        99%  827.83ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.438450
        stop time: 9.636880
        stop time: 9.643333
        stop time: 9.771333
        stop time: 9.796943
        stop time: 9.781969
        stop time: 9.846372
        stop time: 9.923324
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-cd9pd        678m         66Mi
        profile-54b8cc7cbc-qb4sz         837m         323Mi
        rate-76545fd9c7-gjv87            228m         182Mi
        reservation-58f789445d-nphgh     262m         178Mi
        search-f6d7d66d4-gczhk           484m         82Mi
        ubuntu-client-76886f6bbd-t4z4t   462m         74Mi
        user-9c7f9969b-b8gv8             21m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.43845, 9.63688, 9.643333, 9.771333, 9.796943, 9.781969, 9.846372, 9.923324]
    [exp] Throughput: 2055.535322807177
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-cvlnq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:30:36.069109Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   395.13ms  189.17ms   1.01s    66.03%
        Req/Sec   198.49     87.46   434.00     64.22%
        Latency Distribution
        50%  375.19ms
        75%  532.20ms
        90%  665.29ms
        99%  835.59ms
        4645 requests in 3.02s, 353.82KB read
        Requests/sec:   1536.70
        Transfer/sec:    117.05KB
        [run.sh] Speed is 1536.70, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   564.58ms  200.50ms   1.30s    68.72%
        Req/Sec   215.58     71.64   595.00     70.73%
        Latency Distribution
        50%  612.77ms
        75%  701.66ms
        90%  775.59ms
        99%  929.65ms
        20000 requests in 19.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.166341
        stop time: 11.381636
        stop time: 11.505369
        stop time: 11.690510
        stop time: 11.774196
        stop time: 11.991444
        stop time: 12.225119
        stop time: 12.167559
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c7589854-76r2z         1m           3Mi
        profile-7f8fc7d487-pp7c5         2m           313Mi
        ubuntu-client-76886f6bbd-cvlnq   8m           1Mi
        user-56f9799859-sb266            3m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.166341, 11.381636, 11.505369, 11.69051, 11.774196, 11.991444, 12.225119, 12.167559]
    [exp] Throughput: 1703.9009128798234
[test.py] Finished running 7th optmization experiment: groundtruth->2055.535322807177, slowdown->1703.9009128798234, predicted->2141.8386029836297, err->4.19857928097246
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '800', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-h4v8m:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:32:08.653775Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   390.23ms  249.94ms   1.62s    76.60%
        Req/Sec   239.51     94.29   585.00     66.81%
        Latency Distribution
        50%  332.66ms
        75%  532.62ms
        90%  673.21ms
        99%    1.30s
        5591 requests in 3.03s, 425.88KB read
        Requests/sec:   1846.44
        Transfer/sec:    140.65KB
        [run.sh] Speed is 1846.44, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   450.84ms  161.00ms 993.08ms   67.40%
        Req/Sec   268.34     86.44   640.00     73.11%
        Latency Distribution
        50%  485.31ms
        75%  563.08ms
        90%  630.12ms
        99%  762.70ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.905974
        stop time: 8.924140
        stop time: 9.102612
        stop time: 9.414907
        stop time: 9.544036
        stop time: 9.778418
        stop time: 9.825472
        stop time: 9.847475
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-2jfwz        1415m        56Mi
        profile-55d884cb54-jj8ck         1584m        322Mi
        rate-76545fd9c7-cr2t4            155m         163Mi
        reservation-58f789445d-9qqz7     129m         186Mi
        search-f6d7d66d4-7hpjw           287m         85Mi
        ubuntu-client-76886f6bbd-h4v8m   916m         97Mi
        user-9c7f9969b-8hzlq             25m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.905974, 8.92414, 9.102612, 9.414907, 9.544036, 9.778418, 9.825472, 9.847475]
    [exp] Throughput: 2123.6203469055945
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '403.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jpftl:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:33:42.273074Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   459.26ms  192.12ms   1.28s    67.08%
        Req/Sec   207.38     93.42   510.00     67.67%
        Latency Distribution
        50%  470.97ms
        75%  595.60ms
        90%  691.18ms
        99%  872.51ms
        4821 requests in 3.04s, 367.22KB read
        Requests/sec:   1585.05
        Transfer/sec:    120.74KB
        [run.sh] Speed is 1585.05, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   527.81ms  218.15ms   1.14s    70.31%
        Req/Sec   227.70     78.43   540.00     72.79%
        Latency Distribution
        50%  600.93ms
        75%  680.00ms
        90%  744.94ms
        99%  900.67ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.537336
        stop time: 10.538797
        stop time: 10.620335
        stop time: 10.823310
        stop time: 11.401214
        stop time: 11.509044
        stop time: 11.485092
        stop time: 11.503638
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [10.537336, 10.538797, 10.620335, 10.82331, 11.401214, 11.509044, 11.485092, 11.503638]
    [exp] Throughput: 1809.5706063122393
[test.py] Finished running 8th optmization experiment: groundtruth->2123.6203469055945, slowdown->1809.5706063122393, predicted->2115.876897541544, err->-0.36463435544557604
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '900', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-6959f:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:35:15.939124Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   460.23ms  156.26ms 924.78ms   70.20%
        Req/Sec   232.42     77.84   440.00     65.62%
        Latency Distribution
        50%  468.92ms
        75%  564.32ms
        90%  652.76ms
        99%  798.68ms
        5288 requests in 3.03s, 402.80KB read
        Requests/sec:   1743.57
        Transfer/sec:    132.81KB
        [run.sh] Speed is 1743.57, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   473.23ms  200.30ms   1.15s    69.33%
        Req/Sec   255.49     82.30   585.00     72.72%
        Latency Distribution
        50%  540.93ms
        75%  610.84ms
        90%  672.82ms
        99%  799.46ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.347539
        stop time: 9.282016
        stop time: 9.522377
        stop time: 9.918654
        stop time: 10.131895
        stop time: 10.181089
        stop time: 10.213936
        stop time: 10.445985
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-9fwjr        603m         77Mi
        profile-67c965fc89-c2xfc         837m         373Mi
        rate-76545fd9c7-mqqb6            1m           160Mi
        reservation-58f789445d-l85nl     60m          181Mi
        search-f6d7d66d4-v546c           16m          83Mi
        ubuntu-client-76886f6bbd-6959f   453m         100Mi
        user-9c7f9969b-66zrc             28m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.347539, 9.282016, 9.522377, 9.918654, 10.131895, 10.181089, 10.213936, 10.445985]
    [exp] Throughput: 2024.202094009233
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '201.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-l4v9s:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:36:49.609676Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   366.74ms  182.84ms 980.58ms   71.92%
        Req/Sec   225.52     82.15   410.00     65.95%
        Latency Distribution
        50%  333.58ms
        75%  499.86ms
        90%  612.61ms
        99%  818.34ms
        5252 requests in 3.03s, 400.05KB read
        Requests/sec:   1733.68
        Transfer/sec:    132.06KB
        [run.sh] Speed is 1733.68, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   504.38ms  230.68ms   1.07s    73.43%
        Req/Sec   239.05     77.46   570.00     70.40%
        Latency Distribution
        50%  606.06ms
        75%  663.26ms
        90%  709.15ms
        99%  814.67ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.889674
        stop time: 10.145655
        stop time: 10.173479
        stop time: 10.447874
        stop time: 10.786098
        stop time: 10.811783
        stop time: 11.180859
        stop time: 10.996693
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.889674, 10.145655, 10.173479, 10.447874, 10.786098, 10.811783, 11.180859, 10.996693]
    [exp] Throughput: 1895.0135265473332
[test.py] Finished running 9th optmization experiment: groundtruth->2024.202094009233, slowdown->1895.0135265473332, predicted->2050.437822939952, err->1.2961022522585912
[test.py] Baseline throughput:  1920.329858900523
[test.py] Groundtruth:  [2106.2173020459495, 2045.6121651021247, 2138.0404146029177, 2080.2926118784944, 2215.6631208301915, 2148.018995522683, 2078.6419359203023, 2055.535322807177, 2123.6203469055945, 2024.202094009233]
[test.py] Slowdown:  [1134.8546021446596, 1177.225466753711, 1269.494304957303, 1320.1741781703274, 1418.2749172930767, 1460.8811500049108, 1576.5417990054445, 1703.9009128798234, 1809.5706063122393, 1895.0135265473332]
[test.py] Predicted:  [2078.2669082859775, 2043.0889502700925, 2138.05309980484, 2094.3469531028195, 2150.1588423125513, 2063.905186466029, 2108.3715355980153, 2141.8386029836297, 2115.876897541544, 2050.437822939952]
[test.py] Error percentage:  [-1.327042263531945, -0.12334766458070084, 0.0005933097351868214, 0.6755944401318653, -2.9564186857565344, -3.9158782688598204, 1.4302415035493063, 4.19857928097246, -0.36463435544557604, 1.2961022522585912]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-6m97b:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:38:22.143187Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   443.52ms  197.95ms   1.06s    67.08%
        Req/Sec   235.76     72.88   450.00     70.26%
        Latency Distribution
        50%  477.63ms
        75%  579.70ms
        90%  658.52ms
        99%  857.75ms
        5462 requests in 3.03s, 416.05KB read
        Requests/sec:   1803.33
        Transfer/sec:    137.36KB
        [run.sh] Speed is 1803.33, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   496.84ms  235.01ms   1.01s    73.40%
        Req/Sec   244.17     77.18   540.00     69.80%
        Latency Distribution
        50%  599.24ms
        75%  652.75ms
        90%  703.05ms
        99%  819.18ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.995362
        stop time: 9.593028
        stop time: 10.179713
        stop time: 10.365646
        stop time: 10.475540
        stop time: 10.729541
        stop time: 10.800573
        stop time: 10.931136
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-mm799        613m         72Mi
        profile-7f8fc7d487-x2brv         527m         361Mi
        rate-76545fd9c7-pfclx            71m          138Mi
        reservation-58f789445d-nlk7q     96m          147Mi
        search-f6d7d66d4-fr7fx           155m         172Mi
        ubuntu-client-76886f6bbd-6m97b   112m         69Mi
        user-9c7f9969b-vpqql             27m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.995362, 9.593028, 10.179713, 10.365646, 10.47554, 10.729541, 10.800573, 10.931136]
    [exp] Throughput: 1926.0739357908826
[test.py] Baseline throughput: 1926.0739357908826
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-grzgz:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:39:54.688789Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   337.74ms  154.20ms 941.23ms   64.05%
        Req/Sec   235.84    106.30   510.00     60.09%
        Latency Distribution
        50%  325.72ms
        75%  451.25ms
        90%  539.20ms
        99%  727.42ms
        5527 requests in 3.02s, 421.00KB read
        Requests/sec:   1827.42
        Transfer/sec:    139.20KB
        [run.sh] Speed is 1827.42, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   432.52ms  126.61ms 954.76ms   70.27%
        Req/Sec   272.23     87.25     0.96k    75.58%
        Latency Distribution
        50%  442.45ms
        75%  514.31ms
        90%  582.46ms
        99%  721.64ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.513636
        stop time: 8.753345
        stop time: 9.087247
        stop time: 9.299154
        stop time: 9.339854
        stop time: 9.730292
        stop time: 9.626719
        stop time: 9.622891
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-9fkg5        53m          51Mi
        profile-685b9b8798-n6sqw         87m          317Mi
        rate-76545fd9c7-hvpj8            0m           177Mi
        reservation-58f789445d-xp9d9     0m           89Mi
        search-f6d7d66d4-57bzz           0m           81Mi
        ubuntu-client-76886f6bbd-grzgz   1m           68Mi
        user-9c7f9969b-rljkr             4m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.513636, 8.753345, 9.087247, 9.299154, 9.339854, 9.730292, 9.626719, 9.622891]
    [exp] Throughput: 2162.9473120364314
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-gdxc6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:41:27.258242Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   774.77ms  336.54ms   1.70s    66.69%
        Req/Sec   126.00     80.99   370.00     63.55%
        Latency Distribution
        50%  774.04ms
        75%    1.00s
        90%    1.22s
        99%    1.50s
        2711 requests in 3.03s, 206.50KB read
        Requests/sec:    894.29
        Transfer/sec:     68.12KB
        [run.sh] Speed is 894.29, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-66844fd9bf-png4d        61m          74Mi
        profile-7f8fc7d487-28rjm         1m           314Mi
        rate-7b654596d-s2fkt             42m          130Mi
        reservation-866469c858-cj8vg     29m          136Mi
        search-d865f74b5-wflw4           84m          156Mi
        ubuntu-client-76886f6bbd-gdxc6   199m         58Mi
        user-7cfffb7cfb-gvmvj            5m           9Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   842.78ms  273.19ms   2.06s    71.56%
        Req/Sec   148.32     76.45   380.00     64.17%
        Latency Distribution
        50%  873.42ms
        75%    1.02s
        90%    1.15s
        99%    1.43s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 16.667752
        stop time: 16.902520
        stop time: 16.931255
        stop time: 17.202592
        stop time: 17.519005
        stop time: 17.535546
        stop time: 17.693592
        stop time: 17.699926
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.667752, 16.90252, 16.931255, 17.202592, 17.519005, 17.535546, 17.693592, 17.699926]
    [exp] Throughput: 1158.143076242846
[test.py] Finished running 0th optmization experiment: groundtruth->2162.9473120364314, slowdown->1158.143076242846, predicted->2157.7245974184875, err->-0.24146286822986304
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '100', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mnnwt:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:43:03.470258Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   358.82ms  139.41ms 888.97ms   67.51%
        Req/Sec   239.41     94.81   595.00     68.97%
        Latency Distribution
        50%  352.53ms
        75%  452.39ms
        90%  543.69ms
        99%  694.03ms
        5580 requests in 3.03s, 425.04KB read
        Requests/sec:   1841.91
        Transfer/sec:    140.30KB
        [run.sh] Speed is 1841.91, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   479.95ms  128.48ms   1.10s    69.84%
        Req/Sec   253.37     72.79   525.00     67.73%
        Latency Distribution
        50%  482.46ms
        75%  562.46ms
        90%  639.03ms
        99%  785.16ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.803166
        stop time: 9.843135
        stop time: 9.925849
        stop time: 9.913252
        stop time: 9.955280
        stop time: 9.859937
        stop time: 9.971146
        stop time: 10.040802
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-8x4kw        1568m        75Mi
        profile-6cb5c8dd85-9gw2w         609m         306Mi
        rate-76545fd9c7-9l4jd            119m         175Mi
        reservation-58f789445d-2blvj     216m         91Mi
        search-f6d7d66d4-26bbs           250m         85Mi
        ubuntu-client-76886f6bbd-mnnwt   863m         76Mi
        user-9c7f9969b-brxk7             72m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.803166, 9.843135, 9.925849, 9.913252, 9.95528, 9.859937, 9.971146, 10.040802]
    [exp] Throughput: 2017.3347812585614
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1813.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-ssml5:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:44:35.977598Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   629.28ms  358.08ms   1.85s    62.44%
        Req/Sec   131.68     79.47   370.00     65.55%
        Latency Distribution
        50%  549.65ms
        75%  894.05ms
        90%    1.12s
        99%    1.48s
        2891 requests in 3.02s, 220.21KB read
        Requests/sec:    955.81
        Transfer/sec:     72.81KB
        [run.sh] Speed is 955.81, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                      CPU(cores)   MEMORY(bytes)
        rate-596fc59fd6-mjjll     3m           116Mi
        search-687c8cd495-c5d5t   3m           159Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   809.55ms  225.74ms   1.93s    72.24%
        Req/Sec   156.27     77.60   510.00     68.60%
        Latency Distribution
        50%  828.31ms
        75%  954.69ms
        90%    1.07s
        99%    1.30s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 15.750121
        stop time: 16.282063
        stop time: 16.501635
        stop time: 16.533875
        stop time: 16.720214
        stop time: 16.722832
        stop time: 16.653319
        stop time: 16.711902
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.750121, 16.282063, 16.501635, 16.533875, 16.720214, 16.722832, 16.653319, 16.711902]
    [exp] Throughput: 1213.261300897743
[test.py] Finished running 1th optmization experiment: groundtruth->2017.3347812585614, slowdown->1213.261300897743, predicted->2154.128978553371, err->6.780936836347371
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '200', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-p67vp:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:46:11.210261Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   414.23ms  206.83ms   1.59s    70.11%
        Req/Sec   226.72     85.32   470.00     64.66%
        Latency Distribution
        50%  412.58ms
        75%  528.17ms
        90%  639.73ms
        99%    1.09s
        5297 requests in 3.04s, 403.48KB read
        Requests/sec:   1744.06
        Transfer/sec:    132.85KB
        [run.sh] Speed is 1744.06, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   463.72ms  142.15ms   1.10s    69.28%
        Req/Sec   260.74     89.62     1.02k    74.90%
        Latency Distribution
        50%  472.95ms
        75%  558.20ms
        90%  634.45ms
        99%  792.82ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 8.931247
        stop time: 9.350300
        stop time: 9.462337
        stop time: 9.615115
        stop time: 9.921612
        stop time: 9.874752
        stop time: 10.101546
        stop time: 10.131841
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-szphz        995m         52Mi
        profile-86bc6c6ffb-pxrnc         263m         319Mi
        rate-76545fd9c7-b7p95            195m         176Mi
        reservation-58f789445d-twkfr     194m         93Mi
        search-f6d7d66d4-lf5f8           402m         83Mi
        ubuntu-client-76886f6bbd-p67vp   158m         96Mi
        user-9c7f9969b-28gh8             39m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.931247, 9.3503, 9.462337, 9.615115, 9.921612, 9.874752, 10.101546, 10.131841]
    [exp] Throughput: 2067.483968923132
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1612.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-27hhs:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:47:44.816660Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   720.19ms  269.96ms   1.73s    71.00%
        Req/Sec   146.90     75.46   343.00     66.20%
        Latency Distribution
        50%  740.39ms
        75%  891.19ms
        90%    1.01s
        99%    1.51s
        3255 requests in 3.04s, 247.94KB read
        Requests/sec:   1072.32
        Transfer/sec:     81.68KB
        [run.sh] Speed is 1072.32, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   760.54ms  249.70ms   1.79s    69.87%
        Req/Sec   162.25     80.95   480.00     65.30%
        Latency Distribution
        50%  802.99ms
        75%  932.71ms
        90%    1.04s
        99%    1.25s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 14.908729
        stop time: 15.306355
        stop time: 15.505507
        stop time: 15.708771
        stop time: 15.631922
        stop time: 15.883647
        stop time: 16.018649
        stop time: 16.086861
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.908729, 15.306355, 15.505507, 15.708771, 15.631922, 15.883647, 16.018649, 16.086861]
    [exp] Throughput: 1279.483692504531
[test.py] Finished running 2th optmization experiment: groundtruth->2067.483968923132, slowdown->1279.483692504531, predicted->2166.5408876840697, err->4.7911819511003175
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '300', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-zw58g:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:49:18.417946Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   447.17ms  161.51ms   1.05s    67.54%
        Req/Sec   244.49     83.86   474.00     69.83%
        Latency Distribution
        50%  461.06ms
        75%  566.57ms
        90%  637.85ms
        99%  810.45ms
        5687 requests in 3.03s, 433.19KB read
        Requests/sec:   1878.81
        Transfer/sec:    143.11KB
        [run.sh] Speed is 1878.81, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   471.98ms  114.56ms 979.32ms   70.29%
        Req/Sec   264.47     75.06   620.00     69.28%
        Latency Distribution
        50%  469.20ms
        75%  544.28ms
        90%  615.43ms
        99%  758.88ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.323899
        stop time: 9.718253
        stop time: 9.419648
        stop time: 9.637536
        stop time: 9.601839
        stop time: 9.498021
        stop time: 9.696499
        stop time: 9.808236
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-hgdt9        124m         79Mi
        profile-87fd576f5-9vffg          238m         319Mi
        rate-76545fd9c7-45bbv            48m          158Mi
        reservation-58f789445d-wkmvw     10m          174Mi
        search-f6d7d66d4-wc98j           101m         84Mi
        ubuntu-client-76886f6bbd-zw58g   343m         97Mi
        user-9c7f9969b-p79dl             13m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.323899, 9.718253, 9.419648, 9.637536, 9.601839, 9.498021, 9.696499, 9.808236]
    [exp] Throughput: 2085.942635717066
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1410.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-sn64l:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:50:51.998891Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   624.56ms  285.49ms   1.82s    72.15%
        Req/Sec   149.39     70.48   360.00     66.82%
        Latency Distribution
        50%  591.31ms
        75%  785.40ms
        90%  983.95ms
        99%    1.45s
        3458 requests in 3.03s, 263.40KB read
        Requests/sec:   1141.77
        Transfer/sec:     86.97KB
        [run.sh] Speed is 1141.77, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   722.46ms  254.79ms   1.62s    69.21%
        Req/Sec   170.96     77.79   530.00     65.66%
        Latency Distribution
        50%  776.21ms
        75%  894.42ms
        90%  995.89ms
        99%    1.21s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.384539
        stop time: 14.356654
        stop time: 14.609305
        stop time: 14.911562
        stop time: 15.006994
        stop time: 15.131716
        stop time: 15.299921
        stop time: 15.386484
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.384539, 14.356654, 14.609305, 14.911562, 15.006994, 15.131716, 15.299921, 15.386484]
    [exp] Throughput: 1343.5535774528198
[test.py] Finished running 3th optmization experiment: groundtruth->2085.942635717066, slowdown->1343.5535774528198, predicted->2153.8038026079203, err->3.2532614142347334
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '400', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-tlzx4:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:52:24.591726Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   371.06ms  182.91ms   1.16s    68.40%
        Req/Sec   253.53     88.44   646.00     67.67%
        Latency Distribution
        50%  369.53ms
        75%  477.63ms
        90%  592.18ms
        99%  931.79ms
        5918 requests in 3.03s, 450.79KB read
        Requests/sec:   1955.20
        Transfer/sec:    148.93KB
        [run.sh] Speed is 1955.20, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   432.17ms  126.45ms 988.04ms   71.11%
        Req/Sec   281.36    102.85     0.91k    78.81%
        Latency Distribution
        50%  433.40ms
        75%  510.28ms
        90%  588.61ms
        99%  743.46ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 8.580093
        stop time: 8.642636
        stop time: 8.653920
        stop time: 8.864763
        stop time: 9.028450
        stop time: 9.209462
        stop time: 9.448557
        stop time: 9.389637
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-lpk22        601m         64Mi
        profile-68bf76cf46-m6v2k         351m         327Mi
        rate-76545fd9c7-tjksf            75m          139Mi
        reservation-58f789445d-dtrnl     102m         150Mi
        search-f6d7d66d4-ww4p2           166m         177Mi
        ubuntu-client-76886f6bbd-tlzx4   287m         63Mi
        user-9c7f9969b-xhl2m             31m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.580093, 8.642636, 8.65392, 8.864763, 9.02845, 9.209462, 9.448557, 9.389637]
    [exp] Throughput: 2227.8686935407595
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1209.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-q7jc5:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:53:57.196617Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   580.46ms  264.59ms   1.64s    67.00%
        Req/Sec   155.62     81.31   400.00     65.92%
        Latency Distribution
        50%  565.36ms
        75%  758.71ms
        90%  919.03ms
        99%    1.27s
        3609 requests in 3.04s, 274.90KB read
        Requests/sec:   1188.38
        Transfer/sec:     90.52KB
        [run.sh] Speed is 1188.38, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   689.07ms  245.93ms   1.51s    70.18%
        Req/Sec   180.76     71.83   440.00     69.54%
        Latency Distribution
        50%  740.19ms
        75%  852.65ms
        90%  951.23ms
        99%    1.15s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 13.677409
        stop time: 13.704291
        stop time: 13.960216
        stop time: 14.044954
        stop time: 14.047166
        stop time: 14.235303
        stop time: 14.312574
        stop time: 14.322237
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-8679cfbdc5-bg7lb        262m         67Mi
        profile-7f8fc7d487-ccvz7         628m         317Mi
        rate-cc7959678-krf9t             167m         176Mi
        reservation-79c4d564b8-hl87j     27m          92Mi
        search-85f59bdf6c-4smt4          316m         85Mi
        ubuntu-client-76886f6bbd-q7jc5   534m         96Mi
        user-546f4bdcf6-zhlqt            18m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.677409, 13.704291, 13.960216, 14.044954, 14.047166, 14.235303, 14.312574, 14.322237]
    [exp] Throughput: 1424.702470923826
[test.py] Finished running 4th optmization experiment: groundtruth->2227.8686935407595, slowdown->1424.702470923826, predicted->2164.9663787486897, err->-2.823430078013211
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-nxc5g:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:55:29.761039Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   398.59ms  185.58ms   1.33s    67.65%
        Req/Sec   249.36     83.44   480.00     70.69%
        Latency Distribution
        50%  371.09ms
        75%  499.93ms
        90%  661.80ms
        99%  931.10ms
        5811 requests in 3.04s, 442.63KB read
        Requests/sec:   1911.91
        Transfer/sec:    145.63KB
        [run.sh] Speed is 1911.91, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   459.22ms  123.36ms   1.04s    70.11%
        Req/Sec   264.54     78.11   550.00     71.28%
        Latency Distribution
        50%  462.68ms
        75%  538.68ms
        90%  607.97ms
        99%  756.01ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.125927
        stop time: 9.235741
        stop time: 9.366797
        stop time: 9.523286
        stop time: 9.703322
        stop time: 9.756927
        stop time: 9.863435
        stop time: 9.843509
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-r6k76        621m         73Mi
        profile-5f4bff8f45-mk64j         182m         324Mi
        rate-76545fd9c7-hcct4            3m           139Mi
        reservation-58f789445d-qjpzq     116m         133Mi
        search-f6d7d66d4-krzrl           3m           83Mi
        ubuntu-client-76886f6bbd-nxc5g   8m           62Mi
        user-9c7f9969b-bjflw             20m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.125927, 9.235741, 9.366797, 9.523286, 9.703322, 9.756927, 9.863435, 9.843509]
    [exp] Throughput: 2093.7216824142456
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-f94jx:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:57:02.328714Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   489.51ms  217.36ms   1.35s    63.85%
        Req/Sec   165.56     77.10   373.00     67.24%
        Latency Distribution
        50%  470.83ms
        75%  651.37ms
        90%  782.16ms
        99%  977.84ms
        3870 requests in 3.03s, 294.79KB read
        Requests/sec:   1278.06
        Transfer/sec:     97.35KB
        [run.sh] Speed is 1278.06, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   635.38ms  232.73ms   1.44s    68.24%
        Req/Sec   191.13     75.46   560.00     70.45%
        Latency Distribution
        50%  689.11ms
        75%  794.22ms
        90%  889.20ms
        99%    1.07s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.309541
        stop time: 13.175205
        stop time: 12.945142
        stop time: 13.107171
        stop time: 13.429892
        stop time: 13.213939
        stop time: 13.639757
        stop time: 13.562975
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-54487c877f-p6l85        702m         68Mi
        profile-7f8fc7d487-sxs29         1111m        321Mi
        rate-84cb955d5b-5zsrz            185m         171Mi
        reservation-785bb5647b-k5vxp     106m         94Mi
        search-64c7c6ffc7-2s9kg          349m         84Mi
        ubuntu-client-76886f6bbd-f94jx   796m         99Mi
        user-7548867745-kd8xg            41m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.309541, 13.175205, 12.945142, 13.107171, 13.429892, 13.213939, 13.639757, 13.562975]
    [exp] Throughput: 1518.2624867458057
[test.py] Finished running 5th optmization experiment: groundtruth->2093.7216824142456, slowdown->1518.2624867458057, predicted->2180.3230153998124, err->4.136239009843365
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '600', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-pjc25:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T21:58:34.862875Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   346.52ms  160.68ms   1.07s    67.29%
        Req/Sec   252.15     96.36   460.00     67.67%
        Latency Distribution
        50%  353.23ms
        75%  455.92ms
        90%  537.96ms
        99%  789.27ms
        5863 requests in 3.03s, 446.60KB read
        Requests/sec:   1933.93
        Transfer/sec:    147.31KB
        [run.sh] Speed is 1933.93, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   471.18ms  127.81ms   1.17s    71.53%
        Req/Sec   266.48     72.22   616.00     68.63%
        Latency Distribution
        50%  475.25ms
        75%  547.46ms
        90%  623.52ms
        99%  787.45ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.273365
        stop time: 9.594752
        stop time: 9.310460
        stop time: 9.522719
        stop time: 9.627962
        stop time: 9.421023
        stop time: 9.564144
        stop time: 9.604739
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-8rmhk   0m           18Mi
        profile-6c59b85884-w782w    1m           307Mi
        user-9c7f9969b-h5l96        3m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.273365, 9.594752, 9.31046, 9.522719, 9.627962, 9.421023, 9.564144, 9.604739]
    [exp] Throughput: 2107.504766517187
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '806.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-j5rsc:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:00:08.494774Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   585.30ms  211.39ms   1.22s    66.88%
        Req/Sec   178.08     77.56   363.00     68.40%
        Latency Distribution
        50%  605.01ms
        75%  731.80ms
        90%  844.09ms
        99%    1.01s
        4118 requests in 3.03s, 313.68KB read
        Requests/sec:   1357.65
        Transfer/sec:    103.41KB
        [run.sh] Speed is 1357.65, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   628.84ms  216.90ms   1.37s    69.17%
        Req/Sec   194.77     73.79   474.00     66.99%
        Latency Distribution
        50%  672.99ms
        75%  773.78ms
        90%  866.51ms
        99%    1.05s
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.08
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.475823
        stop time: 12.701285
        stop time: 12.907753
        stop time: 12.987187
        stop time: 12.914703
        stop time: 13.236019
        stop time: 13.473323
        stop time: 13.432711
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-79d55fccf4-w8qp4        485m         79Mi
        profile-7f8fc7d487-qjqcl         1533m        324Mi
        rate-5668bc9b5f-rqn4h            93m          179Mi
        reservation-55df4f99bf-xlqvc     81m          95Mi
        search-856648d7c8-wgcmp          201m         83Mi
        ubuntu-client-76886f6bbd-j5rsc   531m         100Mi
        user-74668d8df4-d9w4n            62m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.475823, 12.701285, 12.907753, 12.987187, 12.914703, 13.236019, 13.473323, 13.432711]
    [exp] Throughput: 1536.5585107459797
[test.py] Finished running 6th optmization experiment: groundtruth->2107.504766517187, slowdown->1536.5585107459797, predicted->2037.4689521567143, err->-3.3231627976914218
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '700', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-5qhf4:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:01:42.125785Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   406.20ms  238.67ms   1.52s    75.94%
        Req/Sec   229.91     83.13   434.00     72.84%
        Latency Distribution
        50%  371.86ms
        75%  539.97ms
        90%  662.14ms
        99%    1.34s
        5358 requests in 3.03s, 408.13KB read
        Requests/sec:   1769.00
        Transfer/sec:    134.75KB
        [run.sh] Speed is 1769.00, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   511.60ms  303.23ms   5.73s    96.29%
        Req/Sec   252.61     67.00   707.00     68.91%
        Latency Distribution
        50%  492.38ms
        75%  574.58ms
        90%  650.47ms
        99%  902.09ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.748353
        stop time: 10.114333
        stop time: 9.995876
        stop time: 9.952099
        stop time: 10.127606
        stop time: 10.036522
        stop time: 10.214422
        stop time: 10.058987
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.748353, 10.114333, 9.995876, 9.952099, 10.127606, 10.036522, 10.214422, 10.058987]
    [exp] Throughput: 1993.8142411621504
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mshng:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:03:15.698984Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   562.54ms  181.75ms   1.14s    72.33%
        Req/Sec   185.36     70.92   353.00     66.22%
        Latency Distribution
        50%  579.40ms
        75%  668.83ms
        90%  780.76ms
        99%  946.26ms
        4239 requests in 3.03s, 322.89KB read
        Requests/sec:   1398.84
        Transfer/sec:    106.55KB
        [run.sh] Speed is 1398.84, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.22ms  213.53ms   1.39s    68.97%
        Req/Sec   204.68     69.77   560.00     72.48%
        Latency Distribution
        50%  646.04ms
        75%  747.22ms
        90%  837.64ms
        99%    1.02s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.38
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.904730
        stop time: 12.044264
        stop time: 12.096324
        stop time: 12.158045
        stop time: 12.452151
        stop time: 12.725572
        stop time: 12.757660
        stop time: 12.747093
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c7589854-zrwfp         405m         81Mi
        profile-7f8fc7d487-kcmvf         839m         372Mi
        rate-76c7d5bdcf-4w7m7            13m          160Mi
        reservation-5fd76d4785-xtrb6     55m          175Mi
        search-6d577b5598-s7rr2          24m          84Mi
        ubuntu-client-76886f6bbd-mshng   38m          101Mi
        user-56f9799859-dwhpj            35m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.90473, 12.044264, 12.096324, 12.158045, 12.452151, 12.725572, 12.75766, 12.747093]
    [exp] Throughput: 1618.027430601059
[test.py] Finished running 7th optmization experiment: groundtruth->1993.8142411621504, slowdown->1618.027430601059, predicted->2007.884989452141, err->0.7057201217395825
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '800', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-zsg22:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:04:48.268737Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.98ms  157.07ms 898.89ms   66.20%
        Req/Sec   217.63     93.31   454.00     68.10%
        Latency Distribution
        50%  368.81ms
        75%  471.13ms
        90%  587.48ms
        99%  759.79ms
        5065 requests in 3.03s, 385.81KB read
        Requests/sec:   1671.22
        Transfer/sec:    127.30KB
        [run.sh] Speed is 1671.22, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   512.02ms  327.37ms   5.87s    96.02%
        Req/Sec   241.10     68.79   515.00     66.22%
        Latency Distribution
        50%  497.31ms
        75%  585.33ms
        90%  670.53ms
        99%  914.76ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.882683
        stop time: 10.044313
        stop time: 10.510396
        stop time: 10.744488
        stop time: 10.668991
        stop time: 10.618514
        stop time: 10.663279
        stop time: 10.571037
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.882683, 10.044313, 10.510396, 10.744488, 10.668991, 10.618514, 10.663279, 10.571037]
    [exp] Throughput: 1911.5044865220473
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '403.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-prrnn:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:06:20.861942Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   392.80ms  180.89ms   1.09s    68.31%
        Req/Sec   192.39     90.10   434.00     64.22%
        Latency Distribution
        50%  367.27ms
        75%  513.59ms
        90%  653.21ms
        99%  843.41ms
        4481 requests in 3.03s, 341.33KB read
        Requests/sec:   1480.28
        Transfer/sec:    112.76KB
        [run.sh] Speed is 1480.28, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   573.52ms  199.84ms   1.26s    69.14%
        Req/Sec   212.92     69.13   565.00     71.15%
        Latency Distribution
        50%  609.47ms
        75%  704.60ms
        90%  796.97ms
        99%  976.77ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.314717
        stop time: 11.332752
        stop time: 11.722737
        stop time: 11.853045
        stop time: 12.010383
        stop time: 12.314384
        stop time: 12.249954
        stop time: 12.124998
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-55b87fd889-kqj9c        564m         61Mi
        profile-7f8fc7d487-bsv78         543m         328Mi
        rate-5c76777d7b-9nx2g            60m          139Mi
        reservation-c7d849fd6-ql8tc      82m          145Mi
        search-84bcddf5cc-5nt4c          127m         175Mi
        ubuntu-client-76886f6bbd-prrnn   284m         83Mi
        user-968bc9bc9-vrvdd             27m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.314717, 11.332752, 11.722737, 11.853045, 12.010383, 12.314384, 12.249954, 12.124998]
    [exp] Throughput: 1685.5772633325737
[test.py] Finished running 8th optmization experiment: groundtruth->1911.5044865220473, slowdown->1685.5772633325737, predicted->1948.2977783195126, err->1.9248341846379966
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '900', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-7dk56:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:07:53.420850Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   467.75ms  158.30ms   1.00s    71.52%
        Req/Sec   224.75     71.22   380.00     70.54%
        Latency Distribution
        50%  464.69ms
        75%  575.27ms
        90%  670.59ms
        99%  824.60ms
        5081 requests in 3.03s, 387.03KB read
        Requests/sec:   1676.03
        Transfer/sec:    127.67KB
        [run.sh] Speed is 1676.03, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   499.43ms  190.55ms   1.25s    68.24%
        Req/Sec   241.28     82.54   530.00     75.03%
        Latency Distribution
        50%  546.11ms
        75%  631.07ms
        90%  705.95ms
        99%  863.82ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.816711
        stop time: 9.846278
        stop time: 10.229157
        stop time: 10.329726
        stop time: 10.661876
        stop time: 10.661904
        stop time: 10.769695
        stop time: 10.958150
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-6vr95        0m           56Mi
        profile-67c965fc89-hq9b7         266m         325Mi
        rate-76545fd9c7-vclh7            0m           180Mi
        reservation-58f789445d-prkfl     0m           181Mi
        search-f6d7d66d4-n88sw           0m           81Mi
        ubuntu-client-76886f6bbd-7dk56   5m           70Mi
        user-9c7f9969b-c5qtj             14m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.816711, 9.846278, 10.229157, 10.329726, 10.661876, 10.661904, 10.769695, 10.95815]
    [exp] Throughput: 1921.379619736637
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '201.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-dcql6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T22:09:27.081777Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   425.51ms  181.93ms   1.06s    66.50%
        Req/Sec   203.68     75.24   390.00     65.52%
        Latency Distribution
        50%  421.77ms
        75%  558.49ms
        90%  660.13ms
        99%  832.15ms
        4779 requests in 3.04s, 364.03KB read
        Requests/sec:   1573.51
        Transfer/sec:    119.86KB
        [run.sh] Speed is 1573.51, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.39ms  205.69ms   1.27s    70.89%
        Req/Sec   224.84     70.09   767.00     71.25%
        Latency Distribution
        50%  611.83ms
        75%  692.40ms
        90%  764.51ms
        99%  909.89ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.006913
        stop time: 11.141617
        stop time: 11.162801
        stop time: 11.312290
        stop time: 11.257296
        stop time: 11.343616
        stop time: 11.302371
        stop time: 11.422743
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c68449469-5thbv        326m         72Mi
        profile-7f8fc7d487-fhqj8         0m           314Mi
        rate-6799c47946-ls7xm            64m          135Mi
        reservation-7ccbb44bc8-jr56w     39m          145Mi
        search-f546798d9-xht9w           144m         179Mi
        ubuntu-client-76886f6bbd-dcql6   297m         62Mi
        user-69bcf87754-b685q            3m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.006913, 11.141617, 11.162801, 11.31229, 11.257296, 11.343616, 11.302371, 11.422743]
    [exp] Throughput: 1778.772961721573
[test.py] Finished running 9th optmization experiment: groundtruth->1921.379619736637, slowdown->1778.772961721573, predicted->1915.0290365679223, err->-0.3305220427801401
[test.py] Baseline throughput:  1926.0739357908826
[test.py] Groundtruth:  [2162.9473120364314, 2017.3347812585614, 2067.483968923132, 2085.942635717066, 2227.8686935407595, 2093.7216824142456, 2107.504766517187, 1993.8142411621504, 1911.5044865220473, 1921.379619736637]
[test.py] Slowdown:  [1158.143076242846, 1213.261300897743, 1279.483692504531, 1343.5535774528198, 1424.702470923826, 1518.2624867458057, 1536.5585107459797, 1618.027430601059, 1685.5772633325737, 1778.772961721573]
[test.py] Predicted:  [2157.7245974184875, 2154.128978553371, 2166.5408876840697, 2153.8038026079203, 2164.9663787486897, 2180.3230153998124, 2037.4689521567143, 2007.884989452141, 1948.2977783195126, 1915.0290365679223]
[test.py] Error percentage:  [-0.24146286822986304, 6.780936836347371, 4.7911819511003175, 3.2532614142347334, -2.823430078013211, 4.136239009843365, -3.3231627976914218, 0.7057201217395825, 1.9248341846379966, -0.3305220427801401]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1907.6839314923993
    Groundtruth: [2109.99949597387, 2106.656600359211, 2103.157316285561, 2089.5480792018643, 2082.303216847426, 2018.0915856377671, 2136.058516789053, 2108.0234481772213, 2077.9387014316894, 1994.6025307541843]
    Slowdown:    [1159.0691506957744, 1227.9530432598187, 1277.6801825319462, 1354.293072643654, 1394.9007780486277, 1473.3372958126015, 1590.6424730211627, 1713.2202503747187, 1805.115652631667, 1864.3354115585091]
    Predicted:   [2160.9413179232647, 2200.8815576056954, 2161.3748375659266, 2181.5360298809355, 2096.8894231180666, 2088.8548457770403, 2133.6665836048046, 2156.5848258001083, 2109.7886545587658, 2014.5686807824893]
    Error Perc:  [2.414304934508166, 4.472725038832518, 2.768101122515402, 4.402289260279067, 0.7004842595750221, 3.5064444370551295, -0.1119788229324392, 2.3036450408024325, 1.5327667320085945, 1.0010089589506128]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1920.329858900523
    Groundtruth: [2106.2173020459495, 2045.6121651021247, 2138.0404146029177, 2080.2926118784944, 2215.6631208301915, 2148.018995522683, 2078.6419359203023, 2055.535322807177, 2123.6203469055945, 2024.202094009233]
    Slowdown:    [1134.8546021446596, 1177.225466753711, 1269.494304957303, 1320.1741781703274, 1418.2749172930767, 1460.8811500049108, 1576.5417990054445, 1703.9009128798234, 1809.5706063122393, 1895.0135265473332]
    Predicted:   [2078.2669082859775, 2043.0889502700925, 2138.05309980484, 2094.3469531028195, 2150.1588423125513, 2063.905186466029, 2108.3715355980153, 2141.8386029836297, 2115.876897541544, 2050.437822939952]
    Error Perc:  [-1.327042263531945, -0.12334766458070084, 0.0005933097351868214, 0.6755944401318653, -2.9564186857565344, -3.9158782688598204, 1.4302415035493063, 4.19857928097246, -0.36463435544557604, 1.2961022522585912]
[test.py] Result for the experiment 2: 
    Baseline throughput: 1926.0739357908826
    Groundtruth: [2162.9473120364314, 2017.3347812585614, 2067.483968923132, 2085.942635717066, 2227.8686935407595, 2093.7216824142456, 2107.504766517187, 1993.8142411621504, 1911.5044865220473, 1921.379619736637]
    Slowdown:    [1158.143076242846, 1213.261300897743, 1279.483692504531, 1343.5535774528198, 1424.702470923826, 1518.2624867458057, 1536.5585107459797, 1618.027430601059, 1685.5772633325737, 1778.772961721573]
    Predicted:   [2157.7245974184875, 2154.128978553371, 2166.5408876840697, 2153.8038026079203, 2164.9663787486897, 2180.3230153998124, 2037.4689521567143, 2007.884989452141, 1948.2977783195126, 1915.0290365679223]
    Error Perc:  [-0.24146286822986304, 6.780936836347371, 4.7911819511003175, 3.2532614142347334, -2.823430078013211, 4.136239009843365, -3.3231627976914218, 0.7057201217395825, 1.9248341846379966, -0.3305220427801401]
