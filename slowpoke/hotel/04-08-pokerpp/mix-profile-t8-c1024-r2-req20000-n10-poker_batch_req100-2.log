benchmark                        : hotel
num_threads                      : 8
num_conns                        : 1024
target_service                   : profile
request_type                     : mix
repetitions                      : 2
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-44rf2:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:22:21.367207Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   353.40ms  195.48ms   1.13s    68.04%
        Req/Sec   233.39    101.20   535.00     65.09%
        Latency Distribution
        50%  316.47ms
        75%  497.11ms
        90%  618.10ms
        99%  861.69ms
        5444 requests in 3.03s, 414.68KB read
        Requests/sec:   1796.34
        Transfer/sec:    136.83KB
        [run.sh] Speed is 1796.34, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   495.27ms  242.23ms   1.01s    75.16%
        Req/Sec   242.82     74.67   535.00     72.75%
        Latency Distribution
        50%  609.78ms
        75%  654.72ms
        90%  696.35ms
        99%  778.18ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.813719
        stop time: 9.755828
        stop time: 10.178497
        stop time: 10.479148
        stop time: 10.525398
        stop time: 10.682374
        stop time: 10.836444
        stop time: 10.841921
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-p89g7        59m          63Mi
        profile-7f8fc7d487-ctndd         611m         326Mi
        rate-76545fd9c7-dvjhl            72m          140Mi
        reservation-58f789445d-4tmdb     35m          150Mi
        search-f6d7d66d4-mjpj8           134m         85Mi
        ubuntu-client-76886f6bbd-44rf2   327m         87Mi
        user-9c7f9969b-rrcb8             26m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.813719, 9.755828, 10.178497, 10.479148, 10.525398, 10.682374, 10.836444, 10.841921]
    [exp] Throughput: 1925.0823174222755
[test.py] Baseline throughput: 1925.0823174222755
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-b958l:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:23:54.903944Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   435.07ms  130.13ms 955.98ms   70.12%
        Req/Sec   250.47     79.95   444.00     72.41%
        Latency Distribution
        50%  434.87ms
        75%  521.66ms
        90%  596.40ms
        99%  740.62ms
        5843 requests in 3.04s, 445.07KB read
        Requests/sec:   1922.78
        Transfer/sec:    146.46KB
        [run.sh] Speed is 1922.78, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   475.72ms  114.60ms 996.41ms   70.18%
        Req/Sec   265.16     74.62   740.00     71.45%
        Latency Distribution
        50%  476.06ms
        75%  549.88ms
        90%  619.10ms
        99%  743.38ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.367756
        stop time: 9.540314
        stop time: 9.582041
        stop time: 9.533936
        stop time: 9.628362
        stop time: 9.637613
        stop time: 9.534710
        stop time: 9.593409
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-bdxjm        548m         76Mi
        profile-685b9b8798-bnxrz         113m         319Mi
        rate-76545fd9c7-jk4xx            52m          175Mi
        reservation-58f789445d-4br2g     0m           177Mi
        search-f6d7d66d4-968rl           0m           85Mi
        ubuntu-client-76886f6bbd-b958l   119m         71Mi
        user-9c7f9969b-j4scm             17m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.367756, 9.540314, 9.582041, 9.533936, 9.628362, 9.637613, 9.53471, 9.593409]
    [exp] Throughput: 2093.7436831916652
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] frontend-66844fd9bf-49s8d cannot connect to rate
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-qqnsz:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:25:28.870813Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   746.42ms  305.76ms   1.88s    69.84%
        Req/Sec   129.71     79.04   343.00     64.67%
        Latency Distribution
        50%  788.92ms
        75%  964.44ms
        90%    1.10s
        99%    1.41s
        2699 requests in 3.03s, 205.59KB read
        Requests/sec:    889.45
        Transfer/sec:     67.75KB
        [run.sh] Speed is 889.45, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-66844fd9bf-49s8d        1m           70Mi
        profile-7f8fc7d487-fb9r6         1m           332Mi
        rate-7b654596d-86v4j             1m           131Mi
        reservation-866469c858-9pmgv     52m          138Mi
        search-d865f74b5-bj5zl           84m          85Mi
        ubuntu-client-76886f6bbd-qqnsz   8m           64Mi
        user-7cfffb7cfb-8ckbq            3m           10Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   859.07ms  261.07ms   2.02s    72.12%
        Req/Sec   147.60     83.71   434.00     65.38%
        Latency Distribution
        50%  890.47ms
        75%    1.02s
        90%    1.15s
        99%    1.43s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 17.139880
        stop time: 17.011275
        stop time: 17.341586
        stop time: 17.578771
        stop time: 17.807528
        stop time: 17.796152
        stop time: 18.004415
        stop time: 17.996171
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [17.13988, 17.011275, 17.341586, 17.578771, 17.807528, 17.796152, 18.004415, 17.996171]
    [exp] Throughput: 1137.3670881706444
[test.py] Finished running 0th optmization experiment: groundtruth->2093.7436831916652, slowdown->1137.3670881706444, predicted->2086.7085300393037, err->-0.3360083284710994
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '100', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-lhmgg:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:27:06.090119Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   384.67ms  161.58ms   1.01s    65.98%
        Req/Sec   248.12     91.17   575.00     66.67%
        Latency Distribution
        50%  393.20ms
        75%  493.79ms
        90%  589.62ms
        99%  754.94ms
        5650 requests in 3.03s, 430.37KB read
        Requests/sec:   1864.57
        Transfer/sec:    142.03KB
        [run.sh] Speed is 1864.57, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.23ms  125.48ms   1.10s    71.34%
        Req/Sec   265.99     77.95   600.00     71.35%
        Latency Distribution
        50%  451.69ms
        75%  528.35ms
        90%  600.82ms
        99%  755.28ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.760881
        stop time: 9.400151
        stop time: 9.319332
        stop time: 9.522881
        stop time: 9.507588
        stop time: 9.719032
        stop time: 9.811698
        stop time: 9.732966
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-wl8qb        1308m        57Mi
        profile-6cb5c8dd85-svbv7         462m         317Mi
        rate-76545fd9c7-gtslk            172m         180Mi
        reservation-58f789445d-69s7g     177m         189Mi
        search-f6d7d66d4-mk46m           278m         79Mi
        ubuntu-client-76886f6bbd-lhmgg   857m         96Mi
        user-9c7f9969b-thhtn             65m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.760881, 9.400151, 9.319332, 9.522881, 9.507588, 9.719032, 9.811698, 9.732966]
    [exp] Throughput: 2111.527476469039
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1813.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-zsnnm:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:28:38.698079Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   656.56ms  420.27ms   1.90s    69.87%
        Req/Sec   134.98     85.97   434.00     69.19%
        Latency Distribution
        50%  555.19ms
        75%  968.00ms
        90%    1.24s
        99%    1.76s
        2934 requests in 3.03s, 223.49KB read
        Requests/sec:    969.05
        Transfer/sec:     73.81KB
        [run.sh] Speed is 969.05, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                      CPU(cores)   MEMORY(bytes)
        search-687c8cd495-7758m   3m           157Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   822.13ms  264.88ms   2.00s    71.32%
        Req/Sec   155.79     81.68   535.00     63.92%
        Latency Distribution
        50%  857.90ms
        75%  983.87ms
        90%    1.11s
        99%    1.44s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 16.326444
        stop time: 16.521715
        stop time: 16.736181
        stop time: 16.332634
        stop time: 16.642168
        stop time: 16.486536
        stop time: 16.603413
        stop time: 16.530179
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.326444, 16.521715, 16.736181, 16.332634, 16.642168, 16.486536, 16.603413, 16.530179]
    [exp] Throughput: 1210.4772556241232
[test.py] Finished running 1th optmization experiment: groundtruth->2111.527476469039, slowdown->1210.4772556241232, predicted->2145.3682772706143, err->1.6026692135763725
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '200', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-nb4wn:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:30:12.882831Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   422.92ms  141.19ms 988.41ms   66.87%
        Req/Sec   245.66     81.90   460.00     72.41%
        Latency Distribution
        50%  423.28ms
        75%  515.50ms
        90%  610.76ms
        99%  746.75ms
        5692 requests in 3.04s, 433.57KB read
        Requests/sec:   1874.53
        Transfer/sec:    142.79KB
        [run.sh] Speed is 1874.53, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   456.39ms  133.59ms   1.11s    71.44%
        Req/Sec   265.37     91.14   818.00     73.40%
        Latency Distribution
        50%  466.71ms
        75%  542.97ms
        90%  611.22ms
        99%  761.77ms
        20001 requests in 16.00s, 1.49MB read
        Requests/sec:   1250.05
        Transfer/sec:     95.22KB
        ------------------------------
        stop time: 8.888978
        stop time: 9.149623
        stop time: 9.280444
        stop time: 9.494935
        stop time: 9.708436
        stop time: 9.736508
        stop time: 9.933399
        stop time: 9.902841
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-tbbhz        237m         78Mi
        profile-86bc6c6ffb-6chnf         114m         399Mi
        rate-76545fd9c7-g5jzr            34m          180Mi
        reservation-58f789445d-xgp5p     10m          176Mi
        search-f6d7d66d4-8zclw           392m         73Mi
        ubuntu-client-76886f6bbd-nb4wn   221m         99Mi
        user-9c7f9969b-fbgpf             14m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.888978, 9.149623, 9.280444, 9.494935, 9.708436, 9.736508, 9.933399, 9.902841]
    [exp] Throughput: 2102.6303327239034
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1612.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-2wvpg:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:31:46.445780Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   726.36ms  285.45ms   1.43s    67.92%
        Req/Sec   144.00     73.91   480.00     64.68%
        Latency Distribution
        50%  784.52ms
        75%  930.26ms
        90%    1.04s
        99%    1.24s
        3170 requests in 3.04s, 241.46KB read
        Requests/sec:   1043.76
        Transfer/sec:     79.51KB
        [run.sh] Speed is 1043.76, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   773.54ms  241.96ms   1.64s    70.42%
        Req/Sec   162.39     74.62   500.00     67.63%
        Latency Distribution
        50%  811.08ms
        75%  931.04ms
        90%    1.04s
        99%    1.28s
        20001 requests in 28.00s, 1.49MB read
        Requests/sec:    714.32
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 15.246861
        stop time: 15.701239
        stop time: 15.800289
        stop time: 15.692869
        stop time: 15.800068
        stop time: 16.056788
        stop time: 15.969799
        stop time: 15.690280
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [15.246861, 15.701239, 15.800289, 15.692869, 15.800068, 16.056788, 15.969799, 15.69028]
    [exp] Throughput: 1270.262745036363
[test.py] Finished running 2th optmization experiment: groundtruth->2102.6303327239034, slowdown->1270.262745036363, predicted->2140.233646364352, err->1.7883939490083538
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '300', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-wgfqt:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:33:20.075805Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   436.24ms  140.52ms   1.00s    66.45%
        Req/Sec   238.37     90.29   470.00     71.86%
        Latency Distribution
        50%  438.39ms
        75%  532.16ms
        90%  615.20ms
        99%  775.68ms
        5503 requests in 3.03s, 419.17KB read
        Requests/sec:   1813.46
        Transfer/sec:    138.13KB
        [run.sh] Speed is 1813.46, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   460.47ms  121.34ms 986.99ms   69.49%
        Req/Sec   265.91     85.17   606.00     72.59%
        Latency Distribution
        50%  463.31ms
        75%  541.30ms
        90%  608.48ms
        99%  751.94ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.048702
        stop time: 9.198578
        stop time: 9.242166
        stop time: 9.533358
        stop time: 9.591008
        stop time: 9.865360
        stop time: 9.820790
        stop time: 9.804905
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-b5b9p        619m         70Mi
        profile-87fd576f5-lzn42          295m         325Mi
        rate-76545fd9c7-bncq4            72m          147Mi
        reservation-58f789445d-hxgdh     94m          160Mi
        search-f6d7d66d4-sk9f8           152m         190Mi
        ubuntu-client-76886f6bbd-wgfqt   329m         93Mi
        user-9c7f9969b-dnxkx             29m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.048702, 9.198578, 9.242166, 9.533358, 9.591008, 9.86536, 9.82079, 9.804905]
    [exp] Throughput: 2102.362257593854
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1410.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-zf6rf:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:34:52.694755Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   672.34ms  255.25ms   1.48s    66.76%
        Req/Sec   152.33     81.74   404.00     66.05%
        Latency Distribution
        50%  722.56ms
        75%  837.16ms
        90%  954.68ms
        99%    1.14s
        3427 requests in 3.03s, 261.04KB read
        Requests/sec:   1129.90
        Transfer/sec:     86.07KB
        [run.sh] Speed is 1129.90, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   757.97ms  250.93ms   1.45s    70.66%
        Req/Sec   167.77     75.98   404.00     65.54%
        Latency Distribution
        50%  808.97ms
        75%  920.96ms
        90%    1.03s
        99%    1.23s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.826707
        stop time: 15.092208
        stop time: 15.252941
        stop time: 15.504289
        stop time: 15.227220
        stop time: 15.306635
        stop time: 15.397958
        stop time: 15.313521
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-6df4c59dff-t5ddc        295m         76Mi
        profile-7f8fc7d487-v5t26         326m         326Mi
        rate-c94447df-9qzcq              33m          154Mi
        reservation-86f4b566bd-9brvc     68m          183Mi
        search-7b9888f7b4-z5tmm          167m         81Mi
        ubuntu-client-76886f6bbd-zf6rf   160m         70Mi
        user-84dd8ddf89-2sb9q            11m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.826707, 15.092208, 15.252941, 15.504289, 15.22722, 15.306635, 15.397958, 15.313521]
    [exp] Throughput: 1312.3200383748626
[test.py] Finished running 3th optmization experiment: groundtruth->2102.362257593854, slowdown->1312.3200383748626, predicted->2074.6490092597937, err->-1.3181956741260124
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '400', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-7f8nw:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:36:25.316746Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   421.46ms  155.65ms   1.16s    71.72%
        Req/Sec   252.89     81.95   440.00     72.41%
        Latency Distribution
        50%  410.86ms
        75%  504.45ms
        90%  620.23ms
        99%  855.70ms
        5908 requests in 3.04s, 450.02KB read
        Requests/sec:   1944.34
        Transfer/sec:    148.10KB
        [run.sh] Speed is 1944.34, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   463.49ms  116.84ms 904.91ms   71.27%
        Req/Sec   264.71     74.10   494.00     68.88%
        Latency Distribution
        50%  467.21ms
        75%  538.91ms
        90%  604.82ms
        99%  737.33ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.162273
        stop time: 9.534381
        stop time: 9.398180
        stop time: 9.495114
        stop time: 9.725076
        stop time: 9.557328
        stop time: 9.648932
        stop time: 9.744684
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-q4kzs        622m         71Mi
        profile-68bf76cf46-877hw         349m         321Mi
        rate-76545fd9c7-vq59j            77m          139Mi
        reservation-58f789445d-kgc2z     75m          148Mi
        search-f6d7d66d4-lvqpp           57m          82Mi
        ubuntu-client-76886f6bbd-7f8nw   364m         67Mi
        user-9c7f9969b-52dbk             30m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.162273, 9.534381, 9.39818, 9.495114, 9.725076, 9.557328, 9.648932, 9.744684]
    [exp] Throughput: 2097.921316621852
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1209.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-xxtvs:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:37:57.911169Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   537.62ms  201.18ms   1.11s    65.45%
        Req/Sec   160.45     76.58   430.00     66.82%
        Latency Distribution
        50%  552.64ms
        75%  676.63ms
        90%  777.39ms
        99%  949.87ms
        3687 requests in 3.03s, 280.85KB read
        Requests/sec:   1215.20
        Transfer/sec:     92.56KB
        [run.sh] Speed is 1215.20, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   679.62ms  250.27ms   1.69s    68.31%
        Req/Sec   180.57     75.15   780.00     70.65%
        Latency Distribution
        50%  739.58ms
        75%  850.73ms
        90%  948.62ms
        99%    1.14s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 13.128443
        stop time: 13.837707
        stop time: 13.517043
        stop time: 14.185101
        stop time: 14.147794
        stop time: 14.350035
        stop time: 14.426867
        stop time: 14.487359
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-8679cfbdc5-8v9f8        704m         61Mi
        profile-7f8fc7d487-64mjc         777m         324Mi
        rate-cc7959678-m9nwm             101m         175Mi
        reservation-79c4d564b8-2h862     147m         93Mi
        search-85f59bdf6c-2q2qb          283m         83Mi
        ubuntu-client-76886f6bbd-xxtvs   435m         97Mi
        user-546f4bdcf6-8lmq8            30m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.128443, 13.837707, 13.517043, 14.185101, 14.147794, 14.350035, 14.426867, 14.487359]
    [exp] Throughput: 1427.5473035866437
[test.py] Finished running 4th optmization experiment: groundtruth->2097.921316621852, slowdown->1427.5473035866437, predicted->2171.5423742088947, err->3.509238263787224
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-srtkw:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:39:30.499263Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   413.46ms  134.53ms 894.92ms   68.63%
        Req/Sec   246.94     85.78   460.00     68.10%
        Latency Distribution
        50%  419.58ms
        75%  503.06ms
        90%  573.82ms
        99%  746.11ms
        5726 requests in 3.03s, 436.16KB read
        Requests/sec:   1887.70
        Transfer/sec:    143.79KB
        [run.sh] Speed is 1887.70, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   474.77ms  121.95ms   1.13s    73.11%
        Req/Sec   265.01     82.34   670.00     71.45%
        Latency Distribution
        50%  470.50ms
        75%  547.70ms
        90%  620.47ms
        99%  815.49ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.392526
        stop time: 9.500421
        stop time: 9.654064
        stop time: 9.644062
        stop time: 9.437891
        stop time: 9.608906
        stop time: 9.687128
        stop time: 9.717634
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-7dz6l        54m          64Mi
        profile-5f4bff8f45-kbt49         63m          361Mi
        rate-76545fd9c7-z7kkz            8m           138Mi
        reservation-58f789445d-s2jsj     1m           149Mi
        search-f6d7d66d4-99rwz           4m           81Mi
        ubuntu-client-76886f6bbd-srtkw   2m           62Mi
        user-9c7f9969b-n427f             4m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.392526, 9.500421, 9.654064, 9.644062, 9.437891, 9.608906, 9.687128, 9.717634]
    [exp] Throughput: 2087.610978704385
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-96qv6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:41:04.124705Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   458.16ms  221.45ms   1.29s    66.67%
        Req/Sec   165.59     90.22   383.00     60.96%
        Latency Distribution
        50%  441.28ms
        75%  603.79ms
        90%  764.98ms
        99%    1.04s
        3837 requests in 3.03s, 292.27KB read
        Requests/sec:   1267.37
        Transfer/sec:     96.54KB
        [run.sh] Speed is 1267.37, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   629.42ms  228.00ms   1.50s    67.93%
        Req/Sec   190.92     77.00   580.00     66.95%
        Latency Distribution
        50%  677.94ms
        75%  786.02ms
        90%  880.58ms
        99%    1.09s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 12.522476
        stop time: 12.657995
        stop time: 13.031431
        stop time: 13.306525
        stop time: 13.213410
        stop time: 13.522710
        stop time: 13.647016
        stop time: 13.656820
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-54487c877f-c842l        1309m        52Mi
        profile-7f8fc7d487-2cxsj         1454m        321Mi
        rate-84cb955d5b-t5vv2            180m         176Mi
        reservation-785bb5647b-w7b86     223m         92Mi
        search-64c7c6ffc7-qnd4d          375m         82Mi
        ubuntu-client-76886f6bbd-96qv6   757m         98Mi
        user-7548867745-s4gjp            58m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.522476, 12.657995, 13.031431, 13.306525, 13.21341, 13.52271, 13.647016, 13.65682]
    [exp] Throughput: 1515.748872356258
[test.py] Finished running 5th optmization experiment: groundtruth->2087.610978704385, slowdown->1515.748872356258, predicted->2175.1429745267783, err->4.192926590025758
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '600', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jmz4t:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:42:37.760825Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   382.98ms  183.24ms   1.18s    64.73%
        Req/Sec   242.50     85.35   560.00     71.98%
        Latency Distribution
        50%  372.76ms
        75%  510.08ms
        90%  621.14ms
        99%  883.29ms
        5654 requests in 3.03s, 430.68KB read
        Requests/sec:   1865.87
        Transfer/sec:    142.13KB
        [run.sh] Speed is 1865.87, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   473.07ms  120.77ms   1.57s    72.47%
        Req/Sec   265.11     71.71   545.00     69.07%
        Latency Distribution
        50%  477.50ms
        75%  546.86ms
        90%  615.08ms
        99%  772.53ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.305681
        stop time: 9.458690
        stop time: 9.457295
        stop time: 9.526834
        stop time: 9.608662
        stop time: 9.655141
        stop time: 9.760256
        stop time: 9.771383
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-nz8qf   3m           3Mi
        profile-6c59b85884-jvf7t    4m           307Mi
        rate-76545fd9c7-b7d2r       4m           117Mi
        user-9c7f9969b-2sz6b        3m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.305681, 9.45869, 9.457295, 9.526834, 9.608662, 9.655141, 9.760256, 9.771383]
    [exp] Throughput: 2090.30258723806
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '806.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-g7zmf:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:44:11.490198Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   577.47ms  234.41ms   1.37s    66.43%
        Req/Sec   182.16     75.06   434.00     69.20%
        Latency Distribution
        50%  612.30ms
        75%  737.97ms
        90%  842.33ms
        99%    1.12s
        4161 requests in 3.03s, 316.95KB read
        Requests/sec:   1371.29
        Transfer/sec:    104.45KB
        [run.sh] Speed is 1371.29, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   602.15ms  232.19ms   1.65s    68.81%
        Req/Sec   202.48     79.25   717.00     71.27%
        Latency Distribution
        50%  650.53ms
        75%  754.04ms
        90%  849.06ms
        99%    1.08s
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.38
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.970297
        stop time: 12.020263
        stop time: 12.156445
        stop time: 12.302011
        stop time: 12.607113
        stop time: 12.727180
        stop time: 12.841180
        stop time: 12.893806
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-79d55fccf4-sskd8        1124m        81Mi
        profile-7f8fc7d487-2hcs9         1249m        327Mi
        rate-5668bc9b5f-z2pzm            139m         179Mi
        reservation-55df4f99bf-mktrk     132m         184Mi
        search-856648d7c8-fkdxj          176m         83Mi
        ubuntu-client-76886f6bbd-g7zmf   508m         103Mi
        user-74668d8df4-7g8kf            46m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.970297, 12.020263, 12.156445, 12.302011, 12.607113, 12.72718, 12.84118, 12.893806]
    [exp] Throughput: 1607.744586058272
[test.py] Finished running 6th optmization experiment: groundtruth->2090.30258723806, slowdown->1607.744586058272, predicted->2164.5520909268807, err->3.5520935649286796
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '700', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-p5cf4:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:45:44.058941Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   342.38ms  174.18ms   1.06s    69.49%
        Req/Sec   243.77    107.13   520.00     68.53%
        Latency Distribution
        50%  331.06ms
        75%  453.64ms
        90%  565.15ms
        99%  852.88ms
        5690 requests in 3.03s, 433.42KB read
        Requests/sec:   1878.74
        Transfer/sec:    143.11KB
        [run.sh] Speed is 1878.74, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.22ms  144.59ms 960.29ms   67.26%
        Req/Sec   266.49     82.91   535.00     69.76%
        Latency Distribution
        50%  471.51ms
        75%  557.93ms
        90%  626.85ms
        99%  757.53ms
        20000 requests in 15.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.040111
        stop time: 9.010027
        stop time: 9.309281
        stop time: 9.394351
        stop time: 9.563697
        stop time: 9.715420
        stop time: 9.740312
        stop time: 9.780507
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.040111, 9.010027, 9.309281, 9.394351, 9.563697, 9.71542, 9.740312, 9.780507]
    [exp] Throughput: 2117.6988988468684
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-8lsnz:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:47:16.700722Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.53ms  257.55ms   1.36s    61.57%
        Req/Sec   191.91     76.18   383.00     65.09%
        Latency Distribution
        50%  388.94ms
        75%  667.73ms
        90%  802.86ms
        99%    1.07s
        4489 requests in 3.03s, 341.94KB read
        Requests/sec:   1481.06
        Transfer/sec:    112.82KB
        [run.sh] Speed is 1481.06, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   580.21ms  218.21ms   1.46s    69.72%
        Req/Sec   214.61     70.70   560.00     67.46%
        Latency Distribution
        50%  638.78ms
        75%  728.49ms
        90%  801.45ms
        99%  946.83ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.501568
        stop time: 11.487643
        stop time: 11.826640
        stop time: 11.861104
        stop time: 11.956884
        stop time: 12.072684
        stop time: 12.103642
        stop time: 11.977263
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c7589854-84s57         587m         78Mi
        profile-7f8fc7d487-zdtpl         628m         396Mi
        rate-76c7d5bdcf-2g9cn            65m          158Mi
        reservation-5fd76d4785-j5fs6     40m          177Mi
        search-6d577b5598-9jqz5          20m          198Mi
        ubuntu-client-76886f6bbd-8lsnz   145m         99Mi
        user-56f9799859-mtfhw            22m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.501568, 11.487643, 11.82664, 11.861104, 11.956884, 12.072684, 12.103642, 11.977263]
    [exp] Throughput: 1687.9875672963717
[test.py] Finished running 7th optmization experiment: groundtruth->2117.6988988468684, slowdown->1687.9875672963717, predicted->2116.754124773236, err->-0.04461323912227266
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '800', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-c67ff:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:48:49.304341Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   391.11ms  159.15ms 987.64ms   71.39%
        Req/Sec   243.17     80.20   525.00     70.69%
        Latency Distribution
        50%  387.94ms
        75%  502.29ms
        90%  585.16ms
        99%  768.16ms
        5669 requests in 3.03s, 431.82KB read
        Requests/sec:   1869.88
        Transfer/sec:    142.43KB
        [run.sh] Speed is 1869.88, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   457.23ms  175.96ms   1.03s    68.46%
        Req/Sec   264.01     88.17   727.00     72.34%
        Latency Distribution
        50%  499.31ms
        75%  575.30ms
        90%  645.66ms
        99%  805.81ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.002791
        stop time: 9.087196
        stop time: 9.392655
        stop time: 9.530039
        stop time: 9.849220
        stop time: 9.756981
        stop time: 10.002412
        stop time: 9.946999
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.002791, 9.087196, 9.392655, 9.530039, 9.84922, 9.756981, 10.002412, 9.946999]
    [exp] Throughput: 2089.63780869452
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '403.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-qfwlw:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:50:22.958866Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   481.61ms  185.64ms   1.06s    68.47%
        Req/Sec   206.81     82.70   420.00     65.52%
        Latency Distribution
        50%  496.60ms
        75%  616.19ms
        90%  702.95ms
        99%  849.31ms
        4793 requests in 3.04s, 365.09KB read
        Requests/sec:   1578.19
        Transfer/sec:    120.21KB
        [run.sh] Speed is 1578.19, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   542.82ms  210.16ms   1.21s    72.18%
        Req/Sec   226.45     73.03   515.00     67.73%
        Latency Distribution
        50%  605.29ms
        75%  678.54ms
        90%  745.78ms
        99%  890.41ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 10.874005
        stop time: 10.969734
        stop time: 10.889228
        stop time: 11.004965
        stop time: 11.086954
        stop time: 11.594058
        stop time: 11.164120
        stop time: 11.552086
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-55b87fd889-8zmrs        320m         69Mi
        profile-7f8fc7d487-kfgcb         320m         318Mi
        rate-5c76777d7b-tjdqw            37m          136Mi
        reservation-c7d849fd6-wrz95      83m          145Mi
        search-84bcddf5cc-76h7w          145m         169Mi
        ubuntu-client-76886f6bbd-qfwlw   309m         62Mi
        user-968bc9bc9-phddt             16m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.874005, 10.969734, 10.889228, 11.004965, 11.086954, 11.594058, 11.16412, 11.552086]
    [exp] Throughput: 1795.0269899136313
[test.py] Finished running 8th optmization experiment: groundtruth->2089.63780869452, slowdown->1795.0269899136313, predicted->2096.0199855505625, err->0.30542024218204616
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '900', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-rx56h:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:51:56.591721Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   369.95ms  194.98ms   1.45s    70.27%
        Req/Sec   233.60     89.71   484.00     66.81%
        Latency Distribution
        50%  341.27ms
        75%  506.01ms
        90%  606.75ms
        99%  919.96ms
        5436 requests in 3.03s, 414.07KB read
        Requests/sec:   1795.75
        Transfer/sec:    136.79KB
        [run.sh] Speed is 1795.75, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   503.53ms  187.05ms   1.10s    70.86%
        Req/Sec   249.28     70.58   590.00     70.09%
        Latency Distribution
        50%  555.55ms
        75%  622.61ms
        90%  689.32ms
        99%  822.74ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.990880
        stop time: 10.131297
        stop time: 10.137307
        stop time: 10.123955
        stop time: 10.224684
        stop time: 10.247389
        stop time: 10.263785
        stop time: 10.289069
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-rwbrd        871m         77Mi
        profile-67c965fc89-fp4gw         851m         331Mi
        rate-76545fd9c7-xsdsm            130m         177Mi
        reservation-58f789445d-zw6w8     0m           89Mi
        search-f6d7d66d4-vkqms           0m           81Mi
        ubuntu-client-76886f6bbd-rx56h   5m           72Mi
        user-9c7f9969b-5bl5k             0m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.99088, 10.131297, 10.137307, 10.123955, 10.224684, 10.247389, 10.263785, 10.289069]
    [exp] Throughput: 1965.399968843497
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '201.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-zmptz:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:53:30.252963Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   458.51ms  190.44ms   1.02s    66.55%
        Req/Sec   225.67     73.40   380.00     69.40%
        Latency Distribution
        50%  487.33ms
        75%  595.68ms
        90%  669.25ms
        99%  814.73ms
        5256 requests in 3.03s, 400.36KB read
        Requests/sec:   1731.96
        Transfer/sec:    131.93KB
        [run.sh] Speed is 1731.96, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   504.56ms  222.82ms   1.12s    69.63%
        Req/Sec   238.87     81.07   636.00     72.10%
        Latency Distribution
        50%  587.88ms
        75%  658.92ms
        90%  721.54ms
        99%  863.46ms
        20000 requests in 17.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.891667
        stop time: 10.055710
        stop time: 10.246414
        stop time: 10.393258
        stop time: 11.052570
        stop time: 10.785615
        stop time: 11.012967
        stop time: 11.063644
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c68449469-tltlf        1m           73Mi
        profile-7f8fc7d487-k6d76         2m           322Mi
        rate-6799c47946-f895f            4m           136Mi
        reservation-7ccbb44bc8-w6zrc     93m          145Mi
        search-f546798d9-c62cl           138m         180Mi
        ubuntu-client-76886f6bbd-zmptz   266m         66Mi
        user-69bcf87754-mg22k            3m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.891667, 10.05571, 10.246414, 10.393258, 11.05257, 10.785615, 11.012967, 11.063644]
    [exp] Throughput: 1893.4497820728059
[test.py] Finished running 9th optmization experiment: groundtruth->1965.399968843497, slowdown->1893.4497820728059, predicted->2048.607174388774, err->4.233601651791975
[test.py] Baseline throughput:  1925.0823174222755
[test.py] Groundtruth:  [2093.7436831916652, 2111.527476469039, 2102.6303327239034, 2102.362257593854, 2097.921316621852, 2087.610978704385, 2090.30258723806, 2117.6988988468684, 2089.63780869452, 1965.399968843497]
[test.py] Slowdown:  [1137.3670881706444, 1210.4772556241232, 1270.262745036363, 1312.3200383748626, 1427.5473035866437, 1515.748872356258, 1607.744586058272, 1687.9875672963717, 1795.0269899136313, 1893.4497820728059]
[test.py] Predicted:  [2086.7085300393037, 2145.3682772706143, 2140.233646364352, 2074.6490092597937, 2171.5423742088947, 2175.1429745267783, 2164.5520909268807, 2116.754124773236, 2096.0199855505625, 2048.607174388774]
[test.py] Error percentage:  [-0.3360083284710994, 1.6026692135763725, 1.7883939490083538, -1.3181956741260124, 3.509238263787224, 4.192926590025758, 3.5520935649286796, -0.04461323912227266, 0.30542024218204616, 4.233601651791975]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-ww94s:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:55:02.871331Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   363.67ms  213.21ms   1.06s    62.56%
        Req/Sec   236.26     79.34   470.00     68.53%
        Latency Distribution
        50%  326.59ms
        75%  550.76ms
        90%  637.86ms
        99%  862.78ms
        5540 requests in 3.03s, 421.99KB read
        Requests/sec:   1830.72
        Transfer/sec:    139.45KB
        [run.sh] Speed is 1830.72, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.70ms  238.05ms   1.13s    74.83%
        Req/Sec   246.57     80.25   590.00     72.49%
        Latency Distribution
        50%  597.40ms
        75%  649.38ms
        90%  694.29ms
        99%  795.21ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.699312
        stop time: 9.495603
        stop time: 10.073941
        stop time: 10.325696
        stop time: 10.374986
        stop time: 10.467038
        stop time: 10.791555
        stop time: 10.815967
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-k6s5d        1792m        53Mi
        profile-7f8fc7d487-qkr4n         1916m        333Mi
        rate-76545fd9c7-cld4l            232m         177Mi
        reservation-58f789445d-vj4vl     61m          181Mi
        search-f6d7d66d4-v65kd           156m         82Mi
        ubuntu-client-76886f6bbd-ww94s   357m         75Mi
        user-9c7f9969b-ldzmd             68m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.699312, 9.495603, 10.073941, 10.325696, 10.374986, 10.467038, 10.791555, 10.815967]
    [exp] Throughput: 1950.1707484187343
[test.py] Baseline throughput: 1950.1707484187343
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-hd5tg:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:56:35.519838Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   449.99ms  142.72ms   1.06s    67.62%
        Req/Sec   239.66     82.33   470.00     71.55%
        Latency Distribution
        50%  440.38ms
        75%  552.35ms
        90%  636.34ms
        99%  782.98ms
        5553 requests in 3.04s, 422.98KB read
        Requests/sec:   1827.62
        Transfer/sec:    139.21KB
        [run.sh] Speed is 1827.62, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   472.17ms  115.07ms   1.01s    71.85%
        Req/Sec   264.29     73.75   470.00     68.04%
        Latency Distribution
        50%  472.93ms
        75%  542.39ms
        90%  614.31ms
        99%  749.17ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.282638
        stop time: 9.513216
        stop time: 9.748058
        stop time: 9.474487
        stop time: 9.610348
        stop time: 9.640953
        stop time: 9.589475
        stop time: 9.767419
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        reservation-58f789445d-xgl4l     1m           120Mi
        search-f6d7d66d4-f8xrf           1m           164Mi
        ubuntu-client-76886f6bbd-hd5tg   8m           1Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.282638, 9.513216, 9.748058, 9.474487, 9.610348, 9.640953, 9.589475, 9.767419]
    [exp] Throughput: 2088.0479171500174
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-4zpbh:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:58:09.183724Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   770.84ms  317.42ms   2.34s    68.86%
        Req/Sec   128.92     73.80   353.00     68.29%
        Latency Distribution
        50%  811.70ms
        75%    1.00s
        90%    1.17s
        99%    1.43s
        2778 requests in 3.04s, 211.61KB read
        Requests/sec:    915.16
        Transfer/sec:     69.71KB
        [run.sh] Speed is 915.16, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-66844fd9bf-9bjkg        555m         80Mi
        profile-7f8fc7d487-vnzcp         580m         313Mi
        rate-7b654596d-j55n8             59m          170Mi
        reservation-866469c858-xcrz7     42m          182Mi
        search-d865f74b5-s57qg           282m         85Mi
        ubuntu-client-76886f6bbd-4zpbh   604m         106Mi
        user-7cfffb7cfb-mrlzc            17m          12Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   868.52ms  237.55ms   1.84s    72.35%
        Req/Sec   148.06     73.34   515.00     69.07%
        Latency Distribution
        50%  891.77ms
        75%    1.01s
        90%    1.14s
        99%    1.45s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 17.300015
        stop time: 17.233117
        stop time: 17.323204
        stop time: 17.549191
        stop time: 17.410336
        stop time: 17.455965
        stop time: 17.476223
        stop time: 17.657817
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.300015, 17.233117, 17.323204, 17.549191, 17.410336, 17.455965, 17.476223, 17.657817]
    [exp] Throughput: 1147.727870393519
[test.py] Finished running 0th optmization experiment: groundtruth->2088.0479171500174, slowdown->1147.727870393519, predicted->2121.8507822229435, err->1.6188740112374314
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '100', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jg8lm:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T19:59:44.384021Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   326.47ms  145.11ms 922.03ms   66.64%
        Req/Sec   245.82    102.95   494.00     61.64%
        Latency Distribution
        50%  312.94ms
        75%  418.30ms
        90%  531.97ms
        99%  697.23ms
        5731 requests in 3.02s, 436.54KB read
        Requests/sec:   1895.66
        Transfer/sec:    144.40KB
        [run.sh] Speed is 1895.66, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.13ms  116.27ms   1.13s    71.68%
        Req/Sec   269.27     81.07   727.00     74.46%
        Latency Distribution
        50%  458.18ms
        75%  527.81ms
        90%  592.14ms
        99%  747.28ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 8.967310
        stop time: 9.110688
        stop time: 9.191445
        stop time: 9.496931
        stop time: 9.657540
        stop time: 9.622051
        stop time: 9.729920
        stop time: 9.432827
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [8.96731, 9.110688, 9.191445, 9.496931, 9.65754, 9.622051, 9.72992, 9.432827]
    [exp] Throughput: 2127.4131113959247
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1813.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-d2jj2:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:01:17.008126Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   750.94ms  287.05ms   1.55s    70.65%
        Req/Sec   139.28     74.63   430.00     69.08%
        Latency Distribution
        50%  797.55ms
        75%  940.59ms
        90%    1.07s
        99%    1.30s
        3026 requests in 3.03s, 230.50KB read
        Requests/sec:    999.40
        Transfer/sec:     76.13KB
        [run.sh] Speed is 999.40, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7f786bd9f6-dfd5b        149m         77Mi
        profile-7f8fc7d487-hsvnc         205m         362Mi
        rate-596fc59fd6-q6b9r            29m          147Mi
        reservation-6dc464d459-8rnn5     57m          159Mi
        search-687c8cd495-jkbn8          113m         191Mi
        ubuntu-client-76886f6bbd-d2jj2   265m         99Mi
        user-5ccd7fb86-8xfhc             14m          10Mi
        Running 30s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   804.89ms  226.24ms   1.65s    68.87%
        Req/Sec   156.67     80.72   420.00     65.46%
        Latency Distribution
        50%  827.90ms
        75%  959.53ms
        90%    1.07s
        99%    1.29s
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 15.946352
        stop time: 15.997755
        stop time: 16.182222
        stop time: 16.587277
        stop time: 16.652730
        stop time: 16.776446
        stop time: 16.956505
        stop time: 16.914084
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.946352, 15.997755, 16.182222, 16.587277, 16.65273, 16.776446, 16.956505, 16.914084]
    [exp] Throughput: 1211.9984421881024
[test.py] Finished running 1th optmization experiment: groundtruth->2127.4131113959247, slowdown->1211.9984421881024, predicted->2150.151214087587, err->1.0688146354772856
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '200', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-pltgx:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:02:49.171885Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   355.91ms  136.46ms 895.54ms   65.22%
        Req/Sec   239.70    100.64   545.00     67.24%
        Latency Distribution
        50%  351.52ms
        75%  458.46ms
        90%  532.11ms
        99%  689.59ms
        5592 requests in 3.03s, 425.95KB read
        Requests/sec:   1844.48
        Transfer/sec:    140.50KB
        [run.sh] Speed is 1844.48, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   445.31ms  140.62ms   1.18s    70.86%
        Req/Sec   266.00     88.96   720.00     72.46%
        Latency Distribution
        50%  448.04ms
        75%  533.57ms
        90%  615.67ms
        99%  784.94ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.847444
        stop time: 9.214584
        stop time: 9.210157
        stop time: 9.461534
        stop time: 9.580635
        stop time: 9.770587
        stop time: 9.777617
        stop time: 9.786460
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [8.847444, 9.214584, 9.210157, 9.461534, 9.580635, 9.770587, 9.777617, 9.78646]
    [exp] Throughput: 2115.030759553283
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '320.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1612.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] frontend-5f879cd496-5b9j8 cannot connect to reservation
        [run.sh] frontend-5f879cd496-5b9j8 cannot connect to reservation
        [run.sh] frontend-5f879cd496-5b9j8 cannot connect to reservation
        [run.sh] profile-7f8fc7d487-xnw8j cannot connect to reservation
        [run.sh] profile-7f8fc7d487-xnw8j cannot connect to reservation
        [run.sh] rate-698d74565-q776z cannot connect to reservation
        [run.sh] rate-698d74565-q776z cannot connect to reservation
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jgfgq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:04:35.461124Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   599.68ms  269.21ms   1.63s    66.18%
        Req/Sec   147.83     87.10   450.00     66.51%
        Latency Distribution
        50%  606.68ms
        75%  800.18ms
        90%  929.08ms
        99%    1.26s
        3258 requests in 3.03s, 248.17KB read
        Requests/sec:   1074.93
        Transfer/sec:     81.88KB
        [run.sh] Speed is 1074.93, duration is 27
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d27s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 27s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   768.03ms  264.99ms   1.57s    69.67%
        Req/Sec   162.02     76.44   434.00     65.36%
        Latency Distribution
        50%  826.00ms
        75%  946.42ms
        90%    1.06s
        99%    1.27s
        20000 requests in 27.00s, 1.49MB read
        Requests/sec:    740.74
        Transfer/sec:     56.42KB
        ------------------------------
        stop time: 15.112444
        stop time: 15.514145
        stop time: 15.903961
        stop time: 15.770432
        stop time: 15.618346
        stop time: 16.296704
        stop time: 16.032271
        stop time: 16.035818
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5f879cd496-5b9j8        3m           3Mi
        profile-7f8fc7d487-xnw8j         3m           305Mi
        rate-698d74565-q776z             5m           117Mi
        reservation-67cbc8f65f-fcqbv     4m           120Mi
        search-6bf7f67f5b-z6bgb          4m           165Mi
        ubuntu-client-76886f6bbd-jgfgq   6m           1Mi
        user-67668d8d48-s24tq            4m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
        > command terminated with exit code 1
    [exp] Times: [15.112444, 15.514145, 15.903961, 15.770432, 15.618346, 16.296704, 16.032271, 16.035818]
    [exp] Throughput: 1266.9843107194768
[test.py] Finished running 2th optmization experiment: groundtruth->2115.030759553283, slowdown->1266.9843107194768, predicted->2130.9432389839126, err->0.752352151795198
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '300', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-lpns9:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:06:09.192596Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   371.88ms  189.16ms   1.47s    70.16%
        Req/Sec   239.94     89.31   510.00     66.81%
        Latency Distribution
        50%  356.99ms
        75%  485.54ms
        90%  603.10ms
        99%  955.73ms
        5589 requests in 3.03s, 425.72KB read
        Requests/sec:   1847.32
        Transfer/sec:    140.71KB
        [run.sh] Speed is 1847.32, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.18ms  127.18ms   1.10s    71.93%
        Req/Sec   264.83     86.08   676.00     72.46%
        Latency Distribution
        50%  457.41ms
        75%  531.99ms
        90%  603.68ms
        99%  769.55ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.915190
        stop time: 8.934300
        stop time: 9.192295
        stop time: 9.450802
        stop time: 9.660228
        stop time: 9.718826
        stop time: 9.897237
        stop time: 9.884954
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-jdxtx        1637m        49Mi
        profile-87fd576f5-wxgh8          778m         315Mi
        rate-76545fd9c7-f9mxh            190m         179Mi
        reservation-58f789445d-5gfmv     175m         92Mi
        search-f6d7d66d4-ffddj           289m         82Mi
        ubuntu-client-76886f6bbd-lpns9   326m         95Mi
        user-9c7f9969b-s7x49             56m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [8.91519, 8.9343, 9.192295, 9.450802, 9.660228, 9.718826, 9.897237, 9.884954]
    [exp] Throughput: 2114.8961760456496
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '280.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1410.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-9v9dq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:07:41.754868Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   700.51ms  297.90ms   1.94s    68.44%
        Req/Sec   136.68     86.60   410.00     63.23%
        Latency Distribution
        50%  706.17ms
        75%  912.96ms
        90%    1.10s
        99%    1.34s
        3131 requests in 3.03s, 238.49KB read
        Requests/sec:   1032.30
        Transfer/sec:     78.63KB
        [run.sh] Speed is 1032.30, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   739.61ms  239.75ms   1.60s    70.03%
        Req/Sec   170.75     75.53   484.00     66.32%
        Latency Distribution
        50%  781.89ms
        75%  896.39ms
        90%    1.00s
        99%    1.22s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 14.629610
        stop time: 15.041573
        stop time: 15.025528
        stop time: 15.020522
        stop time: 15.005128
        stop time: 14.830607
        stop time: 15.064268
        stop time: 15.238233
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.62961, 15.041573, 15.025528, 15.020522, 15.005128, 14.830607, 15.064268, 15.238233]
    [exp] Throughput: 1334.9411698518322
[test.py] Finished running 3th optmization experiment: groundtruth->2114.8961760456496, slowdown->1334.9411698518322, predicted->2131.756714490719, err->0.7972277143455099
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '400', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-nr6x2:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:09:14.373019Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   433.37ms  134.19ms   1.04s    70.37%
        Req/Sec   249.15     83.19   464.00     72.41%
        Latency Distribution
        50%  432.20ms
        75%  523.73ms
        90%  599.52ms
        99%  744.89ms
        5795 requests in 3.04s, 441.42KB read
        Requests/sec:   1907.92
        Transfer/sec:    145.33KB
        [run.sh] Speed is 1907.92, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   476.93ms  106.59ms   1.06s    71.06%
        Req/Sec   263.93     72.72   780.00     69.18%
        Latency Distribution
        50%  474.08ms
        75%  544.48ms
        90%  610.35ms
        99%  741.92ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.418286
        stop time: 9.495328
        stop time: 9.651341
        stop time: 9.512160
        stop time: 9.670983
        stop time: 9.597173
        stop time: 9.650387
        stop time: 9.629419
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-qnkx7        870m         77Mi
        profile-68bf76cf46-nnz8b         464m         322Mi
        rate-76545fd9c7-4vf24            89m          156Mi
        reservation-58f789445d-vscsd     40m          183Mi
        search-f6d7d66d4-8rhld           66m          80Mi
        ubuntu-client-76886f6bbd-nr6x2   166m         99Mi
        user-9c7f9969b-lntlg             19m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.418286, 9.495328, 9.651341, 9.51216, 9.670983, 9.597173, 9.650387, 9.629419]
    [exp] Throughput: 2088.089255688448
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '240.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1209.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-wcq69:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:10:46.927850Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   560.99ms  266.83ms   1.49s    63.12%
        Req/Sec   151.58     86.82   474.00     65.49%
        Latency Distribution
        50%  561.01ms
        75%  751.25ms
        90%  903.17ms
        99%    1.19s
        3484 requests in 3.03s, 265.38KB read
        Requests/sec:   1148.25
        Transfer/sec:     87.46KB
        [run.sh] Speed is 1148.25, duration is 26
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d26s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 26s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   711.77ms  252.72ms   1.49s    70.29%
        Req/Sec   176.83     76.33   520.00     69.22%
        Latency Distribution
        50%  767.21ms
        75%  873.68ms
        90%  980.98ms
        99%    1.18s
        20000 requests in 26.00s, 1.49MB read
        Requests/sec:    769.23
        Transfer/sec:     58.59KB
        ------------------------------
        stop time: 14.115450
        stop time: 14.104872
        stop time: 14.346664
        stop time: 14.347416
        stop time: 14.311355
        stop time: 14.435270
        stop time: 14.615553
        stop time: 14.496035
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.11545, 14.104872, 14.346664, 14.347416, 14.311355, 14.43527, 14.615553, 14.496035]
    [exp] Throughput: 1394.0607696356835
[test.py] Finished running 4th optmization experiment: groundtruth->2088.089255688448, slowdown->1394.0607696356835, predicted->2094.9917715924744, err->0.3305661328998511
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-26nrp:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:12:19.532613Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   448.06ms  128.54ms 997.92ms   71.30%
        Req/Sec   238.96     83.54   420.00     70.69%
        Latency Distribution
        50%  453.65ms
        75%  520.23ms
        90%  603.47ms
        99%  773.49ms
        5537 requests in 3.03s, 421.76KB read
        Requests/sec:   1828.17
        Transfer/sec:    139.26KB
        [run.sh] Speed is 1828.17, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   510.22ms  123.20ms   1.09s    71.15%
        Req/Sec   246.93     71.45   610.00     70.38%
        Latency Distribution
        50%  509.76ms
        75%  587.52ms
        90%  661.94ms
        99%  809.80ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 10.066210
        stop time: 10.100507
        stop time: 10.354159
        stop time: 10.253545
        stop time: 10.347754
        stop time: 10.308786
        stop time: 10.312245
        stop time: 10.316480
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-7gr2w        122m         79Mi
        profile-5f4bff8f45-h4vhf         31m          368Mi
        rate-76545fd9c7-ffckt            26m          149Mi
        reservation-58f789445d-wfjzr     80m          162Mi
        search-f6d7d66d4-czpts           151m         84Mi
        ubuntu-client-76886f6bbd-26nrp   331m         98Mi
        user-9c7f9969b-zx499             17m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.06621, 10.100507, 10.354159, 10.253545, 10.347754, 10.308786, 10.312245, 10.31648]
    [exp] Throughput: 1949.8002953606233
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-b72bg:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:13:53.185776Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   605.91ms  232.06ms   1.42s    71.54%
        Req/Sec   163.10     79.14   360.00     67.86%
        Latency Distribution
        50%  613.36ms
        75%  759.86ms
        90%  877.94ms
        99%    1.13s
        3745 requests in 3.04s, 285.26KB read
        Requests/sec:   1233.17
        Transfer/sec:     93.93KB
        [run.sh] Speed is 1233.17, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   640.68ms  233.06ms   1.42s    69.04%
        Req/Sec   190.91     75.02   474.00     68.11%
        Latency Distribution
        50%  687.67ms
        75%  800.62ms
        90%  894.36ms
        99%    1.09s
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 12.698530
        stop time: 12.772176
        stop time: 12.970368
        stop time: 13.064350
        stop time: 13.318645
        stop time: 13.600058
        stop time: 13.729301
        stop time: 13.652659
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-54487c877f-z4c5z        0m           60Mi
        profile-7f8fc7d487-hpg7t         0m           417Mi
        rate-84cb955d5b-flmp7            0m           179Mi
        reservation-785bb5647b-tr2sp     0m           184Mi
        search-64c7c6ffc7-scxxl          0m           84Mi
        ubuntu-client-76886f6bbd-b72bg   241m         68Mi
        user-7548867745-5rxf5            0m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.69853, 12.772176, 12.970368, 13.06435, 13.318645, 13.600058, 13.729301, 13.652659]
    [exp] Throughput: 1512.2003330488917
[test.py] Finished running 5th optmization experiment: groundtruth->1949.8002953606233, slowdown->1512.2003330488917, predicted->2167.842877241277, err->11.182816127347342
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '600', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-47b5j:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:15:26.817195Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.47ms  185.20ms   1.01s    62.95%
        Req/Sec   247.26     81.87   530.00     74.14%
        Latency Distribution
        50%  354.69ms
        75%  514.40ms
        90%  625.89ms
        99%  805.51ms
        5749 requests in 3.03s, 437.91KB read
        Requests/sec:   1899.86
        Transfer/sec:    144.72KB
        [run.sh] Speed is 1899.86, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   467.72ms  130.46ms   1.08s    70.87%
        Req/Sec   265.18     76.21   740.00     70.13%
        Latency Distribution
        50%  475.34ms
        75%  548.65ms
        90%  623.80ms
        99%  775.23ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.253248
        stop time: 9.438982
        stop time: 9.492772
        stop time: 9.680557
        stop time: 9.687846
        stop time: 9.698261
        stop time: 9.591565
        stop time: 9.506878
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-9sl8x        623m         72Mi
        profile-6c59b85884-nnndv         461m         361Mi
        rate-76545fd9c7-b5h6h            74m          139Mi
        reservation-58f789445d-jq8nq     98m          149Mi
        search-f6d7d66d4-7rcrp           180m         85Mi
        ubuntu-client-76886f6bbd-47b5j   48m          64Mi
        user-9c7f9969b-ksm5s             28m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.253248, 9.438982, 9.492772, 9.680557, 9.687846, 9.698261, 9.591565, 9.506878]
    [exp] Throughput: 2095.60931995526
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '160.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '806.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-j6scg:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:16:59.409891Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   477.72ms  221.37ms   1.19s    64.84%
        Req/Sec   179.22     78.31   404.00     65.24%
        Latency Distribution
        50%  473.25ms
        75%  649.66ms
        90%  758.10ms
        99%    1.02s
        4207 requests in 3.03s, 320.46KB read
        Requests/sec:   1387.27
        Transfer/sec:    105.67KB
        [run.sh] Speed is 1387.27, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   628.72ms  222.16ms   1.66s    70.24%
        Req/Sec   201.19     73.79   620.00     70.72%
        Latency Distribution
        50%  678.35ms
        75%  770.09ms
        90%  864.58ms
        99%    1.03s
        20000 requests in 21.00s, 1.49MB read
        Socket errors: connect 0, read 1, write 0, timeout 0
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 12.438402
        stop time: 12.579454
        stop time: 12.651856
        stop time: 12.820865
        stop time: 12.781331
        stop time: 12.826399
        stop time: 12.691791
        stop time: 12.902275
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-79d55fccf4-n7qpj        1429m        68Mi
        profile-7f8fc7d487-tnsf6         1589m        331Mi
        rate-5668bc9b5f-wck6m            37m          158Mi
        reservation-55df4f99bf-29wql     95m          90Mi
        search-856648d7c8-b9r2b          157m         83Mi
        ubuntu-client-76886f6bbd-j6scg   632m         74Mi
        user-74668d8df4-srxfp            22m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.438402, 12.579454, 12.651856, 12.820865, 12.781331, 12.826399, 12.691791, 12.902275]
    [exp] Throughput: 1573.3726658143771
[test.py] Finished running 6th optmization experiment: groundtruth->2095.60931995526, slowdown->1573.3726658143771, predicted->2102.7074553188136, err->0.33871463044003597
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '700', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jsqkm:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:18:32.032903Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   328.59ms  141.08ms 903.65ms   67.23%
        Req/Sec   244.04     98.65   525.00     65.09%
        Latency Distribution
        50%  325.02ms
        75%  422.27ms
        90%  507.50ms
        99%  696.84ms
        5692 requests in 3.03s, 433.57KB read
        Requests/sec:   1877.29
        Transfer/sec:    143.00KB
        [run.sh] Speed is 1877.29, duration is 15
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d15s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 15s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   473.89ms  119.25ms 975.92ms   69.76%
        Req/Sec   264.51     68.32   660.00     70.95%
        Latency Distribution
        50%  479.55ms
        75%  551.72ms
        90%  620.10ms
        99%  745.03ms
        20000 requests in 15.00s, 1.49MB read
        Requests/sec:   1333.32
        Transfer/sec:    101.56KB
        ------------------------------
        stop time: 9.306943
        stop time: 9.562369
        stop time: 9.607004
        stop time: 9.666693
        stop time: 9.641046
        stop time: 9.605957
        stop time: 9.753272
        stop time: 9.663906
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8dc8d74f-fjwbt        3m           75Mi
        rate-76545fd9c7-d2lbb            44m          137Mi
        reservation-58f789445d-rsqjl     0m           145Mi
        search-f6d7d66d4-xqm6q           33m          179Mi
        ubuntu-client-76886f6bbd-jsqkm   8m           89Mi
        user-9c7f9969b-6n8c6             7m           9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.306943, 9.562369, 9.607004, 9.666693, 9.641046, 9.605957, 9.753272, 9.663906]
    [exp] Throughput: 2083.138310358705
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '120.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '604.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-d9gmb:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:20:05.719018Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   530.07ms  184.64ms   1.18s    65.47%
        Req/Sec   194.22     75.58   390.00     66.38%
        Latency Distribution
        50%  555.88ms
        75%  660.82ms
        90%  748.58ms
        99%  881.79ms
        4500 requests in 3.04s, 342.77KB read
        Requests/sec:   1479.48
        Transfer/sec:    112.69KB
        [run.sh] Speed is 1479.48, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   585.34ms  214.03ms   1.37s    70.74%
        Req/Sec   212.70     67.42   630.00     69.02%
        Latency Distribution
        50%  634.36ms
        75%  721.04ms
        90%  805.35ms
        99%  977.38ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.702599
        stop time: 11.852661
        stop time: 11.987641
        stop time: 11.908171
        stop time: 11.955596
        stop time: 11.943755
        stop time: 12.001249
        stop time: 11.848820
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c7589854-wplz5         1143m        73Mi
        profile-7f8fc7d487-m9cbp         1185m        410Mi
        rate-76c7d5bdcf-j6vbf            131m         180Mi
        reservation-5fd76d4785-rhrhm     215m         82Mi
        search-6d577b5598-sb6f8          345m         81Mi
        ubuntu-client-76886f6bbd-d9gmb   798m         101Mi
        user-56f9799859-dmdws            54m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.702599, 11.852661, 11.987641, 11.908171, 11.955596, 11.943755, 12.001249, 11.84882]
    [exp] Throughput: 1680.6635831251797
[test.py] Finished running 7th optmization experiment: groundtruth->2083.138310358705, slowdown->1680.6635831251797, predicted->2105.2495291741006, err->1.0614378654285432
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '800', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-plmfd:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:21:38.302978Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   338.52ms  151.15ms 902.99ms   64.78%
        Req/Sec   241.80     99.42   484.00     65.52%
        Latency Distribution
        50%  328.73ms
        75%  455.23ms
        90%  541.81ms
        99%  678.35ms
        5633 requests in 3.03s, 429.08KB read
        Requests/sec:   1861.48
        Transfer/sec:    141.79KB
        [run.sh] Speed is 1861.48, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   455.55ms  165.50ms 933.74ms   67.16%
        Req/Sec   263.71     82.91   710.00     73.15%
        Latency Distribution
        50%  495.94ms
        75%  571.90ms
        90%  637.37ms
        99%  766.30ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 9.068575
        stop time: 9.092334
        stop time: 9.427551
        stop time: 9.524541
        stop time: 9.640860
        stop time: 9.853131
        stop time: 10.053346
        stop time: 9.942124
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        rate-76545fd9c7-lnljb          3m           117Mi
        reservation-58f789445d-ndktn   3m           119Mi
        search-f6d7d66d4-zh89f         4m           166Mi
        user-9c7f9969b-tps6l           4m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.068575, 9.092334, 9.427551, 9.524541, 9.64086, 9.853131, 10.053346, 9.942124]
    [exp] Throughput: 2088.7057128790457
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '80.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '403.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-cns4z:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:23:10.867748Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   446.89ms  204.92ms   1.20s    65.05%
        Req/Sec   210.38     81.12   480.00     68.53%
        Latency Distribution
        50%  441.79ms
        75%  604.78ms
        90%  700.05ms
        99%  926.87ms
        4921 requests in 3.03s, 374.84KB read
        Requests/sec:   1621.50
        Transfer/sec:    123.51KB
        [run.sh] Speed is 1621.50, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   529.69ms  213.71ms   1.09s    69.75%
        Req/Sec   229.75     75.71   470.00     71.08%
        Latency Distribution
        50%  593.44ms
        75%  675.21ms
        90%  746.92ms
        99%  886.41ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.364155
        stop time: 10.563084
        stop time: 10.856654
        stop time: 10.868043
        stop time: 11.214277
        stop time: 11.094918
        stop time: 11.483635
        stop time: 11.523815
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-55b87fd889-s27k5        557m         82Mi
        profile-7f8fc7d487-4zhnj         511m         400Mi
        rate-5c76777d7b-7frth            26m          180Mi
        reservation-c7d849fd6-jg2l8      262m         178Mi
        search-84bcddf5cc-ckdbh          474m         81Mi
        ubuntu-client-76886f6bbd-cns4z   440m         100Mi
        user-968bc9bc9-lv6c7             82m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.364155, 10.563084, 10.856654, 10.868043, 11.214277, 11.094918, 11.483635, 11.523815]
    [exp] Throughput: 1818.8312029268725
[test.py] Finished running 8th optmization experiment: groundtruth->2088.7057128790457, slowdown->1818.8312029268725, predicted->2128.5488946505457, err->1.9075536360065126
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '900', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-86nch:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:24:43.446380Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   430.00ms  174.12ms 943.36ms   68.84%
        Req/Sec   240.49     80.60   410.00     70.69%
        Latency Distribution
        50%  444.82ms
        75%  551.62ms
        90%  632.48ms
        99%  789.23ms
        5587 requests in 3.03s, 425.57KB read
        Requests/sec:   1840.94
        Transfer/sec:    140.23KB
        [run.sh] Speed is 1840.94, duration is 16
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d16s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 16s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   465.28ms  197.83ms   1.01s    69.56%
        Req/Sec   260.65     80.72   650.00     75.82%
        Latency Distribution
        50%  535.88ms
        75%  598.29ms
        90%  658.56ms
        99%  797.32ms
        20000 requests in 16.00s, 1.49MB read
        Requests/sec:   1249.99
        Transfer/sec:     95.21KB
        ------------------------------
        stop time: 8.954823
        stop time: 9.261986
        stop time: 9.834290
        stop time: 9.559441
        stop time: 9.756095
        stop time: 9.933415
        stop time: 10.260188
        stop time: 10.258445
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [8.954823, 9.261986, 9.83429, 9.559441, 9.756095, 9.933415, 10.260188, 10.258445]
    [exp] Throughput: 2056.061524454224
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PROFILE': 'true', 'SLOWPOKE_DELAY_MICROS_RATE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RATE': 'false', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '40.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '100', 'SLOWPOKE_IS_TARGET_SERVICE_RESERVATION': 'false', 'SLOWPOKE_DELAY_MICROS_SEARCH': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '100', 'SLOWPOKE_IS_TARGET_SERVICE_SEARCH': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '201.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-whm8h:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-08T20:26:15.948850Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   400.23ms  230.49ms   1.63s    68.57%
        Req/Sec   214.83     83.99   450.00     66.38%
        Latency Distribution
        50%  351.42ms
        75%  568.33ms
        90%  707.94ms
        99%    1.02s
        5065 requests in 3.03s, 385.81KB read
        Requests/sec:   1670.58
        Transfer/sec:    127.25KB
        [run.sh] Speed is 1670.58, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   528.91ms  235.61ms   1.29s    76.40%
        Req/Sec   238.16     65.14   480.00     70.17%
        Latency Distribution
        50%  621.83ms
        75%  672.42ms
        90%  721.01ms
        99%  843.82ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 10.541332
        stop time: 10.529699
        stop time: 10.667031
        stop time: 10.568215
        stop time: 10.715837
        stop time: 10.566497
        stop time: 10.731073
        stop time: 10.885413
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c68449469-b64gb        95m          74Mi
        profile-7f8fc7d487-tqjlk         198m         391Mi
        rate-6799c47946-645r8            58m          167Mi
        reservation-7ccbb44bc8-55kgw     175m         170Mi
        search-f546798d9-pvhv4           150m         83Mi
        ubuntu-client-76886f6bbd-whm8h   47m          99Mi
        user-69bcf87754-lsqc9            29m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.541332, 10.529699, 10.667031, 10.568215, 10.715837, 10.566497, 10.731073, 10.885413]
    [exp] Throughput: 1877.8219335869076
[test.py] Finished running 9th optmization experiment: groundtruth->2056.061524454224, slowdown->1877.8219335869076, predicted->2030.3255257715123, err->-1.2517134519864819
[test.py] Baseline throughput:  1950.1707484187343
[test.py] Groundtruth:  [2088.0479171500174, 2127.4131113959247, 2115.030759553283, 2114.8961760456496, 2088.089255688448, 1949.8002953606233, 2095.60931995526, 2083.138310358705, 2088.7057128790457, 2056.061524454224]
[test.py] Slowdown:  [1147.727870393519, 1211.9984421881024, 1266.9843107194768, 1334.9411698518322, 1394.0607696356835, 1512.2003330488917, 1573.3726658143771, 1680.6635831251797, 1818.8312029268725, 1877.8219335869076]
[test.py] Predicted:  [2121.8507822229435, 2150.151214087587, 2130.9432389839126, 2131.756714490719, 2094.9917715924744, 2167.842877241277, 2102.7074553188136, 2105.2495291741006, 2128.5488946505457, 2030.3255257715123]
[test.py] Error percentage:  [1.6188740112374314, 1.0688146354772856, 0.752352151795198, 0.7972277143455099, 0.3305661328998511, 11.182816127347342, 0.33871463044003597, 1.0614378654285432, 1.9075536360065126, -1.2517134519864819]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1925.0823174222755
    Groundtruth: [2093.7436831916652, 2111.527476469039, 2102.6303327239034, 2102.362257593854, 2097.921316621852, 2087.610978704385, 2090.30258723806, 2117.6988988468684, 2089.63780869452, 1965.399968843497]
    Slowdown:    [1137.3670881706444, 1210.4772556241232, 1270.262745036363, 1312.3200383748626, 1427.5473035866437, 1515.748872356258, 1607.744586058272, 1687.9875672963717, 1795.0269899136313, 1893.4497820728059]
    Predicted:   [2086.7085300393037, 2145.3682772706143, 2140.233646364352, 2074.6490092597937, 2171.5423742088947, 2175.1429745267783, 2164.5520909268807, 2116.754124773236, 2096.0199855505625, 2048.607174388774]
    Error Perc:  [-0.3360083284710994, 1.6026692135763725, 1.7883939490083538, -1.3181956741260124, 3.509238263787224, 4.192926590025758, 3.5520935649286796, -0.04461323912227266, 0.30542024218204616, 4.233601651791975]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1950.1707484187343
    Groundtruth: [2088.0479171500174, 2127.4131113959247, 2115.030759553283, 2114.8961760456496, 2088.089255688448, 1949.8002953606233, 2095.60931995526, 2083.138310358705, 2088.7057128790457, 2056.061524454224]
    Slowdown:    [1147.727870393519, 1211.9984421881024, 1266.9843107194768, 1334.9411698518322, 1394.0607696356835, 1512.2003330488917, 1573.3726658143771, 1680.6635831251797, 1818.8312029268725, 1877.8219335869076]
    Predicted:   [2121.8507822229435, 2150.151214087587, 2130.9432389839126, 2131.756714490719, 2094.9917715924744, 2167.842877241277, 2102.7074553188136, 2105.2495291741006, 2128.5488946505457, 2030.3255257715123]
    Error Perc:  [1.6188740112374314, 1.0688146354772856, 0.752352151795198, 0.7972277143455099, 0.3305661328998511, 11.182816127347342, 0.33871463044003597, 1.0614378654285432, 1.9075536360065126, -1.2517134519864819]
