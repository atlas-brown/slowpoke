benchmark                        : hotel
num_threads                      : 8
num_conns                        : 512
target_service                   : profile
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 40000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-b49db:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T03:54:00.283689Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   266.18ms  102.08ms 681.63ms   69.96%
        Req/Sec   212.85     70.63   450.00     72.53%
        Latency Distribution
        50%  260.24ms
        75%  333.98ms
        90%  398.61ms
        99%  527.08ms
        4965 requests in 3.02s, 378.19KB read
        Requests/sec:   1641.32
        Transfer/sec:    125.02KB
        [run.sh] Speed is 1641.32, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   277.24ms  106.62ms 883.44ms   69.89%
        Req/Sec   225.72     62.18   767.00     72.17%
        Latency Distribution
        50%  274.87ms
        75%  343.01ms
        90%  410.59ms
        99%  562.78ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.933979
        stop time: 11.007175
        stop time: 10.927543
        stop time: 11.035411
        stop time: 11.225258
        stop time: 11.296690
        stop time: 11.220425
        stop time: 11.433152
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-cvbgq        188m         51Mi
        profile-6cbdc45774-hwx7c         3m           334Mi
        rate-5bdc49d87c-mpfd4            50m          135Mi
        reservation-59ffc489d6-wknfw     1m           144Mi
        search-5b8d7c54c4-mn8mr          3m           81Mi
        ubuntu-client-76886f6bbd-b49db   99m          51Mi
        user-5b5db6d7bb-fwksz            3m           9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.933979, 11.007175, 10.927543, 11.035411, 11.225258, 11.29669, 11.220425, 11.433152]
    [exp] Throughput: 1796.145702576031
[test.py] Baseline throughput: 1796.145702576031
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-lszvx:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T03:55:32.922532Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   262.83ms   91.43ms 712.81ms   66.91%
        Req/Sec   217.42     67.80   404.00     72.41%
        Latency Distribution
        50%  257.90ms
        75%  324.96ms
        90%  382.80ms
        99%  483.33ms
        5056 requests in 3.03s, 385.12KB read
        Requests/sec:   1670.24
        Transfer/sec:    127.23KB
        [run.sh] Speed is 1670.24, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   281.14ms  101.51ms 771.99ms   69.89%
        Req/Sec   226.19     56.62   414.00     72.89%
        Latency Distribution
        50%  274.45ms
        75%  341.87ms
        90%  413.61ms
        99%  564.10ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 11.107693
        stop time: 11.003533
        stop time: 11.114936
        stop time: 11.184679
        stop time: 11.214701
        stop time: 11.188521
        stop time: 11.132744
        stop time: 11.152897
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-fg4wk        1016m        51Mi
        profile-74564cf6bf-gcrpd         420m         314Mi
        rate-5bdc49d87c-fn4xl            137m         158Mi
        reservation-59ffc489d6-mcvkf     281m         181Mi
        search-5b8d7c54c4-xk6mz          592m         80Mi
        ubuntu-client-76886f6bbd-lszvx   520m         42Mi
        user-5b5db6d7bb-vk6kd            62m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.107693, 11.003533, 11.114936, 11.184679, 11.214701, 11.188521, 11.132744, 11.152897]
    [exp] Throughput: 1795.7410947178903
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '39999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '39999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '39999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '39999990', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '39993431'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-vszkb:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T03:57:05.589536Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   422.98ms  148.71ms 991.97ms   69.58%
        Req/Sec   126.98     47.25   272.00     71.13%
        Latency Distribution
        50%  413.08ms
        75%  511.37ms
        90%  612.92ms
        99%  829.67ms
        3028 requests in 3.03s, 230.65KB read
        Requests/sec:    999.94
        Transfer/sec:     76.17KB
        [run.sh] Speed is 999.94, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-676969d5b5-7dn9d        1m           3Mi
        rate-76957ff8c8-z9lq4            1m           117Mi
        reservation-7648c87bbb-rcqtr     3m           119Mi
        ubuntu-client-76886f6bbd-vszkb   8m           1Mi
        user-57b9db9656-476vc            3m           4Mi
        Running 30s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   469.45ms  146.54ms   1.19s    70.14%
        Req/Sec   135.44     44.71   333.00     68.34%
        Latency Distribution
        50%  460.40ms
        75%  555.10ms
        90%  656.06ms
        99%  865.41ms
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 18.465541
        stop time: 18.553791
        stop time: 18.650500
        stop time: 18.520118
        stop time: 18.443765
        stop time: 18.624811
        stop time: 18.692188
        stop time: 18.677257
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.465541, 18.553791, 18.6505, 18.520118, 18.443765, 18.624811, 18.692188, 18.677257]
    [exp] Throughput: 1076.513383877117
[test.py] Finished running 0th optmization experiment: groundtruth->1795.7410947178903, slowdown->1076.513383877117, predicted->1890.6278634519076, err->5.283989379823374
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jhk4w:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T03:58:38.937559Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   268.85ms  101.83ms 660.77ms   68.94%
        Req/Sec   215.13     59.67   380.00     73.28%
        Latency Distribution
        50%  264.62ms
        75%  332.70ms
        90%  399.99ms
        99%  540.10ms
        5010 requests in 3.03s, 381.62KB read
        Requests/sec:   1655.56
        Transfer/sec:    126.11KB
        [run.sh] Speed is 1655.56, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   284.80ms  104.66ms 750.61ms   69.65%
        Req/Sec   222.60     57.77   383.00     69.12%
        Latency Distribution
        50%  278.54ms
        75%  348.51ms
        90%  420.10ms
        99%  561.02ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 11.283733
        stop time: 11.138823
        stop time: 11.385856
        stop time: 11.507443
        stop time: 11.403307
        stop time: 11.395385
        stop time: 11.323585
        stop time: 11.408620
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-4qllx        193m         52Mi
        profile-66645dc6d6-trp4w         531m         333Mi
        rate-5bdc49d87c-58rks            40m          176Mi
        reservation-59ffc489d6-crzxs     238m         181Mi
        search-5b8d7c54c4-qm92f          361m         79Mi
        ubuntu-client-76886f6bbd-jhk4w   887m         58Mi
        user-5b5db6d7bb-fgwv2            61m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.283733, 11.138823, 11.385856, 11.507443, 11.403307, 11.395385, 11.323585, 11.40862]
    [exp] Throughput: 1761.207709440179
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '19999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '19999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '19999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '19999990', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '19996710'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-ktjkm:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:00:11.641838Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   357.25ms  138.68ms 848.53ms   69.23%
        Req/Sec   155.89     55.11   300.00     70.26%
        Latency Distribution
        50%  355.22ms
        75%  453.04ms
        90%  532.33ms
        99%  712.55ms
        3650 requests in 3.02s, 278.03KB read
        Requests/sec:   1207.49
        Transfer/sec:     91.98KB
        [run.sh] Speed is 1207.49, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   372.27ms  126.18ms   1.20s    70.21%
        Req/Sec   170.65     49.99   390.00     66.52%
        Latency Distribution
        50%  362.31ms
        75%  446.23ms
        90%  534.33ms
        99%  716.82ms
        20000 requests in 24.00s, 1.49MB read
        Requests/sec:    833.33
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 14.650117
        stop time: 14.646244
        stop time: 14.752160
        stop time: 14.871730
        stop time: 14.801013
        stop time: 14.684492
        stop time: 14.777134
        stop time: 14.783909
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [14.650117, 14.646244, 14.75216, 14.87173, 14.801013, 14.684492, 14.777134, 14.783909]
    [exp] Throughput: 1356.313821823715
[test.py] Finished running 1th optmization experiment: groundtruth->1761.207709440179, slowdown->1356.313821823715, predicted->1861.1836413729911, err->5.6765554339181605
[test.py] Baseline throughput:  1796.145702576031
[test.py] Groundtruth:  [1795.7410947178903, 1761.207709440179]
[test.py] Slowdown:  [1076.513383877117, 1356.313821823715]
[test.py] Predicted:  [1890.6278634519076, 1861.1836413729911]
[test.py] Error percentage:  [5.283989379823374, 5.6765554339181605]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-g4ndx:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:01:45.384360Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   272.04ms  108.58ms 721.04ms   69.17%
        Req/Sec   203.49     72.83   383.00     72.38%
        Latency Distribution
        50%  264.01ms
        75%  340.67ms
        90%  416.76ms
        99%  554.59ms
        4848 requests in 3.02s, 369.28KB read
        Requests/sec:   1606.31
        Transfer/sec:    122.36KB
        [run.sh] Speed is 1606.31, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   288.14ms  110.32ms 831.75ms   69.33%
        Req/Sec   220.18     56.90   515.00     67.40%
        Latency Distribution
        50%  284.86ms
        75%  358.05ms
        90%  430.02ms
        99%  571.10ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 11.233386
        stop time: 11.426868
        stop time: 11.398443
        stop time: 11.527954
        stop time: 11.570317
        stop time: 11.347287
        stop time: 11.324467
        stop time: 11.550525
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-lvkrg        597m         52Mi
        profile-6cbdc45774-5qlsv         55m          408Mi
        rate-5bdc49d87c-g47sl            84m          159Mi
        reservation-59ffc489d6-7p4mr     65m          175Mi
        search-5b8d7c54c4-jkhs4          43m          79Mi
        ubuntu-client-76886f6bbd-g4ndx   387m         58Mi
        user-5b5db6d7bb-xqj89            22m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.233386, 11.426868, 11.398443, 11.527954, 11.570317, 11.347287, 11.324467, 11.550525]
    [exp] Throughput: 1750.9446099944337
[test.py] Baseline throughput: 1750.9446099944337
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-9cv6w:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:03:19.069747Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   268.52ms   99.27ms 732.49ms   69.53%
        Req/Sec   211.53     70.32   393.00     68.97%
        Latency Distribution
        50%  262.66ms
        75%  333.29ms
        90%  397.44ms
        99%  536.42ms
        4929 requests in 3.03s, 375.45KB read
        Requests/sec:   1624.85
        Transfer/sec:    123.77KB
        [run.sh] Speed is 1624.85, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   286.94ms  103.23ms 789.66ms   68.92%
        Req/Sec   221.46     58.30   565.00     69.37%
        Latency Distribution
        50%  282.27ms
        75%  353.43ms
        90%  418.98ms
        99%  559.87ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 11.190860
        stop time: 11.207899
        stop time: 11.477210
        stop time: 11.353232
        stop time: 11.428137
        stop time: 11.481589
        stop time: 11.511420
        stop time: 11.248445
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [11.19086, 11.207899, 11.47721, 11.353232, 11.428137, 11.481589, 11.51142, 11.248445]
    [exp] Throughput: 1760.1994094707002
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '39999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '39999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '39999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '39999990', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '39993431'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-mh4gt:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:04:51.680618Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   427.17ms  158.02ms   1.10s    72.49%
        Req/Sec   129.21     44.48   252.00     67.67%
        Latency Distribution
        50%  423.21ms
        75%  521.90ms
        90%  622.45ms
        99%  891.53ms
        3035 requests in 3.02s, 231.18KB read
        Requests/sec:   1003.35
        Transfer/sec:     76.43KB
        [run.sh] Speed is 1003.35, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   469.01ms  140.84ms   1.20s    70.78%
        Req/Sec   135.20     43.98   350.00     67.57%
        Latency Distribution
        50%  461.04ms
        75%  554.09ms
        90%  649.32ms
        99%  848.45ms
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 18.534463
        stop time: 18.434930
        stop time: 18.610361
        stop time: 18.337345
        stop time: 18.678087
        stop time: 18.672146
        stop time: 18.520943
        stop time: 18.827323
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-676969d5b5-qr5f6        371m         47Mi
        profile-6cbdc45774-c2w78         353m         320Mi
        rate-76957ff8c8-45kzz            57m          130Mi
        reservation-7648c87bbb-zqkhk     55m          137Mi
        search-7c46465fb9-8c8f6          104m         159Mi
        ubuntu-client-76886f6bbd-mh4gt   126m         43Mi
        user-57b9db9656-xskjb            14m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.534463, 18.43493, 18.610361, 18.337345, 18.678087, 18.672146, 18.520943, 18.827323]
    [exp] Throughput: 1076.6030090596546
[test.py] Finished running 0th optmization experiment: groundtruth->1760.1994094707002, slowdown->1076.6030090596546, predicted->1890.9043223921904, err->7.4255741831429045
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-hvv92:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:06:24.416678Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   272.47ms  110.35ms 709.54ms   68.07%
        Req/Sec   208.86     72.85   370.00     66.09%
        Latency Distribution
        50%  264.02ms
        75%  339.95ms
        90%  418.60ms
        99%  568.74ms
        4882 requests in 3.03s, 371.87KB read
        Requests/sec:   1613.66
        Transfer/sec:    122.92KB
        [run.sh] Speed is 1613.66, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   285.56ms  101.16ms 879.70ms   70.03%
        Req/Sec   222.26     60.44   535.00     69.63%
        Latency Distribution
        50%  277.43ms
        75%  346.71ms
        90%  416.74ms
        99%  569.50ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 11.285654
        stop time: 11.224702
        stop time: 11.321994
        stop time: 11.328722
        stop time: 11.279301
        stop time: 11.261208
        stop time: 11.373583
        stop time: 11.417220
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-wtn5q        452m         51Mi
        profile-66645dc6d6-d6mf5         0m           326Mi
        rate-5bdc49d87c-75htt            79m          176Mi
        reservation-59ffc489d6-vsv6v     0m           179Mi
        search-5b8d7c54c4-ff8vq          0m           79Mi
        ubuntu-client-76886f6bbd-hvv92   461m         40Mi
        user-5b5db6d7bb-b7cvq            0m           10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.285654, 11.224702, 11.321994, 11.328722, 11.279301, 11.261208, 11.373583, 11.41722]
    [exp] Throughput: 1768.1045954099297
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '19999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '19999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '19999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '19999990', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '19996710'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jwz52:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:07:57.187401Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   357.81ms  120.70ms 785.02ms   67.49%
        Req/Sec   160.49     56.95   323.00     72.41%
        Latency Distribution
        50%  353.44ms
        75%  439.16ms
        90%  512.83ms
        99%  669.67ms
        3740 requests in 3.03s, 284.88KB read
        Requests/sec:   1232.98
        Transfer/sec:     93.92KB
        [run.sh] Speed is 1232.98, duration is 24
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d24s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 24s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   368.40ms  136.60ms   1.20s    70.20%
        Req/Sec   169.60     58.85   610.00     72.22%
        Latency Distribution
        50%  359.44ms
        75%  449.99ms
        90%  541.91ms
        99%  742.94ms
        20001 requests in 24.00s, 1.49MB read
        Requests/sec:    833.37
        Transfer/sec:     63.48KB
        ------------------------------
        stop time: 14.484999
        stop time: 14.458125
        stop time: 14.805696
        stop time: 14.700502
        stop time: 14.887177
        stop time: 14.880716
        stop time: 15.153775
        stop time: 15.148529
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-59748868b9-xnf2p        0m           52Mi
        profile-6cbdc45774-mv78w         425m         303Mi
        rate-5d6687d8d4-bpd2k            0m           133Mi
        reservation-58ff7cf878-cwwvq     73m          140Mi
        search-665dc89767-9h6q2          132m         83Mi
        ubuntu-client-76886f6bbd-jwz52   8m           47Mi
        user-5445f99994-ccbvt            23m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.484999, 14.458125, 14.805696, 14.700502, 14.887177, 14.880716, 15.153775, 15.148529]
    [exp] Throughput: 1349.9886039868252
[test.py] Finished running 1th optmization experiment: groundtruth->1768.1045954099297, slowdown->1349.9886039868252, predicted->1849.2936836599843, err->4.591871344083638
[test.py] Baseline throughput:  1750.9446099944337
[test.py] Groundtruth:  [1760.1994094707002, 1768.1045954099297]
[test.py] Slowdown:  [1076.6030090596546, 1349.9886039868252]
[test.py] Predicted:  [1890.9043223921904, 1849.2936836599843]
[test.py] Error percentage:  [7.4255741831429045, 4.591871344083638]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 2...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '40000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-g9bxj:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T04:09:31.031643Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 --timeout 3s -d3s -L http://localhost:3000
