benchmark                        : hotel
num_threads                      : 8
num_conns                        : 1024
target_service                   : profile
request_type                     : mix
repetitions                      : 2
target_num_exp                   : 2
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 200
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-k59zr:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:26:01.214370Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   428.42ms  192.71ms   1.44s    65.47%
        Req/Sec   214.75     83.00   460.00     68.97%
        Latency Distribution
        50%  419.57ms
        75%  567.07ms
        90%  669.80ms
        99%  937.23ms
        4995 requests in 3.03s, 380.48KB read
        Requests/sec:   1646.84
        Transfer/sec:    125.44KB
        [run.sh] Speed is 1646.84, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   522.16ms  207.08ms   1.16s    67.57%
        Req/Sec   228.31     70.13   535.00     70.92%
        Latency Distribution
        50%  585.09ms
        75%  668.18ms
        90%  737.14ms
        99%  880.63ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.235728
        stop time: 10.492473
        stop time: 10.822205
        stop time: 11.053022
        stop time: 11.221374
        stop time: 11.313747
        stop time: 11.371144
        stop time: 11.490957
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-rcmjj        771m         80Mi
        profile-6cbdc45774-b8j6s         436m         407Mi
        rate-5bdc49d87c-kxtlg            10m          164Mi
        reservation-59ffc489d6-xwbvq     72m          180Mi
        search-5b8d7c54c4-npfts          93m          79Mi
        ubuntu-client-76886f6bbd-k59zr   270m         99Mi
        user-5b5db6d7bb-xwk7f            18m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.235728, 10.492473, 10.822205, 11.053022, 11.221374, 11.313747, 11.371144, 11.490957]
    [exp] Throughput: 1818.1683885289483
[test.py] Baseline throughput: 1818.1683885289483
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-f6zw4:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:27:33.843216Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   397.12ms  190.11ms   1.08s    66.67%
        Req/Sec   218.73     89.99   500.00     68.10%
        Latency Distribution
        50%  377.01ms
        75%  533.20ms
        90%  633.41ms
        99%  954.11ms
        5094 requests in 3.03s, 388.02KB read
        Requests/sec:   1682.82
        Transfer/sec:    128.18KB
        [run.sh] Speed is 1682.82, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   495.57ms  144.59ms   1.07s    71.10%
        Req/Sec   239.03     79.20   737.00     73.14%
        Latency Distribution
        50%  504.25ms
        75%  587.83ms
        90%  667.79ms
        99%  820.16ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.826557
        stop time: 10.167815
        stop time: 10.362472
        stop time: 10.349667
        stop time: 10.616745
        stop time: 10.993433
        stop time: 11.028290
        stop time: 10.885801
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [9.826557, 10.167815, 10.362472, 10.349667, 10.616745, 10.993433, 11.02829, 10.885801]
    [exp] Throughput: 1899.5431361314713
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '79999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '79999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '79999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '79999990', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '79986872'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-x65wv:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:29:06.475362Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   636.41ms  300.80ms   1.51s    65.34%
        Req/Sec   118.85     72.25   380.00     67.81%
        Latency Distribution
        50%  594.75ms
        75%  887.36ms
        90%    1.05s
        99%    1.28s
        2799 requests in 3.03s, 213.21KB read
        Requests/sec:    924.45
        Transfer/sec:     70.42KB
        [run.sh] Speed is 924.45, duration is 32
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d32s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-786b4fb8f7-77nm4        373m         72Mi
        profile-6cbdc45774-nhgv5         224m         321Mi
        rate-759b4fb84b-zbjd7            54m          131Mi
        reservation-6987bfd874-44pqp     62m          139Mi
        search-68fc54445-rt9ft           82m          85Mi
        ubuntu-client-76886f6bbd-x65wv   98m          53Mi
        user-8476f47445-rvmmv            16m          9Mi
        Running 32s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   937.74ms  236.05ms   1.79s    72.63%
        Req/Sec   132.53     81.10   575.00     63.00%
        Latency Distribution
        50%  978.27ms
        75%    1.10s
        90%    1.19s
        99%    1.38s
        20000 requests in 32.00s, 1.49MB read
        Requests/sec:    625.00
        Transfer/sec:     47.61KB
        ------------------------------
        stop time: 18.138692
        stop time: 18.897742
        stop time: 18.720550
        stop time: 18.964840
        stop time: 19.110115
        stop time: 19.823913
        stop time: 19.466523
        stop time: 19.836881
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.138692, 18.897742, 18.72055, 18.96484, 19.110115, 19.823913, 19.466523, 19.836881]
    [exp] Throughput: 1046.0301925108736
[test.py] Finished running 0th optmization experiment: groundtruth->1899.5431361314713, slowdown->1046.0301925108736, predicted->1798.5761931282339, err->-5.315327727111396
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-sgc5q:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:30:41.743340Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   349.30ms  155.41ms 899.26ms   66.82%
        Req/Sec   217.16    101.50   515.00     68.10%
        Latency Distribution
        50%  326.68ms
        75%  452.97ms
        90%  564.57ms
        99%  779.41ms
        5045 requests in 3.02s, 384.29KB read
        Requests/sec:   1668.90
        Transfer/sec:    127.12KB
        [run.sh] Speed is 1668.90, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   536.63ms  128.26ms   1.17s    71.12%
        Req/Sec   233.76     64.04   454.00     70.46%
        Latency Distribution
        50%  537.20ms
        75%  613.21ms
        90%  692.73ms
        99%  868.33ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 10.561051
        stop time: 10.800750
        stop time: 10.780243
        stop time: 10.878025
        stop time: 11.005117
        stop time: 11.027418
        stop time: 11.084069
        stop time: 10.966790
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-dpw6m        1069m        69Mi
        profile-66645dc6d6-r77l4         0m           323Mi
        rate-5bdc49d87c-qq66r            0m           179Mi
        reservation-59ffc489d6-kmg9w     76m          179Mi
        search-5b8d7c54c4-hg4h4          0m           79Mi
        ubuntu-client-76886f6bbd-sgc5q   4m           68Mi
        user-5b5db6d7bb-9s7sq            18m          11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.561051, 10.80075, 10.780243, 10.878025, 11.005117, 11.027418, 11.084069, 10.96679]
    [exp] Throughput: 1836.8959681890028
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '39999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '39999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '39999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '39999990', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '39993431'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-m4hh8:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:32:14.392299Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   613.16ms  208.73ms   1.33s    66.56%
        Req/Sec   165.45     72.20   393.00     65.50%
        Latency Distribution
        50%  599.02ms
        75%  747.54ms
        90%  885.05ms
        99%    1.12s
        3804 requests in 3.03s, 289.76KB read
        Requests/sec:   1254.96
        Transfer/sec:     95.59KB
        [run.sh] Speed is 1254.96, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   687.26ms  173.99ms   1.49s    73.71%
        Req/Sec   175.25     77.93   700.00     70.33%
        Latency Distribution
        50%  701.37ms
        75%  800.49ms
        90%  881.55ms
        99%    1.09s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 13.544977
        stop time: 13.828431
        stop time: 14.080482
        stop time: 14.214170
        stop time: 14.708032
        stop time: 14.721911
        stop time: 14.841238
        stop time: 15.064184
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8ff65d9f-7lhs5        1m           74Mi
        profile-6cbdc45774-4f4b2         492m         328Mi
        rate-6f7b6b4946-4jzgv            59m          134Mi
        reservation-6bd7b97f6-ndwkb      0m           142Mi
        search-65b69f8b9-slwjp           140m         167Mi
        ubuntu-client-76886f6bbd-m4hh8   261m         66Mi
        user-6dbc56b4c9-4cbth            0m           9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.544977, 13.828431, 14.080482, 14.21417, 14.708032, 14.721911, 14.841238, 15.064184]
    [exp] Throughput: 1391.2629123871745
[test.py] Finished running 1th optmization experiment: groundtruth->1836.8959681890028, slowdown->1391.2629123871745, predicted->1927.6312995517956, err->4.939600986344849
[test.py] Baseline throughput:  1818.1683885289483
[test.py] Groundtruth:  [1899.5431361314713, 1836.8959681890028]
[test.py] Slowdown:  [1046.0301925108736, 1391.2629123871745]
[test.py] Predicted:  [1798.5761931282339, 1927.6312995517956]
[test.py] Error percentage:  [-5.315327727111396, 4.939600986344849]
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 1...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-b6qt5:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:33:48.017273Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   431.74ms  156.47ms   1.02s    70.29%
        Req/Sec   214.39     75.65   410.00     68.53%
        Latency Distribution
        50%  426.31ms
        75%  536.52ms
        90%  634.45ms
        99%  827.68ms
        4981 requests in 3.04s, 379.41KB read
        Requests/sec:   1640.45
        Transfer/sec:    124.96KB
        [run.sh] Speed is 1640.45, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   537.63ms  194.45ms   1.22s    71.05%
        Req/Sec   229.01     65.61   454.00     68.85%
        Latency Distribution
        50%  590.53ms
        75%  662.45ms
        90%  731.14ms
        99%  883.04ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.652137
        stop time: 10.956611
        stop time: 10.923942
        stop time: 10.995452
        stop time: 11.177612
        stop time: 11.210849
        stop time: 11.256329
        stop time: 11.030891
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d699cbfd9-n9w95        1888m        63Mi
        profile-6cbdc45774-qct7q         1555m        327Mi
        rate-5bdc49d87c-7zjmx            162m         180Mi
        reservation-59ffc489d6-qznbs     242m         180Mi
        search-5b8d7c54c4-ljpmb          221m         79Mi
        ubuntu-client-76886f6bbd-b6qt5   329m         73Mi
        user-5b5db6d7bb-dx6vp            55m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.652137, 10.956611, 10.923942, 10.995452, 11.177612, 11.210849, 11.256329, 11.030891]
    [exp] Throughput: 1813.9803305351065
[test.py] Baseline throughput: 1813.9803305351065
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-4f7nr:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:35:21.708298Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   373.17ms  158.83ms 993.48ms   65.21%
        Req/Sec   224.94     99.31   480.00     66.81%
        Latency Distribution
        50%  364.07ms
        75%  486.99ms
        90%  573.91ms
        99%  819.70ms
        5294 requests in 3.03s, 403.25KB read
        Requests/sec:   1746.48
        Transfer/sec:    133.03KB
        [run.sh] Speed is 1746.48, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   510.26ms  191.25ms   2.03s    80.83%
        Req/Sec   247.37     74.10   606.00     67.62%
        Latency Distribution
        50%  501.37ms
        75%  591.63ms
        90%  684.28ms
        99%    1.51s
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 9.790793
        stop time: 9.918983
        stop time: 10.251465
        stop time: 10.123296
        stop time: 10.588370
        stop time: 10.388473
        stop time: 10.419712
        stop time: 10.437163
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        rate-5bdc49d87c-rvgm8            3m           117Mi
        reservation-59ffc489d6-7gbx7     10m          119Mi
        search-5b8d7c54c4-bh8wm          3m           164Mi
        ubuntu-client-76886f6bbd-4f7nr   8m           1Mi
        user-5b5db6d7bb-fb6rq            3m           4Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [9.790793, 9.918983, 10.251465, 10.123296, 10.58837, 10.388473, 10.419712, 10.437163]
    [exp] Throughput: 1953.1666049282912
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '79999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '79999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '79999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '79999990', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '79986872'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-wm99z:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:36:55.389225Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   638.67ms  303.88ms   1.56s    66.56%
        Req/Sec   122.79     77.56   373.00     65.28%
        Latency Distribution
        50%  582.89ms
        75%  895.37ms
        90%    1.06s
        99%    1.29s
        2907 requests in 3.03s, 221.43KB read
        Requests/sec:    959.03
        Transfer/sec:     73.05KB
        [run.sh] Speed is 959.03, duration is 31
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d31s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-786b4fb8f7-tgxvb        513m         81Mi
        profile-6cbdc45774-8klk4         233m         324Mi
        rate-759b4fb84b-wwnsf            174m         148Mi
        reservation-6987bfd874-x44jj     113m         183Mi
        search-68fc54445-24gck           47m          80Mi
        ubuntu-client-76886f6bbd-wm99z   67m          102Mi
        user-8476f47445-bdmwt            33m          11Mi
        Running 31s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   914.29ms  262.32ms   1.98s    71.61%
        Req/Sec   135.08     79.08   525.00     65.02%
        Latency Distribution
        50%  938.86ms
        75%    1.09s
        90%    1.21s
        99%    1.47s
        20000 requests in 31.00s, 1.49MB read
        Requests/sec:    645.16
        Transfer/sec:     49.14KB
        ------------------------------
        stop time: 17.738731
        stop time: 18.092547
        stop time: 18.573191
        stop time: 18.756626
        stop time: 18.575839
        stop time: 19.082225
        stop time: 19.218257
        stop time: 19.078994
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.738731, 18.092547, 18.573191, 18.756626, 18.575839, 19.082225, 19.218257, 19.078994]
    [exp] Throughput: 1072.9872050970112
[test.py] Finished running 0th optmization experiment: groundtruth->1953.1666049282912, slowdown->1072.9872050970112, predicted->1879.7785291931368, err->-3.757389438769807
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '500', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '10', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '10', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '10', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '10', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '10'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-9tvkq:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:38:30.684198Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   417.10ms  200.65ms   1.32s    66.24%
        Req/Sec   218.25     75.94   484.00     66.81%
        Latency Distribution
        50%  411.65ms
        75%  553.25ms
        90%  667.69ms
        99%  980.90ms
        5097 requests in 3.03s, 388.25KB read
        Requests/sec:   1682.84
        Transfer/sec:    128.19KB
        [run.sh] Speed is 1682.84, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   511.98ms  126.71ms   1.05s    70.72%
        Req/Sec   237.77     70.38   565.00     71.45%
        Latency Distribution
        50%  516.08ms
        75%  593.77ms
        90%  665.74ms
        99%  811.64ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 10.101923
        stop time: 10.072963
        stop time: 10.373211
        stop time: 10.680016
        stop time: 10.785298
        stop time: 10.886441
        stop time: 10.955294
        stop time: 10.945095
        [run.sh] Checking the resource usage
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [10.101923, 10.072963, 10.373211, 10.680016, 10.785298, 10.886441, 10.955294, 10.945095]
    [exp] Throughput: 1886.7870906168773
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '39999990', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PROFILE': '10', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RATE': '39999990', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_RESERVATION': '39999990', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_SEARCH': '39999990', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '39993431'}
    [exp] Executing cmd `bash run.sh hotel mix 8 1024 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-wq5v6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-07T17:40:04.348291Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   627.11ms  192.22ms   1.35s    67.90%
        Req/Sec   155.35     72.48   343.00     65.09%
        Latency Distribution
        50%  641.13ms
        75%  760.35ms
        90%  874.50ms
        99%    1.05s
        3620 requests in 3.03s, 275.74KB read
        Requests/sec:   1192.84
        Transfer/sec:     90.86KB
        [run.sh] Speed is 1192.84, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   723.28ms  172.13ms   1.42s    74.12%
        Req/Sec   174.54     69.70   750.00     68.72%
        Latency Distribution
        50%  726.00ms
        75%  832.17ms
        90%  923.20ms
        99%    1.14s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 14.277140
        stop time: 14.543792
        stop time: 14.433828
        stop time: 14.426234
        stop time: 14.404142
        stop time: 14.704816
        stop time: 14.546954
        stop time: 14.673167
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-7d8ff65d9f-2gpd4        445m         75Mi
        profile-6cbdc45774-n8m4q         457m         335Mi
        rate-6f7b6b4946-7ns2x            71m          143Mi
        reservation-6bd7b97f6-pb9nd      25m          152Mi
        search-65b69f8b9-28948           146m         188Mi
        ubuntu-client-76886f6bbd-wq5v6   249m         96Mi
        user-6dbc56b4c9-pj8cn            4m           11Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.27714, 14.543792, 14.433828, 14.426234, 14.404142, 14.704816, 14.546954, 14.673167]
    [exp] Throughput: 1379.1905811489316
[test.py] Finished running 1th optmization experiment: groundtruth->1886.7870906168773, slowdown->1379.1905811489316, predicted->1904.533519450697, err->0.9405634012482851
[test.py] Baseline throughput:  1813.9803305351065
[test.py] Groundtruth:  [1953.1666049282912, 1886.7870906168773]
[test.py] Slowdown:  [1072.9872050970112, 1379.1905811489316]
[test.py] Predicted:  [1879.7785291931368, 1904.533519450697]
[test.py] Error percentage:  [-3.757389438769807, 0.9405634012482851]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1818.1683885289483
    Groundtruth: [1899.5431361314713, 1836.8959681890028]
    Slowdown:    [1046.0301925108736, 1391.2629123871745]
    Predicted:   [1798.5761931282339, 1927.6312995517956]
    Error Perc:  [-5.315327727111396, 4.939600986344849]
[test.py] Result for the experiment 1: 
    Baseline throughput: 1813.9803305351065
    Groundtruth: [1953.1666049282912, 1886.7870906168773]
    Slowdown:    [1072.9872050970112, 1379.1905811489316]
    Predicted:   [1879.7785291931368, 1904.533519450697]
    Error Perc:  [-3.757389438769807, 0.9405634012482851]
