benchmark                        : hotel
num_threads                      : 8
num_conns                        : 512
target_service                   : profile
request_type                     : mix
repetitions                      : 1
target_num_exp                   : 1
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-4vtkh:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-02T03:29:38.304784Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   260.47ms  111.94ms 708.09ms   69.69%
        Req/Sec   219.67     72.94   404.00     75.32%
        Latency Distribution
        50%  257.31ms
        75%  330.89ms
        90%  404.43ms
        99%  546.39ms
        5081 requests in 3.02s, 387.03KB read
        Requests/sec:   1683.93
        Transfer/sec:    128.27KB
        [run.sh] Speed is 1683.93, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   278.10ms  110.39ms 892.55ms   70.56%
        Req/Sec   228.69     52.82   410.00     71.10%
        Latency Distribution
        50%  275.75ms
        75%  343.85ms
        90%  412.98ms
        99%  576.40ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 11.055394
        stop time: 11.024586
        stop time: 11.134528
        stop time: 10.915749
        stop time: 11.003811
        stop time: 10.999317
        stop time: 11.097077
        stop time: 11.062938
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5f9bc7b974-bzhqp        1m           19Mi
        rate-676487dd78-5fzsl            0m           115Mi
        reservation-58c4c974d5-pt2qc     3m           118Mi
        search-679c46989c-vntsp          3m           166Mi
        ubuntu-client-76886f6bbd-4vtkh   8m           36Mi
        user-7656467697-kh459            3m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.055394, 11.024586, 11.134528, 10.915749, 11.003811, 10.999317, 11.097077, 11.062938]
    [exp] Throughput: 1812.1399787526589
[test.py] Baseline throughput: 1812.1399787526589
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '0', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-gtwg6:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-02T03:31:11.179598Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   259.60ms   95.74ms 729.03ms   69.85%
        Req/Sec   224.89     62.40   400.00     74.14%
        Latency Distribution
        50%  250.99ms
        75%  320.70ms
        90%  384.76ms
        99%  509.91ms
        5226 requests in 3.03s, 398.07KB read
        Requests/sec:   1723.44
        Transfer/sec:    131.28KB
        [run.sh] Speed is 1723.44, duration is 17
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d17s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 17s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   271.11ms  104.85ms 777.43ms   69.89%
        Req/Sec   234.37     55.14   393.00     70.04%
        Latency Distribution
        50%  263.05ms
        75%  334.88ms
        90%  409.11ms
        99%  549.79ms
        20000 requests in 17.00s, 1.49MB read
        Requests/sec:   1176.46
        Transfer/sec:     89.61KB
        ------------------------------
        stop time: 10.691575
        stop time: 10.598664
        stop time: 10.734322
        stop time: 10.705100
        stop time: 10.709546
        stop time: 10.726793
        stop time: 10.835971
        stop time: 10.856385
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5f9bc7b974-ld8nz        1555m        31Mi
        profile-6d48c4868b-8vmkx         293m         302Mi
        rate-676487dd78-zxgx7            168m         168Mi
        reservation-58c4c974d5-7gjwm     273m         190Mi
        search-679c46989c-xhxvm          371m         75Mi
        ubuntu-client-76886f6bbd-gtwg6   898m         56Mi
        user-7656467697-792kl            60m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.691575, 10.598664, 10.734322, 10.7051, 10.709546, 10.726793, 10.835971, 10.856385]
    [exp] Throughput: 1863.5344007751557
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_PROFILE': '1000', 'SLOWPOKE_PROCESSING_MICROS_RATE': '0', 'SLOWPOKE_PROCESSING_MICROS_RESERVATION': '0', 'SLOWPOKE_PROCESSING_MICROS_SEARCH': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0'}
    [exp] Executing cmd `bash run.sh hotel mix 8 512 20000`:
        [run.sh] Running benchmark hotel with request mix, thread 8, conn 512, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-8jpmn:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-04-02T03:32:43.976078Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c512 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   420.33ms  165.05ms   1.16s    67.77%
        Req/Sec   134.14     60.17   292.00     69.20%
        Latency Distribution
        50%  405.78ms
        75%  524.90ms
        90%  637.36ms
        99%  888.37ms
        3025 requests in 3.03s, 230.42KB read
        Requests/sec:    998.02
        Transfer/sec:     76.02KB
        [run.sh] Speed is 998.02, duration is 30
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c512 -d30s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                        CPU(cores)   MEMORY(bytes)
        frontend-7bbf56d674-kqz2l   3m           2Mi
        Running 30s test @ http://localhost:3000
        8 threads and 512 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   453.78ms  158.55ms   1.17s    69.69%
        Req/Sec   140.72     55.12   343.00     69.27%
        Latency Distribution
        50%  448.74ms
        75%  553.11ms
        90%  655.13ms
        99%  865.13ms
        20000 requests in 30.00s, 1.49MB read
        Requests/sec:    666.66
        Transfer/sec:     50.78KB
        ------------------------------
        stop time: 17.868294
        stop time: 17.961323
        stop time: 17.875749
        stop time: 17.848457
        stop time: 18.107994
        stop time: 18.036650
        stop time: 17.943995
        stop time: 18.062092
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.868294, 17.961323, 17.875749, 17.848457, 18.107994, 18.03665, 17.943995, 18.062092]
    [exp] Throughput: 1113.3954738831728
[test.py] Baseline throughput:  1812.1399787526589
[test.py] Groundtruth:  [1863.5344007751557]
[test.py] Slowdown:  [1113.3954738831728]
[test.py] Predicted:  [2007.4135287175684]
[test.py] Error percentage:  [7.720765867405758]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1812.1399787526589
    Groundtruth: [1863.5344007751557]
    Slowdown:    [1113.3954738831728]
    Predicted:   [2007.4135287175684]
    Error Perc:  [7.720765867405758]
