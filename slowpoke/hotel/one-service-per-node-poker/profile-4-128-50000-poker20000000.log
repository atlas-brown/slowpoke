benchmark                        : hotel
num_threads                      : 4
num_conns                        : 128
target_service                   : profile
request_type                     : mix
repetitions                      : 3
target_num_exp                   : 2
pre_run                          : False
num_req                          : 50000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
client_cpu_quota                 : 8
random_seed                      : 1234
request_ratio                    : {'frontend': 1, 'profile': 0.8, 'rate': 0.8, 'reservation': 1, 'search': 0.8, 'user': 0.198478617}
baseline_service_processing_time : {'frontend': 0, 'profile': 1000, 'rate': 0, 'reservation': 0, 'search': 0, 'user': 0}
cpu_quota                        : {'frontend': 2, 'profile': 2, 'rate': 2, 'reservation': 2, 'search': 2, 'user': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 500]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '500.0', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0'}
    [exp] Executing cmd `bash run.sh hotel mix 4 128 50000`:
        [run.sh] Running benchmark hotel with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] frontend-576c696f89-8kmbk cannot connect to profile
        [run.sh] reservation-9949b6dc4-6zbfp cannot connect to frontend
        [run.sh] rate-5565ff5f85-82vnx cannot connect to frontend
        [run.sh] profile-7746d799fd-qklz5 cannot connect to frontend
        [run.sh] profile-7746d799fd-qklz5 cannot connect to frontend
        [run.sh] profile-7746d799fd-qklz5 cannot connect to frontend
        [run.sh] rate-5565ff5f85-82vnx cannot connect to frontend
        [run.sh] profile-7746d799fd-qklz5 cannot connect to frontend
        [run.sh] search-854cf44c78-spwl8 cannot connect to frontend
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-hvnnf:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-03-25T14:40:14.288856Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    77.11ms   40.41ms 326.87ms   70.11%
        Req/Sec   418.12     92.84   595.00     79.17%
        Latency Distribution
        50%   74.02ms
        75%   99.27ms
        90%  129.29ms
        99%  196.90ms
        4995 requests in 3.01s, 380.48KB read
        Requests/sec:   1657.12
        Transfer/sec:    126.23KB
        [run.sh] Speed is 1657.12, duration is 45
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d45s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-576c696f89-8kmbk        1731m        24Mi
        profile-7746d799fd-qklz5         285m         285Mi
        rate-5565ff5f85-82vnx            219m         202Mi
        reservation-9949b6dc4-6zbfp      285m         96Mi
        search-854cf44c78-spwl8          304m         79Mi
        ubuntu-client-76886f6bbd-hvnnf   844m         24Mi
        user-7955976ff4-k8x9w            72m          8Mi
        Running 45s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    92.27ms  145.95ms   1.99s    95.03%
        Req/Sec   426.33    108.90     1.15k    78.58%
        Latency Distribution
        50%   60.88ms
        75%   88.85ms
        90%  123.97ms
        99%  929.66ms
        50000 requests in 45.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 278
        Requests/sec:   1111.11
        Transfer/sec:     84.64KB
        ------------------------------
        stop time: 36.680606
        stop time: 36.759281
        stop time: 36.584095
        stop time: 36.859070
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'profile'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
        > nc: bad address 'frontend'
        > command terminated with exit code 1
    [exp] Times: [36.680606, 36.759281, 36.584095, 36.85907]
    [exp] Throughput: 1361.6274803440224
[test.py] Baseline throughput: 1361.6274803440224
[test.py] Running groundtruth experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '0.0', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0'}
    [exp] Executing cmd `bash run.sh hotel mix 4 128 50000`:
        [run.sh] Running benchmark hotel with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-cms9n:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-03-25T14:42:02.346787Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    74.83ms   35.44ms 261.82ms   69.72%
        Req/Sec   427.88     95.10   580.00     86.67%
        Latency Distribution
        50%   69.93ms
        75%   94.99ms
        90%  124.21ms
        99%  172.29ms
        5113 requests in 3.01s, 389.47KB read
        Requests/sec:   1696.62
        Transfer/sec:    129.23KB
        [run.sh] Speed is 1696.62, duration is 44
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d44s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        Running 44s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    97.37ms  186.41ms   1.12s    92.62%
        Req/Sec   484.13    118.23     1.89k    77.91%
        Latency Distribution
        50%   40.26ms
        75%   74.39ms
        90%  144.02ms
        99%    1.02s
        50000 requests in 44.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 109
        Requests/sec:   1136.36
        Transfer/sec:     86.56KB
        ------------------------------
        stop time: 25.397348
        stop time: 25.741372
        stop time: 26.042263
        stop time: 26.316887
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > error: metrics not available yet
    [exp] Times: [25.397348, 25.741372, 26.042263, 26.316887]
    [exp] Throughput: 1932.4069181327113
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '250.0', 'SLOWPOKE_DELAY_MICROS_RATE': '0.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '0.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '0.0', 'SLOWPOKE_DELAY_MICROS_USER': '0.0'}
    [exp] Executing cmd `bash run.sh hotel mix 4 128 50000`:
        [run.sh] Running benchmark hotel with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-gjwlj:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-03-25T14:43:49.536052Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency    77.35ms   35.46ms 239.97ms   68.62%
        Req/Sec   409.39     90.74   595.00     88.33%
        Latency Distribution
        50%   73.68ms
        75%   99.04ms
        90%  125.44ms
        99%  173.12ms
        4894 requests in 3.02s, 372.79KB read
        Requests/sec:   1620.12
        Transfer/sec:    123.41KB
        [run.sh] Speed is 1620.12, duration is 46
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d46s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                           CPU(cores)   MEMORY(bytes)
        frontend-7b7956cf99-qjglv      1m           24Mi
        profile-57d67978d8-ql4vp       47m          390Mi
        rate-75dc5fd555-2q2vv          4m           132Mi
        reservation-6b54c64bd8-qpfrq   1m           141Mi
        search-7bc7fb4c78-928x5        28m          162Mi
        Running 46s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   120.18ms  210.63ms   1.95s    91.73%
        Req/Sec   413.82    122.98     1.15k    83.64%
        Latency Distribution
        50%   59.90ms
        75%   94.97ms
        90%  186.78ms
        99%    1.07s
        50003 requests in 46.00s, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 511
        Requests/sec:   1087.02
        Transfer/sec:     82.80KB
        ------------------------------
        stop time: 41.355928
        stop time: 41.111968
        stop time: 41.580687
        stop time: 41.733506
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [41.355928, 41.111968, 41.580687, 41.733506]
    [exp] Throughput: 1206.4029426001503
[test.py] Running slowdown experiment
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '400.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '500.0', 'SLOWPOKE_DELAY_MICROS_RATE': '500.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '400.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '500.0', 'SLOWPOKE_DELAY_MICROS_USER': '2015.0'}
    [exp] Executing cmd `bash run.sh hotel mix 4 128 50000`:
        [run.sh] Running benchmark hotel with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-jw27r:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-03-25T14:45:39.665640Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   124.31ms   49.68ms 346.31ms   68.60%
        Req/Sec   253.94     57.66   383.00     80.67%
        Latency Distribution
        50%  123.10ms
        75%  153.97ms
        90%  189.09ms
        99%  261.94ms
        3023 requests in 3.02s, 230.27KB read
        Requests/sec:   1001.25
        Transfer/sec:     76.27KB
        [run.sh] Speed is 1001.25, duration is 74
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d74s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        frontend-5c5bbbfcff-vmxdv        351m         18Mi
        profile-667bfc8dcb-lmpt7         41m          378Mi
        rate-85ddf684f4-65rqq            39m          130Mi
        reservation-b47fd9d84-cqt2g      51m          135Mi
        search-5cc7bd77cf-5x2pl          45m          166Mi
        ubuntu-client-76886f6bbd-jw27r   164m         17Mi
        user-7d8f5b5ff6-xvlnp            16m          7Mi
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   135.97ms  141.82ms   1.95s    95.94%
        Req/Sec   258.96     62.78   680.00     75.88%
        Latency Distribution
        50%  109.91ms
        75%  146.34ms
        90%  187.02ms
        99%  961.32ms
        50000 requests in 1.23m, 3.72MB read
        Socket errors: connect 0, read 0, write 0, timeout 179
        Requests/sec:    675.67
        Transfer/sec:     51.47KB
        ------------------------------
        stop time: 52.680254
        stop time: 51.960999
        stop time: 51.858497
        stop time: 52.719273
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [52.680254, 51.960999, 51.858497, 52.719273]
    [exp] Throughput: 955.9360192595872
    [exp] Running (pre_run: False) workload hotel/mix request with the following configuration: {'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '200.0', 'SLOWPOKE_DELAY_MICROS_PROFILE': '500.0', 'SLOWPOKE_DELAY_MICROS_RATE': '250.0', 'SLOWPOKE_DELAY_MICROS_RESERVATION': '200.0', 'SLOWPOKE_DELAY_MICROS_SEARCH': '250.0', 'SLOWPOKE_DELAY_MICROS_USER': '1007.5'}
    [exp] Executing cmd `bash run.sh hotel mix 4 128 50000`:
        [run.sh] Running benchmark hotel with request mix, thread 4, conn 128, duration 60
        [run.sh] Deleting all services
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "profile" deleted
        deployment.apps "profile" deleted
        service "rate" deleted
        deployment.apps "rate" deleted
        service "reservation" deleted
        deployment.apps "reservation" deleted
        service "search" deleted
        deployment.apps "search" deleted
        service "user" deleted
        deployment.apps "user" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/frontend created
        deployment.apps/frontend created
        service/profile created
        deployment.apps/profile created
        service/rate created
        deployment.apps/rate created
        service/reservation created
        deployment.apps/reservation created
        service/search created
        deployment.apps/search created
        service/user created
        deployment.apps/user created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] frontend-77dd4cf95c-njr6n cannot connect to user
        [run.sh] All pods can connect to all services
        [run.sh] Copying hotel/analysis.txt to ubuntu-client-76886f6bbd-brdf8:/analysis.txt
        [run.sh] Finished populating hotel
        [run.sh] Starting the rust proxy first for hotel
        [2m2025-03-25T14:47:57.308756Z[0m [32m INFO[0m [2mproxy::hotel[0m[2m:[0m Reading analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t4 -c128 -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   103.60ms   44.98ms 277.79ms   68.85%
        Req/Sec   305.73     72.15   410.00     75.83%
        Latency Distribution
        50%   98.39ms
        75%  131.76ms
        90%  164.62ms
        99%  221.62ms
        3655 requests in 3.03s, 278.41KB read
        Requests/sec:   1207.94
        Transfer/sec:     92.01KB
        [run.sh] Speed is 1207.94, duration is 62
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk -t4 -c128 -d62s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                       CPU(cores)   MEMORY(bytes)
        profile-667bfc8dcb-tgss5   3m           322Mi
        search-7d9c845b79-zdn7z    3m           157Mi
        Running 1m test @ http://localhost:3000
        4 threads and 128 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   124.22ms  182.97ms   1.99s    95.45%
        Req/Sec   318.36     68.94   757.00     74.17%
        Latency Distribution
        50%   87.62ms
        75%  120.05ms
        90%  165.21ms
        99%    1.09s
        50000 requests in 1.03m, 3.72MB read
        Socket errors: connect 0, read 1, write 0, timeout 129
        Requests/sec:    806.45
        Transfer/sec:     61.43KB
        ------------------------------
        stop time: 41.276372
        stop time: 41.385848
        stop time: 41.453222
        stop time: 40.586333
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
        > command terminated with exit code 1
    [exp] Times: [41.276372, 41.385848, 41.453222, 40.586333]
    [exp] Throughput: 1214.315996290872
[test.py] Baseline throughput:  1361.6274803440224
[test.py] Groundtruth:  [1932.4069181327113, 1206.4029426001503]
[test.py] Slowdown:  [955.9360192595872, 1214.315996290872]
[test.py] Predicted:  [1547.759728844259, 1603.826409046704]
[test.py] Error percentage:  [-19.90508239642082, 32.94284624256554]
