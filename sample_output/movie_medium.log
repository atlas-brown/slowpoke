benchmark                        : movie
num_threads                      : 8
num_conns                        : 1024
target_service                   : moviereviews
request_type                     : mix
repetitions                      : 1
target_num_exp                   : 10
pre_run                          : False
num_req                          : 20000
groundtruths                     : []
slowdowns                        : []
predicteds                       : []
errs                             : []
poker_batch_req                  : 100
client_cpu_quota                 : 4
random_seed                      : 1234
request_ratio                    : {'castinfo': 0.9050900514, 'composereview': 0.1003336848, 'frontend': 0.1003336848, 'movieid': 0.1003336848, 'movieinfo': 0.9050900514, 'moviereviews': 0.9050900514, 'page': 0.9050900514, 'plot': 0.9050900514, 'reviewstorage': 1.005423736183, 'uniqueid': 0.1003336848, 'user': 0.2006673695, 'userreviews': 0.1003336848}
baseline_service_processing_time : {'castinfo': 0, 'composereview': 0, 'frontend': 0, 'movieid': 0, 'movieinfo': 0, 'moviereviews': 1000, 'page': 0, 'plot': 0, 'reviewstorage': 0, 'uniqueid': 0, 'user': 0, 'userreviews': 0}
cpu_quota                        : {'castinfo': 2, 'composereview': 2, 'frontend': 2, 'movieid': 2, 'movieinfo': 2, 'moviereviews': 2, 'page': 2, 'plot': 2, 'reviewstorage': 2, 'uniqueid': 2, 'user': 2, 'userreviews': 2}
target_processing_time_range     : [0, 1000]
baseline_throughputs             : []
poker_batch                      : 20000000
[test.py] Starting experiment...
[test.py] >>>>>>>>>>>>>>>>>>>>>>>>>>>>> Running experiment 0...
[test.py] Actual processing time range: [0, 100, 200, 300, 400, 500, 600, 700, 800, 900]
[test.py] Running baseline experiment
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-vszwk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:25:45.464184Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   477.62ms  278.73ms   1.73s    72.02%
        Req/Sec   182.47     73.83   430.00     72.32%
        Latency Distribution
        50%  465.81ms
        75%  675.91ms
        90%  812.11ms
        99%    1.23s
        4105 requests in 3.03s, 312.69KB read
        Requests/sec:   1354.94
        Transfer/sec:    103.21KB
        [run.sh] Speed is 1354.94, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   629.13ms  219.15ms   1.19s    85.00%
        Req/Sec   194.84     73.50   530.00     71.43%
        Latency Distribution
        50%  697.05ms
        75%  741.15ms
        90%  787.83ms
        99%  912.82ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.243425
        stop time: 12.430489
        stop time: 12.740869
        stop time: 12.925923
        stop time: 13.304048
        stop time: 13.274730
        stop time: 13.415864
        stop time: 13.473763
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-kmbg5        89m          59Mi
        composereview-77946fb6bc-9jsfl   34m          14Mi
        frontend-69b9fdb4c6-svm7q        1m           15Mi
        movieid-5bb8fb5475-jhmgs         20m          176Mi
        movieinfo-6c5f868dc9-jftgm       39m          214Mi
        moviereviews-7c945848cf-jw5ws    220m         26Mi
        page-c8c664d8-27xh6              151m         111Mi
        plot-7954886fb-svk6n             73m          318Mi
        reviewstorage-864bd74b5-8wt78    61m          16Mi
        ubuntu-client-59dffbd546-vszwk   360m         107Mi
        uniqueid-d47d645ff-4j6zl         1m           9Mi
        user-7cbdb6d567-2clvb            5m           10Mi
        userreviews-54c668998f-72hfk     3m           9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.243425, 12.430489, 12.740869, 12.925923, 13.304048, 13.27473, 13.415864, 13.473763]
    [exp] Throughput: 1541.2905327741416
[test.py] Baseline throughput: 1541.2905327741416
[test.py] Running 0th optmization experiment
[test.py] Running 0th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '0', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-bwsf4:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:27:33.915361Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   506.79ms  227.07ms   1.19s    72.53%
        Req/Sec   212.78    108.23   500.00     63.64%
        Latency Distribution
        50%  532.64ms
        75%  647.00ms
        90%  766.15ms
        99%  950.22ms
        4766 requests in 3.03s, 363.04KB read
        Requests/sec:   1570.57
        Transfer/sec:    119.63KB
        [run.sh] Speed is 1570.57, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   570.84ms  229.45ms   1.37s    78.61%
        Req/Sec   217.68     69.97   460.00     67.83%
        Latency Distribution
        50%  606.22ms
        75%  700.75ms
        90%  801.11ms
        99%    1.01s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.317209
        stop time: 11.545308
        stop time: 11.867260
        stop time: 11.610102
        stop time: 11.468056
        stop time: 11.655555
        stop time: 11.787921
        stop time: 11.856340
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-22jxj        389m         60Mi
        composereview-77946fb6bc-lr8gz   78m          13Mi
        frontend-69b9fdb4c6-776rv        220m         13Mi
        movieid-5bb8fb5475-r9krb         29m          189Mi
        movieinfo-6c5f868dc9-2n8bm       183m         210Mi
        moviereviews-576c9f7998-qgqcv    449m         17Mi
        page-c8c664d8-s9djl              1879m        76Mi
        plot-7954886fb-ghk9w             298m         146Mi
        reviewstorage-864bd74b5-222x4    200m         12Mi
        ubuntu-client-59dffbd546-bwsf4   478m         109Mi
        uniqueid-d47d645ff-2knbh         30m          8Mi
        user-7cbdb6d567-f6wmh            46m          9Mi
        userreviews-54c668998f-m865s     28m          10Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.317209, 11.545308, 11.86726, 11.610102, 11.468056, 11.655555, 11.787921, 11.85634]
    [exp] Throughput: 1718.4391018101167
[test.py] Running 0th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '500.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4510.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-r7gz9:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:29:22.412250Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   794.86ms  482.23ms   1.93s    69.46%
        Req/Sec   102.12     64.52   313.00     66.67%
        Latency Distribution
        50%  716.72ms
        75%    1.10s
        90%    1.43s
        99%    1.91s
        2217 requests in 3.03s, 168.87KB read
        Requests/sec:    731.97
        Transfer/sec:     55.76KB
        [run.sh] Speed is 731.97, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d40s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composereview-59d898df89-vhn7r   7m           3Mi
        Running 40s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency     1.03s   366.42ms   2.03s    83.05%
        Req/Sec   122.95     63.31   460.00     69.34%
        Latency Distribution
        50%    1.11s
        75%    1.23s
        90%    1.35s
        99%    1.57s
        20000 requests in 40.00s, 1.49MB read
        Requests/sec:    500.00
        Transfer/sec:     38.09KB
        ------------------------------
        stop time: 20.627376
        stop time: 20.343628
        stop time: 20.821245
        stop time: 20.717670
        stop time: 21.256478
        stop time: 21.063330
        stop time: 21.304554
        stop time: 21.149315
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [20.627376, 20.343628, 20.821245, 20.71767, 21.256478, 21.06333, 21.304554, 21.149315]
    [exp] Throughput: 956.4595921288063
[test.py] Finished running 0th optmization experiment: groundtruth->1718.4391018101167, slowdown->956.4595921288063, predicted->1686.404771683111, err->-1.8641527705731509
[test.py] Running 1th optmization experiment
[test.py] Running 1th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '100', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-zc7nf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:31:21.452137Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   488.06ms  228.17ms   1.51s    75.23%
        Req/Sec   214.44    107.31   595.00     70.05%
        Latency Distribution
        50%  513.36ms
        75%  621.01ms
        90%  724.22ms
        99%    1.03s
        4836 requests in 3.04s, 368.37KB read
        Requests/sec:   1590.64
        Transfer/sec:    121.16KB
        [run.sh] Speed is 1590.64, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   548.78ms  223.35ms   1.32s    78.39%
        Req/Sec   223.43     79.63   626.00     72.86%
        Latency Distribution
        50%  589.61ms
        75%  676.10ms
        90%  763.43ms
        99%  972.88ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.917447
        stop time: 11.128061
        stop time: 11.322780
        stop time: 11.240064
        stop time: 11.631697
        stop time: 11.818367
        stop time: 10.937297
        stop time: 11.660296
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        composereview-77946fb6bc-hd7hb   6m           3Mi
        movieinfo-6c5f868dc9-x6ckm       50m          176Mi
        moviereviews-79f4fbf6c-6lcrs     7m           3Mi
        ubuntu-client-59dffbd546-zc7nf   0m           0Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.917447, 11.128061, 11.32278, 11.240064, 11.631697, 11.818367, 10.937297, 11.660296]
    [exp] Throughput: 1764.91334402334
[test.py] Running 1th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '450.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '405.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '2029.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '4059.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-5xg6p:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:33:09.948110Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   747.17ms  454.96ms   1.98s    64.23%
        Req/Sec   103.50     63.38   303.00     59.33%
        Latency Distribution
        50%  693.86ms
        75%    1.10s
        90%    1.35s
        99%    1.81s
        2267 requests in 3.03s, 172.68KB read
        Requests/sec:    748.09
        Transfer/sec:     56.98KB
        [run.sh] Speed is 748.09, duration is 40
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d40s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5b9c9fd788-7jzlw        1m           104Mi
        composereview-5c75d8bd89-bzwgc   1m           3Mi
        frontend-568568858-wrrdp         1m           3Mi
        movieid-7b9bbdbf7c-6z68f         4m           169Mi
        movieinfo-5b6d77cdd6-qd9v5       1m           188Mi
        moviereviews-7c945848cf-67cs8    1m           3Mi
        page-7585b788cc-95288            6m           3Mi
        plot-6899667989-bzx9k            7m           255Mi
        reviewstorage-6754b5bbd6-hc57d   7m           3Mi
        ubuntu-client-59dffbd546-5xg6p   13m          2Mi
        uniqueid-756c5ddb99-764wn        7m           3Mi
        user-fb956797-w5ffk              7m           4Mi
        userreviews-7cd4bc866f-b2kxn     6m           3Mi
        Running 40s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   974.52ms  347.11ms   1.90s    82.71%
        Req/Sec   128.57     66.27   490.00     67.58%
        Latency Distribution
        50%    1.05s
        75%    1.17s
        90%    1.28s
        99%    1.50s
        20000 requests in 40.00s, 1.49MB read
        Requests/sec:    500.00
        Transfer/sec:     38.09KB
        ------------------------------
        stop time: 19.356712
        stop time: 19.513542
        stop time: 19.642540
        stop time: 19.798427
        stop time: 20.076664
        stop time: 20.041394
        stop time: 20.211397
        stop time: 20.452083
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [19.356712, 19.513542, 19.64254, 19.798427, 20.076664, 20.041394, 20.211397, 20.452083]
    [exp] Throughput: 1005.7025914045529
[test.py] Finished running 1th optmization experiment: groundtruth->1764.91334402334, slowdown->1005.7025914045529, predicted->1703.4636952261087, err->-3.481737446505397
[test.py] Running 2th optmization experiment
[test.py] Running 2th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '200', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-jlcqs:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:35:10.100981Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   406.42ms  229.18ms   1.13s    68.22%
        Req/Sec   194.63    110.53   570.00     69.26%
        Latency Distribution
        50%  397.09ms
        75%  546.10ms
        90%  719.01ms
        99%  975.83ms
        4528 requests in 3.03s, 344.91KB read
        Requests/sec:   1494.58
        Transfer/sec:    113.84KB
        [run.sh] Speed is 1494.58, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.83ms  225.29ms   1.35s    78.74%
        Req/Sec   219.65     80.97   747.00     73.18%
        Latency Distribution
        50%  597.80ms
        75%  692.86ms
        90%  778.73ms
        99%  953.98ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.919172
        stop time: 11.232045
        stop time: 11.486707
        stop time: 11.289335
        stop time: 11.735019
        stop time: 11.738289
        stop time: 11.838501
        stop time: 11.932722
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-hdznj        1m           105Mi
        composereview-77946fb6bc-4xzhf   1m           3Mi
        frontend-69b9fdb4c6-hmdz7        1m           3Mi
        movieid-5bb8fb5475-r2xtl         2m           169Mi
        movieinfo-6c5f868dc9-c95k8       1m           176Mi
        moviereviews-6984997fc6-njz5f    1m           3Mi
        page-c8c664d8-9n8lx              4m           3Mi
        plot-7954886fb-2b295             7m           254Mi
        reviewstorage-864bd74b5-x29ws    7m           3Mi
        ubuntu-client-59dffbd546-jlcqs   11m          2Mi
        uniqueid-d47d645ff-fww8z         7m           3Mi
        user-7cbdb6d567-k95t7            7m           4Mi
        userreviews-54c668998f-j2p5j     7m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.919172, 11.232045, 11.486707, 11.289335, 11.735019, 11.738289, 11.838501, 11.932722]
    [exp] Throughput: 1735.88903936877
[test.py] Running 2th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '400.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '360.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3608.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-grwxm:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:36:59.641265Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   852.48ms  358.41ms   1.95s    75.75%
        Req/Sec   121.77     67.47   320.00     65.62%
        Latency Distribution
        50%  919.08ms
        75%    1.07s
        90%    1.21s
        99%    1.55s
        2429 requests in 3.03s, 185.02KB read
        Requests/sec:    801.10
        Transfer/sec:     61.02KB
        [run.sh] Speed is 801.10, duration is 37
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d37s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-f44494697-dvwdv         15m          143Mi
        composereview-569976df86-vvmrn   33m          13Mi
        frontend-779c8f89cc-pkz8f        51m          13Mi
        movieid-7b95656cc8-gqjz9         1m           171Mi
        movieinfo-78c5c84d59-82mr6       48m          190Mi
        moviereviews-7c945848cf-q5hkt    431m         22Mi
        page-857f965b44-xpvbs            280m         90Mi
        plot-856748f7dd-4cn7m            1m           282Mi
        reviewstorage-856754557d-zz55p   0m           13Mi
        ubuntu-client-59dffbd546-grwxm   4m           69Mi
        uniqueid-5bc74dc9db-fwfvt        8m           8Mi
        user-5b5ddf4fc4-bpvpw            14m          8Mi
        userreviews-84cfdcddfb-mkjmd     9m           7Mi
        Running 37s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   910.54ms  346.73ms   2.07s    80.15%
        Req/Sec   134.98     61.11   434.00     66.96%
        Latency Distribution
        50%  994.35ms
        75%    1.11s
        90%    1.22s
        99%    1.44s
        20000 requests in 37.00s, 1.49MB read
        Requests/sec:    540.54
        Transfer/sec:     41.17KB
        ------------------------------
        stop time: 18.187697
        stop time: 18.123814
        stop time: 18.911408
        stop time: 18.996866
        stop time: 19.165838
        stop time: 18.876991
        stop time: 19.184080
        stop time: 19.087414
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [18.187697, 18.123814, 18.911408, 18.996866, 19.165838, 18.876991, 19.18408, 19.087414]
    [exp] Throughput: 1062.8820413244816
[test.py] Finished running 2th optmization experiment: groundtruth->1735.88903936877, slowdown->1062.8820413244816, predicted->1727.7060776795402, err->-0.4713988914985864
[test.py] Running 3th optmization experiment
[test.py] Running 3th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '300', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-gqxtz:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:38:55.844002Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   497.08ms  212.45ms   1.07s    75.89%
        Req/Sec   219.85     84.89   400.00     69.64%
        Latency Distribution
        50%  536.42ms
        75%  634.16ms
        90%  720.53ms
        99%  870.02ms
        4957 requests in 3.03s, 377.58KB read
        Requests/sec:   1635.10
        Transfer/sec:    124.55KB
        [run.sh] Speed is 1635.10, duration is 18
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d18s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 18s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   543.26ms  230.56ms   1.38s    76.39%
        Req/Sec   222.24     83.47   790.00     74.08%
        Latency Distribution
        50%  584.53ms
        75%  682.08ms
        90%  781.67ms
        99%  971.87ms
        20000 requests in 18.00s, 1.49MB read
        Requests/sec:   1111.10
        Transfer/sec:     84.63KB
        ------------------------------
        stop time: 10.741834
        stop time: 10.802638
        stop time: 11.181080
        stop time: 11.248673
        stop time: 11.373932
        stop time: 11.466505
        stop time: 11.723298
        stop time: 11.731135
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-ffz5k        134m         154Mi
        composereview-77946fb6bc-7bdd4   1m           14Mi
        frontend-69b9fdb4c6-qqx2n        90m          13Mi
        movieid-5bb8fb5475-frpbb         13m          172Mi
        movieinfo-6c5f868dc9-vccv5       81m          196Mi
        moviereviews-7987d4bb45-g9xmm    345m         16Mi
        page-c8c664d8-dj5ks              654m         74Mi
        plot-7954886fb-fkkgl             109m         302Mi
        reviewstorage-864bd74b5-84bgc    77m          9Mi
        ubuntu-client-59dffbd546-gqxtz   2m           70Mi
        uniqueid-d47d645ff-jqjcq         14m          8Mi
        user-7cbdb6d567-dnmbm            21m          8Mi
        userreviews-54c668998f-kv5xd     13m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.741834, 10.802638, 11.18108, 11.248673, 11.373932, 11.466505, 11.723298, 11.731135]
    [exp] Throughput: 1772.4781665308599
[test.py] Running 3th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '350.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '315.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1578.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '3157.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-nznqf:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:40:45.304074Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   812.11ms  334.52ms   1.63s    78.49%
        Req/Sec   128.53     67.16   343.00     60.10%
        Latency Distribution
        50%  881.73ms
        75%    1.03s
        90%    1.13s
        99%    1.37s
        2641 requests in 3.04s, 201.17KB read
        Requests/sec:    869.84
        Transfer/sec:     66.26KB
        [run.sh] Speed is 869.84, duration is 34
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d34s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6989c48fdf-tx8l4        69m          64Mi
        composereview-7dd85898f5-g2rm8   19m          15Mi
        frontend-74bff5f744-72zct        77m          14Mi
        movieid-64d65fb6c-jvn29          3m           173Mi
        movieinfo-7498d9d9f9-fnfmv       41m          200Mi
        moviereviews-7c945848cf-vmb47    461m         23Mi
        page-84db6f6cc6-qwrns            593m         104Mi
        plot-68b8cd76f6-6d9pz            53m          323Mi
        reviewstorage-5456d6f67d-mbt4v   20m          14Mi
        ubuntu-client-59dffbd546-nznqf   143m         108Mi
        uniqueid-fd89696b5-hg8ng         12m          7Mi
        user-7747bd845f-xdf2x            23m          8Mi
        userreviews-64597bd76c-t7xv7     15m          8Mi
        Running 34s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   889.56ms  324.11ms   1.74s    83.27%
        Req/Sec   142.37     64.75   545.00     68.74%
        Latency Distribution
        50%  962.71ms
        75%    1.07s
        90%    1.16s
        99%    1.40s
        20000 requests in 34.00s, 1.49MB read
        Requests/sec:    588.23
        Transfer/sec:     44.81KB
        ------------------------------
        stop time: 17.460770
        stop time: 17.963190
        stop time: 17.856584
        stop time: 18.037062
        stop time: 18.228581
        stop time: 17.974922
        stop time: 18.116001
        stop time: 18.252831
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [17.46077, 17.96319, 17.856584, 18.037062, 18.228581, 17.974922, 18.116001, 18.252831]
    [exp] Throughput: 1111.9609813447628
[test.py] Finished running 3th optmization experiment: groundtruth->1772.4781665308599, slowdown->1111.9609813447628, predicted->1716.6479790713963, err->-3.1498378097788278
[test.py] Running 4th optmization experiment
[test.py] Running 4th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '400', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-g58l5:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:42:38.362600Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   521.23ms  239.44ms   1.41s    76.55%
        Req/Sec   208.82     80.85   393.00     67.59%
        Latency Distribution
        50%  565.10ms
        75%  675.68ms
        90%  763.33ms
        99%    1.03s
        4665 requests in 3.04s, 355.34KB read
        Requests/sec:   1534.76
        Transfer/sec:    116.91KB
        [run.sh] Speed is 1534.76, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.79ms  238.54ms   1.39s    76.39%
        Req/Sec   219.84     82.00   696.00     76.74%
        Latency Distribution
        50%  595.76ms
        75%  697.42ms
        90%  801.28ms
        99%    1.04s
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.116450
        stop time: 11.009066
        stop time: 11.288069
        stop time: 11.656145
        stop time: 11.610032
        stop time: 11.761364
        stop time: 11.969629
        stop time: 11.976649
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-ld5h2        386m         62Mi
        composereview-77946fb6bc-vchhf   70m          13Mi
        frontend-69b9fdb4c6-gwc6f        216m         14Mi
        movieid-5bb8fb5475-sb2vg         50m          180Mi
        movieinfo-6c5f868dc9-n4z9c       134m         218Mi
        moviereviews-5b578584cd-cnhjw    494m         20Mi
        page-c8c664d8-8js82              1757m        59Mi
        plot-7954886fb-v25wr             314m         145Mi
        reviewstorage-864bd74b5-xq8x8    206m         15Mi
        ubuntu-client-59dffbd546-g58l5   456m         106Mi
        uniqueid-d47d645ff-xknx8         31m          8Mi
        user-7cbdb6d567-4xpgc            48m          9Mi
        userreviews-54c668998f-dmcsd     29m          9Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.11645, 11.009066, 11.288069, 11.656145, 11.610032, 11.761364, 11.969629, 11.976649]
    [exp] Throughput: 1731.8378163326247
[test.py] Running 4th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '300.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '270.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2706.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-pqtzc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:44:27.924108Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   772.39ms  346.72ms   1.81s    73.97%
        Req/Sec   129.03     70.62   333.00     61.84%
        Latency Distribution
        50%  816.77ms
        75%  996.78ms
        90%    1.14s
        99%    1.50s
        2751 requests in 3.03s, 209.55KB read
        Requests/sec:    907.29
        Transfer/sec:     69.11KB
        [run.sh] Speed is 907.29, duration is 33
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d33s -s /wrk/fix_req_n.lua -L http://localhost:3000
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-584fb6cff6-798js        159m         59Mi
        composereview-7f569fb98-jljcb    90m          14Mi
        frontend-849d7c857-znmnq         58m          14Mi
        movieid-77b899dd5d-smfzq         21m          176Mi
        movieinfo-5756b74d98-j9zvq       169m         235Mi
        moviereviews-7c945848cf-gmzz2    1491m        23Mi
        page-5b5b9b9765-hnx9t            478m         102Mi
        plot-7fc6797d45-rntlc            134m         146Mi
        reviewstorage-5974f5cf64-9zvcs   98m          15Mi
        ubuntu-client-59dffbd546-pqtzc   619m         108Mi
        uniqueid-6557f8486-9h8k5         10m          8Mi
        user-65bdb79bbf-kwrts            39m          9Mi
        userreviews-6b454947cb-gbgs4     24m          8Mi
        Running 33s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   830.00ms  312.63ms   1.73s    81.10%
        Req/Sec   148.67     59.34   484.00     68.26%
        Latency Distribution
        50%  899.72ms
        75%    1.00s
        90%    1.11s
        99%    1.33s
        20000 requests in 33.00s, 1.49MB read
        Requests/sec:    606.06
        Transfer/sec:     46.16KB
        ------------------------------
        stop time: 16.505778
        stop time: 16.585433
        stop time: 16.782567
        stop time: 17.005059
        stop time: 17.186656
        stop time: 17.319697
        stop time: 17.363681
        stop time: 17.121443
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [16.505778, 16.585433, 16.782567, 17.005059, 17.186656, 17.319697, 17.363681, 17.121443]
    [exp] Throughput: 1177.5935102350613
[test.py] Finished running 4th optmization experiment: groundtruth->1731.8378163326247, slowdown->1177.5935102350613, predicted->1731.1147800153103, err->-0.04174965522149747
[test.py] Running 5th optmization experiment
[test.py] Running 5th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '500', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-hrlwc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:46:21.043164Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   452.97ms  279.87ms   1.44s    68.01%
        Req/Sec   202.16     92.88   450.00     73.01%
        Latency Distribution
        50%  464.04ms
        75%  649.92ms
        90%  792.64ms
        99%    1.15s
        4583 requests in 3.03s, 349.10KB read
        Requests/sec:   1510.87
        Transfer/sec:    115.09KB
        [run.sh] Speed is 1510.87, duration is 19
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d19s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 19s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   562.29ms  228.58ms   1.36s    77.88%
        Req/Sec   217.58     69.41   630.00     69.62%
        Latency Distribution
        50%  594.79ms
        75%  691.85ms
        90%  794.85ms
        99%  990.88ms
        20000 requests in 19.00s, 1.49MB read
        Requests/sec:   1052.62
        Transfer/sec:     80.18KB
        ------------------------------
        stop time: 11.232976
        stop time: 11.328197
        stop time: 11.427033
        stop time: 11.310745
        stop time: 11.736510
        stop time: 11.842102
        stop time: 11.772965
        stop time: 11.716796
        [run.sh] Checking the resource usage
        NAME                            CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-m5jn2       6m           104Mi
        frontend-69b9fdb4c6-bz2wg       7m           3Mi
        movieid-5bb8fb5475-qmspl        46m          186Mi
        plot-7954886fb-4prb2            1m           252Mi
        reviewstorage-864bd74b5-lw6tt   1m           3Mi
        uniqueid-d47d645ff-46gkk        1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.232976, 11.328197, 11.427033, 11.310745, 11.73651, 11.842102, 11.772965, 11.716796]
    [exp] Throughput: 1732.2143055697923
[test.py] Running 5th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '250.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '225.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '1127.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '2255.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-28x7k:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:48:09.495901Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   740.02ms  325.11ms   1.67s    75.31%
        Req/Sec   141.69     71.74   360.00     68.42%
        Latency Distribution
        50%  809.61ms
        75%  944.35ms
        90%    1.07s
        99%    1.34s
        3042 requests in 3.03s, 231.71KB read
        Requests/sec:   1002.34
        Transfer/sec:     76.35KB
        [run.sh] Speed is 1002.34, duration is 29
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d29s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 29s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   800.87ms  293.76ms   1.77s    82.81%
        Req/Sec   156.01     60.17   383.00     69.33%
        Latency Distribution
        50%  865.18ms
        75%  962.62ms
        90%    1.06s
        99%    1.27s
        20000 requests in 29.00s, 1.49MB read
        Requests/sec:    689.65
        Transfer/sec:     52.53KB
        ------------------------------
        stop time: 15.854870
        stop time: 15.821399
        stop time: 16.200289
        stop time: 16.398370
        stop time: 16.438006
        stop time: 16.381059
        stop time: 16.212418
        stop time: 16.742790
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-6cf8b4d4cd-j46bs        1m           104Mi
        composereview-68df5c8b69-2lg7b   1m           3Mi
        frontend-799c846966-ssjkj        3m           3Mi
        movieid-8548d5974f-4j8j9         1m           186Mi
        movieinfo-7d69884888-plvrj       4m           177Mi
        moviereviews-7c945848cf-zcb8j    7m           3Mi
        page-695b455467-dsgm9            7m           3Mi
        plot-d96fc88c-r628v              1m           254Mi
        reviewstorage-5f7f65d55d-qw6k9   6m           3Mi
        ubuntu-client-59dffbd546-28x7k   13m          2Mi
        uniqueid-695fb7f99f-2w4bg        1m           3Mi
        user-76f986b775-7bg52            1m           4Mi
        userreviews-758d866f69-ttmqb     1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [15.85487, 15.821399, 16.200289, 16.39837, 16.438006, 16.381059, 16.212418, 16.74279]
    [exp] Throughput: 1230.3035987126134
[test.py] Finished running 5th optmization experiment: groundtruth->1732.2143055697923, slowdown->1230.3035987126134, predicted->1704.9281138423548, err->-1.5752203200089576
[test.py] Running 6th optmization experiment
[test.py] Running 6th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '600', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-xvbxp:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:49:57.881140Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   387.27ms  215.86ms 957.98ms   69.08%
        Req/Sec   190.85    104.44   515.00     67.83%
        Latency Distribution
        50%  377.07ms
        75%  526.89ms
        90%  700.17ms
        99%  851.10ms
        4399 requests in 3.02s, 335.08KB read
        Requests/sec:   1454.39
        Transfer/sec:    110.78KB
        [run.sh] Speed is 1454.39, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   556.47ms  223.17ms   1.30s    79.39%
        Req/Sec   221.95     74.54   560.00     70.04%
        Latency Distribution
        50%  599.11ms
        75%  686.93ms
        90%  775.05ms
        99%  958.55ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.984762
        stop time: 11.062308
        stop time: 11.644381
        stop time: 11.439015
        stop time: 11.653209
        stop time: 11.752590
        stop time: 11.716534
        stop time: 11.685116
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-wk8js        125m         158Mi
        composereview-77946fb6bc-m4bnq   22m          13Mi
        frontend-69b9fdb4c6-vdmlf        1m           13Mi
        movieid-5bb8fb5475-s7769         12m          172Mi
        movieinfo-6c5f868dc9-f7rr5       25m          195Mi
        moviereviews-547d54f4b8-hvm6h    94m          21Mi
        page-c8c664d8-vs86c              1m           88Mi
        plot-7954886fb-lgj5p             106m         299Mi
        reviewstorage-864bd74b5-88rp2    73m          12Mi
        ubuntu-client-59dffbd546-xvbxp   25m          63Mi
        uniqueid-d47d645ff-hgvdj         1m           7Mi
        user-7cbdb6d567-2bv27            0m           7Mi
        userreviews-54c668998f-hhpdk     3m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.984762, 11.062308, 11.644381, 11.439015, 11.653209, 11.75259, 11.716534, 11.685116]
    [exp] Throughput: 1740.304856815602
[test.py] Running 6th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '200.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '180.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1804.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-v7d8j:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:51:46.257017Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   722.13ms  290.16ms   1.48s    77.36%
        Req/Sec   147.69     68.18   333.00     70.70%
        Latency Distribution
        50%  779.51ms
        75%  903.70ms
        90%    1.01s
        99%    1.18s
        3229 requests in 3.03s, 245.96KB read
        Requests/sec:   1065.41
        Transfer/sec:     81.15KB
        [run.sh] Speed is 1065.41, duration is 28
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d28s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 28s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   753.48ms  271.30ms   1.39s    83.13%
        Req/Sec   165.31     61.20   410.00     68.73%
        Latency Distribution
        50%  812.96ms
        75%  902.56ms
        90%  985.19ms
        99%    1.15s
        20001 requests in 28.00s, 1.49MB read
        Requests/sec:    714.32
        Transfer/sec:     54.41KB
        ------------------------------
        stop time: 14.899323
        stop time: 15.078273
        stop time: 15.269107
        stop time: 15.253915
        stop time: 15.295813
        stop time: 15.643310
        stop time: 15.537604
        stop time: 15.552247
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-79cd56f655-fqwsg        171m         63Mi
        composereview-856b94748b-9fczj   8m           14Mi
        frontend-9b9bd8bb9-6j2kz         43m          13Mi
        movieid-6cbbcc5978-5vcpc         11m          188Mi
        movieinfo-6c45df58b9-trjhd       4m           212Mi
        moviereviews-7c945848cf-p2fl6    76m          23Mi
        page-66f8cc7bd6-rmhld            281m         106Mi
        plot-9c577d4fd-bcvbv             124m         317Mi
        reviewstorage-77c45c4566-wnprc   70m          14Mi
        ubuntu-client-59dffbd546-v7d8j   68m          107Mi
        uniqueid-5ccb4f955d-2lz8z        8m           7Mi
        user-57786cf964-jcbch            9m           8Mi
        userreviews-67bfb48488-mgmwc     5m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [14.899323, 15.078273, 15.269107, 15.253915, 15.295813, 15.64331, 15.537604, 15.552247]
    [exp] Throughput: 1305.8070086448995
[test.py] Finished running 6th optmization experiment: groundtruth->1740.304856815602, slowdown->1305.8070086448995, predicted->1710.0098891219377, err->-1.7407851029674135
[test.py] Running 7th optmization experiment
[test.py] Running 7th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '700', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-5cfx8:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:53:34.772012Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   445.03ms  261.59ms   1.29s    69.73%
        Req/Sec   196.73     90.88   500.00     71.05%
        Latency Distribution
        50%  450.41ms
        75%  628.57ms
        90%  758.19ms
        99%    1.11s
        4526 requests in 3.03s, 344.75KB read
        Requests/sec:   1494.25
        Transfer/sec:    113.82KB
        [run.sh] Speed is 1494.25, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   534.43ms  226.97ms   1.17s    75.71%
        Req/Sec   217.83     87.00     1.16k    75.08%
        Latency Distribution
        50%  589.69ms
        75%  677.24ms
        90%  758.52ms
        99%  924.67ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 10.715451
        stop time: 11.015039
        stop time: 11.251715
        stop time: 11.487284
        stop time: 11.904622
        stop time: 11.969093
        stop time: 11.723602
        stop time: 12.209075
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-b57t7        285m         61Mi
        composereview-77946fb6bc-c98k2   115m         13Mi
        frontend-69b9fdb4c6-5784p        214m         12Mi
        movieid-5bb8fb5475-hzfd9         21m          188Mi
        movieinfo-6c5f868dc9-b24z8       228m         238Mi
        moviereviews-79c4f996cc-4gmg8    1620m        22Mi
        page-c8c664d8-grf4m              1883m        54Mi
        plot-7954886fb-jx65f             224m         145Mi
        reviewstorage-864bd74b5-8fkmr    128m         15Mi
        ubuntu-client-59dffbd546-5cfx8   864m         103Mi
        uniqueid-d47d645ff-7pjrg         29m          8Mi
        user-7cbdb6d567-zdg86            52m          8Mi
        userreviews-54c668998f-s9z7t     32m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [10.715451, 11.015039, 11.251715, 11.487284, 11.904622, 11.969093, 11.723602, 12.209075]
    [exp] Throughput: 1733.9308849297252
[test.py] Running 7th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '150.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '135.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '676.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '1353.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-25mdc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:55:23.154048Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   543.47ms  321.30ms   1.92s    70.46%
        Req/Sec   157.73     63.84   336.00     70.32%
        Latency Distribution
        50%  540.37ms
        75%  755.58ms
        90%  925.19ms
        99%    1.52s
        3581 requests in 3.03s, 272.77KB read
        Requests/sec:   1181.66
        Transfer/sec:     90.01KB
        [run.sh] Speed is 1181.66, duration is 25
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d25s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 25s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   681.14ms  258.70ms   1.39s    81.07%
        Req/Sec   179.74     65.55   550.00     72.64%
        Latency Distribution
        50%  742.39ms
        75%  828.37ms
        90%  911.98ms
        99%    1.09s
        20000 requests in 25.00s, 1.49MB read
        Requests/sec:    800.00
        Transfer/sec:     60.94KB
        ------------------------------
        stop time: 13.244565
        stop time: 13.734167
        stop time: 13.695147
        stop time: 14.042660
        stop time: 14.181181
        stop time: 14.344304
        stop time: 14.461366
        stop time: 14.556236
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7cb64bc57f-swrtx        154m         61Mi
        composereview-69787ffbdc-xz8lh   1m           14Mi
        frontend-59995dfbc6-dsk45        46m          13Mi
        movieid-84fc46956c-zzzrt         0m           176Mi
        movieinfo-7494bd5fc-p2dbz        1m           218Mi
        moviereviews-7c945848cf-sqbtg    24m          23Mi
        page-698599b4cd-9nn74            249m         98Mi
        plot-7996d4694b-wxkbr            130m         146Mi
        reviewstorage-649875d4f4-mjqn7   102m         16Mi
        ubuntu-client-59dffbd546-25mdc   119m         69Mi
        uniqueid-66598b7d57-6ldbt        9m           8Mi
        user-5496c9c6c-9k7nf             9m           8Mi
        userreviews-5db86b8b7f-d5dsf     6m           8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.244565, 13.734167, 13.695147, 14.04266, 14.181181, 14.344304, 14.461366, 14.556236]
    [exp] Throughput: 1425.2675311781281
[test.py] Finished running 7th optmization experiment: groundtruth->1733.9308849297252, slowdown->1425.2675311781281, predicted->1767.2242138966847, err->1.92010703865563
[test.py] Running 8th optmization experiment
[test.py] Running 8th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '800', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-zc9rk:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:57:12.678049Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   536.42ms  224.75ms   1.04s    76.09%
        Req/Sec   203.46     66.45   370.00     68.98%
        Latency Distribution
        50%  585.88ms
        75%  681.69ms
        90%  769.05ms
        99%  903.44ms
        4517 requests in 3.03s, 344.07KB read
        Requests/sec:   1491.46
        Transfer/sec:    113.61KB
        [run.sh] Speed is 1491.46, duration is 20
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d20s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 20s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   562.08ms  216.36ms   1.18s    80.08%
        Req/Sec   217.93     72.84   520.00     74.07%
        Latency Distribution
        50%  611.47ms
        75%  687.77ms
        90%  758.91ms
        99%  918.49ms
        20000 requests in 20.00s, 1.49MB read
        Requests/sec:    999.99
        Transfer/sec:     76.17KB
        ------------------------------
        stop time: 11.113592
        stop time: 11.184531
        stop time: 11.376448
        stop time: 11.633877
        stop time: 11.734299
        stop time: 11.839657
        stop time: 12.147599
        stop time: 12.102069
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-jfp7l        2m           104Mi
        composereview-77946fb6bc-67shb   1m           3Mi
        frontend-69b9fdb4c6-x9q79        4m           3Mi
        movieid-5bb8fb5475-pr6xt         1m           168Mi
        movieinfo-6c5f868dc9-kfgj5       4m           176Mi
        moviereviews-8779d6c4b-qf88q     7m           3Mi
        page-c8c664d8-np7l8              7m           3Mi
        plot-7954886fb-5vxbd             7m           254Mi
        reviewstorage-864bd74b5-l55tc    1m           3Mi
        ubuntu-client-59dffbd546-zc9rk   13m          0Mi
        uniqueid-d47d645ff-c2n6f         1m           3Mi
        user-7cbdb6d567-pcfnj            1m           4Mi
        userreviews-54c668998f-rp9cv     1m           3Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.113592, 11.184531, 11.376448, 11.633877, 11.734299, 11.839657, 12.147599, 12.102069]
    [exp] Throughput: 1717.9903395685217
[test.py] Running 8th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '100.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '90.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '902.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-bvn4k:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T03:59:02.128994Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   613.68ms  257.33ms   1.33s    75.55%
        Req/Sec   173.10     71.36   350.00     65.74%
        Latency Distribution
        50%  655.44ms
        75%  785.29ms
        90%  889.25ms
        99%    1.08s
        3828 requests in 3.03s, 291.59KB read
        Requests/sec:   1263.27
        Transfer/sec:     96.23KB
        [run.sh] Speed is 1263.27, duration is 23
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d23s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 23s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   657.06ms  240.86ms   1.38s    82.81%
        Req/Sec   186.97     62.50   525.00     68.82%
        Latency Distribution
        50%  719.01ms
        75%  789.14ms
        90%  857.22ms
        99%    1.01s
        20000 requests in 23.00s, 1.49MB read
        Requests/sec:    869.56
        Transfer/sec:     66.24KB
        ------------------------------
        stop time: 13.113815
        stop time: 13.180068
        stop time: 13.277999
        stop time: 13.593921
        stop time: 13.542078
        stop time: 13.832171
        stop time: 13.901869
        stop time: 14.038719
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-7f4849cb66-tkvtz        1m           154Mi
        composereview-5677885566-6xntb   1m           14Mi
        frontend-745dcd6f4f-wjhvw        1m           14Mi
        movieid-8dd4b5c4-st89s           1m           172Mi
        movieinfo-5bdfcd4c96-tb2k8       0m           193Mi
        moviereviews-7c945848cf-cclnv    0m           22Mi
        page-67dff8d45f-2hpq7            1m           107Mi
        plot-758866c95f-6cpz5            1m           292Mi
        reviewstorage-5c4f9bd4b6-ltw5l   2m           11Mi
        ubuntu-client-59dffbd546-bvn4k   2m           79Mi
        uniqueid-85d5c7cd48-5kk2d        3m           7Mi
        user-74b49c6877-qhsf2            4m           7Mi
        userreviews-f5b8bc978-v6b47      6m           7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [13.113815, 13.180068, 13.277999, 13.593921, 13.542078, 13.832171, 13.901869, 14.038719]
    [exp] Throughput: 1474.9175521088373
[test.py] Finished running 8th optmization experiment: groundtruth->1717.9903395685217, slowdown->1474.9175521088373, predicted->1702.1421607826635, err->-0.9224835798458854
[test.py] Running 9th optmization experiment
[test.py] Running 9th groundtruth exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '900', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-b4f9z:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T04:00:51.672317Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   487.38ms  320.35ms   1.83s    76.09%
        Req/Sec   186.64     88.19   494.00     70.43%
        Latency Distribution
        50%  450.94ms
        75%  685.81ms
        90%  860.26ms
        99%    1.55s
        4311 requests in 3.02s, 328.38KB read
        Requests/sec:   1426.51
        Transfer/sec:    108.66KB
        [run.sh] Speed is 1426.51, duration is 21
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d21s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 21s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   601.58ms  211.57ms   1.16s    84.68%
        Req/Sec   207.29     63.31   490.00     73.10%
        Latency Distribution
        50%  650.93ms
        75%  709.08ms
        90%  770.30ms
        99%  898.46ms
        20000 requests in 21.00s, 1.49MB read
        Requests/sec:    952.37
        Transfer/sec:     72.54KB
        ------------------------------
        stop time: 11.947401
        stop time: 11.983884
        stop time: 12.261832
        stop time: 12.201249
        stop time: 12.289059
        stop time: 12.298068
        stop time: 12.392246
        stop time: 12.198893
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-547df5c749-47sdp        122m         153Mi
        composereview-77946fb6bc-h7m22   28m          12Mi
        frontend-69b9fdb4c6-5w8tk        77m          15Mi
        movieid-5bb8fb5475-qrbxj         12m          186Mi
        movieinfo-6c5f868dc9-x5254       46m          191Mi
        moviereviews-564874684c-d4hjs    405m         22Mi
        page-c8c664d8-ffzhd              597m         104Mi
        plot-7954886fb-dpp4r             98m          287Mi
        reviewstorage-864bd74b5-46k26    72m          13Mi
        ubuntu-client-59dffbd546-b4f9z   280m         92Mi
        uniqueid-d47d645ff-v4rg5         12m          8Mi
        user-7cbdb6d567-jvsqj            19m          8Mi
        userreviews-54c668998f-czjjb     11m          7Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [11.947401, 11.983884, 12.261832, 12.201249, 12.289059, 12.298068, 12.392246, 12.198893]
    [exp] Throughput: 1639.8040794881908
[test.py] Running 9th slowdown exp
    [exp] Running (pre_run: False) workload movie/mix request with the following configuration: {'CLIENT_CPU_QUOTA': '4', 'SLOWPOKE_POKER_BATCH_THRESHOLD': '20000000', 'SLOWPOKE_PROCESSING_MICROS_CASTINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_COMPOSEREVIEW': '0', 'SLOWPOKE_PROCESSING_MICROS_FRONTEND': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEID': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEINFO': '0', 'SLOWPOKE_PROCESSING_MICROS_MOVIEREVIEWS': '1000', 'SLOWPOKE_PROCESSING_MICROS_PAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_PLOT': '0', 'SLOWPOKE_PROCESSING_MICROS_REVIEWSTORAGE': '0', 'SLOWPOKE_PROCESSING_MICROS_UNIQUEID': '0', 'SLOWPOKE_PROCESSING_MICROS_USER': '0', 'SLOWPOKE_PROCESSING_MICROS_USERREVIEWS': '0', 'SLOWPOKE_DELAY_MICROS_CASTINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_CASTINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_CASTINFO': 'false', 'SLOWPOKE_DELAY_MICROS_COMPOSEREVIEW': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_COMPOSEREVIEW': '100', 'SLOWPOKE_IS_TARGET_SERVICE_COMPOSEREVIEW': 'false', 'SLOWPOKE_DELAY_MICROS_FRONTEND': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_FRONTEND': '100', 'SLOWPOKE_IS_TARGET_SERVICE_FRONTEND': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEID': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEINFO': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEINFO': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEINFO': 'false', 'SLOWPOKE_DELAY_MICROS_MOVIEREVIEWS': '0.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_MOVIEREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_MOVIEREVIEWS': 'true', 'SLOWPOKE_DELAY_MICROS_PAGE': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PAGE': 'false', 'SLOWPOKE_DELAY_MICROS_PLOT': '50.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_PLOT': '100', 'SLOWPOKE_IS_TARGET_SERVICE_PLOT': 'false', 'SLOWPOKE_DELAY_MICROS_REVIEWSTORAGE': '45.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_REVIEWSTORAGE': '100', 'SLOWPOKE_IS_TARGET_SERVICE_REVIEWSTORAGE': 'false', 'SLOWPOKE_DELAY_MICROS_UNIQUEID': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_UNIQUEID': '100', 'SLOWPOKE_IS_TARGET_SERVICE_UNIQUEID': 'false', 'SLOWPOKE_DELAY_MICROS_USER': '225.5', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USER': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USER': 'false', 'SLOWPOKE_DELAY_MICROS_USERREVIEWS': '451.0', 'SLOWPOKE_POKER_BATCH_THRESHOLD_USERREVIEWS': '100', 'SLOWPOKE_IS_TARGET_SERVICE_USERREVIEWS': 'false'}
    [exp] Executing cmd `bash run.sh movie mix 8 1024 20000`:
        [run.sh] Running benchmark movie with request mix, thread 8, conn 1024, duration 60
        [run.sh] Deleting all services
        service "castinfo" deleted
        deployment.apps "castinfo" deleted
        service "composereview" deleted
        deployment.apps "composereview" deleted
        service "frontend" deleted
        deployment.apps "frontend" deleted
        service "movieid" deleted
        deployment.apps "movieid" deleted
        service "movieinfo" deleted
        deployment.apps "movieinfo" deleted
        service "moviereviews" deleted
        deployment.apps "moviereviews" deleted
        service "page" deleted
        deployment.apps "page" deleted
        service "plot" deleted
        deployment.apps "plot" deleted
        service "reviewstorage" deleted
        deployment.apps "reviewstorage" deleted
        service "uniqueid" deleted
        deployment.apps "uniqueid" deleted
        service "user" deleted
        deployment.apps "user" deleted
        service "userreviews" deleted
        deployment.apps "userreviews" deleted
        deployment.apps "ubuntu-client" deleted
        [run.sh] Waiting for all pods to be deleted
        [run.sh] Deploying all services
        service/castinfo created
        deployment.apps/castinfo created
        service/composereview created
        deployment.apps/composereview created
        service/frontend created
        deployment.apps/frontend created
        service/movieid created
        deployment.apps/movieid created
        service/movieinfo created
        deployment.apps/movieinfo created
        service/moviereviews created
        deployment.apps/moviereviews created
        service/page created
        deployment.apps/page created
        service/plot created
        deployment.apps/plot created
        service/reviewstorage created
        deployment.apps/reviewstorage created
        service/uniqueid created
        deployment.apps/uniqueid created
        service/user created
        deployment.apps/user created
        service/userreviews created
        deployment.apps/userreviews created
        [run.sh] Client pod not found, deploying client
        deployment.apps/ubuntu-client created
        [run.sh] Waiting for all pods to be running
        [run.sh] All pods are running
        [run.sh] Checking heartbeat for all services
        [run.sh] All pods can connect to all services
        [run.sh] Copying movie/analysis.txt to ubuntu-client-59dffbd546-5lfwc:/analysis.txt
        [run.sh] Finished populating movie
        [run.sh] Starting the rust proxy first for movie
        [2m2025-07-23T04:02:41.211943Z[0m [32m INFO[0m [2mproxy::movie[0m[2m:[0m Reading movie analysis data from /analysis.txt
        [run.sh] Running warmup test
        [run.sh] /wrk/wrk -t8 -c1024 --timeout 3s -d3s -L http://localhost:3000
        Running 3s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   583.41ms  248.04ms   1.23s    75.53%
        Req/Sec   175.35     66.05   333.00     70.98%
        Latency Distribution
        50%  610.99ms
        75%  746.24ms
        90%  853.39ms
        99%    1.08s
        3956 requests in 3.03s, 301.34KB read
        Requests/sec:   1304.98
        Transfer/sec:     99.40KB
        [run.sh] Speed is 1304.98, duration is 22
        [run.sh] Fix the request number.
        [run.sh] Running the actual test
        [run.sh] /wrk/wrk --timeout 20s -t8 -c1024 -d22s -s /wrk/fix_req_n.lua -L http://localhost:3000
        Running 22s test @ http://localhost:3000
        8 threads and 1024 connections
        Thread Stats   Avg      Stdev     Max   +/- Stdev
        Latency   643.63ms  229.30ms   1.22s    85.12%
        Req/Sec   192.14     69.08   630.00     73.44%
        Latency Distribution
        50%  709.24ms
        75%  770.83ms
        90%  825.24ms
        99%  934.34ms
        20000 requests in 22.00s, 1.49MB read
        Requests/sec:    909.09
        Transfer/sec:     69.25KB
        ------------------------------
        stop time: 12.701667
        stop time: 12.766108
        stop time: 13.103024
        stop time: 13.323958
        stop time: 13.526531
        stop time: 13.430629
        stop time: 13.624907
        stop time: 13.743441
        [run.sh] Checking the resource usage
        NAME                             CPU(cores)   MEMORY(bytes)
        castinfo-5d6cbb775d-gvtmh        144m         62Mi
        composereview-6f9bcc87df-s6b49   101m         14Mi
        frontend-66c96c8cc4-2lwvs        136m         14Mi
        movieid-8484cd7fdf-vprts         9m           176Mi
        movieinfo-68989748d8-j4sst       234m         206Mi
        moviereviews-7c945848cf-tx22j    1641m        23Mi
        page-55c547cfd5-q88t4            1325m        109Mi
        plot-789df7547-dcxlh             121m         146Mi
        reviewstorage-6d495857fb-tfrqx   53m          15Mi
        ubuntu-client-59dffbd546-5lfwc   489m         108Mi
        uniqueid-7f7ddd4585-g64gp        19m          8Mi
        user-7675998b75-d7jc5            35m          8Mi
        userreviews-7cf49c487f-x4w2p     21m          8Mi
        [run.sh] Test finished with status 0
        > STDERR
        > No resources found in default namespace.
    [exp] Times: [12.701667, 12.766108, 13.103024, 13.323958, 13.526531, 13.430629, 13.624907, 13.743441]
    [exp] Throughput: 1506.303905380014
[test.py] Finished running 9th optmization experiment: groundtruth->1639.8040794881908, slowdown->1506.303905380014, predicted->1616.4956169954407, err->-1.4214175208068174
[test.py] Baseline throughput:  1541.2905327741416
[test.py] Groundtruth:  [1718.4391018101167, 1764.91334402334, 1735.88903936877, 1772.4781665308599, 1731.8378163326247, 1732.2143055697923, 1740.304856815602, 1733.9308849297252, 1717.9903395685217, 1639.8040794881908]
[test.py] Slowdown:  [956.4595921288063, 1005.7025914045529, 1062.8820413244816, 1111.9609813447628, 1177.5935102350613, 1230.3035987126134, 1305.8070086448995, 1425.2675311781281, 1474.9175521088373, 1506.303905380014]
[test.py] Predicted:  [1686.404771683111, 1703.4636952261087, 1727.7060776795402, 1716.6479790713963, 1731.1147800153103, 1704.9281138423548, 1710.0098891219377, 1767.2242138966847, 1702.1421607826635, 1616.4956169954407]
[test.py] Error percentage:  [-1.8641527705731509, -3.481737446505397, -0.4713988914985864, -3.1498378097788278, -0.04174965522149747, -1.5752203200089576, -1.7407851029674135, 1.92010703865563, -0.9224835798458854, -1.4214175208068174]
[test.py] ++++++++++++++++++++++++++++++++ Summary: 
[test.py] Result for the experiment 0: 
    Baseline throughput: 1541.2905327741416
    Groundtruth: [1718.4391018101167, 1764.91334402334, 1735.88903936877, 1772.4781665308599, 1731.8378163326247, 1732.2143055697923, 1740.304856815602, 1733.9308849297252, 1717.9903395685217, 1639.8040794881908]
    Slowdown:    [956.4595921288063, 1005.7025914045529, 1062.8820413244816, 1111.9609813447628, 1177.5935102350613, 1230.3035987126134, 1305.8070086448995, 1425.2675311781281, 1474.9175521088373, 1506.303905380014]
    Predicted:   [1686.404771683111, 1703.4636952261087, 1727.7060776795402, 1716.6479790713963, 1731.1147800153103, 1704.9281138423548, 1710.0098891219377, 1767.2242138966847, 1702.1421607826635, 1616.4956169954407]
    Error Perc:  [-1.8641527705731509, -3.481737446505397, -0.4713988914985864, -3.1498378097788278, -0.04174965522149747, -1.5752203200089576, -1.7407851029674135, 1.92010703865563, -0.9224835798458854, -1.4214175208068174]
